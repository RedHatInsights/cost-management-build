(self.webpackChunkkoku_ui=self.webpackChunkkoku_ui||[]).push([[8337],{20167:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var s=r(97522),o=r.n(s),n=r(9947),a=r(38424),c=r(75106),i=r(60485),u=r(43047);const p=function(){return o().createElement(n.u,{variant:n.I.large,className:"ins-c-empty-state__unavailable pf-m-redhat-font"},o().createElement(a.k,{icon:u.ZP}),o().createElement(i.D,{headingLevel:"h5",size:"lg"},"This page is temporarily unavailable"),o().createElement(c.B,null,"Try refreshing the page. If the problem persists, contact your organization administrator or visit our",o().createElement("a",{href:"https://status.redhat.com/",target:"_blank",rel:"noopener noreferrer"}," status page")," for known outages."))}},5144:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});var s=r(66191),o=r.n(s);function n(e){const t=window.insights,r=e?`?${e}`:"";return t&&t.chrome&&t.chrome.auth&&t.chrome.auth.getUser?t.chrome.auth.getUser().then((()=>o().get(`sources/${r}`))):o().get(`sources/${r}`)}},45997:(e,t,r)=>{"use strict";r.d(t,{P:()=>o,eG:()=>n,yG:()=>a,dV:()=>c,iP:()=>i,up:()=>u,IV:()=>p,pm:()=>l,mB:()=>h});var s=r(43702);const o="tag:",n="breakdown_desc",a="breakdown_title",c="org_unit_id",i="org_unit_name",u="tag";function p(e){return(0,s.stringify)(e,{encode:!1,indices:!1})}function l(e,t="or:"){const r=function(e){if(!e||!e.filter_by)return e;const t=Object.assign(Object.assign({},JSON.parse(JSON.stringify(e))),{filter_by:{}});for(const r of Object.keys(e.filter_by))t.group_by||(t.group_by={}),t.group_by[r]?(Array.isArray(t.group_by[r])||(t.group_by[r]="*"!==t.group_by[r]?[t.group_by[r]]:[]),t.group_by[r].push(e.filter_by[r])):t.group_by[r]=e.filter_by[r];return t}(e);let n=!1;if(r&&r.group_by){const e=Object.keys(r.group_by);if(e&&e.length>1)n=!0;else for(const t of e)(Array.isArray(r.group_by[t])&&r.group_by[t].length>1||-1!==t.indexOf(o))&&(n=!0)}const a=n?function(e,t="or:"){if(!e||!e.group_by)return e;const r=Object.assign(Object.assign({},JSON.parse(JSON.stringify(e))),{group_by:{}});for(const s of Object.keys(e.group_by))r.group_by[`${t}${s}`]=e.group_by[s];return r}(r,t):r;return(0,s.stringify)(a,{encode:!1,indices:!1})}function h(e){return function(e,t="or:"){if(!e||!e.filter_by)return e;const r=Object.assign(Object.assign({},JSON.parse(JSON.stringify(e))),{filter_by:{}});for(const s of Object.keys(e.filter_by)){const o=s.indexOf(t),n=-1!==o?s.substring(o+t.length):s;r.filter_by[n]=e.filter_by[s]}return r}(function(e,t="or:"){if(!e||!e.group_by)return e;const r=Object.assign(Object.assign({},JSON.parse(JSON.stringify(e))),{group_by:{}});for(const s of Object.keys(e.group_by)){const o=s.indexOf(t),n=-1!==o?s.substring(o+t.length):s;r.group_by[n]=e.group_by[s]}return r}((0,s.parse)(e,{ignoreQueryPrefix:!0})))}},66785:(e,t,r)=>{"use strict";r.d(t,{T:()=>o});var s=r(43702);function o(e){return(0,s.stringify)(e,{encode:!1,indices:!1})}},508:(e,t,r)=>{"use strict";r.d(t,{b:()=>n,S:()=>a});var s=r(66191),o=r.n(s);const n={cost:"reports/aws/costs/",database:"reports/aws/costs/",network:"reports/aws/costs/",storage:"reports/aws/storage/",instance_type:"reports/aws/instance-types/"};function a(e,t){const r=n[e];return o().get(`${r}?${t}`)}},35443:(e,t,r)=>{"use strict";r.d(t,{b:()=>n,S:()=>a});var s=r(66191),o=r.n(s);const n={cost:"reports/azure/costs/",database:"reports/azure/costs/",network:"reports/azure/costs/",storage:"reports/azure/storage/",instance_type:"reports/azure/instance-types/"};function a(e,t){const r=n[e];return o().get(`${r}?${t}`)}},99531:(e,t,r)=>{"use strict";r.d(t,{b:()=>n,S:()=>a});var s=r(66191),o=r.n(s);const n={cost:"reports/gcp/costs/",database:"reports/gcp/costs/",network:"reports/gcp/costs/",storage:"reports/gcp/storage/",instance_type:"reports/gcp/instance-types/"};function a(e,t){const r=n[e];return o().get(`${r}?${t}`)}},19754:(e,t,r)=>{"use strict";r.d(t,{b:()=>n,S:()=>a});var s=r(66191),o=r.n(s);const n={cost:"reports/gcp/costs/",database:"reports/gcp/costs/",network:"reports/gcp/costs/",storage:"reports/gcp/storage/",instance_type:"reports/gcp/instance-types/"};function a(e,t){const r=n[e];return o().get(`${r}?${t}`)}},5061:(e,t,r)=>{"use strict";r.d(t,{b:()=>n,S:()=>a});var s=r(66191),o=r.n(s);const n={cost:"reports/openshift/infrastructures/all/costs/",cpu:"reports/openshift/compute/",database:"reports/openshift/infrastructures/all/costs/",instance_type:"reports/openshift/infrastructures/all/instance-types/",memory:"reports/openshift/memory/",network:"reports/openshift/infrastructures/all/costs/",storage:"reports/openshift/infrastructures/all/storage/",volume:"reports/openshift/volumes/"};function a(e,t){const r=n[e];return o().get(`${r}?${t}`)}},10328:(e,t,r)=>{"use strict";r.d(t,{b:()=>n,S:()=>a});var s=r(66191),o=r.n(s);const n={cost:"reports/openshift/costs/",cpu:"reports/openshift/compute/",memory:"reports/openshift/memory/",volume:"reports/openshift/volumes/"};function a(e,t){const r=n[e];return o().get(`${r}?${t}`)}},55130:(e,t,r)=>{"use strict";r.d(t,{y:()=>n});var s=r(66191),o=r.n(s);function n(e){const t=window.insights,r=e?`?${e}`:"";return t&&t.chrome&&t.chrome.auth&&t.chrome.auth.getUser?t.chrome.auth.getUser().then((()=>o().get(`user-access/${r}`))):o().get(`user-access/${r}`)}},6517:(e,t,r)=>{"use strict";r.d(t,{n:()=>_}),r(5118);var s=r(88970),o=r(48927),n=r(40125),a=r(60232),c=r(63802),i=r(36234),u=r(30136),p=r.n(u),l=r(97522),h=r.n(l),d=r(63211),g=r(21535),f=r(84615),m=r(70698),y=r(72021),v=r(80965),b=r(41534);const S={currentColorScale:[v.ZP.value,y.ZP.value,m.ZP.value,f.ZP.value,b.ZP.value],currentMonthData:{fill:"none"},forecastConeData:{fill:f.ZP.value,strokeWidth:0},forecastConeDataColorScale:[f.ZP.value],forecastData:{fill:"none"},forecastDataColorScale:[m.ZP.value],itemsPerRow:4,previousColorScale:[g.ZP.value,g.ZP.value],previousMonthData:{fill:"none"},yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}};class _ extends h().Component{constructor(){super(...arguments),this.containerRef=h().createRef(),this.resizeObserver=d.Z,this.navToggle=d.Z,this.state={hiddenSeries:new Set,width:0},this.initDatum=()=>{const{currentData:e,forecastData:t,forecastConeData:r,previousData:s,showForecast:o,showSupplementaryLabel:n=!1,showUsageLegendLabel:c=!1}=this.props,i=c?"chart.usage_legend_label":n?"chart.cost_supplementary_legend_label":"chart.cost_legend_label",u=c?"chart.usage_legend_tooltip":n?"chart.cost_supplementary_legend_tooltip":"chart.cost_legend_tooltip",p=[{childName:"previousCost",data:s,legendItem:{name:(0,a.uL)(s,i,!0,!0,1),symbol:{fill:S.previousColorScale[0],type:"minus"},tooltip:(0,a.uL)(s,u,!1,!1,1)},style:{data:Object.assign(Object.assign({},S.previousMonthData),{stroke:S.previousColorScale[0]})}},{childName:"currentCost",data:e,legendItem:{name:(0,a.uL)(e,i,!0,!1),symbol:{fill:S.currentColorScale[0],type:"minus"},tooltip:(0,a.uL)(e,u,!1,!1)},style:{data:Object.assign(Object.assign({},S.currentMonthData),{stroke:S.currentColorScale[0]})}}];o&&(p.push({childName:"forecast",data:t,legendItem:{name:(0,a.uL)(t,"chart.cost_forecast_legend_label",!1,!1),symbol:{fill:S.forecastDataColorScale[0],type:"minus"},tooltip:(0,a.uL)(t,"chart.cost_forecast_legend_tooltip",!1,!1)},style:{data:Object.assign(Object.assign({},S.forecastData),{stroke:S.forecastDataColorScale[0]})}}),p.push({childName:"forecastCone",data:r,legendItem:{name:(0,a.uL)(r,"chart.cost_forecast_cone_legend_label",!1,!1),symbol:{fill:S.forecastConeDataColorScale[0],type:"triangleUp"},tooltip:(0,a.uL)(r,"chart.cost_forecast_cone_legend_tooltip",!1,!1)},style:{data:Object.assign(Object.assign({},S.forecastConeData),{stroke:S.forecastConeDataColorScale[0]})}}));const l=this.getCursorVoronoiContainer();this.setState({cursorVoronoiContainer:l,series:p})},this.initResizeObserve=()=>{const e=this.containerRef.current,{ResizeObserver:t}=window;if(e&&t){const r=new t(this.handleResize);r.observe(e),this.resizeObserver=()=>r.unobserve(e)}else this.handleResize(),window.addEventListener("resize",this.handleResize),this.resizeObserver=()=>window.removeEventListener("resize",this.handleResize),this.navToggle=insights.chrome.on("NAVIGATION_TOGGLE",this.handleNavToggle)},this.getAdjustedContainerHeight=()=>{const{adjustContainerHeight:e,height:t,containerHeight:r=t,showForecast:s}=this.props,{width:o}=this.state;let n=r;return e&&s&&o<700&&(n+=25),n},this.getChart=(e,t)=>{const{hiddenSeries:r}=this.state;return h().createElement(s.ChartArea,{data:r.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})},this.getCursorVoronoiContainer=()=>{const{formatDatumValue:e,formatDatumOptions:t}=this.props,r=(0,s.createContainer)("voronoi","cursor");return h().createElement(r,{cursorDimension:"x",labels:({datum:r})=>(0,c.zj)(r,e,t),mouseFollowTooltips:!0,voronoiDimension:"x",voronoiPadding:{bottom:50,left:8,right:8,top:8}})},this.getLegend=()=>{const{legendItemsPerRow:e}=this.props,{hiddenSeries:t,series:r,width:o}=this.state;return h().createElement(s.ChartLegend,{data:(0,c.oX)(r,t),gutter:20,height:25,itemsPerRow:e,name:"legend",orientation:o>150?"horizontal":"vertical"})},this.handleLegendClick=e=>{const t=(0,c.nV)(this.state.series,this.state.hiddenSeries,e);this.setState({hiddenSeries:t})},this.handleNavToggle=()=>{setTimeout(this.handleResize,500)},this.handleResize=()=>{const{width:e}=this.state,{clientWidth:t=0}=this.containerRef.current||{};t!==e&&this.setState({width:t})}}componentDidMount(){this.initDatum(),this.initResizeObserve()}componentDidUpdate(e){e.currentData===this.props.currentData&&e.forecastData===this.props.forecastData&&e.forecastConeData===this.props.forecastConeData&&e.previousData===this.props.previousData||this.initDatum()}componentWillUnmount(){this.resizeObserver&&this.resizeObserver(),this.navToggle&&this.navToggle()}getEndDate(){const{currentData:e,forecastData:t,previousData:r}=this.props,s=r?(0,i.getDate)((0,a.Y_)(r,!0,!0)[1]):0,o=e?(0,i.getDate)((0,a.Y_)(e,!0,!0)[1]):0,n=t?(0,i.getDate)((0,a.Y_)(t,!0,!0)[1]):0;return o>0||s>0?Math.max(o,n,s):31}getEvents(){const{hiddenSeries:e,series:t}=this.state;return(0,s.getInteractiveLegendEvents)({chartNames:(0,c.bC)(t),isHidden:t=>(0,c.Yt)(e,t),legendName:"legend",onLegendClick:e=>this.handleLegendClick(e.index)})}render(){const{height:e,padding:t={bottom:50,left:8,right:8,top:8},title:r}=this.props,{cursorVoronoiContainer:a,hiddenSeries:i,series:u,width:l}=this.state,d=(0,c.ge)(u,i),g=this.getEndDate(),f=Math.floor(g/2);let m;m=p()&&p().t?e=>p().t("chart.day_of_month_title",{day:e.x}):e=>`Day ${e.x}`;const y=a?h().cloneElement(a,{disable:!(0,c.TW)(u,i),labelComponent:h().createElement(s.ChartLegendTooltip,{legendData:(0,c.oX)(u,i,!0),title:m})}):void 0;return h().createElement(h().Fragment,null,h().createElement(o.Title,{headingLevel:"h3",size:"md"},r),h().createElement("div",{className:"chartOverride",ref:this.containerRef,style:{height:this.getAdjustedContainerHeight()}},h().createElement("div",{style:{height:e,width:l}},h().createElement(s.Chart,{containerComponent:y,domain:d,events:this.getEvents(),height:e,legendAllowWrap:!0,legendComponent:this.getLegend(),legendData:(0,c.oX)(u,i),legendPosition:"bottom-left",padding:t,theme:n.Z,width:l},u&&u.map(((e,t)=>this.getChart(e,t))),h().createElement(s.ChartAxis,{style:S.xAxis,tickValues:[1,f,g]}),h().createElement(s.ChartAxis,{dependentAxis:!0,style:S.yAxis})))))}}},26397:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>U});var s=r(86208),o=r(45997),n=r(66785),a=r(73466),c=r(16679),i=r(13883),u=r(81787),p=r(97522),l=r.n(p),h=r(86588),d=r(94377),g=r(79910),f=r(33965),m=r(48927),y=r(56455),v=r(60232),b=r(5089),S=r(90203),_=r(901),w=r(91707),O=r(11331),C=r(98499),R=r(32412),E=r(48196);const D={chartContainer:{marginLeft:w.ZP.value},chartSkeleton:{height:"125px",marginBottom:R.ZP.value,marginTop:O.ZP.value},costChart:{marginBottom:E.ZP.value,marginTop:E.ZP.value},legendSkeleton:{marginTop:R.ZP.value},titleContainer:{marginLeft:C.ZP.value}},k="cost",P="total",Z="ocp",A="cost";class j extends l().Component{constructor(e,t){super(e,t),this.defaultState={},this.state=Object.assign({},this.defaultState),this.getChart=()=>{const{currentReport:e,previousReport:t}=this.props,r=this.getUnits(),s=(0,v.zJ)(e,0,"date",k,P),o=(0,v.zJ)(t,0,"date",k,P);return l().createElement(b.n,{adjustContainerHeight:!0,containerHeight:300,currentData:s,formatDatumValue:_.Bw,height:300,previousData:o,units:r})},this.getSkeleton=()=>l().createElement(l().Fragment,null,l().createElement(y.Z,{style:D.chartSkeleton,size:"md"}),l().createElement(y.Z,{style:D.legendSkeleton,size:"xs"})),this.getUnits=()=>{const{currentReport:e}=this.props;return e&&e.meta&&e.meta.total&&e.meta.total.cost&&e.meta.total.cost.total?(0,_.dM)(e.meta.total.cost.total.units):""},this.updateReport=()=>{const{currentQueryString:e,fetchReport:t,previousQueryString:r}=this.props;t(Z,A,e),t(Z,A,r)}}componentDidMount(){this.updateReport()}componentDidUpdate(e){const{currentReport:t,currentReportError:r,currentQueryString:s,previousReport:o,previousReportError:n,previousQueryString:a}=this.props;(e.currentQueryString!==s||e.previousQueryString!==a||!(t||o||r||n))&&this.updateReport()}render(){const{currentReportFetchStatus:e,previousReportFetchStatus:t,title:r}=this.props;return l().createElement(l().Fragment,null,l().createElement("div",{style:D.titleContainer},l().createElement(m.Title,{headingLevel:"h3",size:"md"},r)),l().createElement("div",{style:D.chartContainer},l().createElement("div",{style:D.costChart},1===e||1===t?this.getSkeleton():this.getChart())))}}const I=(0,d.X1)(((e,t)=>{const r={filter:{time_scope_units:"month",time_scope_value:-1,resolution:"daily"}},s={filter:{time_scope_units:"month",time_scope_value:-2,resolution:"daily"}},n=(0,o.pm)(r),a=(0,o.pm)(s);return{currentQuery:r,currentQueryString:n,currentReport:S.ZV.selectReport(e,Z,A,n),currentReportError:S.ZV.selectReportError(e,Z,A,n),currentReportFetchStatus:S.ZV.selectReportFetchStatus(e,Z,A,n),previousQuery:s,previousQueryString:a,previousReport:S.ZV.selectReport(e,Z,A,a),previousReportError:S.ZV.selectReportError(e,Z,A,a),previousReportFetchStatus:S.ZV.selectReportFetchStatus(e,Z,A,a)}})),M={fetchReport:S.nx.fetchReport},$=(0,h.connect)(I,M)(j),L={time_scope_units:"month",time_scope_value:-1,resolution:"daily"},z={chartContainer:{backgroundColor:r(49382).ZP.value,marginLeft:C.ZP.value,marginRight:C.ZP.value,paddingRight:C.ZP.value,paddingBottom:C.ZP.value,paddingTop:C.ZP.value},chartContent:{paddingTop:C.ZP.value}};class T extends l().Component{constructor(e,t){super(e,t),this.defaultState={},this.state=Object.assign({},this.defaultState),this.hasCurrentMonthData=e=>{let t=!1;if(e&&e.data)for(const r of e.data)if(r.current_month_data){t=!0;break}return t},this.updateReport=()=>{const{fetchProviders:e,fetchUserAccess:t,queryString:r}=this.props;e("ocp",r),t("",r)}}componentDidMount(){this.updateReport()}componentDidUpdate(e){const{queryString:t}=this.props;e.queryString!==t&&this.updateReport()}render(){const{ocpProviders:e,ocpProvidersError:t,ocpProvidersFetchStatus:r,userAccessError:s,userAccessFetchStatus:o,userAccess:n}=this.props,p=1===o||1===r,h=this.props.title,d=!((e,t,r)=>{let s=!1;if(2===t){const t=r.data.find((e=>"ocp"===e.type));s=t&&t.access&&void 0!==e&&void 0!==e.meta&&e.meta.count>0}return s})(e,r,n);return t||s?l().createElement(u.Z,{title:h}):p?l().createElement(a.Z,{title:h}):d?l().createElement(i.Z,{title:h}):this.hasCurrentMonthData(e)?l().createElement("div",{style:z.chartContent},l().createElement("div",{style:z.chartContainer},l().createElement($,{title:h}))):l().createElement(c.Z,{title:h})}}const x=(0,d.X1)((e=>{const t=(0,o.mB)(location.search),r={filter:Object.assign(Object.assign({},L),t.filter)},a=(0,o.pm)(Object.assign(Object.assign({},r),{perspective:void 0,dateRange:void 0})),c=(0,s.H)(g.Vp),i=g.aX.selectProviders(e,"ocp",c),u=g.aX.selectProvidersError(e,"ocp",c),p=g.aX.selectProvidersFetchStatus(e,"ocp",c),l=(0,n.T)(f.BD);return{ocpProviders:i,ocpProvidersError:u,ocpProvidersFetchStatus:p,ocpProvidersQueryString:c,query:r,queryString:a,userAccess:f.JO.selectUserAccess(e,"",l),userAccessError:f.JO.selectUserAccessError(e,"",l),userAccessFetchStatus:f.JO.selectUserAccessFetchStatus(e,"",l),userAccessQueryString:l}})),F={fetchProviders:g.JZ.lm,fetchUserAccess:f.On.yM},U=(0,h.connect)(x,F)(T)},16679:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});const s=r(64146).Z},81787:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var s=r(16177),o=r(48716),n=r(20167),a=r(39436),c=r(97522),i=r.n(c);const u=(0,r(55399).withRouter)((({title:e})=>i().createElement(i().Fragment,null,e&&i().createElement(o.Z,null,i().createElement(a.B,{title:e})),i().createElement(s.Z,null,i().createElement(n.Z,null)))))},94377:(e,t,r)=>{"use strict";function s(e){return e}r.d(t,{X1:()=>s})},79910:(e,t,r)=>{"use strict";r.d(t,{JL:()=>o.JL,u5:()=>o.u5,U6:()=>o.U6,t8:()=>o.t8,Vp:()=>o.Vp,JZ:()=>n,Lo:()=>a.L,aX:()=>s,HQ:()=>o.SL});var s={};r.r(s),r.d(s,{selectAddProviderError:()=>u,selectAddProviderFetchStatus:()=>i,selectProviders:()=>p,selectProvidersError:()=>h,selectProvidersFetchStatus:()=>l,selectProvidersState:()=>c});var o=r(69567),n=r(3651),a=r(78240);const c=e=>e[o.SL],i=e=>c(e).fetchStatus.get(o.ZM),u=e=>c(e).errors.get(o.ZM),p=(e,t,r)=>c(e).byId.get((0,o.$)(t,r)),l=(e,t,r)=>c(e).fetchStatus.get((0,o.$)(t,r)),h=(e,t,r)=>c(e).errors.get((0,o.$)(t,r))},3651:(e,t,r)=>{"use strict";r.d(t,{rK:()=>a,FR:()=>c,ep:()=>i,lm:()=>u});var s=r(5144),o=r(62717),n=r(69567);const a=(0,o.createAction)("providers/fetch/request")(),c=(0,o.createAction)("providers/fetch/success")(),i=(0,o.createAction)("providers/fetch/failure")();function u(e,t){return r=>{const o={reportId:(0,n.$)(e,t)};return r(a(o)),(0,s.l)(t).then((e=>{r(c(e.data,o))})).catch((e=>{r(i(e,o))}))}}(0,o.createAction)("providers/clear/failure")},69567:(e,t,r)=>{"use strict";r.d(t,{SL:()=>s,ZM:()=>o,JL:()=>n,u5:()=>a,Vp:()=>c,U6:()=>i,t8:()=>u,$:()=>p});const s="providers",o="add-provider",n={type:"AWS"},a={type:"AZURE"},c={type:"OCP"},i={type:"GCP"},u={type:"GCP"};function p(e,t){return`${e}--${t}`}},78240:(e,t,r)=>{"use strict";r.d(t,{L:()=>a});var s=r(62717),o=r(3651);const n={byId:new Map,errors:new Map,fetchStatus:new Map};function a(e=n,t){switch(t.type){case(0,s.getType)(o.rK):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.payload.reportId,1)});case(0,s.getType)(o.FR):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.meta.reportId,2),byId:new Map(e.byId).set(t.meta.reportId,Object.assign({},t.payload)),errors:new Map(e.errors).set(t.meta.reportId,null)});case(0,s.getType)(o.ep):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.meta.reportId,2),errors:new Map(e.errors).set(t.meta.reportId,t.payload)});default:return e}}},90203:(e,t,r)=>{"use strict";r.d(t,{nx:()=>o,OI:()=>k,ZV:()=>s,_r:()=>y});var s={};r.r(s),r.d(s,{selectReport:()=>S,selectReportError:()=>w,selectReportFetchStatus:()=>_,selectReportState:()=>b});var o={};r.r(o),r.d(o,{fetchReport:()=>E,fetchReportFailure:()=>R,fetchReportRequest:()=>O,fetchReportSuccess:()=>C});var n=r(66191),a=r.n(n);const c={cost:"reports/openshift/infrastructures/aws/costs/",database:"reports/openshift/infrastructures/aws/costs/",network:"reports/openshift/infrastructures/aws/costs/",storage:"reports/openshift/infrastructures/aws/storage/",instance_type:"reports/openshift/infrastructures/aws/instance-types/"};var i=r(508);const u={cost:"reports/openshift/infrastructures/azure/costs/",database:"reports/openshift/infrastructures/azure/costs/",network:"reports/openshift/infrastructures/azure/costs/",storage:"reports/openshift/infrastructures/azure/storage/",instance_type:"reports/openshift/infrastructures/azure/instance-types/"};var p=r(35443),l=r(99531),h=r(19754),d=r(5061),g=r(10328);const f={cost:"reports/openshift/costs/",cpu:"reports/openshift/compute/",memory:"reports/openshift/memory/",volume:"reports/openshift/volumes/"};var m=r(62717);const y="report";function v(e,t,r){return`${e}--${t}--${r}`}const b=e=>e[y],S=(e,t,r,s)=>b(e).byId.get(v(t,r,s)),_=(e,t,r,s)=>b(e).fetchStatus.get(v(t,r,s)),w=(e,t,r,s)=>b(e).errors.get(v(t,r,s)),O=(0,m.createAction)("report/request")(),C=(0,m.createAction)("report/success")(),R=(0,m.createAction)("report/failure")();function E(e,t,r){return(s,o)=>{if(!function(e,t,r,s){const o=S(e,t,r,s);return 1!==_(e,t,r,s)&&(!o||Date.now()>o.timeRequested+18e5)}(o(),e,t,r))return;const n={reportId:v(e,t,r)};s(O(n)),function(e,t,r){let s;switch(e){case"aws":s=(0,i.S)(t,r);break;case"aws_cloud":s=function(e,t){const r=c[e];return a().get(`${r}?${t}`)}(t,r);break;case"azure":s=(0,p.S)(t,r);break;case"azure_cloud":s=function(e,t){const r=u[e];return a().get(`${r}?${t}`)}(t,r);break;case"gcp":s=(0,l.S)(t,r);break;case"gcp":s=(0,h.S)(t,r);break;case"ocp":s=(0,g.S)(t,r);break;case"ocp_cloud":s=(0,d.S)(t,r);break;case"ocp_usage":s=function(e,t){const r=f[e];return a().get(`${r}?${t}`)}(t,r)}return s}(e,t,r).then((e=>{s(C(e.data,n))})).catch((e=>{s(R(e,n))}))}}const D={byId:new Map,fetchStatus:new Map,errors:new Map};function k(e=D,t){switch(t.type){case(0,m.getType)(O):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.payload.reportId,1)});case(0,m.getType)(C):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.meta.reportId,2),byId:new Map(e.byId).set(t.meta.reportId,Object.assign(Object.assign({},t.payload),{timeRequested:Date.now()})),errors:new Map(e.errors).set(t.meta.reportId,null)});case(0,m.getType)(R):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.meta.reportId,2),errors:new Map(e.errors).set(t.meta.reportId,t.payload)});default:return e}}},33965:(e,t,r)=>{"use strict";r.d(t,{BD:()=>o.BD,On:()=>n,Oc:()=>a.O,JO:()=>s,af:()=>o.SL});var s={};r.r(s),r.d(s,{selectAddProviderError:()=>u,selectAddProviderFetchStatus:()=>i,selectUserAccess:()=>p,selectUserAccessError:()=>h,selectUserAccessFetchStatus:()=>l,selectUserAccessState:()=>c});var o=r(62359),n=r(53586),a=r(81756);const c=e=>e[o.SL],i=e=>c(e).fetchStatus.get(o.fR),u=e=>c(e).errors.get(o.fR),p=(e,t,r)=>c(e).byId.get((0,o.$)(t,r)),l=(e,t,r)=>c(e).fetchStatus.get((0,o.$)(t,r)),h=(e,t,r)=>c(e).errors.get((0,o.$)(t,r))},53586:(e,t,r)=>{"use strict";r.d(t,{m3:()=>a,dy:()=>c,rZ:()=>i,yM:()=>u});var s=r(55130),o=r(62717),n=r(62359);const a=(0,o.createAction)("userAccess/fetch/request")(),c=(0,o.createAction)("userAccess/fetch/success")(),i=(0,o.createAction)("userAccess/fetch/failure")();function u(e,t){return r=>{const o={reportId:(0,n.$)(e,t)};return r(a(o)),(0,s.y)(t).then((e=>{r(c(e.data,o))})).catch((e=>{r(i(e,o))}))}}(0,o.createAction)("userAccess/clear/failure")},62359:(e,t,r)=>{"use strict";r.d(t,{SL:()=>s,fR:()=>o,BD:()=>n,$:()=>a});const s="userAccess",o="user-access",n={type:""};function a(e,t){return`${e}--${t}`}},81756:(e,t,r)=>{"use strict";r.d(t,{O:()=>a});var s=r(62717),o=r(53586);const n={byId:new Map,errors:new Map,fetchStatus:new Map};function a(e=n,t){switch(t.type){case(0,s.getType)(o.m3):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.payload.reportId,1)});case(0,s.getType)(o.dy):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.meta.reportId,2),byId:new Map(e.byId).set(t.meta.reportId,Object.assign({},t.payload)),errors:new Map(e.errors).set(t.meta.reportId,null)});case(0,s.getType)(o.rZ):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.meta.reportId,2),errors:new Map(e.errors).set(t.meta.reportId,t.payload)});default:return e}}}}]);
//# sourceMappingURL=0a57eae743fe3b598aad.bundle.js.map
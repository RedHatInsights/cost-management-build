{"version":3,"sources":["webpack://koku-ui/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://koku-ui/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://koku-ui/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://koku-ui/./node_modules/i18next-xhr-backend/dist/esm/i18nextXHRBackend.js","webpack://koku-ui/./node_modules/@babel/runtime/helpers/esm/defineProperty.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_typeof","obj","Symbol","iterator","constructor","prototype","arr","each","forEach","slice","defaults","call","arguments","source","prop","undefined","addQueryString","url","params","queryString","e","encodeURIComponent","paramName","indexOf","ajax","options","callback","data","cache","Date","queryStringParams","x","XMLHttpRequest","ActiveXObject","open","crossDomain","setRequestHeader","withCredentials","overrideMimeType","h","customHeaders","onreadystatechange","readyState","responseText","send","console","log","getDefaults","loadPath","addPath","allowMultiLoading","parse","JSON","parsePayload","namespace","fallbackValue","value","_defineProperty","Backend","services","this","init","type","protoProps","languages","namespaces","interpolator","interpolate","lng","join","ns","loadUrl","language","_this","xhr","status","ret","err","_this2","payload"],"mappings":"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","file":"39e89aed822bc85f41ea.bundle.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport _typeof from '@babel/runtime/helpers/esm/typeof';\n\nvar arr = [];\nvar each = arr.forEach;\nvar slice = arr.slice;\nfunction defaults(obj) {\n  each.call(slice.call(arguments, 1), function (source) {\n    if (source) {\n      for (var prop in source) {\n        if (obj[prop] === undefined) obj[prop] = source[prop];\n      }\n    }\n  });\n  return obj;\n}\n\nfunction addQueryString(url, params) {\n  if (params && _typeof(params) === 'object') {\n    var queryString = '',\n        e = encodeURIComponent; // Must encode data\n\n    for (var paramName in params) {\n      queryString += '&' + e(paramName) + '=' + e(params[paramName]);\n    }\n\n    if (!queryString) {\n      return url;\n    }\n\n    url = url + (url.indexOf('?') !== -1 ? '&' : '?') + queryString.slice(1);\n  }\n\n  return url;\n} // https://gist.github.com/Xeoncross/7663273\n\n\nfunction ajax(url, options, callback, data, cache) {\n  if (data && _typeof(data) === 'object') {\n    if (!cache) {\n      data['_t'] = new Date();\n    } // URL encoded form data must be in querystring format\n\n\n    data = addQueryString('', data).slice(1);\n  }\n\n  if (options.queryStringParams) {\n    url = addQueryString(url, options.queryStringParams);\n  }\n\n  try {\n    var x;\n\n    if (XMLHttpRequest) {\n      x = new XMLHttpRequest();\n    } else {\n      x = new ActiveXObject('MSXML2.XMLHTTP.3.0');\n    }\n\n    x.open(data ? 'POST' : 'GET', url, 1);\n\n    if (!options.crossDomain) {\n      x.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n    }\n\n    x.withCredentials = !!options.withCredentials;\n\n    if (data) {\n      x.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n    }\n\n    if (x.overrideMimeType) {\n      x.overrideMimeType(\"application/json\");\n    }\n\n    var h = options.customHeaders;\n    h = typeof h === 'function' ? h() : h;\n\n    if (h) {\n      for (var i in h) {\n        x.setRequestHeader(i, h[i]);\n      }\n    }\n\n    x.onreadystatechange = function () {\n      x.readyState > 3 && callback && callback(x.responseText, x);\n    };\n\n    x.send(data);\n  } catch (e) {\n    console && console.log(e);\n  }\n}\n\nfunction getDefaults() {\n  return {\n    loadPath: '/locales/{{lng}}/{{ns}}.json',\n    addPath: '/locales/add/{{lng}}/{{ns}}',\n    allowMultiLoading: false,\n    parse: JSON.parse,\n    parsePayload: function parsePayload(namespace, key, fallbackValue) {\n      return _defineProperty({}, key, fallbackValue || '');\n    },\n    crossDomain: false,\n    ajax: ajax\n  };\n}\n\nvar Backend =\n/*#__PURE__*/\nfunction () {\n  function Backend(services) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Backend);\n\n    this.init(services, options);\n    this.type = 'backend';\n  }\n\n  _createClass(Backend, [{\n    key: \"init\",\n    value: function init(services) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.services = services;\n      this.options = defaults(options, this.options || {}, getDefaults());\n    }\n  }, {\n    key: \"readMulti\",\n    value: function readMulti(languages, namespaces, callback) {\n      var loadPath = this.options.loadPath;\n\n      if (typeof this.options.loadPath === 'function') {\n        loadPath = this.options.loadPath(languages, namespaces);\n      }\n\n      var url = this.services.interpolator.interpolate(loadPath, {\n        lng: languages.join('+'),\n        ns: namespaces.join('+')\n      });\n      this.loadUrl(url, callback);\n    }\n  }, {\n    key: \"read\",\n    value: function read(language, namespace, callback) {\n      var loadPath = this.options.loadPath;\n\n      if (typeof this.options.loadPath === 'function') {\n        loadPath = this.options.loadPath([language], [namespace]);\n      }\n\n      var url = this.services.interpolator.interpolate(loadPath, {\n        lng: language,\n        ns: namespace\n      });\n      this.loadUrl(url, callback);\n    }\n  }, {\n    key: \"loadUrl\",\n    value: function loadUrl(url, callback) {\n      var _this = this;\n\n      this.options.ajax(url, this.options, function (data, xhr) {\n        if (xhr.status >= 500 && xhr.status < 600) return callback('failed loading ' + url, true\n        /* retry */\n        );\n        if (xhr.status >= 400 && xhr.status < 500) return callback('failed loading ' + url, false\n        /* no retry */\n        );\n        var ret, err;\n\n        try {\n          ret = _this.options.parse(data, url);\n        } catch (e) {\n          err = 'failed parsing ' + url + ' to json';\n        }\n\n        if (err) return callback(err, false);\n        callback(null, ret);\n      });\n    }\n  }, {\n    key: \"create\",\n    value: function create(languages, namespace, key, fallbackValue) {\n      var _this2 = this;\n\n      if (typeof languages === 'string') languages = [languages];\n      var payload = this.options.parsePayload(namespace, key, fallbackValue);\n      languages.forEach(function (lng) {\n        var url = _this2.services.interpolator.interpolate(_this2.options.addPath, {\n          lng: lng,\n          ns: namespace\n        });\n\n        _this2.options.ajax(url, _this2.options, function (data, xhr) {//const statusCode = xhr.status.toString();\n          // TODO: if statusCode === 4xx do log\n        }, payload);\n      });\n    }\n  }]);\n\n  return Backend;\n}();\n\nBackend.type = 'backend';\n\nexport default Backend;\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}"],"sourceRoot":""}
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkkoku_ui"] = self["webpackChunkkoku_ui"] || []).push([["ocp"],{

/***/ "./src/pages/details/ocpDetails/detailsTable.scss":
/*!********************************************************!*\
  !*** ./src/pages/details/ocpDetails/detailsTable.scss ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://koku-ui/./src/pages/details/ocpDetails/detailsTable.scss?");

/***/ }),

/***/ "./src/pages/details/ocpBreakdown/costOverview.tsx":
/*!*********************************************************!*\
  !*** ./src/pages/details/ocpBreakdown/costOverview.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CostOverview\": () => (/* binding */ CostOverview)\n/* harmony export */ });\n/* harmony import */ var pages_details_components_costOverview_costOverviewBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pages/details/components/costOverview/costOverviewBase */ \"./src/pages/details/components/costOverview/costOverviewBase.tsx\");\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-i18next */ \"./node_modules/react-i18next/dist/es/withTranslation.js\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var store_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! store/common */ \"./src/store/common.ts\");\n/* harmony import */ var store_costOverview_ocpCostOverview__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! store/costOverview/ocpCostOverview */ \"./src/store/costOverview/ocpCostOverview/index.ts\");\n\n\n\n\n\nconst mapStateToProps = (0,store_common__WEBPACK_IMPORTED_MODULE_2__.createMapStateToProps)((state, props) => {\n    return {\n        selectWidgets: store_costOverview_ocpCostOverview__WEBPACK_IMPORTED_MODULE_3__.ocpCostOverviewSelectors.selectWidgets(state),\n        widgets: store_costOverview_ocpCostOverview__WEBPACK_IMPORTED_MODULE_3__.ocpCostOverviewSelectors.selectCurrentWidgets(state)\n    };\n});\nconst CostOverview = (0,react_i18next__WEBPACK_IMPORTED_MODULE_4__.withTranslation)()((0,react_redux__WEBPACK_IMPORTED_MODULE_1__.connect)(mapStateToProps, {})(pages_details_components_costOverview_costOverviewBase__WEBPACK_IMPORTED_MODULE_0__.CostOverviewBase));\n\n\n\n//# sourceURL=webpack://koku-ui/./src/pages/details/ocpBreakdown/costOverview.tsx?");

/***/ }),

/***/ "./src/pages/details/ocpBreakdown/historicalData.tsx":
/*!***********************************************************!*\
  !*** ./src/pages/details/ocpBreakdown/historicalData.tsx ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"HistoricalData\": () => (/* binding */ HistoricalData)\n/* harmony export */ });\n/* harmony import */ var pages_details_components_historicalData_historicalDataBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pages/details/components/historicalData/historicalDataBase */ \"./src/pages/details/components/historicalData/historicalDataBase.tsx\");\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-i18next */ \"./node_modules/react-i18next/dist/es/withTranslation.js\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var store_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! store/common */ \"./src/store/common.ts\");\n/* harmony import */ var store_historicalData_ocpHistoricalData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! store/historicalData/ocpHistoricalData */ \"./src/store/historicalData/ocpHistoricalData/index.ts\");\n\n\n\n\n\nconst mapStateToProps = (0,store_common__WEBPACK_IMPORTED_MODULE_2__.createMapStateToProps)((state, props) => {\n    return {\n        selectWidgets: store_historicalData_ocpHistoricalData__WEBPACK_IMPORTED_MODULE_3__.ocpHistoricalDataSelectors.selectWidgets(state),\n        widgets: store_historicalData_ocpHistoricalData__WEBPACK_IMPORTED_MODULE_3__.ocpHistoricalDataSelectors.selectCurrentWidgets(state)\n    };\n});\nconst HistoricalData = (0,react_i18next__WEBPACK_IMPORTED_MODULE_4__.withTranslation)()((0,react_redux__WEBPACK_IMPORTED_MODULE_1__.connect)(mapStateToProps, {})(pages_details_components_historicalData_historicalDataBase__WEBPACK_IMPORTED_MODULE_0__.HistoricalDataBase));\n\n\n\n//# sourceURL=webpack://koku-ui/./src/pages/details/ocpBreakdown/historicalData.tsx?");

/***/ }),

/***/ "./src/pages/details/ocpBreakdown/index.ts":
/*!*************************************************!*\
  !*** ./src/pages/details/ocpBreakdown/index.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ocpBreakdown__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ocpBreakdown */ \"./src/pages/details/ocpBreakdown/ocpBreakdown.tsx\");\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_ocpBreakdown__WEBPACK_IMPORTED_MODULE_0__.default);\n\n\n//# sourceURL=webpack://koku-ui/./src/pages/details/ocpBreakdown/index.ts?");

/***/ }),

/***/ "./src/pages/details/ocpBreakdown/ocpBreakdown.tsx":
/*!*********************************************************!*\
  !*** ./src/pages/details/ocpBreakdown/ocpBreakdown.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var api_queries_ocpQuery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! api/queries/ocpQuery */ \"./src/api/queries/ocpQuery.ts\");\n/* harmony import */ var api_queries_providersQuery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! api/queries/providersQuery */ \"./src/api/queries/providersQuery.ts\");\n/* harmony import */ var api_queries_query__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! api/queries/query */ \"./src/api/queries/query.ts\");\n/* harmony import */ var pages_details_components_breakdown_breakdownBase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! pages/details/components/breakdown/breakdownBase */ \"./src/pages/details/components/breakdown/breakdownBase.tsx\");\n/* harmony import */ var pages_details_components_utils_groupBy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! pages/details/components/utils/groupBy */ \"./src/pages/details/components/utils/groupBy.tsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react-i18next */ \"./node_modules/react-i18next/dist/es/withTranslation.js\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var routes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! routes */ \"./src/routes.tsx\");\n/* harmony import */ var store_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! store/common */ \"./src/store/common.ts\");\n/* harmony import */ var store_providers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! store/providers */ \"./src/store/providers/index.ts\");\n/* harmony import */ var store_reports__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! store/reports */ \"./src/store/reports/index.ts\");\n/* harmony import */ var _costOverview__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./costOverview */ \"./src/pages/details/ocpBreakdown/costOverview.tsx\");\n/* harmony import */ var _historicalData__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./historicalData */ \"./src/pages/details/ocpBreakdown/historicalData.tsx\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst detailsURL = routes__WEBPACK_IMPORTED_MODULE_7__.paths.ocpDetails;\nconst reportType = \"cost\" /* cost */;\nconst reportPathsType = \"ocp\" /* ocp */; // eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst mapStateToProps = (0,store_common__WEBPACK_IMPORTED_MODULE_8__.createMapStateToProps)((state, props) => {\n    const queryFromRoute = (0,api_queries_ocpQuery__WEBPACK_IMPORTED_MODULE_0__.parseQuery)(location.search);\n    const query = queryFromRoute;\n    const filterBy = (0,pages_details_components_utils_groupBy__WEBPACK_IMPORTED_MODULE_4__.getGroupByValue)(query);\n    const groupBy = (0,pages_details_components_utils_groupBy__WEBPACK_IMPORTED_MODULE_4__.getGroupById)(query);\n    const newQuery = Object.assign(Object.assign({}, query), {\n        [api_queries_query__WEBPACK_IMPORTED_MODULE_2__.breakdownDescKey]: undefined\n    });\n    const queryString = (0,api_queries_ocpQuery__WEBPACK_IMPORTED_MODULE_0__.getQuery)(newQuery);\n    const report = store_reports__WEBPACK_IMPORTED_MODULE_10__.reportSelectors.selectReport(state, reportPathsType, reportType, queryString);\n    const reportError = store_reports__WEBPACK_IMPORTED_MODULE_10__.reportSelectors.selectReportError(state, reportPathsType, reportType, queryString);\n    const reportFetchStatus = store_reports__WEBPACK_IMPORTED_MODULE_10__.reportSelectors.selectReportFetchStatus(state, reportPathsType, reportType, queryString);\n    const providersQueryString = (0,api_queries_providersQuery__WEBPACK_IMPORTED_MODULE_1__.getProvidersQuery)(store_providers__WEBPACK_IMPORTED_MODULE_9__.ocpProvidersQuery);\n    const providers = store_providers__WEBPACK_IMPORTED_MODULE_9__.providersSelectors.selectProviders(state, \"ocp\" /* ocp */, providersQueryString);\n    const providersFetchStatus = store_providers__WEBPACK_IMPORTED_MODULE_9__.providersSelectors.selectProvidersFetchStatus(state, \"ocp\" /* ocp */, providersQueryString);\n    return {\n        costOverviewComponent: react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_costOverview__WEBPACK_IMPORTED_MODULE_11__.CostOverview, { filterBy: filterBy, groupBy: groupBy, report: report }),\n        description: query[api_queries_query__WEBPACK_IMPORTED_MODULE_2__.breakdownDescKey],\n        detailsURL,\n        emptyStateTitle: props.t('navigation.ocp_details'),\n        filterBy,\n        groupBy,\n        historicalDataComponent: react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_historicalData__WEBPACK_IMPORTED_MODULE_12__.HistoricalData, { filterBy: filterBy, groupBy: groupBy }),\n        providers,\n        providersFetchStatus,\n        providerType: \"ocp\" /* ocp */,\n        query,\n        queryString,\n        report,\n        reportError,\n        reportFetchStatus,\n        reportType,\n        reportPathsType,\n        tagReportPathsType: \"ocp\" /* ocp */,\n        title: filterBy\n    };\n});\nconst mapDispatchToProps = {\n    fetchReport: store_reports__WEBPACK_IMPORTED_MODULE_10__.reportActions.fetchReport\n};\nconst OcpBreakdown = (0,react_i18next__WEBPACK_IMPORTED_MODULE_13__.withTranslation)()((0,react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)(mapStateToProps, mapDispatchToProps)(pages_details_components_breakdown_breakdownBase__WEBPACK_IMPORTED_MODULE_3__.default));\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OcpBreakdown);\n\n\n//# sourceURL=webpack://koku-ui/./src/pages/details/ocpBreakdown/ocpBreakdown.tsx?");

/***/ }),

/***/ "./src/pages/details/ocpDetails/detailsHeader.tsx":
/*!********************************************************!*\
  !*** ./src/pages/details/ocpDetails/detailsHeader.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DetailsHeader\": () => (/* binding */ DetailsHeader)\n/* harmony export */ });\n/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @patternfly/react-core */ \"./node_modules/@patternfly/react-core/dist/esm/index.js\");\n/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @patternfly/react-core */ \"./node_modules/@patternfly/react-core/dist/esm/components/Button/Button.js\");\n/* harmony import */ var _patternfly_react_icons_dist_js_icons_outlined_question_circle_icon__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/outlined-question-circle-icon */ \"./node_modules/@patternfly/react-icons/dist/js/icons/outlined-question-circle-icon.js\");\n/* harmony import */ var api_queries_ocpQuery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! api/queries/ocpQuery */ \"./src/api/queries/ocpQuery.ts\");\n/* harmony import */ var api_queries_providersQuery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! api/queries/providersQuery */ \"./src/api/queries/providersQuery.ts\");\n/* harmony import */ var components_state_emptyValueState_emptyValueState__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! components/state/emptyValueState/emptyValueState */ \"./src/components/state/emptyValueState/emptyValueState.tsx\");\n/* harmony import */ var pages_details_components_groupBy_groupBy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! pages/details/components/groupBy/groupBy */ \"./src/pages/details/components/groupBy/groupBy.tsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react-i18next */ \"./node_modules/react-i18next/dist/es/withTranslation.js\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var store_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! store/common */ \"./src/store/common.ts\");\n/* harmony import */ var store_providers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! store/providers */ \"./src/store/providers/index.ts\");\n/* harmony import */ var utils_computedReport_getComputedOcpReportItems__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! utils/computedReport/getComputedOcpReportItems */ \"./src/utils/computedReport/getComputedOcpReportItems.ts\");\n/* harmony import */ var utils_dateRange__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! utils/dateRange */ \"./src/utils/dateRange.ts\");\n/* harmony import */ var utils_formatValue__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! utils/formatValue */ \"./src/utils/formatValue.ts\");\n/* harmony import */ var _detailsHeader_styles__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./detailsHeader.styles */ \"./src/pages/details/ocpDetails/detailsHeader.styles.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst baseQuery = {\n    delta: 'cost',\n    filter: {\n        time_scope_units: 'month',\n        time_scope_value: -1,\n        resolution: 'monthly'\n    }\n};\nconst groupByOptions = [{\n        label: 'cluster',\n        value: 'cluster'\n    }, {\n        label: 'node',\n        value: 'node'\n    }, {\n        label: 'project',\n        value: 'project'\n    }];\nconst tagReportPathsType = \"ocp\" /* ocp */;\nclass DetailsHeaderBase extends (react__WEBPACK_IMPORTED_MODULE_4___default().Component) {\n    constructor() {\n        super(...arguments);\n        this.defaultState = {};\n        this.state = Object.assign({}, this.defaultState);\n    }\n    render() {\n        const { groupBy, onGroupByClicked, providers, providersError, report, t } = this.props;\n        const showContent = report && !providersError && providers && providers.meta && providers.meta.count > 0;\n        let cost = react__WEBPACK_IMPORTED_MODULE_4___default().createElement(components_state_emptyValueState_emptyValueState__WEBPACK_IMPORTED_MODULE_2__.EmptyValueState, null);\n        let supplementaryCost = react__WEBPACK_IMPORTED_MODULE_4___default().createElement(components_state_emptyValueState_emptyValueState__WEBPACK_IMPORTED_MODULE_2__.EmptyValueState, null);\n        let infrastructureCost = react__WEBPACK_IMPORTED_MODULE_4___default().createElement(components_state_emptyValueState_emptyValueState__WEBPACK_IMPORTED_MODULE_2__.EmptyValueState, null);\n        if (report && report.meta && report.meta.total) {\n            const hasCost = report.meta.total.cost && report.meta.total.cost.total;\n            const hasSupplementaryCost = report.meta.total.supplementary && report.meta.total.supplementary.total;\n            const hasInfrastructureCost = report.meta.total.infrastructure && report.meta.total.infrastructure.total;\n            cost = (0,utils_formatValue__WEBPACK_IMPORTED_MODULE_10__.formatValue)(hasCost ? report.meta.total.cost.total.value : 0, hasCost ? report.meta.total.cost.total.units : 'USD');\n            supplementaryCost = (0,utils_formatValue__WEBPACK_IMPORTED_MODULE_10__.formatValue)(hasSupplementaryCost ? report.meta.total.supplementary.total.value : 0, hasSupplementaryCost ? report.meta.total.supplementary.total.units : 'USD');\n            infrastructureCost = (0,utils_formatValue__WEBPACK_IMPORTED_MODULE_10__.formatValue)(hasInfrastructureCost ? report.meta.total.infrastructure.total.value : 0, hasInfrastructureCost ? report.meta.total.infrastructure.total.units : 'USD');\n        }\n        return react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"header\", { style: _detailsHeader_styles__WEBPACK_IMPORTED_MODULE_11__.styles.header },\n            react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", null,\n                react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_12__.Title, { headingLevel: \"h2\", style: _detailsHeader_styles__WEBPACK_IMPORTED_MODULE_11__.styles.title, size: \"2xl\" }, t('ocp_details.title')),\n                react__WEBPACK_IMPORTED_MODULE_4___default().createElement(pages_details_components_groupBy_groupBy__WEBPACK_IMPORTED_MODULE_3__.GroupBy, { getIdKeyForGroupBy: utils_computedReport_getComputedOcpReportItems__WEBPACK_IMPORTED_MODULE_8__.getIdKeyForGroupBy, groupBy: groupBy, isDisabled: !showContent, onItemClicked: onGroupByClicked, options: groupByOptions, showTags: true, tagReportPathsType: tagReportPathsType })),\n            Boolean(showContent) && react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", { style: _detailsHeader_styles__WEBPACK_IMPORTED_MODULE_11__.styles.cost },\n                react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_12__.Title, { headingLevel: \"h2\", style: _detailsHeader_styles__WEBPACK_IMPORTED_MODULE_11__.styles.costValue, size: \"4xl\" },\n                    react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_12__.Tooltip, { content: t('ocp_details.total_cost_tooltip', {\n                            supplementaryCost,\n                            infrastructureCost\n                        }), enableFlip: true },\n                        react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"span\", null, cost))),\n                react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", { style: _detailsHeader_styles__WEBPACK_IMPORTED_MODULE_11__.styles.costLabel },\n                    react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", { style: _detailsHeader_styles__WEBPACK_IMPORTED_MODULE_11__.styles.costLabelUnit },\n                        t('ocp_details.total_cost'),\n                        react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"span\", { style: _detailsHeader_styles__WEBPACK_IMPORTED_MODULE_11__.styles.infoIcon },\n                            react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_12__.Popover, { \"aria-label\": t('ocp_details.supplementary_aria_label'), enableFlip: true, bodyContent: react__WEBPACK_IMPORTED_MODULE_4___default().createElement((react__WEBPACK_IMPORTED_MODULE_4___default().Fragment), null,\n                                    react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"p\", { style: _detailsHeader_styles__WEBPACK_IMPORTED_MODULE_11__.styles.infoTitle }, t('ocp_details.supplementary_cost_title')),\n                                    react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"p\", null, t('ocp_details.supplementary_cost_desc')),\n                                    react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"br\", null),\n                                    react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"p\", { style: _detailsHeader_styles__WEBPACK_IMPORTED_MODULE_11__.styles.infoTitle }, t('ocp_details.infrastructure_cost_title')),\n                                    react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"p\", null, t('ocp_details.infrastructure_cost_desc'))) },\n                                react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_13__.Button, { variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_13__.ButtonVariant.plain },\n                                    react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_patternfly_react_icons_dist_js_icons_outlined_question_circle_icon__WEBPACK_IMPORTED_MODULE_14__.OutlinedQuestionCircleIcon, { style: _detailsHeader_styles__WEBPACK_IMPORTED_MODULE_11__.styles.info }))))),\n                    react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", { style: _detailsHeader_styles__WEBPACK_IMPORTED_MODULE_11__.styles.costLabelDate }, (0,utils_dateRange__WEBPACK_IMPORTED_MODULE_9__.getSinceDateRangeString)()))));\n    }\n} // eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst mapStateToProps = (0,store_common__WEBPACK_IMPORTED_MODULE_6__.createMapStateToProps)((state, props) => {\n    const queryString = (0,api_queries_ocpQuery__WEBPACK_IMPORTED_MODULE_0__.getQuery)(baseQuery);\n    const providersQueryString = (0,api_queries_providersQuery__WEBPACK_IMPORTED_MODULE_1__.getProvidersQuery)(store_providers__WEBPACK_IMPORTED_MODULE_7__.ocpProvidersQuery);\n    const providers = store_providers__WEBPACK_IMPORTED_MODULE_7__.providersSelectors.selectProviders(state, \"ocp\" /* ocp */, providersQueryString);\n    const providersError = store_providers__WEBPACK_IMPORTED_MODULE_7__.providersSelectors.selectProvidersError(state, \"ocp\" /* ocp */, providersQueryString);\n    const providersFetchStatus = store_providers__WEBPACK_IMPORTED_MODULE_7__.providersSelectors.selectProvidersFetchStatus(state, \"ocp\" /* ocp */, providersQueryString);\n    return {\n        providers,\n        providersError,\n        providersFetchStatus,\n        queryString\n    };\n});\nconst DetailsHeader = (0,react_i18next__WEBPACK_IMPORTED_MODULE_15__.withTranslation)()((0,react_redux__WEBPACK_IMPORTED_MODULE_5__.connect)(mapStateToProps, {})(DetailsHeaderBase));\n\n\n\n//# sourceURL=webpack://koku-ui/./src/pages/details/ocpDetails/detailsHeader.tsx?");

/***/ }),

/***/ "./src/pages/details/ocpDetails/detailsTable.styles.ts":
/*!*************************************************************!*\
  !*** ./src/pages/details/ocpDetails/detailsTable.styles.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"styles\": () => (/* binding */ styles)\n/* harmony export */ });\n/* harmony import */ var _patternfly_react_tokens_dist_js_global_BackgroundColor_light_100__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @patternfly/react-tokens/dist/js/global_BackgroundColor_light_100 */ \"./node_modules/@patternfly/react-tokens/dist/js/global_BackgroundColor_light_100.js\");\n/* harmony import */ var _patternfly_react_tokens_dist_js_global_disabled_color_100__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @patternfly/react-tokens/dist/js/global_disabled_color_100 */ \"./node_modules/@patternfly/react-tokens/dist/js/global_disabled_color_100.js\");\n/* harmony import */ var _patternfly_react_tokens_dist_js_global_FontSize_xs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @patternfly/react-tokens/dist/js/global_FontSize_xs */ \"./node_modules/@patternfly/react-tokens/dist/js/global_FontSize_xs.js\");\n/* harmony import */ var _patternfly_react_tokens_dist_js_global_spacer_3xl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-tokens/dist/js/global_spacer_3xl */ \"./node_modules/@patternfly/react-tokens/dist/js/global_spacer_3xl.js\");\n/* harmony import */ var _patternfly_react_tokens_dist_js_global_spacer_xs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @patternfly/react-tokens/dist/js/global_spacer_xs */ \"./node_modules/@patternfly/react-tokens/dist/js/global_spacer_xs.js\");\n\n\n\n\n\nconst styles = {\n    emptyState: {\n        backgroundColor: _patternfly_react_tokens_dist_js_global_BackgroundColor_light_100__WEBPACK_IMPORTED_MODULE_0__.default.value,\n        display: 'flex',\n        justifyContent: 'center',\n        paddingTop: _patternfly_react_tokens_dist_js_global_spacer_3xl__WEBPACK_IMPORTED_MODULE_1__.default.value,\n        height: '35vh',\n        width: '100%'\n    },\n    infoArrow: {\n        position: 'relative'\n    },\n    infoArrowDesc: {\n        bottom: _patternfly_react_tokens_dist_js_global_spacer_xs__WEBPACK_IMPORTED_MODULE_2__.default.value\n    },\n    infoDescription: {\n        color: _patternfly_react_tokens_dist_js_global_disabled_color_100__WEBPACK_IMPORTED_MODULE_3__.default.value,\n        fontSize: _patternfly_react_tokens_dist_js_global_FontSize_xs__WEBPACK_IMPORTED_MODULE_4__.default.value\n    }\n};\n\n\n//# sourceURL=webpack://koku-ui/./src/pages/details/ocpDetails/detailsTable.styles.ts?");

/***/ }),

/***/ "./src/pages/details/ocpDetails/detailsTable.tsx":
/*!*******************************************************!*\
  !*** ./src/pages/details/ocpDetails/detailsTable.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DetailsTable\": () => (/* binding */ DetailsTable)\n/* harmony export */ });\n/* harmony import */ var _detailsTable_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./detailsTable.scss */ \"./src/pages/details/ocpDetails/detailsTable.scss\");\n/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @patternfly/react-core */ \"./node_modules/@patternfly/react-core/dist/esm/index.js\");\n/* harmony import */ var _patternfly_react_icons_dist_js_icons_calculator_icon__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @patternfly/react-icons/dist/js/icons/calculator-icon */ \"./node_modules/@patternfly/react-icons/dist/js/icons/calculator-icon.js\");\n/* harmony import */ var _patternfly_react_table__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @patternfly/react-table */ \"./node_modules/@patternfly/react-table/dist/esm/components/Table/utils/decorators/sortable.js\");\n/* harmony import */ var _patternfly_react_table__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @patternfly/react-table */ \"./node_modules/@patternfly/react-table/dist/esm/components/Table/SortColumn.js\");\n/* harmony import */ var _patternfly_react_table__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @patternfly/react-table */ \"./node_modules/@patternfly/react-table/dist/esm/components/Table/Table.js\");\n/* harmony import */ var _patternfly_react_table__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @patternfly/react-table */ \"./node_modules/@patternfly/react-table/dist/esm/components/Table/Header.js\");\n/* harmony import */ var _patternfly_react_table__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @patternfly/react-table */ \"./node_modules/@patternfly/react-table/dist/esm/components/Table/Body.js\");\n/* harmony import */ var api_queries_ocpQuery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! api/queries/ocpQuery */ \"./src/api/queries/ocpQuery.ts\");\n/* harmony import */ var api_queries_query__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! api/queries/query */ \"./src/api/queries/query.ts\");\n/* harmony import */ var components_state_emptyFilterState_emptyFilterState__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/state/emptyFilterState/emptyFilterState */ \"./src/components/state/emptyFilterState/emptyFilterState.tsx\");\n/* harmony import */ var components_state_emptyValueState_emptyValueState__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/state/emptyValueState/emptyValueState */ \"./src/components/state/emptyValueState/emptyValueState.tsx\");\n/* harmony import */ var pages_details_components_actions_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! pages/details/components/actions/actions */ \"./src/pages/details/components/actions/actions.tsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! react-i18next */ \"./node_modules/react-i18next/dist/es/withTranslation.js\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/es/Link.js\");\n/* harmony import */ var routes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! routes */ \"./src/routes.tsx\");\n/* harmony import */ var utils_computedReport_getComputedOcpReportItems__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! utils/computedReport/getComputedOcpReportItems */ \"./src/utils/computedReport/getComputedOcpReportItems.ts\");\n/* harmony import */ var utils_computedReport_getComputedReportItems__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! utils/computedReport/getComputedReportItems */ \"./src/utils/computedReport/getComputedReportItems.ts\");\n/* harmony import */ var utils_dateRange__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! utils/dateRange */ \"./src/utils/dateRange.ts\");\n/* harmony import */ var utils_formatValue__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! utils/formatValue */ \"./src/utils/formatValue.ts\");\n/* harmony import */ var _detailsTable_styles__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./detailsTable.styles */ \"./src/pages/details/ocpDetails/detailsTable.styles.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst reportPathsType = \"ocp\" /* ocp */;\nclass DetailsTableBase extends (react__WEBPACK_IMPORTED_MODULE_6___default().Component) {\n    constructor(props) {\n        super(props);\n        this.state = {\n            columns: [],\n            rows: []\n        };\n        this.buildCostLink = (label, description) => {\n            const { groupBy, query } = this.props;\n            const newQuery = Object.assign(Object.assign(Object.assign({}, query), (description && description !== label && {\n                [api_queries_query__WEBPACK_IMPORTED_MODULE_2__.breakdownDescKey]: description\n            })), { group_by: {\n                    [groupBy]: label\n                } });\n            return `${routes__WEBPACK_IMPORTED_MODULE_7__.paths.ocpDetailsBreakdown}?${(0,api_queries_ocpQuery__WEBPACK_IMPORTED_MODULE_1__.getQueryRoute)(newQuery)}`;\n        };\n        this.initDatum = () => {\n            const { isAllSelected, query, report, selectedItems, t } = this.props;\n            if (!query || !report) {\n                return;\n            }\n            const groupById = (0,utils_computedReport_getComputedOcpReportItems__WEBPACK_IMPORTED_MODULE_8__.getIdKeyForGroupBy)(query.group_by);\n            const groupByTagKey = this.getGroupByTagKey();\n            const total = (0,utils_formatValue__WEBPACK_IMPORTED_MODULE_11__.formatCurrency)(report && report.meta && report.meta.total && report.meta.total.cost && report.meta.total.cost.total ? report.meta.total.cost.total.value : 0);\n            const columns = groupByTagKey ? [\n                {\n                    title: t('ocp_details.tag_column_title')\n                }, {\n                    title: t('ocp_details.change_column_title')\n                }, {\n                    title: t('ocp_details.infrastructure_cost_column_title')\n                }, {\n                    title: t('ocp_details.supplementary_cost_column_title')\n                }, {\n                    orderBy: 'cost',\n                    title: t('ocp_details.cost_column_title', {\n                        total\n                    }),\n                    transforms: [_patternfly_react_table__WEBPACK_IMPORTED_MODULE_13__.sortable]\n                }, {\n                    title: ''\n                }\n            ] : [{\n                    orderBy: groupById,\n                    title: t('ocp_details.name_column_title', {\n                        groupBy: groupById\n                    }),\n                    transforms: [_patternfly_react_table__WEBPACK_IMPORTED_MODULE_13__.sortable]\n                }, {\n                    title: t('ocp_details.change_column_title')\n                }, {\n                    orderBy: 'infrastructure_cost',\n                    title: t('ocp_details.infrastructure_cost_column_title') // Sort by infrastructure_cost is not supported -- https://github.com/project-koku/koku/issues/796\n                    // transforms: [sortable],\n                }, {\n                    orderBy: 'supplementary_cost',\n                    title: t('ocp_details.supplementary_cost_column_title') // Sort by supplementary_cost is not supported -- https://github.com/project-koku/koku/issues/796\n                    // transforms: [sortable],\n                }, {\n                    orderBy: 'cost',\n                    title: t('ocp_details.cost_column_title'),\n                    transforms: [_patternfly_react_table__WEBPACK_IMPORTED_MODULE_13__.sortable]\n                }, {\n                    title: ''\n                }];\n            const rows = [];\n            const computedItems = (0,utils_computedReport_getComputedReportItems__WEBPACK_IMPORTED_MODULE_9__.getUnsortedComputedReportItems)({\n                report,\n                idKey: groupByTagKey || groupById\n            });\n            computedItems.map((item, index) => {\n                const label = item && item.label !== null ? item.label : '';\n                const monthOverMonth = this.getMonthOverMonthCost(item, index);\n                const InfrastructureCost = this.getInfrastructureCost(item, index);\n                const supplementaryCost = this.getSupplementaryCost(item, index);\n                const cost = this.getTotalCost(item, index);\n                const actions = this.getActions(item);\n                let name = react__WEBPACK_IMPORTED_MODULE_6___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_14__.default, { to: this.buildCostLink(label.toString(), item.id) }, label);\n                if (label === `no-${groupById}` || label === `no-${groupByTagKey}`) {\n                    name = label;\n                }\n                const desc = item.id && item.id !== item.label ? react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", { style: _detailsTable_styles__WEBPACK_IMPORTED_MODULE_12__.styles.infoDescription }, item.id) : null;\n                rows.push({\n                    cells: [{\n                            title: react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", null,\n                                name,\n                                desc)\n                        }, {\n                            title: react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", null, monthOverMonth)\n                        }, {\n                            title: react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", null, InfrastructureCost)\n                        }, {\n                            title: react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", null, supplementaryCost)\n                        }, {\n                            title: react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", null, cost)\n                        }, {\n                            title: react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", null, actions)\n                        }],\n                    isOpen: false,\n                    item,\n                    selected: isAllSelected || selectedItems && selectedItems.find(val => val.id === item.id) !== undefined\n                });\n            });\n            const loadingRows = [{\n                    heightAuto: true,\n                    cells: [{\n                            props: {\n                                colSpan: 7\n                            },\n                            title: react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_15__.Bullseye, null,\n                                react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", { style: {\n                                        textAlign: 'center'\n                                    } },\n                                    react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_15__.Spinner, { size: \"xl\" })))\n                        }]\n                }];\n            this.setState({\n                columns,\n                loadingRows,\n                rows,\n                sortBy: {}\n            });\n        };\n        this.getActions = (item) => {\n            const { groupBy, query } = this.props;\n            return react__WEBPACK_IMPORTED_MODULE_6___default().createElement(pages_details_components_actions_actions__WEBPACK_IMPORTED_MODULE_5__.Actions, { groupBy: groupBy, item: item, providerType: \"ocp\" /* ocp */, query: query, reportPathsType: reportPathsType, showPriceListOption: groupBy === 'cluster' });\n        };\n        this.getEmptyState = () => {\n            const { query, t } = this.props;\n            for (const val of Object.values(query.filter_by)) {\n                if (val !== '*') {\n                    return react__WEBPACK_IMPORTED_MODULE_6___default().createElement(components_state_emptyFilterState_emptyFilterState__WEBPACK_IMPORTED_MODULE_3__.EmptyFilterState, { filter: val, showMargin: false });\n                }\n            }\n            return react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_15__.EmptyState, null,\n                react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_15__.EmptyStateIcon, { icon: _patternfly_react_icons_dist_js_icons_calculator_icon__WEBPACK_IMPORTED_MODULE_16__.CalculatorIcon }),\n                react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_15__.EmptyStateBody, null, t('ocp_details.empty_state')));\n        };\n        this.getSupplementaryCost = (item, index) => {\n            const { report, t } = this.props;\n            const cost = report && report.meta && report.meta.total && report.meta.total.cost && report.meta.total.cost.total ? report.meta.total.cost.total.value : 0;\n            const percentValue = cost === 0 ? cost.toFixed(2) : (item.supplementary.total.value / cost * 100).toFixed(2);\n            return react__WEBPACK_IMPORTED_MODULE_6___default().createElement((react__WEBPACK_IMPORTED_MODULE_6___default().Fragment), null,\n                (0,utils_formatValue__WEBPACK_IMPORTED_MODULE_11__.formatCurrency)(item.supplementary.total.value),\n                react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", { style: _detailsTable_styles__WEBPACK_IMPORTED_MODULE_12__.styles.infoDescription, key: `total-cost-${index}` }, t('percent_of_cost', {\n                    value: percentValue\n                })));\n        };\n        this.getGroupByTagKey = () => {\n            const { query } = this.props;\n            let groupByTagKey;\n            for (const groupBy of Object.keys(query.group_by)) {\n                const tagIndex = groupBy.indexOf(api_queries_query__WEBPACK_IMPORTED_MODULE_2__.tagPrefix);\n                if (tagIndex !== -1) {\n                    groupByTagKey = groupBy.substring(tagIndex + api_queries_query__WEBPACK_IMPORTED_MODULE_2__.tagPrefix.length);\n                    break;\n                }\n            }\n            return groupByTagKey;\n        };\n        this.getInfrastructureCost = (item, index) => {\n            const { report, t } = this.props;\n            const cost = report && report.meta && report.meta.total && report.meta.total.cost && report.meta.total.cost.total ? report.meta.total.cost.total.value : 0;\n            const percentValue = cost === 0 ? cost.toFixed(2) : (item.infrastructure.total.value / cost * 100).toFixed(2);\n            return react__WEBPACK_IMPORTED_MODULE_6___default().createElement((react__WEBPACK_IMPORTED_MODULE_6___default().Fragment), null,\n                (0,utils_formatValue__WEBPACK_IMPORTED_MODULE_11__.formatCurrency)(item.infrastructure.total.value),\n                react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", { style: _detailsTable_styles__WEBPACK_IMPORTED_MODULE_12__.styles.infoDescription, key: `total-cost-${index}` }, t('percent_of_cost', {\n                    value: percentValue\n                })));\n        };\n        this.getMonthOverMonthCost = (item, index) => {\n            const { t } = this.props;\n            const value = (0,utils_formatValue__WEBPACK_IMPORTED_MODULE_11__.formatCurrency)(Math.abs(item.cost.total.value - item.delta_value));\n            const percentage = item.delta_percent !== null ? Math.abs(item.delta_percent).toFixed(2) : 0;\n            const showPercentage = !(percentage === 0 || percentage === '0.00');\n            const showValue = item.delta_percent !== null; // Workaround for https://github.com/project-koku/koku/issues/1395\n            let iconOverride;\n            if (showPercentage) {\n                iconOverride = 'iconOverride';\n                if (item.delta_percent !== null && item.delta_value < 0) {\n                    iconOverride += ' decrease';\n                }\n                if (item.delta_percent !== null && item.delta_value > 0) {\n                    iconOverride += ' increase';\n                }\n            }\n            if (!showValue) {\n                return (0,utils_dateRange__WEBPACK_IMPORTED_MODULE_10__.getNoDataForDateRangeString)();\n            }\n            else {\n                return react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", { className: \"monthOverMonthOverride\" },\n                    react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", { className: iconOverride, key: `month-over-month-cost-${index}` },\n                        showPercentage ? t('percent', {\n                            value: percentage\n                        }) : react__WEBPACK_IMPORTED_MODULE_6___default().createElement(components_state_emptyValueState_emptyValueState__WEBPACK_IMPORTED_MODULE_4__.EmptyValueState, null),\n                        Boolean(showPercentage && item.delta_percent !== null && item.delta_value > 0) && react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"span\", { className: \"fa fa-sort-up\", style: _detailsTable_styles__WEBPACK_IMPORTED_MODULE_12__.styles.infoArrow, key: `month-over-month-icon-${index}` }),\n                        Boolean(showPercentage && item.delta_percent !== null && item.delta_value < 0) && react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"span\", { className: \"fa fa-sort-down\", style: Object.assign(Object.assign({}, _detailsTable_styles__WEBPACK_IMPORTED_MODULE_12__.styles.ininfoArrow), _detailsTable_styles__WEBPACK_IMPORTED_MODULE_12__.styles.infoArrowDesc), key: `month-over-month-icon-${index}` })),\n                    react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", { style: _detailsTable_styles__WEBPACK_IMPORTED_MODULE_12__.styles.infoDescription, key: `month-over-month-info-${index}` }, (0,utils_dateRange__WEBPACK_IMPORTED_MODULE_10__.getForDateRangeString)(value)));\n            }\n        };\n        this.getSortBy = () => {\n            const { query } = this.props;\n            const { columns } = this.state;\n            let index = -1;\n            let direction = _patternfly_react_table__WEBPACK_IMPORTED_MODULE_17__.SortByDirection.asc;\n            for (const key of Object.keys(query.order_by)) {\n                let c = 0;\n                for (const column of columns) {\n                    if (column.orderBy === key) {\n                        direction = query.order_by[key] === 'asc' ? _patternfly_react_table__WEBPACK_IMPORTED_MODULE_17__.SortByDirection.asc : _patternfly_react_table__WEBPACK_IMPORTED_MODULE_17__.SortByDirection.desc;\n                        index = c + 1;\n                        break;\n                    }\n                    c++;\n                }\n            }\n            return index > -1 ? {\n                index,\n                direction\n            } : {};\n        };\n        this.getTotalCost = (item, index) => {\n            const { report, t } = this.props;\n            const cost = report && report.meta && report.meta.total && report.meta.total.cost && report.meta.total.cost.total ? report.meta.total.cost.total.value : 0;\n            const percentValue = cost === 0 ? cost.toFixed(2) : (item.cost.total.value / cost * 100).toFixed(2);\n            return react__WEBPACK_IMPORTED_MODULE_6___default().createElement((react__WEBPACK_IMPORTED_MODULE_6___default().Fragment), null,\n                (0,utils_formatValue__WEBPACK_IMPORTED_MODULE_11__.formatCurrency)(item.cost.total.value),\n                react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", { style: _detailsTable_styles__WEBPACK_IMPORTED_MODULE_12__.styles.infoDescription, key: `total-cost-${index}` }, t('percent_of_cost', {\n                    value: percentValue\n                })));\n        };\n        this.handleOnSelect = (event, isSelected, rowId) => {\n            const { onSelected } = this.props;\n            let rows;\n            let items = [];\n            if (rowId === -1) {\n                rows = this.state.rows.map(row => {\n                    row.selected = isSelected;\n                    return row;\n                });\n            }\n            else {\n                rows = [...this.state.rows];\n                rows[rowId].selected = isSelected;\n                items = [rows[rowId].item];\n            }\n            this.setState({\n                rows\n            }, () => {\n                if (onSelected) {\n                    onSelected(items, isSelected);\n                }\n            });\n        };\n        this.handleOnSort = (event, index, direction) => {\n            const { onSort } = this.props;\n            const { columns } = this.state;\n            if (onSort) {\n                const orderBy = columns[index - 1].orderBy;\n                const isSortAscending = direction === _patternfly_react_table__WEBPACK_IMPORTED_MODULE_17__.SortByDirection.asc;\n                onSort(orderBy, isSortAscending);\n            }\n        };\n        this.handleOnSelect = this.handleOnSelect.bind(this);\n        this.handleOnSort = this.handleOnSort.bind(this);\n    }\n    componentDidMount() {\n        this.initDatum();\n    }\n    componentDidUpdate(prevProps) {\n        const { query, report, selectedItems } = this.props;\n        const currentReport = report && report.data ? JSON.stringify(report.data) : '';\n        const previousReport = prevProps.report && prevProps.report.data ? JSON.stringify(prevProps.report.data) : '';\n        if ((0,api_queries_ocpQuery__WEBPACK_IMPORTED_MODULE_1__.getQuery)(prevProps.query) !== (0,api_queries_ocpQuery__WEBPACK_IMPORTED_MODULE_1__.getQuery)(query) || previousReport !== currentReport || prevProps.selectedItems !== selectedItems) {\n            this.initDatum();\n        }\n    }\n    render() {\n        const { isLoading } = this.props;\n        const { columns, loadingRows, rows } = this.state;\n        return react__WEBPACK_IMPORTED_MODULE_6___default().createElement((react__WEBPACK_IMPORTED_MODULE_6___default().Fragment), null,\n            react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_patternfly_react_table__WEBPACK_IMPORTED_MODULE_18__.Table, { \"aria-label\": \"details-table\", canSelectAll: false, cells: columns, className: \"tableOverride\", rows: isLoading ? loadingRows : rows, sortBy: this.getSortBy(), onSelect: isLoading ? undefined : this.handleOnSelect, onSort: this.handleOnSort, gridBreakPoint: \"grid-2xl\" },\n                react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_patternfly_react_table__WEBPACK_IMPORTED_MODULE_19__.TableHeader, null),\n                react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_patternfly_react_table__WEBPACK_IMPORTED_MODULE_20__.TableBody, null)),\n            Boolean(rows.length === 0) && react__WEBPACK_IMPORTED_MODULE_6___default().createElement(\"div\", { style: _detailsTable_styles__WEBPACK_IMPORTED_MODULE_12__.styles.emptyState }, this.getEmptyState()));\n    }\n}\nconst DetailsTable = (0,react_i18next__WEBPACK_IMPORTED_MODULE_21__.withTranslation)()(DetailsTableBase);\n\n\n\n//# sourceURL=webpack://koku-ui/./src/pages/details/ocpDetails/detailsTable.tsx?");

/***/ }),

/***/ "./src/pages/details/ocpDetails/detailsToolbar.tsx":
/*!*********************************************************!*\
  !*** ./src/pages/details/ocpDetails/detailsToolbar.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DetailsToolbarBase\": () => (/* binding */ DetailsToolbarBase),\n/* harmony export */   \"DetailsToolbar\": () => (/* binding */ DetailsToolbar)\n/* harmony export */ });\n/* harmony import */ var api_queries_ocpQuery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! api/queries/ocpQuery */ \"./src/api/queries/ocpQuery.ts\");\n/* harmony import */ var api_queries_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! api/queries/query */ \"./src/api/queries/query.ts\");\n/* harmony import */ var pages_details_components_dataToolbar_dataToolbar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pages/details/components/dataToolbar/dataToolbar */ \"./src/pages/details/components/dataToolbar/dataToolbar.tsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-i18next */ \"./node_modules/react-i18next/dist/es/withTranslation.js\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var store_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! store/common */ \"./src/store/common.ts\");\n/* harmony import */ var store_tags__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! store/tags */ \"./src/store/tags/index.ts\");\n/* harmony import */ var utils_equal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! utils/equal */ \"./src/utils/equal.ts\");\n\n\n\n\n\n\n\n\n\nconst tagReportType = \"tag\" /* tag */;\nconst tagReportPathsType = \"ocp\" /* ocp */;\nclass DetailsToolbarBase extends (react__WEBPACK_IMPORTED_MODULE_3___default().Component) {\n    constructor() {\n        super(...arguments);\n        this.defaultState = {};\n        this.state = Object.assign({}, this.defaultState);\n        this.getCategoryOptions = () => {\n            const { tagReport, t } = this.props;\n            const options = [{\n                    name: t('filter_by.values.cluster'),\n                    key: 'cluster'\n                }, {\n                    name: t('filter_by.values.node'),\n                    key: 'node'\n                }, {\n                    name: t('filter_by.values.project'),\n                    key: 'project'\n                }, {\n                    name: t('filter_by.values.tag'),\n                    key: api_queries_query__WEBPACK_IMPORTED_MODULE_1__.tagKey\n                }];\n            return tagReport && tagReport.data && tagReport.data.length ? options : options.filter(option => option.key !== api_queries_query__WEBPACK_IMPORTED_MODULE_1__.tagKey);\n        };\n    }\n    componentDidMount() {\n        const { fetchTag, queryString } = this.props;\n        fetchTag(tagReportPathsType, tagReportType, queryString);\n        this.setState({\n            categoryOptions: this.getCategoryOptions()\n        });\n    }\n    componentDidUpdate(prevProps) {\n        const { fetchTag, query, queryString, tagReport } = this.props;\n        if (query && !(0,utils_equal__WEBPACK_IMPORTED_MODULE_7__.isEqual)(query, prevProps.query)) {\n            fetchTag(tagReportPathsType, tagReportType, queryString);\n        }\n        if (!(0,utils_equal__WEBPACK_IMPORTED_MODULE_7__.isEqual)(tagReport, prevProps.tagReport)) {\n            this.setState({\n                categoryOptions: this.getCategoryOptions()\n            });\n        }\n    }\n    render() {\n        const { groupBy, isAllSelected, isExportDisabled, itemsPerPage, itemsTotal, onBulkSelected, onExportClicked, onFilterAdded, onFilterRemoved, pagination, query, selectedItems, tagReport } = this.props;\n        const { categoryOptions } = this.state;\n        return react__WEBPACK_IMPORTED_MODULE_3___default().createElement(pages_details_components_dataToolbar_dataToolbar__WEBPACK_IMPORTED_MODULE_2__.DataToolbar, { categoryOptions: categoryOptions, groupBy: groupBy, isAllSelected: isAllSelected, isExportDisabled: isExportDisabled, itemsPerPage: itemsPerPage, itemsTotal: itemsTotal, onBulkSelected: onBulkSelected, onExportClicked: onExportClicked, onFilterAdded: onFilterAdded, onFilterRemoved: onFilterRemoved, pagination: pagination, query: query, selectedItems: selectedItems, showBulkSelect: true, showExport: true, showFilter: true, tagReport: tagReport });\n    }\n} // eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst mapStateToProps = (0,store_common__WEBPACK_IMPORTED_MODULE_5__.createMapStateToProps)((state, props) => {\n    // Omitting key_only to share a single request -- the toolbar needs key values\n    const queryString = (0,api_queries_ocpQuery__WEBPACK_IMPORTED_MODULE_0__.getQuery)({\n        filter: {\n            resolution: 'monthly',\n            time_scope_units: 'month',\n            time_scope_value: -1\n        } // key_only: true\n    });\n    const tagReport = store_tags__WEBPACK_IMPORTED_MODULE_6__.tagSelectors.selectTag(state, tagReportPathsType, tagReportType, queryString);\n    const tagReportFetchStatus = store_tags__WEBPACK_IMPORTED_MODULE_6__.tagSelectors.selectTagFetchStatus(state, tagReportPathsType, tagReportType, queryString);\n    return {\n        queryString,\n        tagReport,\n        tagReportFetchStatus\n    };\n});\nconst mapDispatchToProps = {\n    fetchTag: store_tags__WEBPACK_IMPORTED_MODULE_6__.tagActions.fetchTag\n};\nconst DetailsToolbar = (0,react_i18next__WEBPACK_IMPORTED_MODULE_8__.withTranslation)()((0,react_redux__WEBPACK_IMPORTED_MODULE_4__.connect)(mapStateToProps, mapDispatchToProps)(DetailsToolbarBase));\n\n\n\n//# sourceURL=webpack://koku-ui/./src/pages/details/ocpDetails/detailsToolbar.tsx?");

/***/ }),

/***/ "./src/pages/details/ocpDetails/index.ts":
/*!***********************************************!*\
  !*** ./src/pages/details/ocpDetails/index.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ocpDetails__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ocpDetails */ \"./src/pages/details/ocpDetails/ocpDetails.tsx\");\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_ocpDetails__WEBPACK_IMPORTED_MODULE_0__.default);\n\n\n//# sourceURL=webpack://koku-ui/./src/pages/details/ocpDetails/index.ts?");

/***/ }),

/***/ "./src/pages/details/ocpDetails/ocpDetails.styles.ts":
/*!***********************************************************!*\
  !*** ./src/pages/details/ocpDetails/ocpDetails.styles.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"styles\": () => (/* binding */ styles)\n/* harmony export */ });\n/* harmony import */ var _patternfly_react_tokens_dist_js_global_BackgroundColor_light_100__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternfly/react-tokens/dist/js/global_BackgroundColor_light_100 */ \"./node_modules/@patternfly/react-tokens/dist/js/global_BackgroundColor_light_100.js\");\n/* harmony import */ var _patternfly_react_tokens_dist_js_global_spacer_lg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @patternfly/react-tokens/dist/js/global_spacer_lg */ \"./node_modules/@patternfly/react-tokens/dist/js/global_spacer_lg.js\");\n/* harmony import */ var _patternfly_react_tokens_dist_js_global_spacer_md__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @patternfly/react-tokens/dist/js/global_spacer_md */ \"./node_modules/@patternfly/react-tokens/dist/js/global_spacer_md.js\");\n\n\n\nconst styles = {\n    content: {\n        paddingBottom: _patternfly_react_tokens_dist_js_global_spacer_lg__WEBPACK_IMPORTED_MODULE_0__.default.value,\n        paddingTop: _patternfly_react_tokens_dist_js_global_spacer_lg__WEBPACK_IMPORTED_MODULE_0__.default.value\n    },\n    ocpDetails: {\n        minHeight: '100%'\n    },\n    paginationContainer: {\n        marginLeft: _patternfly_react_tokens_dist_js_global_spacer_lg__WEBPACK_IMPORTED_MODULE_0__.default.value,\n        marginRight: _patternfly_react_tokens_dist_js_global_spacer_lg__WEBPACK_IMPORTED_MODULE_0__.default.value\n    },\n    pagination: {\n        backgroundColor: _patternfly_react_tokens_dist_js_global_BackgroundColor_light_100__WEBPACK_IMPORTED_MODULE_1__.default.value,\n        padding: _patternfly_react_tokens_dist_js_global_spacer_md__WEBPACK_IMPORTED_MODULE_2__.default.value\n    },\n    tableContainer: {\n        marginLeft: _patternfly_react_tokens_dist_js_global_spacer_lg__WEBPACK_IMPORTED_MODULE_0__.default.value,\n        marginRight: _patternfly_react_tokens_dist_js_global_spacer_lg__WEBPACK_IMPORTED_MODULE_0__.default.value\n    }\n};\n\n\n//# sourceURL=webpack://koku-ui/./src/pages/details/ocpDetails/ocpDetails.styles.ts?");

/***/ }),

/***/ "./src/pages/details/ocpDetails/ocpDetails.tsx":
/*!*****************************************************!*\
  !*** ./src/pages/details/ocpDetails/ocpDetails.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @patternfly/react-core */ \"./node_modules/@patternfly/react-core/dist/esm/components/Pagination/Pagination.js\");\n/* harmony import */ var api_queries_ocpQuery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! api/queries/ocpQuery */ \"./src/api/queries/ocpQuery.ts\");\n/* harmony import */ var api_queries_providersQuery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! api/queries/providersQuery */ \"./src/api/queries/providersQuery.ts\");\n/* harmony import */ var api_queries_query__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! api/queries/query */ \"./src/api/queries/query.ts\");\n/* harmony import */ var pages_details_common_detailsUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! pages/details/common/detailsUtils */ \"./src/pages/details/common/detailsUtils.ts\");\n/* harmony import */ var pages_details_components_export_exportModal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! pages/details/components/export/exportModal */ \"./src/pages/details/components/export/exportModal.tsx\");\n/* harmony import */ var pages_state_loading__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! pages/state/loading */ \"./src/pages/state/loading/index.ts\");\n/* harmony import */ var pages_state_noProviders__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! pages/state/noProviders */ \"./src/pages/state/noProviders/index.ts\");\n/* harmony import */ var pages_state_notAvailable__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! pages/state/notAvailable */ \"./src/pages/state/notAvailable/index.ts\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! react-i18next */ \"./node_modules/react-i18next/dist/es/withTranslation.js\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var store_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! store/common */ \"./src/store/common.ts\");\n/* harmony import */ var store_providers__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! store/providers */ \"./src/store/providers/index.ts\");\n/* harmony import */ var store_reports__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! store/reports */ \"./src/store/reports/index.ts\");\n/* harmony import */ var utils_computedReport_getComputedOcpReportItems__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! utils/computedReport/getComputedOcpReportItems */ \"./src/utils/computedReport/getComputedOcpReportItems.ts\");\n/* harmony import */ var utils_computedReport_getComputedReportItems__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! utils/computedReport/getComputedReportItems */ \"./src/utils/computedReport/getComputedReportItems.ts\");\n/* harmony import */ var _state_noData__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../state/noData */ \"./src/pages/state/noData/index.ts\");\n/* harmony import */ var _detailsHeader__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./detailsHeader */ \"./src/pages/details/ocpDetails/detailsHeader.tsx\");\n/* harmony import */ var _detailsTable__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./detailsTable */ \"./src/pages/details/ocpDetails/detailsTable.tsx\");\n/* harmony import */ var _detailsToolbar__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./detailsToolbar */ \"./src/pages/details/ocpDetails/detailsToolbar.tsx\");\n/* harmony import */ var _ocpDetails_styles__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./ocpDetails.styles */ \"./src/pages/details/ocpDetails/ocpDetails.styles.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst baseQuery = {\n    delta: 'cost',\n    filter: {\n        limit: 10,\n        offset: 0,\n        resolution: 'monthly',\n        time_scope_units: 'month',\n        time_scope_value: -1\n    },\n    filter_by: {},\n    group_by: {\n        project: '*'\n    },\n    order_by: {\n        cost: 'desc'\n    }\n};\nconst reportType = \"cost\" /* cost */;\nconst reportPathsType = \"ocp\" /* ocp */;\nclass OcpDetails extends (react__WEBPACK_IMPORTED_MODULE_8___default().Component) {\n    constructor(stateProps, dispatchProps) {\n        super(stateProps, dispatchProps);\n        this.defaultState = {\n            columns: [],\n            isAllSelected: false,\n            isExportModalOpen: false,\n            rows: [],\n            selectedItems: []\n        };\n        this.state = Object.assign({}, this.defaultState);\n        this.getComputedItems = () => {\n            const { query, report } = this.props;\n            const groupById = (0,utils_computedReport_getComputedOcpReportItems__WEBPACK_IMPORTED_MODULE_13__.getIdKeyForGroupBy)(query.group_by);\n            const groupByTagKey = (0,pages_details_common_detailsUtils__WEBPACK_IMPORTED_MODULE_3__.getGroupByTagKey)(query);\n            return (0,utils_computedReport_getComputedReportItems__WEBPACK_IMPORTED_MODULE_14__.getUnsortedComputedReportItems)({\n                report,\n                idKey: groupByTagKey || groupById\n            });\n        };\n        this.getExportModal = (computedItems) => {\n            const { isAllSelected, isExportModalOpen, selectedItems } = this.state;\n            const { query, report } = this.props;\n            const groupById = (0,utils_computedReport_getComputedOcpReportItems__WEBPACK_IMPORTED_MODULE_13__.getIdKeyForGroupBy)(query.group_by);\n            const groupByTagKey = (0,pages_details_common_detailsUtils__WEBPACK_IMPORTED_MODULE_3__.getGroupByTagKey)(query);\n            const itemsTotal = report && report.meta ? report.meta.count : 0;\n            return react__WEBPACK_IMPORTED_MODULE_8___default().createElement(pages_details_components_export_exportModal__WEBPACK_IMPORTED_MODULE_4__.ExportModal, { isAllItems: (isAllSelected || selectedItems.length === itemsTotal) && computedItems.length > 0, groupBy: groupByTagKey ? `${api_queries_query__WEBPACK_IMPORTED_MODULE_2__.tagPrefix}${groupByTagKey}` : groupById, isOpen: isExportModalOpen, items: selectedItems, onClose: this.handleExportModalClose, query: query, reportPathsType: reportPathsType });\n        };\n        this.getPagination = (isBottom = false) => {\n            const { report } = this.props;\n            const count = report && report.meta ? report.meta.count : 0;\n            const limit = report && report.meta && report.meta.filter && report.meta.filter.limit ? report.meta.filter.limit : baseQuery.filter.limit;\n            const offset = report && report.meta && report.meta.filter && report.meta.filter.offset ? report.meta.filter.offset : baseQuery.filter.offset;\n            const page = offset / limit + 1;\n            return react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_20__.Pagination, { isCompact: !isBottom, itemCount: count, onPerPageSelect: this.handlePerPageSelect, onSetPage: this.handleSetPage, page: page, perPage: limit, variant: isBottom ? _patternfly_react_core__WEBPACK_IMPORTED_MODULE_20__.PaginationVariant.bottom : _patternfly_react_core__WEBPACK_IMPORTED_MODULE_20__.PaginationVariant.top, widgetId: \"`pagination${isBottom ? '-bottom' : ''}`\" });\n        };\n        this.getTable = () => {\n            const { query, report, reportFetchStatus } = this.props;\n            const { isAllSelected, selectedItems } = this.state;\n            const groupById = (0,utils_computedReport_getComputedOcpReportItems__WEBPACK_IMPORTED_MODULE_13__.getIdKeyForGroupBy)(query.group_by);\n            const groupByTagKey = (0,pages_details_common_detailsUtils__WEBPACK_IMPORTED_MODULE_3__.getGroupByTagKey)(query);\n            return react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_detailsTable__WEBPACK_IMPORTED_MODULE_17__.DetailsTable, { groupBy: groupByTagKey ? `${api_queries_query__WEBPACK_IMPORTED_MODULE_2__.tagPrefix}${groupByTagKey}` : groupById, isAllSelected: isAllSelected, isLoading: reportFetchStatus === 1 /* inProgress */, onSelected: this.handleSelected, onSort: this.handleSort, query: query, report: report, selectedItems: selectedItems });\n        };\n        this.getToolbar = (computedItems) => {\n            const { query, report } = this.props;\n            const { isAllSelected, selectedItems } = this.state;\n            const groupById = (0,utils_computedReport_getComputedOcpReportItems__WEBPACK_IMPORTED_MODULE_13__.getIdKeyForGroupBy)(query.group_by);\n            const groupByTagKey = (0,pages_details_common_detailsUtils__WEBPACK_IMPORTED_MODULE_3__.getGroupByTagKey)(query);\n            const itemsTotal = report && report.meta ? report.meta.count : 0;\n            return react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_detailsToolbar__WEBPACK_IMPORTED_MODULE_18__.DetailsToolbar, { groupBy: groupByTagKey ? `${api_queries_query__WEBPACK_IMPORTED_MODULE_2__.tagPrefix}${groupByTagKey}` : groupById, isAllSelected: isAllSelected, isExportDisabled: computedItems.length === 0 || !isAllSelected && selectedItems.length === 0, itemsPerPage: computedItems.length, itemsTotal: itemsTotal, onBulkSelected: this.handleBulkSelected, onExportClicked: this.handleExportModalOpen, onFilterAdded: this.handleFilterAdded, onFilterRemoved: this.handleFilterRemoved, pagination: this.getPagination(), query: query, selectedItems: selectedItems });\n        };\n        this.handleBulkSelected = (action) => {\n            const { isAllSelected } = this.state;\n            if (action === 'none') {\n                this.setState({\n                    isAllSelected: false,\n                    selectedItems: []\n                });\n            }\n            else if (action === 'page') {\n                this.setState({\n                    isAllSelected: false,\n                    selectedItems: this.getComputedItems()\n                });\n            }\n            else if (action === 'all') {\n                this.setState({\n                    isAllSelected: !isAllSelected,\n                    selectedItems: []\n                });\n            }\n        };\n        this.handleExportModalClose = (isOpen) => {\n            this.setState({\n                isExportModalOpen: isOpen\n            });\n        };\n        this.handleExportModalOpen = () => {\n            this.setState({\n                isExportModalOpen: true\n            });\n        };\n        this.handleFilterAdded = (filterType, filterValue) => {\n            const { history, query } = this.props;\n            const filteredQuery = (0,pages_details_common_detailsUtils__WEBPACK_IMPORTED_MODULE_3__.addQueryFilter)(query, filterType, filterValue);\n            history.replace(this.getRouteForQuery(filteredQuery, true));\n        };\n        this.handleFilterRemoved = (filterType, filterValue) => {\n            const { history, query } = this.props;\n            const filteredQuery = (0,pages_details_common_detailsUtils__WEBPACK_IMPORTED_MODULE_3__.removeQueryFilter)(query, filterType, filterValue);\n            history.replace(this.getRouteForQuery(filteredQuery, true));\n        };\n        this.handleGroupByClick = groupBy => {\n            const { history, query } = this.props;\n            const groupByKey = groupBy;\n            const newQuery = Object.assign(Object.assign({}, JSON.parse(JSON.stringify(query))), { filter_by: undefined, group_by: {\n                    [groupByKey]: '*'\n                }, order_by: {\n                    cost: 'desc'\n                } });\n            history.replace(this.getRouteForQuery(newQuery, true));\n            this.setState({\n                isAllSelected: false,\n                selectedItems: []\n            });\n        };\n        this.handlePerPageSelect = (_event, perPage) => {\n            const { history, query } = this.props;\n            const newQuery = Object.assign({}, JSON.parse(JSON.stringify(query)));\n            newQuery.filter = Object.assign(Object.assign({}, query.filter), { limit: perPage });\n            const filteredQuery = this.getRouteForQuery(newQuery, true);\n            history.replace(filteredQuery);\n        };\n        this.handleSelected = (items, isSelected = false) => {\n            const { isAllSelected, selectedItems } = this.state;\n            let newItems = [...(isAllSelected ? this.getComputedItems() : selectedItems)];\n            if (items && items.length > 0) {\n                if (isSelected) {\n                    items.map(item => newItems.push(item));\n                }\n                else {\n                    items.map(item => {\n                        newItems = newItems.filter(val => val.id !== item.id);\n                    });\n                }\n            }\n            this.setState({\n                isAllSelected: false,\n                selectedItems: newItems\n            });\n        };\n        this.handleSetPage = (event, pageNumber) => {\n            const { history, query, report } = this.props;\n            const limit = report && report.meta && report.meta.filter && report.meta.filter.limit ? report.meta.filter.limit : baseQuery.filter.limit;\n            const offset = pageNumber * limit - limit;\n            const newQuery = Object.assign({}, JSON.parse(JSON.stringify(query)));\n            newQuery.filter = Object.assign(Object.assign({}, query.filter), { offset });\n            const filteredQuery = this.getRouteForQuery(newQuery);\n            history.replace(filteredQuery);\n        };\n        this.handleSort = (sortType, isSortAscending) => {\n            const { history, query } = this.props;\n            const newQuery = Object.assign({}, JSON.parse(JSON.stringify(query)));\n            newQuery.order_by = {};\n            newQuery.order_by[sortType] = isSortAscending ? 'asc' : 'desc';\n            const filteredQuery = this.getRouteForQuery(newQuery);\n            history.replace(filteredQuery);\n        }; // Ensure at least one source provider has data available\n        this.hasCurrentMonthData = () => {\n            const { providers } = this.props;\n            let result = false;\n            if (providers && providers.data) {\n                for (const provider of providers.data) {\n                    if (provider.current_month_data) {\n                        result = true;\n                        break;\n                    }\n                }\n            }\n            return result;\n        };\n        this.updateReport = () => {\n            const { query, location, fetchReport, history, queryString } = this.props;\n            if (!location.search) {\n                history.replace(this.getRouteForQuery({\n                    filter_by: query ? query.filter_by : undefined,\n                    group_by: query ? query.group_by : undefined,\n                    order_by: {\n                        cost: 'desc'\n                    }\n                }));\n            }\n            else {\n                fetchReport(reportPathsType, reportType, queryString);\n            }\n        };\n        this.handleBulkSelected = this.handleBulkSelected.bind(this);\n        this.handleExportModalClose = this.handleExportModalClose.bind(this);\n        this.handleExportModalOpen = this.handleExportModalOpen.bind(this);\n        this.handleFilterAdded = this.handleFilterAdded.bind(this);\n        this.handleFilterRemoved = this.handleFilterRemoved.bind(this);\n        this.handlePerPageSelect = this.handlePerPageSelect.bind(this);\n        this.handleSelected = this.handleSelected.bind(this);\n        this.handleSetPage = this.handleSetPage.bind(this);\n        this.handleSort = this.handleSort.bind(this);\n    }\n    componentDidMount() {\n        this.updateReport();\n    }\n    componentDidUpdate(prevProps, prevState) {\n        const { location, report, reportError, queryString } = this.props;\n        const { selectedItems } = this.state;\n        const newQuery = prevProps.queryString !== queryString;\n        const noReport = !report && !reportError;\n        const noLocation = !location.search;\n        const newItems = prevState.selectedItems !== selectedItems;\n        if (newQuery || noReport || noLocation || newItems) {\n            this.updateReport();\n        }\n    }\n    getRouteForQuery(query, reset = false) {\n        const { history } = this.props; // Reset pagination\n        if (reset) {\n            query.filter = Object.assign(Object.assign({}, query.filter), { offset: baseQuery.filter.offset });\n        }\n        return `${history.location.pathname}?${(0,api_queries_ocpQuery__WEBPACK_IMPORTED_MODULE_0__.getQueryRoute)(query)}`;\n    }\n    render() {\n        const { providers, providersFetchStatus, query, report, reportError, reportFetchStatus, t } = this.props;\n        const groupById = (0,utils_computedReport_getComputedOcpReportItems__WEBPACK_IMPORTED_MODULE_13__.getIdKeyForGroupBy)(query.group_by);\n        const computedItems = this.getComputedItems();\n        const title = t('navigation.ocp_details'); // Note: Providers are fetched via the InactiveSources component used by all routes\n        if (reportError) {\n            return react__WEBPACK_IMPORTED_MODULE_8___default().createElement(pages_state_notAvailable__WEBPACK_IMPORTED_MODULE_7__.default, { title: title });\n        }\n        else if (providersFetchStatus === 1 /* inProgress */ && reportFetchStatus === 1 /* inProgress */) {\n            return react__WEBPACK_IMPORTED_MODULE_8___default().createElement(pages_state_loading__WEBPACK_IMPORTED_MODULE_5__.default, { title: title });\n        }\n        else if (providersFetchStatus === 2 /* complete */ && reportFetchStatus === 2 /* complete */) {\n            // API returns empy data array for no sources\n            const noProviders = providers && providers.meta && providers.meta.count === 0 && providersFetchStatus === 2 /* complete */;\n            if (noProviders) {\n                return react__WEBPACK_IMPORTED_MODULE_8___default().createElement(pages_state_noProviders__WEBPACK_IMPORTED_MODULE_6__.default, { providerType: \"ocp\" /* ocp */, title: title });\n            }\n            if (!this.hasCurrentMonthData()) {\n                return react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_state_noData__WEBPACK_IMPORTED_MODULE_15__.default, { title: title });\n            }\n        }\n        return react__WEBPACK_IMPORTED_MODULE_8___default().createElement(\"div\", { style: _ocpDetails_styles__WEBPACK_IMPORTED_MODULE_19__.styles.ocpDetails },\n            react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_detailsHeader__WEBPACK_IMPORTED_MODULE_16__.DetailsHeader, { groupBy: groupById, onGroupByClicked: this.handleGroupByClick, report: report }),\n            react__WEBPACK_IMPORTED_MODULE_8___default().createElement(\"div\", { style: _ocpDetails_styles__WEBPACK_IMPORTED_MODULE_19__.styles.content },\n                this.getToolbar(computedItems),\n                this.getExportModal(computedItems),\n                reportFetchStatus === 1 /* inProgress */ ? react__WEBPACK_IMPORTED_MODULE_8___default().createElement(pages_state_loading__WEBPACK_IMPORTED_MODULE_5__.default, null) : react__WEBPACK_IMPORTED_MODULE_8___default().createElement((react__WEBPACK_IMPORTED_MODULE_8___default().Fragment), null,\n                    react__WEBPACK_IMPORTED_MODULE_8___default().createElement(\"div\", { style: _ocpDetails_styles__WEBPACK_IMPORTED_MODULE_19__.styles.tableContainer }, this.getTable()),\n                    react__WEBPACK_IMPORTED_MODULE_8___default().createElement(\"div\", { style: _ocpDetails_styles__WEBPACK_IMPORTED_MODULE_19__.styles.paginationContainer },\n                        react__WEBPACK_IMPORTED_MODULE_8___default().createElement(\"div\", { style: _ocpDetails_styles__WEBPACK_IMPORTED_MODULE_19__.styles.pagination }, this.getPagination(true))))));\n    }\n} // eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst mapStateToProps = (0,store_common__WEBPACK_IMPORTED_MODULE_10__.createMapStateToProps)((state, props) => {\n    const queryFromRoute = (0,api_queries_ocpQuery__WEBPACK_IMPORTED_MODULE_0__.parseQuery)(location.search);\n    const query = {\n        delta: 'cost',\n        filter: Object.assign(Object.assign({}, baseQuery.filter), queryFromRoute.filter),\n        filter_by: queryFromRoute.filter_by || baseQuery.filter_by,\n        group_by: queryFromRoute.group_by || baseQuery.group_by,\n        order_by: queryFromRoute.order_by || baseQuery.order_by\n    };\n    const queryString = (0,api_queries_ocpQuery__WEBPACK_IMPORTED_MODULE_0__.getQuery)(query);\n    const report = store_reports__WEBPACK_IMPORTED_MODULE_12__.reportSelectors.selectReport(state, reportPathsType, reportType, queryString);\n    const reportError = store_reports__WEBPACK_IMPORTED_MODULE_12__.reportSelectors.selectReportError(state, reportPathsType, reportType, queryString);\n    const reportFetchStatus = store_reports__WEBPACK_IMPORTED_MODULE_12__.reportSelectors.selectReportFetchStatus(state, reportPathsType, reportType, queryString);\n    const providersQueryString = (0,api_queries_providersQuery__WEBPACK_IMPORTED_MODULE_1__.getProvidersQuery)(store_providers__WEBPACK_IMPORTED_MODULE_11__.ocpProvidersQuery);\n    const providers = store_providers__WEBPACK_IMPORTED_MODULE_11__.providersSelectors.selectProviders(state, \"ocp\" /* ocp */, providersQueryString);\n    const providersFetchStatus = store_providers__WEBPACK_IMPORTED_MODULE_11__.providersSelectors.selectProvidersFetchStatus(state, \"ocp\" /* ocp */, providersQueryString);\n    return {\n        providers,\n        providersFetchStatus,\n        query,\n        queryString,\n        report,\n        reportError,\n        reportFetchStatus\n    };\n});\nconst mapDispatchToProps = {\n    fetchReport: store_reports__WEBPACK_IMPORTED_MODULE_12__.reportActions.fetchReport\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,react_i18next__WEBPACK_IMPORTED_MODULE_21__.withTranslation)()((0,react_redux__WEBPACK_IMPORTED_MODULE_9__.connect)(mapStateToProps, mapDispatchToProps)(OcpDetails)));\n\n\n//# sourceURL=webpack://koku-ui/./src/pages/details/ocpDetails/ocpDetails.tsx?");

/***/ }),

/***/ "./src/utils/computedReport/getComputedOcpReportItems.ts":
/*!***************************************************************!*\
  !*** ./src/utils/computedReport/getComputedOcpReportItems.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getIdKeyForGroupBy\": () => (/* binding */ getIdKeyForGroupBy)\n/* harmony export */ });\nfunction getIdKeyForGroupBy(groupBy = {}) {\n    if (groupBy.project) {\n        return 'project';\n    }\n    if (groupBy.cluster) {\n        return 'cluster';\n    }\n    if (groupBy.node) {\n        return 'node';\n    }\n    return 'date';\n}\n\n\n//# sourceURL=webpack://koku-ui/./src/utils/computedReport/getComputedOcpReportItems.ts?");

/***/ })

}]);
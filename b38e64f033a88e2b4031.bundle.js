(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1002:function(e,t,a){"use strict";var n=a(1),r=a.n(n),s=a(8),l=a.n(s),o=a(92),c=a.n(o),i=a(375),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},g=function(e){function t(){var a,n;u(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return a=n=d(this,e.call.apply(e,[this].concat(s))),n.handleClick=function(e){if(n.props.onClick&&n.props.onClick(e),!e.defaultPrevented&&0===e.button&&!n.props.target&&!p(e)){e.preventDefault();var t=n.context.router.history,a=n.props,r=a.replace,s=a.to;r?t.replace(s):t.push(s)}},d(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),a=e.innerRef,n=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["replace","to","innerRef"]);c()(this.context.router,"You should not use <Link> outside a <Router>"),c()(void 0!==t,'You must specify the "to" property');var s=this.context.router.history,l="string"==typeof t?Object(i.b)(t,null,null,s.location):t,o=s.createHref(l);return r.a.createElement("a",m({},n,{onClick:this.handleClick,href:o,ref:a}))},t}(r.a.Component);g.propTypes={onClick:l.a.func,target:l.a.string,replace:l.a.bool,to:l.a.oneOfType([l.a.string,l.a.object]).isRequired,innerRef:l.a.oneOfType([l.a.string,l.a.func])},g.defaultProps={replace:!1},g.contextTypes={router:l.a.shape({history:l.a.shape({push:l.a.func.isRequired,replace:l.a.func.isRequired,createHref:l.a.func.isRequired}).isRequired}).isRequired},t.a=g},1157:function(e,t,a){var n;!function(){var a={months:["January","February","March","April","May","June","July","August","September","October","November","December"],toUTC:function(e){var t=e?new Date(e):new Date;return t=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())},monthName:function(e){var t;return t="number"==typeof e?e:new Date(e).getMonth()+1,a.months[t-1]},relativeTime:function(e,t){var a,n,r,s,l,o,c=[];if("number"==typeof e?a=e:(s=new Date(e).getTime(),a=((new Date).getTime()-s)/1e3*-1),t||(t={}),t.futureSuffix||(t.futureSuffix="from now"),t.pastSuffix||(t.pastSuffix="ago"),t.presentText||(t.presentText="now"),t.returnObject||(t.returnObject=!1),l=a<0,a=Math.abs(a),n={seconds:Math.floor(a%31536e3%86400%3600%60),minutes:Math.floor(a%31536e3%86400%3600/60),hours:Math.floor(a%31536e3%86400/3600),days:Math.floor(a%31536e3/86400),years:Math.floor(a/31536e3),past:l},t.returnObject)return n;if(0===a)return t.presentText;function i(e,a){o&&(o=t.allUnits,c.push(e+" "+a+(e>1?"s":"")))}return r=n.past?t.pastSuffix:t.futureSuffix,o=!0,n.years&&i(n.years,"year"),n.days&&i(n.days,"day"),n.hours&&i(n.hours,"hour"),n.minutes&&i(n.minutes,"minute"),n.seconds&&i(n.seconds,"second"),c.join(", ")+" "+r},prettyPrint:function(e,t){var a,n,r,s,l,o,c,i,m;return e?"number"==typeof e&&(e=(new Date).setSeconds(e)):e=new Date,t||(t={}),t.showTime||(t.showTime=!1),s=(r=(a=new Date(e)).getDate())>3&&r<21?r+"th":r%10==1?r+"st":r%10==2?r+"nd":r%10==3?r+"rd":r+"th",l=a.getFullYear(),n=this.monthName(a.getMonth()+1)+" "+s+", "+l,m=(c=a.getHours())>=12?"pm":"am",o=(c=c%12?c%12:12)+":"+(i=(i=a.getMinutes())<10?"0"+i:i)+" "+m,t.showTime?n+" at "+o:n}};if(!e.exports)return!(void 0!==(n=function(){return a}.apply(t,[]))&&(e.exports=n));e.exports=a}()},1175:function(e,t,a){"use strict";a.r(t);var n=a(413),r=a(1),s=a.n(r),l=a(165),o=a(319),c=a(325),i=a(323),m=a(459),u=a(460),d=a(103),p=a(455),g=a(718),h=a(213);const _={limit:10,offset:0,ordering:null,name:null,source_type:null,description:null};Object.keys(_);function b(e){return Object.keys(e).reduce((t,a)=>null===e[a]?t:""===t?`?${a}=${e[a]}`:`${t}&${a}=${e[a]}`,"")}function E(e,t){return(e-1)*t}var y=Object(g.a)(Object(l.connect)(e=>{const{count:t,page:a,perPage:n}=o.c.pagination(e);return{query:o.c.query(e),count:t,page:a,perPage:n}},void 0,(e,t,a)=>{const{history:{push:n}}=a,{count:r,page:s,perPage:l,query:o}=e;return{itemCount:r,page:s,perPage:l,variant:p.b.bottom,onSetPage:(e,t,a)=>{n(b(Object.assign(Object.assign(Object.assign({},_),o),{offset:E(t,a)})))},onPerPageSelect:(e,t)=>{n(b(Object.assign(Object.assign(Object.assign({},_),o),{limit:t,offset:0})))}}})((function(e){const{variant:t,itemCount:a,page:n,perPage:r,onSetPage:l,onPerPageSelect:o}=e;return s.a.createElement(m.a,null,s.a.createElement(u.a,null,s.a.createElement(d.a,{variant:d.b.pagination},s.a.createElement(p.a,{onPerPageSelect:o,onSetPage:l,variant:t,itemCount:a,page:n,perPage:r}))))}))),f=a(41),O=a(865),v=a(461),C=a(346),j=a(411),P=a(694),w=a(232),S=a(717),z=a(238),k=a(736),x=a(274);const D=s.a.createContext({metricsHash:{},step:1,type:"",name:"",dirtyName:!1,markup:"",description:"",error:null,apiError:null,sources:[],onTypeChange:e=>null,onNameChange:e=>null,onDescChange:e=>null,onMarkupChange:e=>null,onSourceSelect:(...e)=>null,setSources:e=>null,dataFetched:!1,loading:!1,filterName:"",onFilterChange:e=>null,query:{},clearQuery:()=>null,total:0,page:1,perPage:10,onPageChange:(e,t)=>null,onPerPageChange:(e,t)=>null,tiers:[],goToAddPL:e=>null,submitTiers:e=>null,priceListPagination:{page:1,perPage:4,onPerPageSet:(e,t)=>null,onPageSet:(e,t)=>null},fetchSources:(e,t,a,n)=>null,createError:null,createSuccess:!1,onClose:()=>null,createProcess:!1});var T=a(219),N=a(430),M=a(431),q=a(406),F=a(156),R=a(351),L=a(350),A=a(407),I=a(899);const W={form:{width:"350px"},textArea:{maxWidth:"450px",minWidth:"350px",minHeight:"75px",maxHeight:"150px"}};var H=Object(S.a)()(({t:e})=>s.a.createElement(D.Consumer,null,({name:t,dirtyName:a,description:n,type:r,onNameChange:l,onDescChange:o,onTypeChange:c})=>s.a.createElement(N.a,{hasGutter:!0},s.a.createElement(M.a,null,s.a.createElement(C.a,{headingLevel:"h2",size:"xl"},e("cost_models_wizard.general_info.title"))),s.a.createElement(M.a,null,s.a.createElement("a",{href:e("docs.config_cost_models"),target:"blank"},e("cost_models_wizard.general_info.learn_more"))),s.a.createElement(M.a,null,s.a.createElement(I.a,{style:W.form},s.a.createElement(q.a,{helperTextInvalid:e(Ie(t)),validated:null!==Ie(t)&&a?"error":"default",label:e("cost_models_wizard.general_info.name_label"),isRequired:!0,fieldId:"name"},s.a.createElement(F.a,{validated:null!==Ie(t)&&a?"error":"default",isRequired:!0,type:"text",id:"name",name:"name",value:t,onChange:l})),s.a.createElement(q.a,{helperTextInvalid:e(We(n)),validated:null===We(n)?"default":"error",label:e("cost_models_wizard.general_info.description_label"),fieldId:"description"},s.a.createElement(R.b,{style:W.textArea,type:"text",id:"description",name:"description",value:n,validated:null===We(n)?"default":"error",onChange:o})),s.a.createElement(q.a,{label:e("cost_models_wizard.general_info.source_type_label"),isRequired:!0,fieldId:"source-type"},s.a.createElement(L.a,{id:"source-type",value:r,onChange:c},s.a.createElement(A.a,{value:"",label:e("cost_models_wizard.general_info.source_type_empty_value_label")}),s.a.createElement(A.a,{value:"AWS",label:e("onboarding.type_options.aws")}),s.a.createElement(A.a,{value:"AZURE",label:e("onboarding.type_options.azure")}),s.a.createElement(A.a,{value:"GCP",label:e("onboarding.type_options.gcp")}),s.a.createElement(A.a,{value:"OCP",label:e("onboarding.type_options.ocp")})))))))),$=a(420),B=a(412),U=a(249),G=a(408);class K extends s.a.Component{constructor(){super(...arguments),this.state={isValid:!0}}render(){const{t:e}=this.props,{isValid:t}=this.state;return s.a.createElement(D.Consumer,null,({onMarkupChange:a,markup:n})=>s.a.createElement(N.a,{hasGutter:!0},s.a.createElement(M.a,null,s.a.createElement(C.a,{headingLevel:"h2",size:"xl"},e("cost_models_wizard.markup.title"))),s.a.createElement(M.a,null,s.a.createElement($.a,null,s.a.createElement(B.a,{component:B.b.h6},e("cost_models_wizard.markup.sub_title")))),s.a.createElement(M.a,null,s.a.createElement(I.a,null,s.a.createElement(q.a,{label:e("cost_models_wizard.markup.markup_label"),fieldId:"markup",helperTextInvalid:e("cost_models_wizard.markup.invalid_markup_text"),validated:t?"default":"error"},s.a.createElement(U.a,{style:{width:"150px"}},s.a.createElement(F.a,{type:"text",id:"markup",name:"markup",value:n,onBlur:()=>{this.setState({isValid:!isNaN(Number(n))})},onChange:e=>{a(e),"-"!==e&&this.setState({isValid:!isNaN(Number(e))})},validated:t?"default":"error"}),s.a.createElement(G.a,{style:{borderLeft:"0"}},"%")))))))}}var V=Object(S.a)()(K),J=a(405),Z=a(404),Y=a(869),Q=a(450);var X=({submitRate:e,cancel:t,metricsHash:a})=>{const{tiers:n}=s.a.useContext(D),{t:r}=Object(Q.a)(),l=Object(Y.g)(a,void 0,n),o=s.a.useMemo(()=>Object(Y.b)(l),[l.errors,l.rateKind]);return s.a.createElement(N.a,{hasGutter:!0},s.a.createElement(M.a,null,s.a.createElement(C.a,{headingLevel:"h2",size:"xl"},r("cost_models_wizard.price_list.title"))),s.a.createElement(M.a,null,s.a.createElement($.a,null,s.a.createElement(B.a,{component:B.b.h6},r("cost_models_wizard.price_list.sub_title_add")))),s.a.createElement(M.a,null,s.a.createElement(J.a,null,s.a.createElement(Y.a,{metricsHash:a,rateFormData:l}))),s.a.createElement(M.a,null,s.a.createElement(Z.a,null,s.a.createElement(f.a,{variant:f.c.primary,isDisabled:!o,onClick:()=>e(l)},r("cost_models_wizard.price_list.create_rate")),s.a.createElement(f.a,{variant:f.c.link,onClick:t},r("cost_models_wizard.price_list.cancel")))))},ee=a(425),te=a(400),ae=a(402),ne=a(401),re=a(680),se=a(764),le=a(982),oe=a(900),ce=a(983),ie=a(907),me=a(973),ue=a(979),de=a(1174);const pe=({t:e})=>s.a.createElement(ee.a,null,s.a.createElement(te.a,null,s.a.createElement(ae.a,{icon:re.PlusCircleIcon}),s.a.createElement(C.a,{headingLevel:"h2",size:"lg"},e("cost_models_wizard.empty_state.title")),s.a.createElement(ne.a,null,s.a.createElement(de.a,{i18nKey:"cost_models_wizard.empty_state.desc_create"},s.a.createElement("strong",null,e("cost_models_wizard.empty_state.add_rate"))),s.a.createElement("br",null),s.a.createElement(de.a,{i18nKey:"cost_models_wizard.empty_state.desc_skip"},s.a.createElement("strong",null,e("cost_models_wizard.empty_state.next"))),s.a.createElement("br",null),s.a.createElement(de.a,{i18nKey:"cost_models_wizard.empty_state.desc_other_time"}))));class ge extends s.a.Component{constructor(){super(...arguments),this.state={metrics:[],measurements:[]}}render(){const{metricsHash:e,t:t,addRateAction:a,deleteRateAction:n,items:r}=this.props,l=Object.keys(e).map(e=>({label:e,value:e})),o=l.reduce((t,a)=>{const n=Object.keys(e[a.value]).filter(e=>!t.map(e=>e.value).includes(e)).map(e=>({label:e,value:e}));return[...t,...n]},[]);return s.a.createElement(D.Consumer,null,({priceListPagination:e})=>s.a.createElement(N.a,{hasGutter:!0},s.a.createElement(M.a,null,s.a.createElement(C.a,{headingLevel:"h2",size:"xl"},t("cost_models_wizard.price_list.title"))),s.a.createElement(M.a,null,s.a.createElement($.a,null,s.a.createElement(B.a,{component:B.b.h6},t("cost_models_wizard.price_list.sub_title_table")))),s.a.createElement(M.a,null,s.a.createElement(le.a,{initialFilters:{primary:"metrics",metrics:[],measurements:[]}},({search:c,setSearch:i,onRemove:m,onSelect:u,onClearAll:d})=>{const g=(e.page-1)*e.perPage,h=e.page*e.perPage,_=r.filter(e=>0===c.metrics.length||c.metrics.includes(e.metric.label_metric)).filter(e=>0===c.measurements.length||c.measurements.includes(e.metric.label_measurement)),b=_.slice(g,h);return s.a.createElement(s.a.Fragment,null,s.a.createElement(ce.a,{primary:s.a.createElement(ue.a,{isDisabled:0===r.length,primary:c.primary,setPrimary:e=>i({primary:e}),options:[{label:t("toolbar.pricelist.metric"),value:"metrics"},{label:t("toolbar.pricelist.measurement"),value:"measurements"}]}),selected:c.primary,secondaries:[{component:s.a.createElement(me.a,{isDisabled:0===r.length,placeholderText:t("toolbar.pricelist.measurement_placeholder"),selections:c.measurements,setSelections:e=>u("measurements",e),options:o}),name:"measurements",onRemove:m,filters:c.measurements},{component:s.a.createElement(me.a,{isDisabled:0===r.length,placeholderText:t("toolbar.pricelist.metric_placeholder"),selections:c.metrics,setSelections:e=>u("metrics",e),options:l}),name:"metrics",onRemove:m,filters:c.metrics}],button:s.a.createElement(f.a,{onClick:a},t("cost_models_wizard.price_list.create_rate")),onClear:d,pagination:s.a.createElement(p.a,{isCompact:!0,itemCount:_.length,perPage:e.perPage,page:e.page,onSetPage:e.onPageSet,onPerPageSelect:e.onPerPageSet})}),0===b.length&&(0!==this.state.metrics.length||0!==this.state.measurements.length)&&s.a.createElement(ee.a,null,s.a.createElement(se.a,{filter:t("cost_models_wizard.price_list.toolbar_top_results_aria_label")})),0===b.length&&0===this.state.metrics.length&&0===this.state.measurements.length&&s.a.createElement(pe,{t:t}),b.length>0&&s.a.createElement(ie.a,{isCompact:!0,t:t,tiers:b,actions:[{title:"Remove",onClick:(e,t,a)=>{n(a.data.index+g)}}]}),s.a.createElement(oe.b,{isCompact:!0,itemCount:_.length,perPage:e.perPage,page:e.page,onSetPage:e.onPageSet,onPerPageSelect:e.onPerPageSet}))}))))}}var he=Object(l.connect)(Object(z.a)(e=>({metricsHash:c.c.metrics(e)})))(Object(S.a)()(ge));var _e=()=>{const{metricsHash:e,tiers:t,submitTiers:a,goToAddPL:n}=s.a.useContext(D),[r,l]=s.a.useState("table");return"table"===r?s.a.createElement(he,{items:t,deleteRateAction:e=>{const r=[...t.slice(0,e),...t.slice(e+1)];a(r),0===r.length&&(l("form"),n(!1))},addRateAction:()=>{l("form"),n(!1)}}):"form"===r?s.a.createElement(X,{metricsHash:e,submitRate:r=>{(e=>{a([...t,e]),l("table"),n(!0)})(Object(Y.f)(r,e))},cancel:()=>{l("table"),n(!0)}}):null},be=a(403),Ee=a(457),ye=a(421),fe=a(422),Oe=a(698),ve=a(903);const Ce=Object(S.a)()(({t:e})=>s.a.createElement(D.Consumer,null,({onClose:t,name:a})=>s.a.createElement(te.a,null,s.a.createElement(ae.a,{icon:Oe.OkIcon,color:"green"}),s.a.createElement(C.a,{headingLevel:"h2",size:"lg"},e("cost_models_wizard.review.title_success")),s.a.createElement(ne.a,null,e("cost_models_wizard.review.sub_title_success",{cost_model:a})),s.a.createElement(be.a,null,s.a.createElement(f.a,{variant:"link",onClick:t},e("cost_models_wizard.review.close_button")))))),je=Object(S.a)()(({t:e})=>s.a.createElement(D.Consumer,null,({name:t,description:a,type:n,markup:r,sources:l,tiers:o,createError:c})=>s.a.createElement(s.a.Fragment,null,c&&s.a.createElement(Ee.a,{variant:"danger",title:""+c}),s.a.createElement(N.a,{hasGutter:!0},s.a.createElement(M.a,null,s.a.createElement(C.a,{headingLevel:"h2",size:"xl"},e("cost_models_wizard.review.title_details"))),s.a.createElement(M.a,null,s.a.createElement($.a,null,s.a.createElement(B.a,{component:B.b.h6},s.a.createElement(de.a,{i18nKey:"cost_models_wizard.review.sub_title_details"},s.a.createElement("b",null,e("cost_models_wizard.review.create_button")),s.a.createElement("b",null,e("cost_models_wizard.review.back_button")))))),s.a.createElement(M.a,null,s.a.createElement($.a,null,s.a.createElement(ye.a,{component:ye.b.dl},s.a.createElement(fe.a,{component:fe.b.dt},e("cost_models_wizard.general_info.name_label")),s.a.createElement(fe.a,{component:fe.b.dd},t),s.a.createElement(fe.a,{component:fe.b.dt},e("cost_models_wizard.general_info.description_label")),s.a.createElement(fe.a,{component:fe.b.dd},a),"OCP"===n&&s.a.createElement(s.a.Fragment,null,s.a.createElement(fe.a,{component:fe.b.dt},e("cost_models_wizard.steps.price_list")),s.a.createElement(fe.a,{component:fe.b.dd},o.length>0?s.a.createElement(ie.a,{t:e,tiers:o}):e("cost_models_wizard.no_rates"))),s.a.createElement(fe.a,{component:fe.b.dt},e("cost_models_wizard.review.markup")),s.a.createElement(fe.a,{component:fe.b.dd},r,"%"),s.a.createElement(fe.a,{component:fe.b.dt},e("cost_models_wizard.review.sources")," ",l.find(e=>e.selected&&Boolean(e.costmodel))&&s.a.createElement(ve.a,{text:e("cost_models_wizard.warning_override_sources")})),s.a.createElement(fe.a,{component:fe.b.dd},l.filter(e=>e.selected).map(e=>e.name).join(", ")))))))));var Pe=()=>s.a.createElement(D.Consumer,null,({createSuccess:e})=>e?s.a.createElement(Ce,null):s.a.createElement(je,null)),we=a(752),Se=a(980),ze=a(393),ke=a(731),xe=a(733),De=a(732),Te=a(904),Ne=a(423),Me=a(672);const qe=({id:e,placeholder:t="",value:a,onChange:n,onSearch:r})=>s.a.createElement(U.a,null,s.a.createElement(F.a,{value:a,placeholder:t,id:e,onChange:n,onKeyPress:e=>{"Enter"===e.key&&""!==a&&r(e)}}),s.a.createElement(G.a,{style:{borderLeft:"0"}},s.a.createElement(Me.SearchIcon,null))),Fe=Object(S.a)()(({t:e,searchInputProps:t,paginationProps:a,filter:n})=>s.a.createElement(m.a,{id:"assign-sources-toolbar",clearAllFilters:n.onClearAll},s.a.createElement(u.a,null,s.a.createElement(d.a,{variant:"search-filter"},s.a.createElement(Ne.a,{deleteChip:n.onRemove,chips:n.query.name,categoryName:"name"},s.a.createElement(qe,Object.assign({placeholder:e("cost_models_wizard.source_table.filter_placeholder")},t)))),s.a.createElement(d.a,{variant:"pagination"},s.a.createElement(p.a,{isCompact:a.isCompact,itemCount:a.itemCount,page:a.page,perPage:a.perPage,onSetPage:a.onSetPage,onPerPageSelect:a.onPerPageSelect})))));var Re=Object(S.a)()(({t:e})=>s.a.createElement(D.Consumer,null,({loading:t,onSourceSelect:a,sources:n,perPage:r,page:l,type:o,query:c,fetchSources:i,filterName:m,onFilterChange:u})=>{const d="AZURE"===o?"Azure":o;return s.a.createElement(N.a,{hasGutter:!0},s.a.createElement(M.a,null,s.a.createElement(C.a,{headingLevel:"h2",size:"xl"},e("cost_models_wizard.source.title"))),s.a.createElement(M.a,null,s.a.createElement($.a,null,s.a.createElement(B.a,{component:B.b.h6},e("cost_models_wizard.source.sub_title")))),s.a.createElement(M.a,null,s.a.createElement($.a,null,s.a.createElement(B.a,{component:B.b.h3},e("cost_models_wizard.source.caption",{type:e("source_details.type."+o)})))),s.a.createElement(M.a,null,s.a.createElement(Fe,{filter:{onRemove:(e,t)=>i(d,Object(Te.b)(c)(e,t),1,r),onClearAll:()=>i(d,{},1,r),query:c},searchInputProps:{id:"assign-source-search-input",value:m,onChange:u,onSearch:()=>{i(d,Object(Te.a)(c)("name",m),1,r)}},paginationProps:{isCompact:!0,itemCount:n.length,perPage:r,page:l,onSetPage:(e,t)=>{i(d,c,t,r)},onPerPageSelect:(e,t)=>i(d,c,1,t)}}),t?s.a.createElement(we.a,null):s.a.createElement(ke.a,{"aria-label":e("cost_models_wizard.source_table.table_aria_label"),cells:["",e("cost_models_wizard.source_table.column_name"),e("cost_models_wizard.source_table.column_cost_model")],rows:n.map((t,n)=>({cells:[s.a.createElement(s.a.Fragment,null,s.a.createElement(ze.a,{onChange:e=>{a(n,e)},id:t.name,key:t.name,isChecked:t.selected,isDisabled:Boolean(t.costmodel)})),s.a.createElement(s.a.Fragment,null,t.name," ",Boolean(t.costmodel)&&s.a.createElement(ve.a,{key:"wrng-"+t.name,text:e("cost_models_wizard.warning_source",{cost_model:t.costmodel})})),t.costmodel?t.costmodel:""],selected:t.selected}))},s.a.createElement(xe.a,null),s.a.createElement(De.a,null)),s.a.createElement(oe.a,{"aria-label":"cost_models_wizard.source_table.pagination_section_aria_label",itemCount:n.length,perPage:r,page:l,onSetPage:(e,t)=>{i(d,c,t,r)},onPerPageSelect:(e,t)=>i(d,c,1,t)})))}));class Le extends s.a.Component{constructor(e){super(e),this.fetchData=()=>null,this.fetchData=()=>{const{type:e,query:t,page:a,perPage:n,fetchSources:r}=this.context;r("AZURE"===e?"Azure":e,t,a,n)}}componentDidMount(){const{dataFetched:e}=this.context;e||this.fetchData()}renderContent(){return this.context.loading?s.a.createElement(we.a,null):this.context.apiError?s.a.createElement(Se.a,{onRefresh:this.fetchData}):s.a.createElement(Re,null)}render(){return this.renderContent()}}Le.contextType=D;var Ae=Le;const Ie=e=>0===e.length?"cost_models_wizard.general_info.name_required":e.length>100?"cost_models_wizard.general_info.name_too_long":null,We=e=>e.length>500?"cost_models_wizard.general_info.description_too_long":null,He=e=>({"":[{id:1,name:e("cost_models_wizard.steps.general_info"),component:s.a.createElement(H,null)}],AZURE:[{id:1,name:e("cost_models_wizard.steps.general_info"),component:s.a.createElement(H,null)},{id:2,name:e("cost_models_wizard.steps.markup"),component:s.a.createElement(V,null)},{id:3,name:e("cost_models_wizard.steps.sources"),component:s.a.createElement(Ae,null)},{id:4,name:e("cost_models_wizard.steps.review"),component:s.a.createElement(Pe,null)}],AWS:[{id:1,name:e("cost_models_wizard.steps.general_info"),component:s.a.createElement(H,null)},{id:2,name:e("cost_models_wizard.steps.markup"),component:s.a.createElement(V,null)},{id:3,name:e("cost_models_wizard.steps.sources"),component:s.a.createElement(Ae,null)},{id:4,name:e("cost_models_wizard.steps.review"),component:s.a.createElement(Pe,null)}],GCP:[{id:1,name:e("cost_models_wizard.steps.general_info"),component:s.a.createElement(H,null)},{id:2,name:e("cost_models_wizard.steps.markup"),component:s.a.createElement(V,null)},{id:3,name:e("cost_models_wizard.steps.sources"),component:s.a.createElement(Ae,null)},{id:4,name:e("cost_models_wizard.steps.review"),component:s.a.createElement(Pe,null)}],OCP:[{id:1,name:e("cost_models_wizard.steps.general_info"),component:s.a.createElement(H,null)},{id:2,name:e("cost_models_wizard.steps.price_list"),component:s.a.createElement(_e,null)},{id:3,name:e("cost_models_wizard.steps.markup"),component:s.a.createElement(V,null)},{id:4,name:e("cost_models_wizard.steps.sources"),component:s.a.createElement(Ae,null)},{id:5,name:e("cost_models_wizard.steps.review"),component:s.a.createElement(Pe,null)}]}),$e={"":[()=>!1],AWS:[e=>null===Ie(e.name)&&null===We(e.description)&&""!==e.type,e=>""!==e.markup&&!isNaN(Number(e.markup)),()=>!0,()=>!0],AZURE:[e=>null===Ie(e.name)&&null===We(e.description)&&""!==e.type,e=>""!==e.markup&&!isNaN(Number(e.markup)),()=>!0,()=>!0],GCP:[e=>null===Ie(e.name)&&null===We(e.description)&&""!==e.type,e=>""!==e.markup&&!isNaN(Number(e.markup)),()=>!0,()=>!0],OCP:[e=>null===Ie(e.name)&&null===We(e.description)&&""!==e.type,e=>e.priceListCurrent.justSaved,e=>""!==e.markup&&!isNaN(Number(e.markup)),()=>!0,()=>!0]},Be=Object(S.a)()(({t:e,isProcess:t,isSuccess:a,closeFnc:n,isOpen:r,onMove:l,validators:o,steps:c,current:i=1,context:m,setError:u,setSuccess:d,updateCostModel:p})=>{const g=c.map((e,t)=>Object.assign(Object.assign({},e),{canJumpTo:i>t}));g[i-1].enableNext=o[i-1](m);const h="OCP"===m.type&&2===i&&!o[i-1](m);return i===c.length&&""!==m.type&&(g[i-1].nextButtonText=e("cost_models_wizard.review.create_button")),r?s.a.createElement(v.a,{isOpen:!0,title:e("cost_models_wizard.title"),description:e("cost_models_wizard.description"),steps:g,startAtStep:i,onNext:l,onBack:l,onGoToStep:l,onClose:n,footer:a||t||h?s.a.createElement("div",null):null,onSave:()=>{const{name:e,type:t,tiers:a,markup:n,description:r,sources:s}=m;Object(w.a)({name:e,source_type:t,description:r,rates:a,markup:{value:n,unit:"percent"},source_uuids:s.map(e=>e.uuid)}).then(()=>{d(),p()}).catch(e=>u(Object(T.a)(e)))}}):null}),Ue={step:1,type:"",name:"",dirtyName:!1,description:"",markup:"0.00",filterName:"",sources:[],error:null,apiError:null,dataFetched:!1,query:{},page:1,perPage:10,total:0,loading:!1,tiers:[],priceListCurrent:{metric:"",measurement:"",rate:"",justSaved:!0},priceListPagination:{page:1,perPage:10},createError:null,createSuccess:!1,createProcess:!1,isDialogOpen:!1};class Ge extends s.a.Component{constructor(){super(...arguments),this.state=Ue}render(){const{metricsHash:e,t:t}=this.props,a=()=>{this.setState({isDialogOpen:!1},this.props.openWizard)},n=s.a.createElement(f.a,{key:"cancel",variant:"link",onClick:a},t("cost_models_wizard.confirm.cancel")),r=s.a.createElement(f.a,{key:"ok",variant:"primary",onClick:()=>this.setState(Object.assign({},Ue))},t("cost_models_wizard.confirm.ok"));return s.a.createElement(D.Provider,{value:{metricsHash:e,step:this.state.step,type:this.state.type,onTypeChange:e=>this.setState({type:e,dataFetched:!1,loading:!1}),name:this.state.name,dirtyName:this.state.dirtyName,onNameChange:e=>this.setState({name:e,dirtyName:!0}),description:this.state.description,onDescChange:e=>this.setState({description:e}),markup:this.state.markup,onMarkupChange:e=>{const t=Number(e),a=e.split("").findIndex(e=>"."===e);!isNaN(t)&&a>-1&&e.length-a-1>2?this.setState({markup:Object(k.b)(t,"markup",{fractionDigits:2})}):this.setState({markup:e})},error:this.state.error,apiError:this.state.apiError,sources:this.state.sources,dataFetched:this.state.dataFetched,setSources:e=>this.setState({sources:e,dataFetched:!0,loading:!1}),onSourceSelect:(e,t)=>{if(-1===e)return this.setState({sources:this.state.sources.map(e=>Object.assign(Object.assign({},e),{selected:t}))});const a=[...this.state.sources];return a[e].selected=t,this.setState({sources:a})},total:this.state.total,page:this.state.page,onPageChange:(e,t)=>this.setState({page:t}),onPerPageChange:(e,t)=>this.setState({page:1,perPage:t}),perPage:this.state.perPage,filterName:this.state.filterName,onFilterChange:e=>this.setState({filterName:e}),query:this.state.query,clearQuery:()=>this.setState({query:{}}),loading:this.state.loading,tiers:this.state.tiers,submitTiers:e=>{this.setState({tiers:e})},priceListPagination:{page:this.state.priceListPagination.page,perPage:this.state.priceListPagination.perPage,onPageSet:(e,t)=>this.setState({priceListPagination:Object.assign(Object.assign({},this.state.priceListPagination),{page:t})}),onPerPageSet:(e,t)=>this.setState({priceListPagination:{page:1,perPage:t}})},goToAddPL:e=>this.setState({priceListCurrent:Object.assign(Object.assign({},this.state.priceListCurrent),{justSaved:e||!1})}),fetchSources:(e,t,a,n)=>{this.setState({loading:!0,apiError:null,filterName:""},()=>(({type:e,page:t,perPage:a,query:n})=>{const r=(t-1)*a,s=a,l=Object.keys(n).reduce((e,t)=>e?`${e}&${t}=${n[t]}`:`${t}=${n[t]}`,"");return Object(x.a)(`type=${e}&limit=${s}&offset=${r}&${l}`).then(e=>e.data.data).then(e=>e.map(e=>({name:e.name,uuid:e.uuid,costmodel:e.cost_models.map(e=>e.name).join(","),selected:!1})))})({type:e,query:t,page:a,perPage:n}).then(e=>this.setState({sources:e,query:t,page:a,perPage:n,loading:!1,dataFetched:!0,filterName:""})).catch(e=>this.setState({apiError:e,loading:!1,dataFetched:!0,filterName:""})))},createSuccess:this.state.createSuccess,createError:this.state.createError,createProcess:this.state.createProcess,onClose:()=>this.setState(Object.assign({},Ue),this.props.closeWizard)}},s.a.createElement(Be,{metricsHash:e,isProcess:this.state.createProcess,isSuccess:this.state.createSuccess,closeFnc:()=>{"OCP"===this.state.type&&this.state.step>1&&this.state.tiers.length>0||"OCP"!==this.state.type&&this.state.step>2?this.setState({isDialogOpen:!0},this.props.closeWizard):this.setState(Object.assign({},Ue),this.props.closeWizard)},isOpen:this.props.isOpen,onMove:e=>this.setState({step:Number(e.id)}),steps:He(t)[this.state.type],current:this.state.step,validators:$e[this.state.type],setError:e=>this.setState({createError:e}),setSuccess:()=>this.setState({createError:null,createSuccess:!0}),updateCostModel:()=>this.props.fetch(),context:{name:this.state.name,type:this.state.type,description:this.state.description,markup:this.state.markup,tiers:this.state.tiers,priceListCurrent:this.state.priceListCurrent,sources:this.state.sources.filter(e=>e.selected)}}),s.a.createElement(j.a,{"aria-label":t("cost_models_wizard.confirm.title"),isOpen:this.state.isDialogOpen,header:s.a.createElement(C.a,{headingLevel:"h1",size:C.b["2xl"]},s.a.createElement(P.ExclamationTriangleIcon,{color:"orange"})," ",t("cost_models_wizard.confirm.title")),onClose:a,actions:[r,n],variant:"small"},t("cost_models_wizard.confirm.message")))}}const Ke=Object(l.connect)(Object(z.a)(e=>({metricsHash:c.c.metrics(e)})),{fetch:o.a.fetchCostModels})(Object(S.a)()(Ge)),Ve=Object(S.a)()(Object(l.connect)(e=>({canWrite:i.c.isCostModelWritePermission(e)}),e=>({openWizard:()=>e(o.a.setCostModelDialog({name:"createWizard",isOpen:!0})),closeWizard:()=>e(o.a.setCostModelDialog({name:"createWizard",isOpen:!1}))}),(e,t,a)=>{const{t:n}=a,{canWrite:r}=e,{openWizard:l}=t;return{isDisabled:!r,tooltip:n("cost_model.read_only_tooltip"),children:s.a.createElement(f.a,{isDisabled:!r,onClick:l},n("page_cost_models.create_cost_model"))}})(O.a)),Je=Object(l.connect)(e=>({isOpen:o.c.isDialogOpen(e)("costmodel").createWizard}),e=>({openWizard:()=>{e(o.a.setCostModelDialog({name:"createWizard",isOpen:!0}))},closeWizard:()=>{e(o.a.setCostModelDialog({name:"createWizard",isOpen:!1}))}}),(e,t)=>{const{isOpen:a}=e,{openWizard:n,closeWizard:r}=t;return{isOpen:a,openWizard:n,closeWizard:r}})(Ke);function Ze({head:e,body:t,sources:a}){return s.a.createElement(N.a,{hasGutter:!0},s.a.createElement(M.a,null,s.a.createElement($.a,null,s.a.createElement(B.a,null,e))),s.a.createElement(M.a,null,s.a.createElement($.a,null,s.a.createElement(B.a,null,t),s.a.createElement(ye.a,{component:ye.b.ol},a.map(e=>s.a.createElement(fe.a,{key:e},e))))))}var Ye=Object(S.a)()(Object(l.connect)(e=>({isOpen:o.c.isDialogOpen(e)("costmodel").deleteCostModel,isLoading:o.c.deleteProcessing(e),deleteError:o.c.deleteError(e),dialogData:o.c.dialogData(e)}),e=>({closeDialog:()=>e(o.a.setCostModelDialog({name:"deleteCostModel",isOpen:!1})),deleteCostModel:t=>o.a.deleteCostModel(t,"deleteCostModel")(e)}),(e,t,a)=>{const{t:n}=a,r=(l=e.isLoading,o=e.isOpen,c=e.deleteError,o?l?"loading":c?"failure":"open":"close");var l,o,c;const i=e.dialogData&&e.dialogData.costModel?e.dialogData.costModel:null,m=i?i.name:"",u=i?i.sources.map(e=>e.name):[],d=i?i.uuid:"",p=function({status:e,deleteText:t,deleteAction:a,cancelText:n,cancelAction:r,sourcesNo:l}){let o=[];return"loading"===e&&(o=[s.a.createElement(f.a,{key:"pending_delete",variant:f.c.danger,isDisabled:!0},t),s.a.createElement(f.a,{key:"pending_cancel",variant:f.c.link,isDisabled:!0},n)]),["failure","open"].includes(e)&&l>0&&(o=[s.a.createElement(f.a,{key:"sources_cancel",variant:f.c.link,onClick:r},n)]),["failure","open"].includes(e)&&0===l&&(o=[s.a.createElement(f.a,{key:"delete",variant:f.c.danger,onClick:a},t),s.a.createElement(f.a,{key:"cancel",variant:f.c.link,onClick:r},n)]),o}({status:r,deleteText:n("page_cost_models.delete_cost_model"),deleteAction:()=>t.deleteCostModel(d),cancelText:n("page_cost_models.cancel"),cancelAction:t.closeDialog,sourcesNo:u.length}),g=function({status:e,sources:t,error:a,cannotDeleteTitle:n,cannotDeleteBody:r,canDeleteBody:l}){return"close"!==e&&t.length>0?s.a.createElement(Ze,{head:n,body:r,sources:t}):"close"!==e&&0===t.length?s.a.createElement(N.a,{hasGutter:!0},"failure"===e?s.a.createElement(M.a,null,s.a.createElement(Ee.a,{variant:Ee.b.danger,title:a})):null,s.a.createElement(M.a,null,l)):void 0}({status:r,sources:u,error:e.deleteError,cannotDeleteTitle:n("page_cost_models.cannot_delete_description_head"),cannotDeleteBody:n("page_cost_models.cannot_delete_description_body",{name:m}),canDeleteBody:n("page_cost_models.can_delete_description",{name:m})});return{actions:p,isOpen:"close"!==r,variant:j.b.small,"aria-label":"delete-cost-model",title:n("page_cost_models.delete_title"),titleIconVariant:"warning",onClose:t.closeDialog,children:g}})(j.a)),Qe=a(227),Xe=a(692);var et=Object(S.a)()(Object(l.connect)((e,t)=>{const{t:a}=t;return{children:s.a.createElement(s.a.Fragment,null,a("page_cost_models.header_title"),s.a.createElement(Qe.a,{"aria-label":"page header popver",bodyContent:a("page_cost_models.header_popover"),enableFlip:!0},s.a.createElement(f.a,{variant:f.c.plain},s.a.createElement(Xe.OutlinedQuestionCircleIcon,null))))}})((function({children:e}){return s.a.createElement($.a,null,s.a.createElement(C.a,{headingLevel:"h1",size:"2xl"},e))}))),tt=a(307),at=a(186),nt=a(773),rt=a(1157),st=a(17),lt=function(e){return function(t){var a=function(a){return r.createElement(t,Object.assign({},a,e(a)))};return a.displayName="HookIntoProps("+(t.displayName||t.name||"Component")+")",st(a,t)}};var ot=function(e){return s.a.createElement(te.a,{className:"pf-m-redhat-font"},s.a.createElement(ae.a,{icon:e.icon}),s.a.createElement(C.a,{headingLevel:"h2",size:"lg"},e.title),s.a.createElement(ne.a,null,e.description),e.actions?e.actions:null)};var ct=lt(()=>{const{t:e}=Object(Q.a)();return{title:e("page_cost_models.no_cost_models_title"),description:e("page_cost_models.no_cost_models_description"),icon:re.PlusCircleIcon}})(ot);var it=lt(()=>{const{t:e}=Object(Q.a)();return{title:e("empty_filter_state.title"),description:e("empty_filter_state.subtitle"),icon:Me.SearchIcon}})(ot),mt=a(1002);var ut=Object(g.a)(Object(S.a)()(Object(l.connect)(e=>({canWrite:i.c.isCostModelWritePermission(e),query:o.c.query(e),costData:o.c.costModels(e),stateName:o.c.stateName(e)}),e=>{const t=o.a.setCostModelDialog;return{openDeleteDialog:a=>e(t({name:"deleteCostModel",isOpen:!0,meta:a}))}},(e,t,a)=>{const{t:n,history:{push:r}}=a,l=[{title:n("page_cost_models.name"),transforms:[at.a],data:{orderName:"name"}},{title:n("page_cost_models.description")},{title:n("page_cost_models.source_type"),transforms:[at.a],data:{orderName:"source_type"}},{title:n("page_cost_models.assigned_sources")},{title:n("page_cost_models.last_change"),transforms:[at.a],data:{orderName:"updated_timestamp"}}],o=function(e,t){const{ordering:a}=e;if(null===a)return{};const n="-"===a[0]?a.slice(1):a,r="-"===a[0]?h.a.desc:h.a.asc;return{index:t.findIndex(e=>e.data&&e.data.orderName===n),direction:r}}(e.query,l),c=function(e,t,a){return function(n,r,s){const l=e[r]&&e[r].data?e[r].data.orderName:null;null!==l&&(s!==h.a.asc?a(b(Object.assign(Object.assign({},t),{ordering:"-"+l}))):a(b(Object.assign(Object.assign({},t),{ordering:l}))))}}(l,e.query,r);return{"aria-label":"cost-models",cells:l,rows:function(e,t){let a=null;return"loading"===e&&(a=s.a.createElement(we.a,null)),"empty"===e&&(a=s.a.createElement(ct,null)),"no-match"===e&&(a=s.a.createElement(it,null)),"failure"===e&&(a=s.a.createElement(nt.Unavailable,null)),null!==a?[{heightAuto:!0,cells:[{props:{colSpan:8},title:s.a.createElement(ee.a,null," ",a," ")}]}]:t.map(e=>({cells:[{title:s.a.createElement(mt.a,{to:"/cost-models/"+e.uuid},e.name)},e.description,e.source_type,e.sources.length.toString(),Object(rt.relativeTime)(e.updated_timestamp)],data:{costModel:e}}))}(e.stateName,e.costData),sortBy:o,onSort:c,actions:function(e,t,a){return"success"!==e?[]:a.map(e=>Object.assign(Object.assign({},e),{isDisabled:!t,style:t?void 0:{pointerEvents:"auto"},tooltip:t?void 0:e.tooltip}))}(e.stateName,e.canWrite,[{title:n("page_cost_models.delete"),tooltip:n("cost_models.read_only_tooltip"),onClick:(e,a,n)=>{t.openDeleteDialog(n.data)}}])}})((function(e){return s.a.createElement(n.a,{variant:n.c.light},s.a.createElement(ke.a,{gridBreakPoint:tt.a.grid2xl,actions:e.actions,actionResolver:e.actionResolver,rows:e.rows,cells:e.cells,onSort:e.onSort,sortBy:e.sortBy,"aria-label":e["aria-label"]},s.a.createElement(xe.a,null),s.a.createElement(De.a,null)))})))),dt=a(138),pt=a(416),gt=a(398),ht=a(384),_t=a(220);const bt=(e,t,a,n)=>r=>{if("Enter"===r.key&&""!==n.value){const r=n.value;e(b(Object.assign(Object.assign({},a),{[t]:a[t]?`${a[t]},${r}`:r}))),n.setValue("")}},Et=(e,t,a)=>(n,r)=>{const s=a[t]?a[t].split(",").filter(e=>e!==r):null;e(b(Object.assign(Object.assign({},a),{[t]:null===s||0===s.length?null:s.join(",")})))},yt=(e,t,a)=>()=>{e(b(Object.assign(Object.assign({},t),{[a]:null})))},ft=lt(()=>{const[e,t]=s.a.useState("");return{value:e,setValue:t}})(Object(g.a)(Object(S.a)()(Object(l.connect)(e=>({filterType:o.c.currentFilterType(e),query:o.c.query(e)}),void 0,(e,t,a)=>{const{t:n,value:r,setValue:l,history:{push:o}}=a,{filterType:c,query:i}=e,m="description"===c?s.a.createElement(pt.a,{onClear:()=>{l("")},placeholder:n("page_cost_models.filter_by_description"),value:r,onChange:e=>{l(e)},onKeyPress:bt(o,"description",Object.assign(Object.assign({},_),i),{value:r,setValue:l})}):null,u=i.description?i.description.split(","):[];return{deleteChip:Et(o,"description",Object.assign(Object.assign({},_),i)),deleteChipGroup:yt(o,Object.assign(Object.assign({},_),i),"description"),chips:u,categoryName:n("page_cost_models.description"),children:m}})(Ne.a)))),Ot=lt(()=>{const[e,t]=s.a.useState("");return{value:e,setValue:t}})(Object(g.a)(Object(S.a)()(Object(l.connect)(e=>({filterType:o.c.currentFilterType(e),query:o.c.query(e)}),void 0,(e,t,a)=>{const{t:n,setValue:r,value:l,history:{push:o}}=a,{filterType:c,query:i}=e,m="name"===c?s.a.createElement(pt.a,{onClear:()=>r(""),placeholder:n("page_cost_models.filter_by_name"),value:l,onChange:e=>r(e),onKeyPress:bt(o,"name",Object.assign(Object.assign({},_),i),{setValue:r,value:l})}):null,u=i.name?i.name.split(","):[];return{deleteChip:Et(o,"name",Object.assign(Object.assign({},_),i)),deleteChipGroup:yt(o,Object.assign(Object.assign({},_),i),"name"),chips:u,categoryName:n("page_cost_models.name"),children:m}})(Ne.a)))),vt=(e,t)=>()=>{t(!1);const a=document.getElementById(e);a&&a.focus()},Ct=lt(()=>{const[e,t]=s.a.useState(!1);return{isOpen:e,setIsOpen:t}})(Object(g.a)(Object(S.a)()(Object(l.connect)(e=>({filterType:o.c.currentFilterType(e),query:o.c.query(e)}),void 0,(e,t,a)=>{const n="source-type-filter",{t:r,isOpen:l,setIsOpen:o,history:{push:c}}=a,{filterType:i,query:m}=e,u=e=>c(b(Object.assign(Object.assign(Object.assign({},_),m),{source_type:e}))),d="sourceType"===i?s.a.createElement(gt.a,{onSelect:vt(n,o),isOpen:l,toggle:s.a.createElement(ht.a,{onToggle:e=>{o(e)},id:n},r("page_cost_models.filter_by_source_type")),dropdownItems:[s.a.createElement(_t.a,{key:"aws",component:"button",onClick:()=>u("aws")},r("page_cost_models.aws")),s.a.createElement(_t.a,{key:"azure",component:"button",onClick:()=>u("azure")},r("page_cost_models.azure")),s.a.createElement(_t.a,{key:"ocp",component:"button",onClick:()=>u("ocp")},r("page_cost_models.ocp"))]}):null,p=m.source_type?[m.source_type]:[];return{deleteChip:yt(c,Object.assign(Object.assign({},_),m),"source_type"),chips:p,categoryName:r("page_cost_models.source_type"),children:d}})(Ne.a)))),jt=Object(g.a)(Object(l.connect)(e=>({query:o.c.query(e)}),void 0,(e,t,a)=>{const{history:{push:n}}=a,{query:r}=e;return{id:"cost-models-toolbar",clearAllFilters:()=>n(b(Object.assign(Object.assign(Object.assign({},_),r),{source_type:null,name:null}))),children:a.children}})(m.a));var Pt=a(136),wt=a(11),St=a(456),zt=a(682);const kt=lt(()=>{const[e,t]=s.a.useState(!1);return{isOpen:e,setIsOpen:t}})(Object(S.a)()(Object(l.connect)(e=>({filterType:o.c.currentFilterType(e)}),e=>({updateFilterType:t=>{e(o.a.updateFilterToolbar({currentFilterType:t}))}}),(e,t,a)=>{const{t:n}=a,r=[s.a.createElement(Pt.a,{key:"name",value:"name"},n("page_cost_models.name")),s.a.createElement(Pt.a,{key:"description",value:"description"},n("page_cost_models.description")),s.a.createElement(Pt.a,{key:"sourceType",value:"sourceType"},n("page_cost_models.source_type"))];return{variant:wt.f.single,selections:e.filterType,onToggle:a.setIsOpen,isOpen:a.isOpen,onSelect:(e,n)=>{t.updateFilterType(n),a.setIsOpen(!1)},children:r,toggleIcon:s.a.createElement(zt.FilterIcon,null)}})(St.a))),xt=Object(g.a)(Object(l.connect)(e=>{const{count:t,page:a,perPage:n}=o.c.pagination(e);return{count:t,page:a,perPage:n,query:o.c.query(e)}},void 0,(e,t,a)=>{const{history:{push:n}}=a,{count:r,page:s,perPage:l,query:o}=e;return{isCompact:!0,itemCount:r,page:s,perPage:l,variant:p.b.top,onSetPage:(e,t,a)=>{n(b(Object.assign(Object.assign(Object.assign({},_),o),{offset:E(t,a)})))},onPerPageSelect:(e,t)=>{n(b(Object.assign(Object.assign(Object.assign({},_),o),{limit:t,offset:0})))}}})(p.a));var Dt=()=>s.a.createElement(jt,null,s.a.createElement(u.a,null,s.a.createElement(dt.a,{variant:"filter-group"},s.a.createElement(d.a,null,s.a.createElement(kt,null)),s.a.createElement(d.a,null,s.a.createElement(Ot,null),s.a.createElement(ft,null),s.a.createElement(Ct,null)),s.a.createElement(d.a,null,s.a.createElement(Ve,null))),s.a.createElement(d.a,{variant:d.b.pagination},s.a.createElement(xt,null))));class Tt extends s.a.Component{componentDidMount(){this.props.getCostModelsData(this.props.search.slice(1)),this.props.getRbacData(),this.props.getMetricsData()}componentDidUpdate(e){e.search!==this.props.search&&this.props.getCostModelsData(this.props.search.slice(1))}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(n.a,{variant:n.c.light},s.a.createElement(et,null)),s.a.createElement(n.a,{isFilled:!0},s.a.createElement(Je,null),s.a.createElement(Ye,null),s.a.createElement(Dt,null),s.a.createElement(ut,null),s.a.createElement(y,null)))}}const Nt=Object(l.connect)((e,t)=>({search:t.location.search}),e=>({getCostModelsData:t=>o.a.fetchCostModels(t)(e),getRbacData:()=>i.a.fetchRbac()(e),getMetricsData:()=>c.a.fetchMetrics()(e)}))(Tt);t.default=Nt}}]);
//# sourceMappingURL=b38e64f033a88e2b4031.bundle.js.map
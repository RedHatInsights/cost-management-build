{"version":3,"sources":["webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/collection.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/helpers.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/scale.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/immutable.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/data.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/domain.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/axis.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/transitions.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/events.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/wrapper.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/style.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/prop-types.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/common-props.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-portal/portal.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-portal/portal-context.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/timer.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/timer-context.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-container/victory-container.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-theme/material.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-theme/grayscale.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-theme/victory-theme.js","webpack://koku-ui/./node_modules/victory-stack/es/helper-methods.js","webpack://koku-ui/./node_modules/victory-stack/es/victory-stack.js"],"names":["_toConsumableArray","arr","Array","isArray","i","arr2","length","_arrayWithoutHoles","iter","Symbol","iterator","Object","prototype","toString","call","from","_iterableToArray","TypeError","_nonIterableSpread","isNonEmptyArray","collection","containsDates","some","value","Date","containsNumbers","containsOnlyStrings","every","containsStrings","getMaxValue","_len","arguments","values","_key","array","concat","Math","max","apply","getMinValue","_len2","_key2","min","isArrayOfArrays","removeUndefined","filter","el","undefined","omit","originalObject","ks","newObject","key","indexOf","hasOwnProperty","getPoint","datum","exists","val","_x","_x1","_x0","_voronoiX","_y","_y1","_y0","_voronoiY","defaultX","defaultY","point","x","x0","y","y0","getPadding","props","name","padding","paddingVal","paddingObj","top","bottom","left","right","isTooltip","component","type","role","evaluateProp","prop","degreesToRadians","degrees","PI","getRadius","_getPadding","width","height","isHorizontal","horizontal","children","traverseChildren","childArray","reduce","memo","child","childProps","scalePoint","scale","polar","d","origin","cos","sin","getDefaultStyles","_props$theme","theme","labelComponent","defaultStyles","style","tooltipStyle","tooltip","labelStyle","labels","getStyles","parent","data","defaultParent","defaultLabels","defaultData","evaluateStyle","prev","curr","radiansToDegrees","radians","getPolarOrigin","_getPadding2","radius","offsetWidth","offsetHeight","getRange","axis","range","startAngle","endAngle","innerRadius","getPolarRange","vertical","getCartesianRange","createAccessor","modifyProps","fallbackProps","themeProps","defaultObject","getCurrentAxis","reduceChildren","iteratee","parentProps","initialMemo","combine","item","sharedProps","names","index","childRole","childName","nestedChildren","getChildren","map","c","nestedChildProps","_childNames","nestedResults","result","childNames","supportedScaleStrings","toNewName","s","toUpperCase","slice","validScale","copy","domain","isScaleDefined","getScaleTypeFromData","accessor","axisData","processedData","getScaleFromName","getScaleFromProps","getType","scaleType","method","getBaseScale","defaultScale","getScaleFromDomain","getDefaultScale","getScaleType","getScaleTypeFromProps","IMMUTABLE_ITERABLE","IMMUTABLE_RECORD","IMMUTABLE_LIST","IMMUTABLE_MAP","isImmutable","this","isIterable","isRecord","isList","isMap","shallowToJS","whitelist","_this","parseDatum","errorX","errorY","getLength","size","generateDataArray","samples","domainMax","domainMin","step","sortData","dataset","sortKey","sortOrder","order","createStringMap","stringsFromAxes","getStringsFromAxes","stringsFromCategories","getStringsFromCategories","stringsFromData","getStringsFromData","allStrings","string","formatData","expectedKeys","stringMap","defaultKeys","preformattedData","cleanedData","smallNumber","Number","MAX_SAFE_INTEGER","rules","sanitize","cleanData","dataArr","fallbackValues","processedValues","processedValue","formattedDatum","push","hasEventKeyAccessor","eventKey","eventKeyAccessor","addEventKeys","generateData","xValues","yValues","getCategories","categories","tickValues","tickFormat","categoryStrings","downsample","maxPoints","startingIndex","dataLength","k","pow","ceil","log2","getData","isDataComponent","getRole","getExtremeFromData","getExtreme","initialValue","Infinity","containsDate","current0","current1","current","createDomainFunction","getDomainFromDataFunction","formatDomainFunction","getDomainFromData","formatDomain","propsDomain","getDomainFromProps","getDomainFromCategories","almostZero","dom","cleanDomain","domainPadding","minDomain","getMinFromProps","maxDomain","getMaxFromProps","formatPadding","getDomainPadding","currentAxis","rangeExtent","abs","initialPadding","singleQuadrantDomainPadding","adjust","adjustedDomain","valueOf","finalPadding","paddedDomain","finalDomain","getDomainFromMinMax","padDomain","_props$startAngle","_props$endAngle","stringArray","categoryValues","categoryDomain","getSymmetricDomain","_props$startAngle2","_props$endAngle2","getFlatData","verySmallNumber","minVal","maxVal","sort","a","b","getDomain","getDomainWithZero","y0Min","defaultMin","maxDomainProp","minDomainProp","ensureZero","isDomainComponent","findAxisComponents","childComponents","predicate","findAxes","getAxis","getDatumKey","idx","getKeyedData","keyedData","getKeyedDataDifference","hasDifference","difference","_difference","getChildData","oldChildren","nextChildren","nodesWillExit","nodesWillEnter","getTransitionsFromChildren","old","next","oldChild","newChild","oldData","nextData","oldDataKeyed","nextDataKeyed","_ref","entering","exiting","getTransition","childrenTransitions","nodesShouldEnter","state","setState","nodesShouldLoad","nodesDoneLoad","transitionDurations","enter","animate","onEnter","duration","exit","onExit","load","onLoad","move","cb","onEnd","after","getChildOnLoad","before","clipWidth","getChildBeforeLoad","nodes","exitingNodes","getChildPropsOnExit","enteringNodes","getChildPropsOnEnter","getChildPropsBeforeEnter","getChildTransitionDuration","defaultTransitions","defaultPolarTransitions","animationDuration","childTransitions","animation","_animation","delay","_animation2","getInitialChildProps","components","events","componentName","_memo","defaultEvents","componentEvents","obj","defineProperty","enumerable","configurable","writable","getDataFromChildren","getDefaultDomainPadding","groupComponent","_groupComponent$0$pro","offset","dataDomain","childDomain","getDomainFromChildren","getScale","childScale","setAnimationState","nextProps","parentState","oldProps","isContinuous","check","continuous","_Transitions$getIniti","_nodesWillExit","getAllEvents","_componentEvents","getAnimationProps","getTransitions","getTransitionProps","newState","childComponent","parentData","baseParentProps","childDomains","addBinsToParentPropsIfHistogram","someChildrenAreHistograms","allChildrenAreHistograms","childBins","bins","combinedData","xAccessor","getFormattedHistogramData","getFormattedData","_ref2","x1","target","source","ownKeys","keys","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","forEach","_objectSpread","stack","stacked","datasets","childData","_stack","_group","group","getColor","calculatedProps","scales","colorScale","color","fill","colors","grayscale","qualitative","heatmap","warm","cool","red","blue","green","getWidth","extent","seriesLength","bars","round","getStyle","defaultStyle","getChildStyle","childStyle","defaultFill","defaultColor","stroke","dataWidth","dataStyle","labelsStyle","xName","yName","Boolean","getCategoryAndAxisStringsFromChildren","axisComponent","axisStrings","getStringsFromChildren","xStrings","yStrings","dataStrings","xPropCategories","yPropCategories","xCategories","yCategories","makeChainable","validator","_chainable","isRequired","propName","Error","rest","chainable","bind","nullConstructor","undefinedConstructor","getConstructor","constructor","getConstructorName","deprecated","propType","explanation","allOfType","validators","nonNegative","integer","greaterThanZero","scl","homogeneousArray","comparisonConstructor","typeMismatchedValue","constructorName","otherConstructorName","matchDataLength","regExp","dataProps","dataComponent","baseProps","containerComponent","eventHandlers","externalEventMutations","callback","mutation","sharedEvents","getEventState","standalone","primitiveProps","active","ariaLabel","className","clipPath","desc","id","shapeRendering","tabIndex","transform","_defineProperties","descriptor","_assertThisInitialized","self","ReferenceError","Portal","_React$Component","instance","Constructor","_classCallCheck","_possibleConstructorReturn","__proto__","getPrototypeOf","portalUpdate","portalRegister","portalDeregister","protoProps","subClass","superClass","create","setPrototypeOf","_inherits","element","forceUpdate","_this2","viewBox","PortalContext","displayName","Timer","shouldAnimate","subscribers","loop","timer","activeSubscriptions","startTime","stop","subscriptionID","start","TimerContext","transitionTimer","animationTimer","_extends","assign","VictoryContainer","containerId","savePortalRef","portal","portalRef","saveContainerRef","containerRef","container","shouldHandleWheel","onWheel","handleWheel","e","preventDefault","addEventListener","removeEventListener","elementName","ouiaId","ouiaSafe","ouiaType","svgProps","title","portalComponent","portalZIndex","responsive","dimensions","divStyle","pointerEvents","touchAction","position","portalDivStyle","zIndex","svgStyle","portalSvgStyle","overflow","portalProps","preserveAspectRatio","ref","getOUIAProps","getIdForElement","_props","join","renderContainer","blueGrey50","blueGrey300","blueGrey700","grey900","baseLabelStyles","fontFamily","fontSize","letterSpacing","strokeWidth","centeredLabelStyles","textAnchor","strokeLinecap","strokeLinejoin","area","axisLabel","grid","strokeDasharray","ticks","tickLabels","polarDependentAxis","bar","boxplot","maxLabels","median","medianLabels","minLabels","q1","q1Labels","q3","q3Labels","boxWidth","candlestick","candleColors","positive","negative","chart","errorbar","borderWidth","opacity","histogram","legend","gutter","orientation","titleOrientation","line","pie","scatter","flyoutStyle","flyoutPadding","cornerRadius","pointerLength","voronoi","flyout","charcoal","grey","material","stackData","dataFromChildren","fillInMissingData","xMap","getTime","xKeys","xArr","indexOffset","isDate","fillData","xOffset","yOffset","previousPoints","previousDatum","getY0","addLayoutData","getCalculatedProps","baseScale","getColorScale","colorScaleOptions","getChildProps","parentName","getLabels","VictoryStack","animating","reverse","containerProps","modifiedProps","newChildren","getNewChildren","getContainerProps"],"mappings":"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","file":"89eb923d8ce9f20d408e.bundle.js","sourcesContent":["function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\n/* eslint-disable func-style */\n\n/* eslint-disable no-use-before-define */\nfunction isNonEmptyArray(collection) {\n  return Array.isArray(collection) && collection.length > 0;\n}\n\nfunction containsStrings(collection) {\n  return Array.isArray(collection) && collection.some(function (value) {\n    return typeof value === \"string\";\n  });\n}\n\nfunction containsDates(collection) {\n  return Array.isArray(collection) && collection.some(function (value) {\n    return value instanceof Date;\n  });\n}\n\nfunction containsNumbers(collection) {\n  return Array.isArray(collection) && collection.some(function (value) {\n    return typeof value === \"number\";\n  });\n}\n\nfunction containsOnlyStrings(collection) {\n  return isNonEmptyArray(collection) && collection.every(function (value) {\n    return typeof value === \"string\";\n  });\n}\n\nfunction isArrayOfArrays(collection) {\n  return isNonEmptyArray(collection) && collection.every(Array.isArray);\n}\n\nfunction removeUndefined(arr) {\n  return arr.filter(function (el) {\n    return el !== undefined;\n  });\n}\n\nfunction getMaxValue(arr) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n\n  var array = arr.concat(values);\n  return containsDates(array) ? new Date(Math.max.apply(Math, _toConsumableArray(array))) : Math.max.apply(Math, _toConsumableArray(array));\n}\n\nfunction getMinValue(arr) {\n  for (var _len2 = arguments.length, values = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    values[_key2 - 1] = arguments[_key2];\n  }\n\n  var array = arr.concat(values);\n  return containsDates(array) ? new Date(Math.min.apply(Math, _toConsumableArray(array))) : Math.min.apply(Math, _toConsumableArray(array));\n}\n\nexport default {\n  containsDates: containsDates,\n  containsNumbers: containsNumbers,\n  containsOnlyStrings: containsOnlyStrings,\n  containsStrings: containsStrings,\n  getMaxValue: getMaxValue,\n  getMinValue: getMinValue,\n  isArrayOfArrays: isArrayOfArrays,\n  removeUndefined: removeUndefined\n};","import _keys from \"lodash/keys\";\nimport _assign from \"lodash/assign\";\nimport _pick from \"lodash/pick\";\nimport _property from \"lodash/property\";\nimport _isFunction from \"lodash/isFunction\";\nimport _defaults from \"lodash/defaults\";\n\n/* eslint-disable func-style */\n\n/* eslint-disable no-use-before-define */\nimport React from \"react\";\n\n// Private Functions\nfunction getCartesianRange(props, axis) {\n  // determine how to lay the axis and what direction positive and negative are\n  var vertical = axis !== \"x\";\n  var padding = getPadding(props);\n\n  if (vertical) {\n    return [props.height - padding.bottom, padding.top];\n  }\n\n  return [padding.left, props.width - padding.right];\n}\n\nfunction getPolarRange(props, axis) {\n  if (axis === \"x\") {\n    var startAngle = degreesToRadians(props.startAngle || 0);\n    var endAngle = degreesToRadians(props.endAngle || 360);\n    return [startAngle, endAngle];\n  }\n\n  return [props.innerRadius || 0, getRadius(props)];\n} // Exported Functions\n\n/**\n * creates an object with some keys excluded\n * replacement for lodash.omit for performance. does not mimick the entire lodash.omit api\n * @param {Object} originalObject: created object will be based on this object\n * @param {Array<String>} ks: an array of keys to omit from the new object\n * @returns {Object} new object with same properties as originalObject\n */\n\n\nfunction omit(originalObject) {\n  var ks = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  // code based on babel's _objectWithoutProperties\n  var newObject = {};\n\n  for (var key in originalObject) {\n    if (ks.indexOf(key) >= 0) {\n      continue;\n    }\n\n    if (!Object.prototype.hasOwnProperty.call(originalObject, key)) {\n      continue;\n    }\n\n    newObject[key] = originalObject[key];\n  }\n\n  return newObject;\n}\n\nfunction getPoint(datum) {\n  var exists = function (val) {\n    return val !== undefined;\n  };\n\n  var _x = datum._x,\n      _x1 = datum._x1,\n      _x0 = datum._x0,\n      _voronoiX = datum._voronoiX,\n      _y = datum._y,\n      _y1 = datum._y1,\n      _y0 = datum._y0,\n      _voronoiY = datum._voronoiY;\n  var defaultX = exists(_x1) ? _x1 : _x;\n  var defaultY = exists(_y1) ? _y1 : _y;\n  var point = {\n    x: exists(_voronoiX) ? _voronoiX : defaultX,\n    x0: exists(_x0) ? _x0 : _x,\n    y: exists(_voronoiY) ? _voronoiY : defaultY,\n    y0: exists(_y0) ? _y0 : _y\n  };\n  return _defaults({}, point, datum);\n}\n\nfunction scalePoint(props, datum) {\n  var scale = props.scale,\n      polar = props.polar,\n      horizontal = props.horizontal;\n  var d = getPoint(datum);\n  var origin = props.origin || {\n    x: 0,\n    y: 0\n  };\n  var x = horizontal ? scale.y(d.y) : scale.x(d.x);\n  var x0 = horizontal ? scale.y(d.y0) : scale.x(d.x0);\n  var y = horizontal ? scale.x(d.x) : scale.y(d.y);\n  var y0 = horizontal ? scale.x(d.x0) : scale.y(d.y0);\n  return {\n    x: polar ? y * Math.cos(x) + origin.x : x,\n    x0: polar ? y0 * Math.cos(x0) + origin.x : x0,\n    y: polar ? -y * Math.sin(x) + origin.y : y,\n    y0: polar ? -y0 * Math.sin(x0) + origin.x : y0\n  };\n}\n\nfunction getPadding(props) {\n  var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"padding\";\n  var padding = props[name];\n  var paddingVal = typeof padding === \"number\" ? padding : 0;\n  var paddingObj = typeof padding === \"object\" ? padding : {};\n  return {\n    top: paddingObj.top || paddingVal,\n    bottom: paddingObj.bottom || paddingVal,\n    left: paddingObj.left || paddingVal,\n    right: paddingObj.right || paddingVal\n  };\n}\n\nfunction isTooltip(component) {\n  var labelRole = component && component.type && component.type.role;\n  return labelRole === \"tooltip\";\n}\n\nfunction getDefaultStyles(props, role) {\n  var _props$theme = props.theme,\n      theme = _props$theme === void 0 ? {} : _props$theme,\n      labelComponent = props.labelComponent;\n  var defaultStyles = theme[role] && theme[role].style || {};\n\n  if (!isTooltip(labelComponent)) {\n    return defaultStyles;\n  }\n\n  var tooltipStyle = theme.tooltip && theme.tooltip.style || {};\n\n  var labelStyle = _defaults({}, tooltipStyle, defaultStyles.labels);\n\n  return _defaults({}, {\n    labels: labelStyle\n  }, defaultStyles);\n}\n\nfunction getStyles(style, defaultStyles) {\n  var width = \"100%\";\n  var height = \"100%\";\n\n  if (!style) {\n    return _defaults({\n      parent: {\n        height: height,\n        width: width\n      }\n    }, defaultStyles);\n  }\n\n  var data = style.data,\n      labels = style.labels,\n      parent = style.parent;\n  var defaultParent = defaultStyles && defaultStyles.parent || {};\n  var defaultLabels = defaultStyles && defaultStyles.labels || {};\n  var defaultData = defaultStyles && defaultStyles.data || {};\n  return {\n    parent: _defaults({}, parent, defaultParent, {\n      width: width,\n      height: height\n    }),\n    labels: _defaults({}, labels, defaultLabels),\n    data: _defaults({}, data, defaultData)\n  };\n}\n\nfunction evaluateProp(prop, props) {\n  return _isFunction(prop) ? prop(props) : prop;\n}\n\nfunction evaluateStyle(style, props) {\n  if (!style || !_keys(style).some(function (value) {\n    return _isFunction(style[value]);\n  })) {\n    return style;\n  }\n\n  return _keys(style).reduce(function (prev, curr) {\n    prev[curr] = evaluateProp(style[curr], props);\n    return prev;\n  }, {});\n}\n\nfunction degreesToRadians(degrees) {\n  return typeof degrees === \"number\" ? degrees * (Math.PI / 180) : degrees;\n}\n\nfunction radiansToDegrees(radians) {\n  return typeof radians === \"number\" ? radians / (Math.PI / 180) : radians;\n}\n\nfunction getRadius(props) {\n  var _getPadding = getPadding(props),\n      left = _getPadding.left,\n      right = _getPadding.right,\n      top = _getPadding.top,\n      bottom = _getPadding.bottom;\n\n  var width = props.width,\n      height = props.height;\n  return Math.min(width - left - right, height - top - bottom) / 2;\n}\n\nfunction getPolarOrigin(props) {\n  var width = props.width,\n      height = props.height;\n\n  var _getPadding2 = getPadding(props),\n      top = _getPadding2.top,\n      bottom = _getPadding2.bottom,\n      left = _getPadding2.left,\n      right = _getPadding2.right;\n\n  var radius = Math.min(width - left - right, height - top - bottom) / 2;\n  var offsetWidth = width / 2 + left - right;\n  var offsetHeight = height / 2 + top - bottom;\n  return {\n    x: offsetWidth + radius > width ? radius + left - right : offsetWidth,\n    y: offsetHeight + radius > height ? radius + top - bottom : offsetHeight\n  };\n}\n\nfunction getRange(props, axis) {\n  if (props.range && props.range[axis]) {\n    return props.range[axis];\n  } else if (props.range && Array.isArray(props.range)) {\n    return props.range;\n  }\n\n  return props.polar ? getPolarRange(props, axis) : getCartesianRange(props, axis);\n}\n\nfunction createAccessor(key) {\n  // creates a data accessor function\n  // given a property key, path, array index, or null for identity.\n  if (_isFunction(key)) {\n    return key;\n  } else if (key === null || key === undefined) {\n    // null/undefined means \"return the data item itself\"\n    return function (x) {\n      return x;\n    };\n  } // otherwise, assume it is an array index, property key or path (_.property handles all three)\n\n\n  return _property(key);\n}\n\nfunction modifyProps(props, fallbackProps, role) {\n  var theme = props.theme && props.theme[role] ? props.theme[role] : {};\n  var themeProps = omit(theme, [\"style\"]);\n  var horizontal = isHorizontal(props);\n  var defaultObject = horizontal === undefined ? {} : {\n    horizontal: horizontal\n  };\n  return _defaults(defaultObject, props, themeProps, fallbackProps);\n}\n/**\n * Returns the given axis or the opposite axis when horizontal\n * @param {string} axis: the given axis, either \"x\" pr \"y\"\n * @param {Boolean} horizontal: true when the chart is flipped to the horizontal orientation\n * @returns {String} the dimension appropriate for the axis given its props \"x\" or \"y\"\n */\n\n\nfunction getCurrentAxis(axis, horizontal) {\n  var otherAxis = axis === \"x\" ? \"y\" : \"x\";\n  return horizontal ? otherAxis : axis;\n}\n/**\n * @param {Array} children: an array of child components\n * @param {Function} iteratee: a function with arguments \"child\", \"childName\", and \"parent\"\n * @param {Object} parentProps: props from the parent that are applied to children\n * @param {any}  initialMemo: The object in which the iteration results are combined.\n * @param {Function} combine: Combines the result of the iteratee with the current memo\n *   to the memo for the next iteration step\n * @returns {Array} returns an array of results from calling the iteratee on all nested children\n */\n\n/* eslint-disable max-params */\n\n\nfunction reduceChildren(children, iteratee) {\n  var parentProps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var initialMemo = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n  var combine = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : function (memo, item) {\n    return memo.concat(item);\n  };\n  var sharedProps = [\"data\", \"domain\", \"categories\", \"polar\", \"startAngle\", \"endAngle\", \"minDomain\", \"maxDomain\", \"horizontal\"];\n\n  var traverseChildren = function (childArray, names, parent) {\n    return childArray.reduce(function (memo, child, index) {\n      var childRole = child.type && child.type.role;\n      var childName = child.props.name || \"\".concat(childRole, \"-\").concat(names[index]);\n\n      if (child.props && child.props.children) {\n        var childProps = _assign({}, child.props, _pick(parentProps, sharedProps));\n\n        var nestedChildren = child.type && child.type.role === \"stack\" && _isFunction(child.type.getChildren) ? child.type.getChildren(childProps) : React.Children.toArray(child.props.children).map(function (c) {\n          var nestedChildProps = _assign({}, c.props, _pick(childProps, sharedProps));\n\n          return React.cloneElement(c, nestedChildProps);\n        });\n\n        var _childNames = nestedChildren.map(function (c, i) {\n          return \"\".concat(childName, \"-\").concat(i);\n        });\n\n        var nestedResults = traverseChildren(nestedChildren, _childNames, child);\n        memo = combine(memo, nestedResults);\n      } else {\n        var result = iteratee(child, childName, parent);\n\n        if (result) {\n          memo = combine(memo, result);\n        }\n      }\n\n      return memo;\n    }, initialMemo);\n  };\n\n  var childNames = children.map(function (c, i) {\n    return i;\n  });\n  return traverseChildren(children, childNames);\n}\n/**\n * @param {Object} props: the props object\n * @returns {Boolean} returns true if the props object contains `horizontal: true` of if any\n * children or nested children are hoizontal\n */\n\n\nfunction isHorizontal(props) {\n  if (props.horizontal !== undefined || !props.children) {\n    return props.horizontal;\n  }\n\n  var traverseChildren = function (childArray) {\n    return childArray.reduce(function (memo, child) {\n      var childProps = child.props || {};\n\n      if (memo || childProps.horizontal || !childProps.children) {\n        memo = memo || childProps.horizontal;\n        return memo;\n      }\n\n      return traverseChildren(React.Children.toArray(childProps.children));\n    }, false);\n  };\n\n  return traverseChildren(React.Children.toArray(props.children));\n}\n\nexport default {\n  omit: omit,\n  getPoint: getPoint,\n  scalePoint: scalePoint,\n  getPadding: getPadding,\n  getDefaultStyles: getDefaultStyles,\n  getStyles: getStyles,\n  evaluateProp: evaluateProp,\n  evaluateStyle: evaluateStyle,\n  degreesToRadians: degreesToRadians,\n  radiansToDegrees: radiansToDegrees,\n  getRadius: getRadius,\n  getPolarOrigin: getPolarOrigin,\n  getRange: getRange,\n  createAccessor: createAccessor,\n  modifyProps: modifyProps,\n  getCurrentAxis: getCurrentAxis,\n  reduceChildren: reduceChildren,\n  isHorizontal: isHorizontal,\n  isTooltip: isTooltip\n};","import _isPlainObject from \"lodash/isPlainObject\";\nimport _isFunction from \"lodash/isFunction\";\nimport _includes from \"lodash/includes\";\nimport Helpers from \"./helpers\";\nimport Collection from \"./collection\";\nimport * as d3Scale from \"d3-scale\";\nvar supportedScaleStrings = [\"linear\", \"time\", \"log\", \"sqrt\"]; // Private Functions\n\nfunction toNewName(scale) {\n  // d3 scale changed the naming scheme for scale from \"linear\" -> \"scaleLinear\" etc.\n  var capitalize = function (s) {\n    return s && s[0].toUpperCase() + s.slice(1);\n  };\n\n  return \"scale\".concat(capitalize(scale));\n}\n\nfunction validScale(scale) {\n  if (typeof scale === \"function\") {\n    return _isFunction(scale.copy) && _isFunction(scale.domain) && _isFunction(scale.range);\n  } else if (typeof scale === \"string\") {\n    return _includes(supportedScaleStrings, scale);\n  }\n\n  return false;\n}\n\nfunction isScaleDefined(props, axis) {\n  if (!props.scale) {\n    return false;\n  } else if (props.scale.x || props.scale.y) {\n    return props.scale[axis] ? true : false;\n  }\n\n  return true;\n}\n\nfunction getScaleTypeFromProps(props, axis) {\n  if (!isScaleDefined(props, axis)) {\n    return undefined;\n  }\n\n  var scale = props.scale[axis] || props.scale;\n  return typeof scale === \"string\" ? scale : getType(scale);\n}\n\nfunction getScaleFromDomain(props, axis) {\n  var domain;\n\n  if (props.domain && props.domain[axis]) {\n    domain = props.domain[axis];\n  } else if (props.domain && Array.isArray(props.domain)) {\n    domain = props.domain;\n  }\n\n  if (!domain) {\n    return undefined;\n  }\n\n  return Collection.containsDates(domain) ? \"time\" : \"linear\";\n}\n\nfunction getScaleTypeFromData(props, axis) {\n  if (!props.data) {\n    return \"linear\";\n  }\n\n  var accessor = Helpers.createAccessor(props[axis]);\n  var axisData = props.data.map(function (datum) {\n    var processedData = _isPlainObject(accessor(datum)) ? accessor(datum)[axis] : accessor(datum);\n    return processedData !== undefined ? processedData : datum[axis];\n  });\n  return Collection.containsDates(axisData) ? \"time\" : \"linear\";\n} // Exported Functions\n\n\nfunction getScaleFromName(name) {\n  return validScale(name) ? d3Scale[toNewName(name)]() : d3Scale.scaleLinear();\n}\n\nfunction getBaseScale(props, axis) {\n  var scale = getScaleFromProps(props, axis);\n\n  if (scale) {\n    return typeof scale === \"string\" ? getScaleFromName(scale) : scale;\n  }\n\n  var defaultScale = getScaleFromDomain(props, axis) || getScaleTypeFromData(props, axis);\n  return d3Scale[toNewName(defaultScale)]();\n}\n\nfunction getDefaultScale() {\n  return d3Scale.scaleLinear();\n}\n\nfunction getScaleFromProps(props, axis) {\n  if (!isScaleDefined(props, axis)) {\n    return undefined;\n  }\n\n  var scale = props.scale[axis] || props.scale;\n\n  if (validScale(scale)) {\n    return _isFunction(scale) ? scale : d3Scale[toNewName(scale)]();\n  }\n\n  return undefined;\n}\n\nfunction getScaleType(props, axis) {\n  // if the scale was not given in props, it will be set to linear or time depending on data\n  return getScaleTypeFromProps(props, axis) || getScaleTypeFromData(props, axis);\n}\n\nfunction getType(scale) {\n  if (typeof scale === \"string\") {\n    return scale;\n  }\n\n  var duckTypes = [{\n    name: \"log\",\n    method: \"base\"\n  }, {\n    name: \"ordinal\",\n    method: \"unknown\"\n  }, {\n    name: \"pow-sqrt\",\n    method: \"exponent\"\n  }, {\n    name: \"quantile\",\n    method: \"quantiles\"\n  }, {\n    name: \"quantize-threshold\",\n    method: \"invertExtent\"\n  }];\n  var scaleType = duckTypes.filter(function (type) {\n    return scale[type.method] !== undefined;\n  })[0];\n  return scaleType ? scaleType.name : undefined;\n}\n\nexport default {\n  getBaseScale: getBaseScale,\n  getDefaultScale: getDefaultScale,\n  getScaleFromProps: getScaleFromProps,\n  getScaleType: getScaleType,\n  getType: getType,\n  getScaleFromName: getScaleFromName\n};","export default {\n  IMMUTABLE_ITERABLE: \"@@__IMMUTABLE_ITERABLE__@@\",\n  IMMUTABLE_RECORD: \"@@__IMMUTABLE_RECORD__@@\",\n  IMMUTABLE_LIST: \"@@__IMMUTABLE_LIST__@@\",\n  IMMUTABLE_MAP: \"@@__IMMUTABLE_MAP__@@\",\n  isImmutable: function (x) {\n    return this.isIterable(x) || this.isRecord(x);\n  },\n  isIterable: function (x) {\n    return !!(x && x[this.IMMUTABLE_ITERABLE]);\n  },\n  isRecord: function (x) {\n    return !!(x && x[this.IMMUTABLE_RECORD]);\n  },\n  isList: function (x) {\n    return !!(x && x[this.IMMUTABLE_LIST]);\n  },\n  isMap: function (x) {\n    return !!(x && x[this.IMMUTABLE_MAP]);\n  },\n  shallowToJS: function (x, whitelist) {\n    var _this = this;\n\n    return this.isIterable(x) ? x.reduce(function (prev, curr, key) {\n      if (whitelist && whitelist[key]) {\n        curr = _this.shallowToJS(curr);\n      }\n\n      prev[key] = curr;\n      return prev;\n    }, this.isList(x) ? [] : {}) : x;\n  }\n};","import _includes from \"lodash/includes\";\nimport _isEqual from \"lodash/isEqual\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _orderBy from \"lodash/orderBy\";\nimport _property from \"lodash/property\";\nimport _isPlainObject from \"lodash/isPlainObject\";\nimport _isFunction from \"lodash/isFunction\";\nimport _last from \"lodash/last\";\nimport _range from \"lodash/range\";\nimport _uniq from \"lodash/uniq\";\nimport _assign from \"lodash/assign\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\n/* eslint-disable func-style */\n\n/* eslint-disable no-use-before-define */\nimport React from \"react\";\nimport Helpers from \"./helpers\";\nimport Collection from \"./collection\";\nimport Scale from \"./scale\";\nimport Immutable from \"./immutable\"; // Private Functions\n\nfunction parseDatum(datum) {\n  var immutableDatumWhitelist = {\n    errorX: true,\n    errorY: true\n  };\n  return Immutable.isImmutable(datum) ? Immutable.shallowToJS(datum, immutableDatumWhitelist) : datum;\n}\n\nfunction getLength(data) {\n  return Immutable.isIterable(data) ? data.size : data.length;\n} // Returns generated data for a given axis based on domain and sample from props\n\n\nfunction generateDataArray(props, axis) {\n  var propsDomain = _isPlainObject(props.domain) ? props.domain[axis] : props.domain;\n  var domain = propsDomain || Scale.getBaseScale(props, axis).domain();\n  var samples = props.samples || 1;\n  var domainMax = Math.max.apply(Math, _toConsumableArray(domain));\n  var domainMin = Math.min.apply(Math, _toConsumableArray(domain));\n  var step = (domainMax - domainMin) / samples;\n\n  var values = _range(domainMin, domainMax, step);\n\n  return _last(values) === domainMax ? values : values.concat(domainMax);\n} // Returns sorted data. If no sort keys are provided, data is returned unaltered.\n\n\nfunction sortData(dataset, sortKey) {\n  var sortOrder = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"ascending\";\n\n  if (!sortKey) {\n    return dataset;\n  } // Ensures previous VictoryLine api for sortKey prop stays consistent\n\n\n  if (sortKey === \"x\" || sortKey === \"y\") {\n    sortKey = \"_\".concat(sortKey);\n  }\n\n  var order = sortOrder === \"ascending\" ? \"asc\" : \"desc\";\n  return _orderBy(dataset, sortKey, order);\n} // This method will remove data points that break certain scales. (log scale only)\n\n\nfunction cleanData(dataset, props) {\n  var smallNumber = 1 / Number.MAX_SAFE_INTEGER;\n  var scaleType = {\n    x: Scale.getScaleType(props, \"x\"),\n    y: Scale.getScaleType(props, \"y\")\n  };\n\n  if (scaleType.x !== \"log\" && scaleType.y !== \"log\") {\n    return dataset;\n  }\n\n  var rules = function (datum, axis) {\n    return scaleType[axis] === \"log\" ? datum[\"_\".concat(axis)] !== 0 : true;\n  };\n\n  var sanitize = function (datum) {\n    var _x = rules(datum, \"x\") ? datum._x : smallNumber;\n\n    var _y = rules(datum, \"y\") ? datum._y : smallNumber;\n\n    var _y0 = rules(datum, \"y0\") ? datum._y0 : smallNumber;\n\n    return _assign({}, datum, {\n      _x: _x,\n      _y: _y,\n      _y0: _y0\n    });\n  };\n\n  return dataset.map(function (datum) {\n    if (rules(datum, \"x\") && rules(datum, \"y\") && rules(datum, \"y0\")) {\n      return datum;\n    }\n\n    return sanitize(datum);\n  });\n} // Returns a data accessor given an eventKey prop\n\n\nfunction getEventKey(key) {\n  // creates a data accessor function\n  // given a property key, path, array index, or null for identity.\n  if (_isFunction(key)) {\n    return key;\n  } else if (key === null || key === undefined) {\n    return function () {\n      return undefined;\n    };\n  } // otherwise, assume it is an array index, property key or path (_.property handles all three)\n\n\n  return _property(key);\n} // Returns data with an eventKey prop added to each datum\n\n\nfunction addEventKeys(props, data) {\n  var hasEventKeyAccessor = !!props.eventKey;\n  var eventKeyAccessor = getEventKey(props.eventKey);\n  return data.map(function (datum, index) {\n    if (datum.eventKey !== undefined) {\n      return datum;\n    } else if (hasEventKeyAccessor) {\n      var eventKey = eventKeyAccessor(datum, index);\n      return eventKey !== undefined ? _assign({\n        eventKey: eventKey\n      }, datum) : datum;\n    } else {\n      return datum;\n    }\n  });\n} // Exported Functions\n\n/**\n * Returns an object mapping string data to numeric data\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @returns {Object} an object mapping string data to numeric data\n */\n\n\nfunction createStringMap(props, axis) {\n  var stringsFromAxes = getStringsFromAxes(props, axis);\n  var stringsFromCategories = getStringsFromCategories(props, axis);\n  var stringsFromData = getStringsFromData(props, axis);\n\n  var allStrings = _uniq(_toConsumableArray(stringsFromAxes).concat(_toConsumableArray(stringsFromCategories), _toConsumableArray(stringsFromData)));\n\n  return allStrings.length === 0 ? null : allStrings.reduce(function (memo, string, index) {\n    memo[string] = index + 1;\n    return memo;\n  }, {});\n}\n/**\n * Reduces the size of a data array, such that it is <= maxPoints.\n * @param {Array} data: an array of data; must be sorted\n * @param {Number} maxPoints: maximum number of data points to return\n * @param {Number} startingIndex: the index of the data[0] *in the entire dataset*; this function\n                   assumes `data` param is a subset of larger dataset that has been zoommed\n  * @returns {Array} an array of data, a subset of data param\n  */\n\n\nfunction downsample(data, maxPoints) {\n  var startingIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  // ensures that the downampling of data while zooming looks good.\n  var dataLength = getLength(data);\n\n  if (dataLength > maxPoints) {\n    // limit k to powers of 2, e.g. 64, 128, 256\n    // so that the same points will be chosen reliably, reducing flicker on zoom\n    var k = Math.pow(2, Math.ceil(Math.log2(dataLength / maxPoints)));\n    return data.filter( // ensure modulo is always calculated from same reference: i + startingIndex\n    function (d, i) {\n      return (i + startingIndex) % k === 0;\n    });\n  }\n\n  return data;\n}\n/**\n * Returns formatted data. Data accessors are applied, and string values are replaced.\n * @param {Array} dataset: the original domain\n * @param {Object} props: the props object\n * @param {Array} expectedKeys: an array of expected data keys\n * @returns {Array} the formatted data\n */\n\n\nfunction formatData(dataset, props, expectedKeys) {\n  var isArrayOrIterable = Array.isArray(dataset) || Immutable.isIterable(dataset);\n\n  if (!isArrayOrIterable || getLength(dataset) < 1) {\n    return [];\n  }\n\n  var defaultKeys = [\"x\", \"y\", \"y0\"];\n  expectedKeys = Array.isArray(expectedKeys) ? expectedKeys : defaultKeys;\n\n  var createAccessor = function (name) {\n    return Helpers.createAccessor(props[name] !== undefined ? props[name] : name);\n  };\n\n  var accessor = expectedKeys.reduce(function (memo, type) {\n    memo[type] = createAccessor(type);\n    return memo;\n  }, {});\n  var preformattedData = _isEqual(expectedKeys, defaultKeys) && props.x === \"_x\" && props.y === \"_y\" && props.y0 === \"_y0\";\n  var stringMap;\n\n  if (preformattedData === false) {\n    // stringMap is not required if the data is preformatted\n    stringMap = {\n      x: expectedKeys.indexOf(\"x\") !== -1 ? createStringMap(props, \"x\") : undefined,\n      y: expectedKeys.indexOf(\"y\") !== -1 ? createStringMap(props, \"y\") : undefined,\n      y0: expectedKeys.indexOf(\"y0\") !== -1 ? createStringMap(props, \"y\") : undefined\n    };\n  }\n\n  var data = preformattedData ? dataset : dataset.reduce(function (dataArr, datum, index) {\n    // eslint-disable-line complexity\n    datum = parseDatum(datum);\n    var fallbackValues = {\n      x: index,\n      y: datum\n    };\n    var processedValues = expectedKeys.reduce(function (memo, type) {\n      var processedValue = accessor[type](datum);\n      var value = processedValue !== undefined ? processedValue : fallbackValues[type];\n\n      if (value !== undefined) {\n        if (typeof value === \"string\" && stringMap[type]) {\n          memo[\"\".concat(type, \"Name\")] = value;\n          memo[\"_\".concat(type)] = stringMap[type][value];\n        } else {\n          memo[\"_\".concat(type)] = value;\n        }\n      }\n\n      return memo;\n    }, {});\n\n    var formattedDatum = _assign({}, processedValues, datum);\n\n    if (!_isEmpty(formattedDatum)) {\n      dataArr.push(formattedDatum);\n    }\n\n    return dataArr;\n  }, []);\n  var sortedData = sortData(data, props.sortKey, props.sortOrder);\n  var cleanedData = cleanData(sortedData, props);\n  return addEventKeys(props, cleanedData);\n}\n/**\n * Returns generated x and y data based on domain and sample from props\n * @param {Object} props: the props object\n * @returns {Array} an array of data\n */\n\n\nfunction generateData(props) {\n  var xValues = generateDataArray(props, \"x\");\n  var yValues = generateDataArray(props, \"y\");\n  var values = xValues.map(function (x, i) {\n    return {\n      x: x,\n      y: yValues[i]\n    };\n  });\n  return values;\n}\n/**\n * Returns an array of categories for a given axis\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @returns {Array} an array of categories\n */\n\n\nfunction getCategories(props, axis) {\n  return props.categories && !Array.isArray(props.categories) ? props.categories[axis] : props.categories;\n}\n/**\n * Returns an array of formatted data\n * @param {Object} props: the props object\n * @returns {Array} an array of data\n */\n\n\nfunction getData(props) {\n  return props.data ? formatData(props.data, props) : formatData(generateData(props), props);\n}\n/**\n * Returns an array of strings from axis tickValues for a given axis\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @returns {Array} an array of strings\n */\n\n\nfunction getStringsFromAxes(props, axis) {\n  var tickValues = props.tickValues,\n      tickFormat = props.tickFormat;\n  var tickValueArray;\n\n  if (!tickValues || !Array.isArray(tickValues) && !tickValues[axis]) {\n    tickValueArray = tickFormat && Array.isArray(tickFormat) ? tickFormat : [];\n  } else {\n    tickValueArray = tickValues[axis] || tickValues;\n  }\n\n  return tickValueArray.filter(function (val) {\n    return typeof val === \"string\";\n  });\n}\n/**\n * Returns an array of strings from categories for a given axis\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @returns {Array} an array of strings\n */\n\n\nfunction getStringsFromCategories(props, axis) {\n  if (!props.categories) {\n    return [];\n  }\n\n  var categories = getCategories(props, axis);\n  var categoryStrings = categories && categories.filter(function (val) {\n    return typeof val === \"string\";\n  });\n  return categoryStrings ? Collection.removeUndefined(categoryStrings) : [];\n}\n/**\n * Returns an array of strings from data\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @returns {Array} an array of strings\n */\n\n\nfunction getStringsFromData(props, axis) {\n  var isArrayOrIterable = Array.isArray(props.data) || Immutable.isIterable(props.data);\n\n  if (!isArrayOrIterable) {\n    return [];\n  }\n\n  var key = props[axis] === undefined ? axis : props[axis];\n  var accessor = Helpers.createAccessor(key); // support immutable data\n\n  var data = props.data.reduce(function (memo, d) {\n    memo.push(parseDatum(d));\n    return memo;\n  }, []);\n  var sortedData = sortData(data, props.sortKey, props.sortOrder);\n  var dataStrings = sortedData.reduce(function (dataArr, datum) {\n    datum = parseDatum(datum);\n    dataArr.push(accessor(datum));\n    return dataArr;\n  }, []).filter(function (datum) {\n    return typeof datum === \"string\";\n  }); // return a unique set of strings\n\n  return dataStrings.reduce(function (prev, curr) {\n    if (curr !== undefined && curr !== null && prev.indexOf(curr) === -1) {\n      prev.push(curr);\n    }\n\n    return prev;\n  }, []);\n}\n/**\n * Checks whether a given component can be used to calculate data\n * @param {Component} component: a React component instance\n * @returns {Boolean} Returns true if the given component has a role included in the whitelist\n */\n\n\nfunction isDataComponent(component) {\n  var getRole = function (child) {\n    return child && child.type ? child.type.role : \"\";\n  };\n\n  var role = getRole(component);\n\n  if (role === \"portal\") {\n    var children = React.Children.toArray(component.props.children);\n    role = children.length ? getRole(children[0]) : \"\";\n  }\n\n  var whitelist = [\"area\", \"bar\", \"boxplot\", \"candlestick\", \"errorbar\", \"group\", \"histogram\", \"line\", \"pie\", \"scatter\", \"stack\", \"voronoi\"];\n  return _includes(whitelist, role);\n}\n\nexport default {\n  createStringMap: createStringMap,\n  downsample: downsample,\n  formatData: formatData,\n  generateData: generateData,\n  getCategories: getCategories,\n  getData: getData,\n  getStringsFromAxes: getStringsFromAxes,\n  getStringsFromCategories: getStringsFromCategories,\n  getStringsFromData: getStringsFromData,\n  isDataComponent: isDataComponent\n};","import _isDate from \"lodash/isDate\";\nimport _includes from \"lodash/includes\";\nimport _isFunction from \"lodash/isFunction\";\nimport _sortedUniq from \"lodash/sortedUniq\";\nimport _isPlainObject from \"lodash/isPlainObject\";\nimport _flatten from \"lodash/flatten\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\n/* eslint-disable func-style */\n\n/* eslint-disable no-use-before-define */\nimport React from \"react\";\nimport Data from \"./data\";\nimport Scale from \"./scale\";\nimport Helpers from \"./helpers\";\nimport Collection from \"./collection\"; // Private Methods\n\nfunction cleanDomain(domain, props, axis) {\n  var scaleType = Scale.getScaleType(props, axis);\n\n  if (scaleType !== \"log\") {\n    return domain;\n  }\n\n  var rules = function (dom) {\n    var almostZero = dom[0] < 0 || dom[1] < 0 ? -1 / Number.MAX_SAFE_INTEGER : 1 / Number.MAX_SAFE_INTEGER;\n    var domainOne = dom[0] === 0 ? almostZero : dom[0];\n    var domainTwo = dom[1] === 0 ? almostZero : dom[1];\n    return [domainOne, domainTwo];\n  };\n\n  return rules(domain);\n}\n\nfunction getDomainPadding(props, axis) {\n  var formatPadding = function (padding) {\n    return Array.isArray(padding) ? {\n      left: padding[0],\n      right: padding[1]\n    } : {\n      left: padding,\n      right: padding\n    };\n  };\n\n  return _isPlainObject(props.domainPadding) ? formatPadding(props.domainPadding[axis]) : formatPadding(props.domainPadding);\n}\n\nfunction getFlatData(dataset, axis) {\n  return _flatten(dataset).map(function (datum) {\n    return datum[\"_\".concat(axis)] && datum[\"_\".concat(axis)][1] !== undefined ? datum[\"_\".concat(axis)][1] : datum[\"_\".concat(axis)];\n  });\n}\n\nfunction getExtremeFromData(dataset, axis) {\n  var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"min\";\n\n  var getExtreme = function (arr) {\n    return type === \"max\" ? Math.max.apply(Math, _toConsumableArray(arr)) : Math.min.apply(Math, _toConsumableArray(arr));\n  };\n\n  var initialValue = type === \"max\" ? -Infinity : Infinity;\n  var containsDate = false;\n\n  var result = _flatten(dataset).reduce(function (memo, datum) {\n    var current0 = datum[\"_\".concat(axis, \"0\")] !== undefined ? datum[\"_\".concat(axis, \"0\")] : datum[\"_\".concat(axis)];\n    var current1 = datum[\"_\".concat(axis, \"1\")] !== undefined ? datum[\"_\".concat(axis, \"1\")] : datum[\"_\".concat(axis)];\n    var current = getExtreme([current0, current1]);\n    containsDate = containsDate || current0 instanceof Date || current1 instanceof Date;\n    return getExtreme([memo, current]);\n  }, initialValue);\n\n  return containsDate ? new Date(result) : result;\n} //eslint-disable-next-line max-statements\n\n\nfunction padDomain(domain, props, axis) {\n  if (!props.domainPadding) {\n    return domain;\n  }\n\n  var minDomain = getMinFromProps(props, axis);\n  var maxDomain = getMaxFromProps(props, axis);\n  var padding = getDomainPadding(props, axis);\n\n  if (!padding.left && !padding.right) {\n    return domain;\n  }\n\n  var min = Collection.getMinValue(domain);\n  var max = Collection.getMaxValue(domain);\n  var currentAxis = Helpers.getCurrentAxis(axis, props.horizontal);\n  var range = Helpers.getRange(props, currentAxis);\n  var rangeExtent = Math.abs(range[0] - range[1]); // Naive initial padding calculation\n\n  var initialPadding = {\n    left: Math.abs(max - min) * padding.left / rangeExtent,\n    right: Math.abs(max - min) * padding.right / rangeExtent\n  };\n  var singleQuadrantDomainPadding = _isPlainObject(props.singleQuadrantDomainPadding) ? props.singleQuadrantDomainPadding[axis] : props.singleQuadrantDomainPadding;\n\n  var adjust = function (val, type) {\n    if (singleQuadrantDomainPadding === false) {\n      return val;\n    }\n\n    var coerce = type === \"min\" && min >= 0 && val <= 0 || type === \"max\" && max <= 0 && val >= 0;\n    return coerce ? 0 : val;\n  }; // Adjust the domain by the initial padding\n\n\n  var adjustedDomain = {\n    min: adjust(min.valueOf() - initialPadding.left, \"min\"),\n    max: adjust(max.valueOf() + initialPadding.right, \"max\")\n  }; // re-calculate padding, taking the adjusted domain into account\n\n  var finalPadding = {\n    left: Math.abs(adjustedDomain.max - adjustedDomain.min) * padding.left / rangeExtent,\n    right: Math.abs(adjustedDomain.max - adjustedDomain.min) * padding.right / rangeExtent\n  }; // Adjust the domain by the final padding\n\n  var paddedDomain = {\n    min: adjust(min.valueOf() - finalPadding.left, \"min\"),\n    max: adjust(max.valueOf() + finalPadding.right, \"max\")\n  }; // default to minDomain / maxDomain if they exist\n\n  var finalDomain = {\n    min: minDomain !== undefined ? minDomain : paddedDomain.min,\n    max: maxDomain !== undefined ? maxDomain : paddedDomain.max\n  };\n  return min instanceof Date || max instanceof Date ? getDomainFromMinMax(new Date(finalDomain.min), new Date(finalDomain.max)) : getDomainFromMinMax(finalDomain.min, finalDomain.max);\n} // Public Methods\n\n/**\n * Returns a getDomain function\n * @param {Function} getDomainFromDataFunction: a function that takes props and axis and\n * returns a domain based on data\n * @param {Function} formatDomainFunction: a function that takes domain, props, and axis and\n * returns a formatted domain\n * @returns {Function} a function that takes props and axis and returns a formatted domain\n */\n\n\nfunction createDomainFunction(getDomainFromDataFunction, formatDomainFunction) {\n  getDomainFromDataFunction = _isFunction(getDomainFromDataFunction) ? getDomainFromDataFunction : getDomainFromData;\n  formatDomainFunction = _isFunction(formatDomainFunction) ? formatDomainFunction : formatDomain;\n  return function (props, axis) {\n    var propsDomain = getDomainFromProps(props, axis);\n\n    if (propsDomain) {\n      return formatDomainFunction(propsDomain, props, axis);\n    }\n\n    var categories = Data.getCategories(props, axis);\n    var domain = categories ? getDomainFromCategories(props, axis, categories) : getDomainFromDataFunction(props, axis);\n    return domain ? formatDomainFunction(domain, props, axis) : undefined;\n  };\n}\n/**\n * Returns a formatted domain.\n * @param {Array} domain: a domain in the form of a two element array\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @returns {Array} a domain in the form of a two element array\n */\n\n\nfunction formatDomain(domain, props, axis) {\n  return cleanDomain(padDomain(domain, props, axis), props, axis);\n}\n/**\n * Returns a domain for a given axis based on props, category, or data\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @returns {Array} the domain for the given axis\n */\n\n\nfunction getDomain(props, axis) {\n  return createDomainFunction()(props, axis);\n}\n/**\n * Returns a domain based on categories if they exist\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @param {Array} categories: an array of categories corresponding to a given axis\n * @returns {Array|undefined} returns a domain from categories or undefined\n */\n\n\nfunction getDomainFromCategories(props, axis, categories) {\n  categories = categories || Data.getCategories(props, axis);\n  var polar = props.polar,\n      _props$startAngle = props.startAngle,\n      startAngle = _props$startAngle === void 0 ? 0 : _props$startAngle,\n      _props$endAngle = props.endAngle,\n      endAngle = _props$endAngle === void 0 ? 360 : _props$endAngle;\n\n  if (!categories) {\n    return undefined;\n  }\n\n  var minDomain = getMinFromProps(props, axis);\n  var maxDomain = getMaxFromProps(props, axis);\n  var stringArray = Collection.containsStrings(categories) ? Data.getStringsFromCategories(props, axis) : [];\n  var stringMap = stringArray.length === 0 ? null : stringArray.reduce(function (memo, string, index) {\n    memo[string] = index + 1;\n    return memo;\n  }, {});\n  var categoryValues = stringMap ? categories.map(function (value) {\n    return stringMap[value];\n  }) : categories;\n  var min = minDomain !== undefined ? minDomain : Collection.getMinValue(categoryValues);\n  var max = maxDomain !== undefined ? maxDomain : Collection.getMaxValue(categoryValues);\n  var categoryDomain = getDomainFromMinMax(min, max);\n  return polar && axis === \"x\" && Math.abs(startAngle - endAngle) === 360 ? getSymmetricDomain(categoryDomain, categoryValues) : categoryDomain;\n}\n/**\n * Returns a domain from a dataset for a given axis\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @param {Array} dataset: an array of data\n * @returns {Array} the domain based on data\n */\n\n\nfunction getDomainFromData(props, axis, dataset) {\n  dataset = dataset || Data.getData(props);\n  var polar = props.polar,\n      _props$startAngle2 = props.startAngle,\n      startAngle = _props$startAngle2 === void 0 ? 0 : _props$startAngle2,\n      _props$endAngle2 = props.endAngle,\n      endAngle = _props$endAngle2 === void 0 ? 360 : _props$endAngle2;\n  var minDomain = getMinFromProps(props, axis);\n  var maxDomain = getMaxFromProps(props, axis);\n\n  if (dataset.length < 1) {\n    return minDomain !== undefined && maxDomain !== undefined ? getDomainFromMinMax(minDomain, maxDomain) : undefined;\n  }\n\n  var min = minDomain !== undefined ? minDomain : getExtremeFromData(dataset, axis, \"min\");\n  var max = maxDomain !== undefined ? maxDomain : getExtremeFromData(dataset, axis, \"max\");\n  var domain = getDomainFromMinMax(min, max);\n  return polar && axis === \"x\" && Math.abs(startAngle - endAngle) === 360 ? getSymmetricDomain(domain, getFlatData(dataset, axis)) : domain;\n}\n/**\n * Returns a domain in the form of a two element array given a min and max value.\n * @param {Number|Date} min: the props object\n * @param {Number|Date} max: the current axis\n * @returns {Array} the minDomain based on props\n */\n\n\nfunction getDomainFromMinMax(min, max) {\n  var getSinglePointDomain = function (val) {\n    // d3-scale does not properly resolve very small differences.\n    // eslint-disable-next-line no-magic-numbers\n    var verySmallNumber = val === 0 ? 2 * Math.pow(10, -10) : Math.pow(10, -10);\n    var verySmallDate = 1;\n    var minVal = val instanceof Date ? new Date(+val - verySmallDate) : +val - verySmallNumber;\n    var maxVal = val instanceof Date ? new Date(+val + verySmallDate) : +val + verySmallNumber;\n    return val === 0 ? [0, maxVal] : [minVal, maxVal];\n  };\n\n  return +min === +max ? getSinglePointDomain(max) : [min, max];\n}\n/**\n * Returns a the domain for a given axis if domain is given in props\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @returns {Array|undefined} the domain based on props\n */\n\n\nfunction getDomainFromProps(props, axis) {\n  var minDomain = getMinFromProps(props, axis);\n  var maxDomain = getMaxFromProps(props, axis);\n\n  if (_isPlainObject(props.domain) && props.domain[axis]) {\n    return props.domain[axis];\n  } else if (Array.isArray(props.domain)) {\n    return props.domain;\n  } else if (minDomain !== undefined && maxDomain !== undefined) {\n    return getDomainFromMinMax(minDomain, maxDomain);\n  }\n\n  return undefined;\n}\n/**\n * Returns a domain for a given axis. This method forces the domain to include\n * zero unless the domain is explicitly specified in props.\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @returns {Array} the domain for the given axis\n */\n\n\nfunction getDomainWithZero(props, axis) {\n  var propsDomain = getDomainFromProps(props, axis);\n\n  if (propsDomain) {\n    return propsDomain;\n  }\n\n  var dataset = Data.getData(props);\n  var y0Min = dataset.reduce(function (min, datum) {\n    return datum._y0 < min ? datum._y0 : min;\n  }, Infinity);\n\n  var ensureZero = function (domain) {\n    if (axis === \"x\") {\n      return domain;\n    }\n\n    var defaultMin = y0Min !== Infinity ? y0Min : 0;\n    var maxDomainProp = getMaxFromProps(props, axis);\n    var minDomainProp = getMinFromProps(props, axis);\n    var max = maxDomainProp !== undefined ? maxDomainProp : Collection.getMaxValue(domain, defaultMin);\n    var min = minDomainProp !== undefined ? minDomainProp : Collection.getMinValue(domain, defaultMin);\n    return getDomainFromMinMax(min, max);\n  };\n\n  var getDomainFunction = function () {\n    return getDomainFromData(props, axis, dataset);\n  };\n\n  var formatDomainFunction = function (domain) {\n    return formatDomain(ensureZero(domain), props, axis);\n  };\n\n  return createDomainFunction(getDomainFunction, formatDomainFunction)(props, axis);\n}\n/**\n * Returns the maxDomain from props if it exists\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @returns {Number|Date|undefined} the maxDomain based on props\n */\n\n\nfunction getMaxFromProps(props, axis) {\n  if (_isPlainObject(props.maxDomain) && props.maxDomain[axis] !== undefined) {\n    return props.maxDomain[axis];\n  }\n\n  return typeof props.maxDomain === \"number\" || _isDate(props.maxDomain) ? props.maxDomain : undefined;\n}\n/**\n * Returns the minDomain from props if it exists\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @returns {Number|Date|undefined} the minDomain based on props\n */\n\n\nfunction getMinFromProps(props, axis) {\n  if (_isPlainObject(props.minDomain) && props.minDomain[axis] !== undefined) {\n    return props.minDomain[axis];\n  }\n\n  return typeof props.minDomain === \"number\" || _isDate(props.minDomain) ? props.minDomain : undefined;\n}\n/**\n * Returns a symmetrically padded domain for polar charts\n * @param {Array} domain: the original domain\n * @param {Array} values: a flat array of values corresponding to either tickValues, or data values\n * for a given dimension i.e. only x values.\n * @returns {Array} the symmetric domain\n */\n\n\nfunction getSymmetricDomain(domain, values) {\n  var processedData = _sortedUniq(values.sort(function (a, b) {\n    return a - b;\n  }));\n\n  var step = processedData[1] - processedData[0];\n  return [domain[0], domain[1] + step];\n}\n/**\n * Checks whether a given component can be used to calculate domain\n * @param {Component} component: a React component instance\n * @returns {Boolean} Returns true if the given component has a role included in the whitelist\n */\n\n\nfunction isDomainComponent(component) {\n  var getRole = function (child) {\n    return child && child.type ? child.type.role : \"\";\n  };\n\n  var role = getRole(component);\n\n  if (role === \"portal\") {\n    var children = React.Children.toArray(component.props.children);\n    role = children.length ? getRole(children[0]) : \"\";\n  }\n\n  var whitelist = [\"area\", \"axis\", \"bar\", \"boxplot\", \"candlestick\", \"errorbar\", \"group\", \"histogram\", \"line\", \"pie\", \"scatter\", \"stack\", \"voronoi\"];\n  return _includes(whitelist, role);\n}\n\nexport default {\n  createDomainFunction: createDomainFunction,\n  formatDomain: formatDomain,\n  getDomain: getDomain,\n  getDomainFromCategories: getDomainFromCategories,\n  getDomainFromData: getDomainFromData,\n  getDomainFromMinMax: getDomainFromMinMax,\n  getDomainFromProps: getDomainFromProps,\n  getDomainWithZero: getDomainWithZero,\n  getMaxFromProps: getMaxFromProps,\n  getMinFromProps: getMinFromProps,\n  getSymmetricDomain: getSymmetricDomain,\n  isDomainComponent: isDomainComponent\n};","import _without from \"lodash/without\";\nimport _includes from \"lodash/includes\";\nimport _values from \"lodash/values\";\nimport _orderBy from \"lodash/orderBy\";\nimport _range from \"lodash/range\";\nimport _uniq from \"lodash/uniq\";\nimport _invert from \"lodash/invert\";\nimport _isObject from \"lodash/isObject\";\nimport _isFunction from \"lodash/isFunction\";\nimport _identity from \"lodash/identity\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\n/* eslint-disable func-style */\nimport React from \"react\";\nimport Collection from \"./collection\";\nimport Domain from \"./domain\";\nimport Helpers from \"./helpers\";\n/**\n * Returns the axis (x or y) of a particular axis component\n * @param {Object} props: the props object.\n * @param {Boolean} horizontal: true for horizontal charts\n * @returns {String} the dimension appropriate for the axis given its props\n */\n\nfunction getAxis(props) {\n  var dependentAxis = props.dependentAxis;\n  return dependentAxis ? \"y\" : \"x\";\n}\n/**\n * Returns all axis components that pass a given predicate\n * @param {Array} childComponents: an array of children\n * @param {Function} predicate: a predicate function that will be called with each\n * @returns {Array} all axis components that pass the given predicate or []\n */\n\n\nfunction findAxisComponents(childComponents, predicate) {\n  predicate = predicate || _identity;\n\n  var findAxes = function (children) {\n    return children.reduce(function (memo, child) {\n      if (child.type && child.type.role === \"axis\" && predicate(child)) {\n        return memo.concat(child);\n      } else if (child.props && child.props.children) {\n        return memo.concat(findAxes(React.Children.toArray(child.props.children)));\n      }\n\n      return memo;\n    }, []);\n  };\n\n  return findAxes(childComponents);\n}\n/**\n * Returns a single axis component of the desired axis type (x or y)\n * @param {Array} childComponents: an array of children\n * @param {String} axis: desired axis either \"x\" or \"y\".\n * @returns {ReactComponent} an axis component of the desired axis or undefined\n */\n\n\nfunction getAxisComponent(childComponents, axis) {\n  var matchesAxis = function (component) {\n    var type = component.type.getAxis(component.props);\n    return type === axis;\n  };\n\n  return findAxisComponents(childComponents, matchesAxis)[0];\n}\n/**\n * Returns all axis components of the desired axis type (x or y) along with any\n * parent components excluding VictoryChart\n * @param {Array} childComponents: an optional array of children.\n * @param {String} type: desired axis either \"dependent\" or \"independent\".\n * @returns {ReactComponent} an axis component of the desired type or undefined\n */\n\n\nfunction getAxisComponentsWithParent(childComponents, type) {\n  var matchesType = function (child) {\n    return type === \"dependent\" ? child.props.dependentAxis : !child.props.dependentAxis;\n  };\n\n  var findComponents = function (children) {\n    return children.reduce(function (memo, child) {\n      if (child.type && child.type.role === \"axis\" && matchesType(child)) {\n        return memo.concat(child);\n      } else if (child.props && child.props.children) {\n        var childAxis = findComponents(React.Children.toArray(child.props.children));\n        return childAxis.length > 0 ? memo.concat(child) : memo;\n      }\n\n      return memo;\n    }, []);\n  };\n\n  return findComponents(childComponents);\n}\n\nfunction getOrigin(domain) {\n  var getSingleOrigin = function (d) {\n    var domainMin = Math.min.apply(Math, _toConsumableArray(d));\n    var domainMax = Math.max.apply(Math, _toConsumableArray(d));\n    return domainMax < 0 ? domainMax : Math.max(0, domainMin);\n  };\n\n  return {\n    x: Collection.containsDates(domain.x) ? new Date(Math.min.apply(Math, _toConsumableArray(domain.x))) : getSingleOrigin(domain.x),\n    y: Collection.containsDates(domain.y) ? new Date(Math.min.apply(Math, _toConsumableArray(domain.y))) : getSingleOrigin(domain.y)\n  };\n}\n\nfunction getOriginSign(origin, domain) {\n  var getSign = function () {\n    return origin <= 0 && Math.max.apply(Math, _toConsumableArray(domain)) <= 0 ? \"negative\" : \"positive\";\n  };\n\n  return Collection.containsDates(domain) ? \"positive\" : getSign();\n}\n/**\n * @param {Object} props: axis component props\n * @returns {Boolean} true when the axis is vertical\n */\n\n\nfunction isVertical(props) {\n  var orientation = props.orientation || (props.dependentAxis ? \"left\" : \"bottom\");\n  var vertical = {\n    top: false,\n    bottom: false,\n    left: true,\n    right: true\n  };\n  return vertical[orientation];\n}\n/**\n * @param {Object} props: axis component props\n * @returns {Boolean} true when tickValues contain strings\n */\n\n\nfunction stringTicks(props) {\n  return props.tickValues !== undefined && Collection.containsStrings(props.tickValues);\n}\n\nfunction getDefaultTickFormat(props) {\n  var tickValues = props.tickValues;\n  var axis = getAxis(props);\n  var stringMap = props.stringMap && props.stringMap[axis];\n  var fallbackFormat = tickValues && !Collection.containsDates(tickValues) ? function (x) {\n    return x;\n  } : undefined;\n\n  if (!stringMap) {\n    return stringTicks(props) ? function (x, index) {\n      return tickValues[index];\n    } : fallbackFormat;\n  } else {\n    var invertedStringMap = stringMap && _invert(stringMap);\n\n    var tickValueArray = _orderBy(_values(stringMap), function (n) {\n      return n;\n    });\n\n    var dataNames = tickValueArray.map(function (tick) {\n      return invertedStringMap[tick];\n    }); // string ticks should have one tick of padding at the beginning\n\n    var dataTicks = [\"\"].concat(_toConsumableArray(dataNames), [\"\"]);\n    return function (x) {\n      return dataTicks[x];\n    };\n  }\n}\n\nfunction getTickFormat(props, scale) {\n  var tickFormat = props.tickFormat;\n  var axis = getAxis(props);\n  var stringMap = props.stringMap && props.stringMap[axis];\n\n  if (!tickFormat) {\n    var defaultTickFormat = getDefaultTickFormat(props);\n    var scaleTickFormat = scale.tickFormat && _isFunction(scale.tickFormat) ? scale.tickFormat() : function (x) {\n      return x;\n    };\n    return defaultTickFormat || scaleTickFormat;\n  } else if (tickFormat && Array.isArray(tickFormat)) {\n    return function (x, index) {\n      return tickFormat[index];\n    };\n  } else if (tickFormat && _isFunction(tickFormat)) {\n    var applyStringTicks = function (tick, index, ticks) {\n      var invertedStringMap = _invert(stringMap);\n\n      var stringTickArray = ticks.map(function (t) {\n        return invertedStringMap[t];\n      });\n      return props.tickFormat(invertedStringMap[tick], index, stringTickArray);\n    };\n\n    return stringMap ? applyStringTicks : tickFormat;\n  } else {\n    return function (x) {\n      return x;\n    };\n  }\n}\n\nfunction getStringTicks(props) {\n  var axis = getAxis(props);\n  var stringMap = props.stringMap && props.stringMap[axis];\n  var categories = Array.isArray(props.categories) ? props.categories : props.categories && props.categories[axis];\n  var ticksFromCategories = categories && Collection.containsOnlyStrings(categories) ? categories.map(function (tick) {\n    return stringMap[tick];\n  }) : undefined;\n\n  var ticksFromStringMap = stringMap && _values(stringMap);\n\n  return ticksFromCategories && ticksFromCategories.length !== 0 ? ticksFromCategories : ticksFromStringMap;\n}\n\nfunction getTickArray(props) {\n  var tickValues = props.tickValues,\n      tickFormat = props.tickFormat;\n  var axis = getAxis(props);\n  var stringMap = props.stringMap && props.stringMap[axis];\n\n  var getTicksFromFormat = function () {\n    if (!tickFormat || !Array.isArray(tickFormat)) {\n      return undefined;\n    }\n\n    return Collection.containsStrings(tickFormat) ? tickFormat.map(function (t, i) {\n      return i;\n    }) : tickFormat;\n  };\n\n  var ticks = tickValues;\n\n  if (stringMap) {\n    ticks = getStringTicks(props);\n  }\n\n  if (tickValues && Collection.containsStrings(tickValues)) {\n    ticks = stringMap ? tickValues.map(function (tick) {\n      return stringMap[tick];\n    }) : _range(1, tickValues.length + 1);\n  }\n\n  var tickArray = ticks ? _uniq(ticks) : getTicksFromFormat(props);\n\n  var filterArray = function (arr) {\n    var domain = props.domain && props.domain[axis] || props.domain;\n    return Array.isArray(domain) ? arr.filter(function (t) {\n      return t >= Math.min.apply(Math, _toConsumableArray(domain)) && t <= Math.max.apply(Math, _toConsumableArray(domain));\n    }) : arr;\n  };\n\n  return Array.isArray(tickArray) && tickArray.length ? filterArray(tickArray) : undefined;\n}\n\nfunction downsampleTicks(ticks, tickCount) {\n  if (!tickCount || !Array.isArray(ticks) || ticks.length <= tickCount) {\n    return ticks;\n  }\n\n  var k = Math.floor(ticks.length / tickCount);\n  return ticks.filter(function (d, i) {\n    return i % k === 0;\n  });\n}\n\nfunction getTicks(props, scale, filterZero) {\n  var tickCount = props.tickCount;\n  var tickValues = getTickArray(props);\n\n  if (tickValues) {\n    return downsampleTicks(tickValues, tickCount);\n  } else if (scale.ticks && _isFunction(scale.ticks)) {\n    // eslint-disable-next-line no-magic-numbers\n    var defaultTickCount = tickCount || 5;\n    var scaleTicks = scale.ticks(defaultTickCount);\n    var tickArray = Array.isArray(scaleTicks) && scaleTicks.length ? scaleTicks : scale.domain();\n    var ticks = downsampleTicks(tickArray, tickCount);\n\n    if (filterZero) {\n      var filteredTicks = _includes(ticks, 0) ? _without(ticks, 0) : ticks;\n      return filteredTicks.length ? filteredTicks : ticks;\n    }\n\n    return ticks;\n  }\n\n  return scale.domain();\n}\n/**\n * Returns a domain based tickValues\n * @param {Object} props: the props object\n * @param {String} axis: either x or y\n * @returns {Array} returns a domain from tickValues\n */\n//eslint-disable-next-line max-statements\n\n\nfunction getDomainFromData(props, axis) {\n  var polar = props.polar,\n      _props$startAngle = props.startAngle,\n      startAngle = _props$startAngle === void 0 ? 0 : _props$startAngle,\n      _props$endAngle = props.endAngle,\n      endAngle = _props$endAngle === void 0 ? 360 : _props$endAngle;\n  var tickValues = getTickArray(props);\n\n  if (!Array.isArray(tickValues)) {\n    return undefined;\n  }\n\n  var minDomain = Domain.getMinFromProps(props, axis);\n  var maxDomain = Domain.getMaxFromProps(props, axis);\n  var tickStrings = stringTicks(props);\n  var ticks = tickValues.map(function (value) {\n    return +value;\n  });\n  var defaultMin = tickStrings ? 1 : Collection.getMinValue(ticks);\n  var defaultMax = tickStrings ? tickValues.length : Collection.getMaxValue(ticks);\n  var min = minDomain !== undefined ? minDomain : defaultMin;\n  var max = maxDomain !== undefined ? maxDomain : defaultMax;\n  var initialDomain = Domain.getDomainFromMinMax(min, max);\n  var domain = polar && axis === \"x\" && Math.abs(startAngle - endAngle) === 360 ? Domain.getSymmetricDomain(initialDomain, ticks) : initialDomain;\n\n  if (isVertical(props) && !polar) {\n    domain.reverse();\n  }\n\n  return domain;\n} // exposed for use by VictoryChart\n\n\nfunction getDomain(props, axis) {\n  var inherentAxis = getAxis(props);\n\n  if (axis && axis !== inherentAxis) {\n    return undefined;\n  }\n\n  return Domain.createDomainFunction(getDomainFromData)(props, inherentAxis);\n}\n\nfunction getAxisValue(props, axis) {\n  if (!props.axisValue) {\n    return undefined;\n  }\n\n  var scaleAxis = axis === \"x\" ? \"y\" : \"x\";\n  var scale = _isObject(props.scale) && _isFunction(props.scale[scaleAxis]) ? props.scale[scaleAxis] : undefined;\n\n  if (!scale) {\n    return undefined;\n  }\n\n  var stringMapAxis = axis === \"x\" ? \"y\" : \"x\";\n  var stringMap = _isObject(props.stringMap) && props.stringMap[stringMapAxis];\n  var axisValue = stringMap && typeof props.axisValue === \"string\" ? stringMap[props.axisValue] : props.axisValue;\n  return scale(axisValue);\n}\n\nfunction modifyProps(props, fallbackProps) {\n  if (!_isObject(props.theme)) {\n    return Helpers.modifyProps(props, fallbackProps, \"axis\");\n  }\n\n  var role = \"axis\";\n\n  if (props.dependentAxis && props.theme.dependentAxis) {\n    role = \"dependentAxis\";\n  } else if (!props.dependentAxis && props.theme.independentAxis) {\n    role = \"independentAxis\";\n  }\n\n  if (role === \"axis\") {\n    return Helpers.modifyProps(props, fallbackProps, \"axis\");\n  }\n\n  var axisTheme = _defaults({}, props.theme[role], props.theme.axis);\n\n  var theme = _assign({}, props.theme, {\n    axis: axisTheme\n  });\n\n  return Helpers.modifyProps(_assign({}, props, {\n    theme: theme\n  }), fallbackProps, \"axis\");\n}\n\nexport default {\n  getTicks: getTicks,\n  getTickFormat: getTickFormat,\n  getAxis: getAxis,\n  getAxisComponent: getAxisComponent,\n  getAxisComponentsWithParent: getAxisComponentsWithParent,\n  getAxisValue: getAxisValue,\n  findAxisComponents: findAxisComponents,\n  getOrigin: getOrigin,\n  getOriginSign: getOriginSign,\n  getDomain: getDomain,\n  isVertical: isVertical,\n  modifyProps: modifyProps,\n  stringTicks: stringTicks\n};","import _keys from \"lodash/keys\";\nimport _identity from \"lodash/identity\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\nimport React from \"react\";\n\nfunction getDatumKey(datum, idx) {\n  return (datum.key || idx).toString();\n}\n\nfunction getKeyedData(data) {\n  return data.reduce(function (keyedData, datum, idx) {\n    var key = getDatumKey(datum, idx);\n    keyedData[key] = datum;\n    return keyedData;\n  }, {});\n}\n\nfunction getKeyedDataDifference(a, b) {\n  var hasDifference = false;\n\n  var difference = _keys(a).reduce(function (_difference, key) {\n    if (!(key in b)) {\n      hasDifference = true;\n      _difference[key] = true;\n    }\n\n    return _difference;\n  }, {});\n\n  return hasDifference && difference;\n}\n/**\n * Calculate which data-points exist in oldData and not nextData -\n * these are the `exiting` data-points.  Also calculate which\n * data-points exist in nextData and not oldData - these are the\n * `entering` data-points.\n *\n * @param  {Array} oldData   this.props.data Array\n * @param  {Array} nextData  this.props.data Array\n *\n * @return {Object}          Object with `entering` and `exiting` properties.\n *                           entering[datum.key] will be true if the data is\n *                           entering, and similarly for `exiting`.\n */\n\n\nfunction getNodeTransitions(oldData, nextData) {\n  var oldDataKeyed = oldData && getKeyedData(oldData);\n  var nextDataKeyed = nextData && getKeyedData(nextData);\n  return {\n    entering: oldDataKeyed && getKeyedDataDifference(nextDataKeyed, oldDataKeyed),\n    exiting: nextDataKeyed && getKeyedDataDifference(oldDataKeyed, nextDataKeyed)\n  };\n}\n\nfunction getChildData(child) {\n  if (child.type && child.type.getData) {\n    return child.type.getData(child.props);\n  }\n\n  return child.props && child.props.data || false;\n}\n/**\n * If a parent component has animation enabled, calculate the transitions\n * for any data of any child component that supports data transitions\n * Data transitions are defined as any two datasets where data nodes exist\n * in the first set and not the second, in the second and not the first,\n * or both.\n *\n * @param  {Children}  oldChildren   this.props.children from old props\n * @param  {Children}  nextChildren  this.props.children from next props\n *\n * @return {Object}                  Object with the following properties:\n *                                    - nodesWillExit\n *                                    - nodesWillEnter\n *                                    - childrenTransitions\n *                                    - nodesShouldEnter\n */\n\n\nfunction getInitialTransitionState(oldChildren, nextChildren) {\n  var nodesWillExit = false;\n  var nodesWillEnter = false;\n\n  var getTransition = function (oldChild, newChild) {\n    if (!newChild || oldChild.type !== newChild.type) {\n      return {};\n    }\n\n    var _ref = getNodeTransitions(getChildData(oldChild), getChildData(newChild)) || {},\n        entering = _ref.entering,\n        exiting = _ref.exiting;\n\n    nodesWillExit = nodesWillExit || !!exiting;\n    nodesWillEnter = nodesWillEnter || !!entering;\n    return {\n      entering: entering || false,\n      exiting: exiting || false\n    };\n  };\n\n  var getTransitionsFromChildren = function (old, next) {\n    return old.map(function (child, idx) {\n      if (child && child.props && child.props.children && next[idx]) {\n        return getTransitionsFromChildren(React.Children.toArray(old[idx].props.children), React.Children.toArray(next[idx].props.children));\n      } // get Transition entering and exiting nodes\n\n\n      return getTransition(child, next[idx]);\n    });\n  };\n\n  var childrenTransitions = getTransitionsFromChildren(React.Children.toArray(oldChildren), React.Children.toArray(nextChildren));\n  return {\n    nodesWillExit: nodesWillExit,\n    nodesWillEnter: nodesWillEnter,\n    childrenTransitions: childrenTransitions,\n    // TODO: This may need to be refactored for the following situation.\n    //       The component receives new props, and the data provided\n    //       is a perfect match for the previous data and domain except\n    //       for new nodes. In this case, we wouldn't want a delay before\n    //       the new nodes appear.\n    nodesShouldEnter: false\n  };\n}\n\nfunction getInitialChildProps(animate, data) {\n  var after = animate.onEnter && animate.onEnter.after ? animate.onEnter.after : _identity;\n  return {\n    data: data.map(function (datum, idx) {\n      return _assign({}, datum, after(datum, idx, data));\n    })\n  };\n} // eslint-disable-next-line max-params\n\n\nfunction getChildBeforeLoad(animate, child, data, cb) {\n  animate = _assign({}, animate, {\n    onEnd: cb\n  });\n\n  if (animate && animate.onLoad && !animate.onLoad.duration) {\n    return {\n      animate: animate,\n      data: data\n    };\n  }\n\n  var before = animate.onLoad && animate.onLoad.before ? animate.onLoad.before : _identity; // If nodes need to exit, transform them with the provided onLoad.before function.\n\n  data = data.map(function (datum, idx) {\n    return _assign({}, datum, before(datum, idx, data));\n  });\n  return {\n    animate: animate,\n    data: data,\n    clipWidth: 0\n  };\n} // eslint-disable-next-line max-params\n\n\nfunction getChildOnLoad(animate, data, cb) {\n  animate = _assign({}, animate, {\n    onEnd: cb\n  });\n\n  if (animate && animate.onLoad && !animate.onLoad.duration) {\n    return {\n      animate: animate,\n      data: data\n    };\n  }\n\n  var after = animate.onLoad && animate.onLoad.after ? animate.onLoad.after : _identity; // If nodes need to exit, transform them with the provided onLoad.after function.\n\n  data = data.map(function (datum, idx) {\n    return _assign({}, datum, after(datum, idx, data));\n  });\n  return {\n    animate: animate,\n    data: data\n  };\n} // eslint-disable-next-line max-params, max-len\n\n\nfunction getChildPropsOnExit(animate, child, data, exitingNodes, cb) {\n  // Whether or not _this_ child has exiting nodes, we want the exit-\n  // transition for all children to have the same duration, delay, etc.\n  var onExit = animate && animate.onExit;\n  animate = _assign({}, animate, onExit);\n\n  if (exitingNodes) {\n    // After the exit transition occurs, trigger the animations for\n    // nodes that are neither exiting or entering.\n    animate.onEnd = cb;\n    var before = animate.onExit && animate.onExit.before ? animate.onExit.before : _identity; // If nodes need to exit, transform them with the provided onExit.before function.\n\n    data = data.map(function (datum, idx) {\n      var key = (datum.key || idx).toString();\n      return exitingNodes[key] ? _assign({}, datum, before(datum, idx, data)) : datum;\n    });\n  }\n\n  return {\n    animate: animate,\n    data: data\n  };\n} // eslint-disable-next-line max-params,max-len\n\n\nfunction getChildPropsBeforeEnter(animate, child, data, enteringNodes, cb) {\n  if (enteringNodes) {\n    // Perform a normal animation here, except - when it finishes - trigger\n    // the transition for entering nodes.\n    animate = _assign({}, animate, {\n      onEnd: cb\n    });\n    var before = animate.onEnter && animate.onEnter.before ? animate.onEnter.before : _identity; // We want the entering nodes to be included in the transition target\n    // domain.  However, we may not want these nodes to be displayed initially,\n    // so perform the `onEnter.before` transformation on each node.\n\n    data = data.map(function (datum, idx) {\n      var key = (datum.key || idx).toString();\n      return enteringNodes[key] ? _assign({}, datum, before(datum, idx, data)) : datum;\n    });\n  }\n\n  return {\n    animate: animate,\n    data: data\n  };\n} // eslint-disable-next-line max-params, max-len\n\n\nfunction getChildPropsOnEnter(animate, data, enteringNodes, cb) {\n  // Whether or not _this_ child has entering nodes, we want the entering-\n  // transition for all children to have the same duration, delay, etc.\n  var onEnter = animate && animate.onEnter;\n  animate = _assign({}, animate, onEnter);\n\n  if (enteringNodes) {\n    // Old nodes have been transitioned to their new values, and the\n    // domain should encompass the nodes that will now enter. So perform\n    // the `onEnter.after` transformation on each node.\n    animate.onEnd = cb;\n    var after = animate.onEnter && animate.onEnter.after ? animate.onEnter.after : _identity;\n    data = data.map(function (datum, idx) {\n      var key = getDatumKey(datum, idx);\n      return enteringNodes[key] ? _assign({}, datum, after(datum, idx, data)) : datum;\n    });\n  }\n\n  return {\n    animate: animate,\n    data: data\n  };\n}\n/**\n * getTransitionPropsFactory - putting the Java in JavaScript.  This will return a\n * function that returns prop transformations for a child, given that child's props\n * and its index in the parent's children array.\n *\n * In particular, this will include an `animate` object that is set appropriately\n * so that each child will be synchoronized for each stage of a transition\n * animation.  It will also include a transformed `data` object, where each datum\n * is transformed by `animate.onExit` and `animate.onEnter` `before` and `after`\n * functions.\n *\n * @param  {Object}  props       `this.props` for the parent component.\n * @param  {Object} state        `this.state` for the parent component.\n * @param  {Function} setState    Function that, when called, will `this.setState` on\n *                                 the parent component with the provided object.\n *\n * @return {Function}              Child-prop transformation function.\n */\n\n\nfunction getTransitionPropsFactory(props, state, setState) {\n  var nodesWillExit = state && state.nodesWillExit;\n  var nodesWillEnter = state && state.nodesWillEnter;\n  var nodesShouldEnter = state && state.nodesShouldEnter;\n  var nodesShouldLoad = state && state.nodesShouldLoad;\n  var nodesDoneLoad = state && state.nodesDoneLoad;\n  var childrenTransitions = state && state.childrenTransitions || [];\n  var transitionDurations = {\n    enter: props.animate && props.animate.onEnter && props.animate.onEnter.duration,\n    exit: props.animate && props.animate.onExit && props.animate.onExit.duration,\n    load: props.animate && props.animate.onLoad && props.animate.onLoad.duration,\n    move: props.animate && props.animate.duration\n  };\n\n  var onLoad = function (child, data, animate) {\n    if (nodesShouldLoad) {\n      return getChildOnLoad(animate, data, function () {\n        setState({\n          nodesShouldLoad: false,\n          nodesDoneLoad: true\n        });\n      });\n    }\n\n    return getChildBeforeLoad(animate, child, data, function () {\n      setState({\n        nodesDoneLoad: true\n      });\n    });\n  }; // eslint-disable-next-line max-params\n\n\n  var onExit = function (nodes, child, data, animate) {\n    return getChildPropsOnExit(animate, child, data, nodes, function () {\n      setState({\n        nodesWillExit: false\n      });\n    });\n  }; // eslint-disable-next-line max-params\n\n\n  var onEnter = function (nodes, child, data, animate) {\n    if (nodesShouldEnter) {\n      return getChildPropsOnEnter(animate, data, nodes, function () {\n        setState({\n          nodesWillEnter: false\n        });\n      });\n    }\n\n    return getChildPropsBeforeEnter(animate, child, data, nodes, function () {\n      setState({\n        nodesShouldEnter: true\n      });\n    });\n  };\n\n  var getChildTransitionDuration = function (child, type) {\n    var animate = child.props.animate;\n\n    if (!child.type) {\n      return {};\n    }\n\n    var defaultTransitions = child.props && child.props.polar ? child.type.defaultPolarTransitions || child.type.defaultTransitions : child.type.defaultTransitions;\n\n    if (defaultTransitions) {\n      var animationDuration = animate[type] && animate[type].duration;\n      return animationDuration !== undefined ? animationDuration : defaultTransitions[type] && defaultTransitions[type].duration;\n    } else {\n      return {};\n    }\n  }; // eslint-disable-next-line max-statements, complexity, max-len\n\n\n  return function getTransitionProps(child, index) {\n    var data = getChildData(child) || [];\n\n    var animate = _defaults({}, props.animate, child.props.animate);\n\n    var defaultTransitions = child.props.polar ? child.type.defaultPolarTransitions || child.type.defaultTransitions : child.type.defaultTransitions;\n    animate.onExit = _defaults({}, animate.onExit, defaultTransitions && defaultTransitions.onExit);\n    animate.onEnter = _defaults({}, animate.onEnter, defaultTransitions && defaultTransitions.onEnter);\n    animate.onLoad = _defaults({}, animate.onLoad, defaultTransitions && defaultTransitions.onLoad);\n    var childTransitions = childrenTransitions[index] || childrenTransitions[0];\n\n    if (!nodesDoneLoad) {\n      // should do onLoad animation\n      var load = transitionDurations.load !== undefined ? transitionDurations.load : getChildTransitionDuration(child, \"onLoad\");\n      var animation = {\n        duration: load\n      };\n      return onLoad(child, data, _assign({}, animate, animation));\n    } else if (nodesWillExit) {\n      var exitingNodes = childTransitions && childTransitions.exiting;\n      var exit = transitionDurations.exit !== undefined ? transitionDurations.exit : getChildTransitionDuration(child, \"onExit\"); // if nodesWillExit, but this child has no exiting nodes, set a delay instead of a duration\n\n      var _animation = exitingNodes ? {\n        duration: exit\n      } : {\n        delay: exit\n      };\n\n      return onExit(exitingNodes, child, data, _assign({}, animate, _animation));\n    } else if (nodesWillEnter) {\n      var enteringNodes = childTransitions && childTransitions.entering;\n      var enter = transitionDurations.enter !== undefined ? transitionDurations.enter : getChildTransitionDuration(child, \"onEnter\");\n      var move = transitionDurations.move !== undefined ? transitionDurations.move : child.props.animate && child.props.animate.duration;\n      var _animation2 = {\n        duration: nodesShouldEnter && enteringNodes ? enter : move\n      };\n      return onEnter(enteringNodes, child, data, _assign({}, animate, _animation2));\n    } else if (!state && animate && animate.onExit) {\n      // This is the initial render, and nodes may enter when props change. Because\n      // animation interpolation is determined by old- and next- props, data may need\n      // to be augmented with certain properties.\n      //\n      // For example, it may be desired that exiting nodes go from `opacity: 1` to\n      // `opacity: 0`. Without setting this on a per-datum basis, the interpolation\n      // might go from `opacity: undefined` to `opacity: 0`, which would result in\n      // interpolated `opacity: NaN` values.\n      //\n      return getInitialChildProps(animate, data);\n    }\n\n    return {\n      animate: animate,\n      data: data\n    };\n  };\n}\n\nexport default {\n  getInitialTransitionState: getInitialTransitionState,\n  getTransitionPropsFactory: getTransitionPropsFactory\n};","import _keys from \"lodash/keys\";\nimport _includes from \"lodash/includes\";\nimport _uniq from \"lodash/uniq\";\nimport _omitBy from \"lodash/omitBy\";\nimport _pickBy from \"lodash/pickBy\";\nimport _without from \"lodash/without\";\nimport _isFunction from \"lodash/isFunction\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _assign from \"lodash/assign\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nvar GLOBAL_EVENT_REGEX = /^onGlobal(.*)$/;\nexport default {\n  /* Returns all own and shared events that should be attached to a single target element,\n   * i.e. an individual bar specified by target: \"data\", eventKey: [index].\n   * Returned events are scoped to the appropriate state. Either that of the component itself\n   * (i.e. VictoryBar) in the case of own events, or that of the parent component\n   * (i.e. VictoryChart) in the case of shared events\n   */\n  // eslint-disable-next-line max-params\n  getEvents: function (props, target, eventKey, getScopedEvents) {\n    var _this = this;\n\n    // Returns all events that apply to a particular target element\n    var getEventsByTarget = function (events) {\n      var getSelectedEvents = function () {\n        var targetEvents = events.reduce(function (memo, event) {\n          if (event.target !== undefined) {\n            var matchesTarget = Array.isArray(event.target) ? _includes(event.target, target) : \"\".concat(event.target) === \"\".concat(target);\n            return matchesTarget ? memo.concat(event) : memo;\n          }\n\n          return memo.concat(event);\n        }, []);\n\n        if (eventKey !== undefined && target !== \"parent\") {\n          return targetEvents.filter(function (obj) {\n            var targetKeys = obj.eventKey;\n\n            var useKey = function (key) {\n              return key ? \"\".concat(key) === \"\".concat(eventKey) : true;\n            };\n\n            return Array.isArray(targetKeys) ? targetKeys.some(function (k) {\n              return useKey(k);\n            }) : useKey(targetKeys);\n          });\n        }\n\n        return targetEvents;\n      };\n\n      var selectedEvents = getSelectedEvents();\n      return Array.isArray(selectedEvents) && selectedEvents.reduce(function (memo, event) {\n        return event ? _assign(memo, event.eventHandlers) : memo;\n      }, {});\n    };\n    /* Returns all events from props and defaultEvents from components. Events handlers\n     * specified in props will override handlers for the same event if they are also\n     * specified in defaultEvents of a sub-component\n     */\n\n\n    var getAllEvents = function () {\n      if (Array.isArray(_this.componentEvents)) {\n        var _this$componentEvents;\n\n        return Array.isArray(props.events) ? (_this$componentEvents = _this.componentEvents).concat.apply(_this$componentEvents, _toConsumableArray(props.events)) : _this.componentEvents;\n      }\n\n      return props.events;\n    };\n\n    var allEvents = getAllEvents();\n    var ownEvents = allEvents && _isFunction(getScopedEvents) ? getScopedEvents(getEventsByTarget(allEvents), target) : undefined;\n\n    if (!props.sharedEvents) {\n      return ownEvents;\n    }\n\n    var getSharedEvents = props.sharedEvents.getEvents;\n    var sharedEvents = props.sharedEvents.events && getSharedEvents(getEventsByTarget(props.sharedEvents.events), target);\n    return _assign({}, sharedEvents, ownEvents);\n  },\n\n  /* Returns a modified events object where each event handler is replaced by a new\n   * function that calls the original handler and then calls setState with the return\n   * of the original event handler assigned to state property that maps to the target\n   * element.\n   */\n  // eslint-disable-next-line max-params\n  getScopedEvents: function (events, namespace, childType, baseProps) {\n    var _this2 = this;\n\n    if (_isEmpty(events)) {\n      return {};\n    }\n\n    baseProps = baseProps || this.baseProps; // returns the original base props or base state of a given target element\n\n    var getTargetProps = function (identifier, type) {\n      var childName = identifier.childName,\n          target = identifier.target,\n          key = identifier.key;\n      var baseType = type === \"props\" ? baseProps : _this2.state || {};\n      var base = childName === undefined || childName === null || !baseType[childName] ? baseType : baseType[childName];\n      return key === \"parent\" ? base.parent : base[key] && base[key][target];\n    }; // Returns the state object with the mutation caused by a given eventReturn\n    // applied to the appropriate property on the state object\n\n\n    var parseEvent = function (eventReturn, eventKey) {\n      var childNames = namespace === \"parent\" ? eventReturn.childName : eventReturn.childName || childType;\n      var target = eventReturn.target || namespace; // returns all eventKeys to modify for a targeted childName\n\n      var getKeys = function (childName) {\n        if (target === \"parent\") {\n          return \"parent\";\n        }\n\n        if (eventReturn.eventKey === \"all\") {\n          return baseProps[childName] ? _without(_keys(baseProps[childName]), \"parent\") : _without(_keys(baseProps), \"parent\");\n        } else if (eventReturn.eventKey === undefined && eventKey === \"parent\") {\n          return baseProps[childName] ? _keys(baseProps[childName]) : _keys(baseProps);\n        }\n\n        return eventReturn.eventKey !== undefined ? eventReturn.eventKey : eventKey;\n      }; // returns the state object with mutated props applied for a single key\n\n\n      var getMutationObject = function (key, childName) {\n        var baseState = _this2.state || {};\n\n        if (!_isFunction(eventReturn.mutation)) {\n          return baseState;\n        }\n\n        var mutationTargetProps = getTargetProps({\n          childName: childName,\n          key: key,\n          target: target\n        }, \"props\");\n        var mutationTargetState = getTargetProps({\n          childName: childName,\n          key: key,\n          target: target\n        }, \"state\");\n        var mutatedProps = eventReturn.mutation(_assign({}, mutationTargetProps, mutationTargetState), baseProps);\n        var childState = baseState[childName] || {};\n\n        var filterState = function (state) {\n          if (state[key] && state[key][target]) {\n            delete state[key][target];\n          }\n\n          if (state[key] && !_keys(state[key]).length) {\n            delete state[key];\n          }\n\n          return state;\n        };\n\n        var extendState = function (state) {\n          return target === \"parent\" ? _assign(state, _defineProperty({}, key, _assign(state[key], mutatedProps))) : _assign(state, _defineProperty({}, key, _assign(state[key], _defineProperty({}, target, mutatedProps))));\n        };\n\n        var updateState = function (state) {\n          return mutatedProps ? extendState(state) : filterState(state);\n        };\n\n        return childName !== undefined && childName !== null ? _assign(baseState, _defineProperty({}, childName, updateState(childState))) : updateState(baseState);\n      }; // returns entire mutated state for a given childName\n\n\n      var getReturnByChild = function (childName) {\n        var mutationKeys = getKeys(childName);\n        return Array.isArray(mutationKeys) ? mutationKeys.reduce(function (memo, key) {\n          return _assign(memo, getMutationObject(key, childName));\n        }, {}) : getMutationObject(mutationKeys, childName);\n      }; // returns an entire mutated state for all children\n\n\n      var allChildNames = childNames === \"all\" ? _without(_keys(baseProps), \"parent\") : childNames;\n      return Array.isArray(allChildNames) ? allChildNames.reduce(function (memo, childName) {\n        return _assign(memo, getReturnByChild(childName));\n      }, {}) : getReturnByChild(allChildNames);\n    }; // Parses an array of event returns into a single state mutation\n\n\n    var parseEventReturn = function (eventReturn, eventKey) {\n      return Array.isArray(eventReturn) ? eventReturn.reduce(function (memo, props) {\n        memo = _assign({}, memo, parseEvent(props, eventKey));\n        return memo;\n      }, {}) : parseEvent(eventReturn, eventKey);\n    };\n\n    var compileCallbacks = function (eventReturn) {\n      var getCallback = function (obj) {\n        return _isFunction(obj.callback) && obj.callback;\n      };\n\n      var callbacks = Array.isArray(eventReturn) ? eventReturn.map(function (evtObj) {\n        return getCallback(evtObj);\n      }) : [getCallback(eventReturn)];\n      var callbackArray = callbacks.filter(function (callback) {\n        return callback !== false;\n      });\n      return callbackArray.length ? function () {\n        return callbackArray.forEach(function (callback) {\n          return callback();\n        });\n      } : undefined;\n    }; // A function that calls a particular event handler, parses its return\n    // into a state mutation, and calls setState\n    // eslint-disable-next-line max-params\n\n\n    var onEvent = function (evt, childProps, eventKey, eventName) {\n      var eventReturn = events[eventName](evt, childProps, eventKey, _this2);\n\n      if (!_isEmpty(eventReturn)) {\n        var callbacks = compileCallbacks(eventReturn);\n\n        _this2.setState(parseEventReturn(eventReturn, eventKey), callbacks);\n      }\n    }; // returns a new events object with enhanced event handlers\n\n\n    return _keys(events).reduce(function (memo, event) {\n      memo[event] = onEvent;\n      return memo;\n    }, {});\n  },\n\n  /* Returns a partially applied event handler for a specific target element\n   * This allows event handlers to have access to props controlling each element\n   */\n  getPartialEvents: function (events, eventKey, childProps) {\n    return events ? _keys(events).reduce(function (memo, eventName) {\n      var appliedEvent = function (evt) {\n        return events[eventName](evt, childProps, eventKey, eventName);\n      };\n\n      memo[eventName] = appliedEvent;\n      return memo;\n    }, {}) : {};\n  },\n\n  /* Returns the property of the state object corresponding to event changes for\n   * a particular element\n   */\n  getEventState: function (eventKey, namespace, childType) {\n    var state = this.state || {};\n\n    if (!childType) {\n      return eventKey === \"parent\" ? state[eventKey] && state[eventKey][namespace] || state[eventKey] : state[eventKey] && state[eventKey][namespace];\n    }\n\n    return state[childType] && state[childType][eventKey] && state[childType][eventKey][namespace];\n  },\n\n  /**\n   * Returns a set of all mutations for shared events\n   *\n   * @param  {Array} mutations an array of mutations objects\n   * @param  {Object} baseProps an object that describes all props for children of VictorySharedEvents\n   * @param  {Object} baseState an object that describes state for children of VictorySharedEvents\n   * @param  {Array} childNames an array of childNames\n   *\n   * @return {Object} a object describing all mutations for VictorySharedEvents\n   */\n  // eslint-disable-next-line max-params\n  getExternalMutationsWithChildren: function (mutations, baseProps, baseState, childNames) {\n    var _this3 = this;\n\n    baseProps = baseProps || {};\n    baseState = baseState || {};\n    return childNames.reduce(function (memo, childName) {\n      var childState = baseState[childName];\n\n      var mutation = _this3.getExternalMutations(mutations, baseProps[childName], baseState[childName], childName);\n\n      memo[childName] = mutation ? mutation : childState;\n      return _pickBy(memo, function (v) {\n        return !_isEmpty(v);\n      });\n    }, {});\n  },\n\n  /**\n   * Returns a set of all mutations for a component\n   *\n   * @param  {Array} mutations an array of mutations objects\n   * @param  {Object} baseProps a props object (scoped to a childName when used by shared events)\n   * @param  {Object} baseState a state object (scoped to a childName when used by shared events)\n   * @param  {String} childName an optional childName\n   *\n   * @return {Object} a object describing mutations for a given component\n   */\n  // eslint-disable-next-line max-params\n  getExternalMutations: function (mutations, baseProps, baseState, childName) {\n    var _this4 = this;\n\n    baseProps = baseProps || {};\n    baseState = baseState || {};\n\n    var eventKeys = _keys(baseProps);\n\n    return eventKeys.reduce(function (memo, eventKey) {\n      var keyState = baseState[eventKey] || {};\n      var keyProps = baseProps[eventKey] || {};\n\n      if (eventKey === \"parent\") {\n        var identifier = {\n          eventKey: eventKey,\n          target: \"parent\"\n        };\n\n        var mutation = _this4.getExternalMutation(mutations, keyProps, keyState, identifier);\n\n        memo[eventKey] = mutation !== undefined ? _assign({}, keyState, mutation) : keyState;\n      } else {\n        // use keys from both state and props so that elements not intially included in baseProps\n        // will be used. (i.e. labels)\n        var targets = _uniq(_keys(keyProps).concat(_keys(keyState)));\n\n        memo[eventKey] = targets.reduce(function (m, target) {\n          var identifier = {\n            eventKey: eventKey,\n            target: target,\n            childName: childName\n          };\n\n          var mutation = _this4.getExternalMutation(mutations, keyProps[target], keyState[target], identifier);\n\n          m[target] = mutation !== undefined ? _assign({}, keyState[target], mutation) : keyState[target];\n          return _pickBy(m, function (v) {\n            return !_isEmpty(v);\n          });\n        }, {});\n      }\n\n      return _pickBy(memo, function (v) {\n        return !_isEmpty(v);\n      });\n    }, {});\n  },\n\n  /**\n   * Returns a set of mutations for a particular element given scoped baseProps and baseState\n   *\n   * @param  {Array} mutations an array of mutations objects\n   * @param  {Object} baseProps a props object (scoped the element specified by the identifier)\n   * @param  {Object} baseState a state object (scoped the element specified by the identifier)\n   * @param  {Object} identifier { eventKey, target, childName }\n   *\n   * @return {Object | undefined} a object describing mutations for a given element, or undefined\n   */\n  // eslint-disable-next-line max-params\n  getExternalMutation: function (mutations, baseProps, baseState, identifier) {\n    var filterMutations = function (mutation, type) {\n      if (typeof mutation[type] === \"string\") {\n        return mutation[type] === \"all\" || mutation[type] === identifier[type];\n      } else if (Array.isArray(mutation[type])) {\n        // coerce arrays to strings before matching\n        var stringArray = mutation[type].map(function (m) {\n          return \"\".concat(m);\n        });\n        return _includes(stringArray, identifier[type]);\n      } else {\n        return false;\n      }\n    };\n\n    mutations = Array.isArray(mutations) ? mutations : [mutations];\n    var scopedMutations = mutations;\n\n    if (identifier.childName) {\n      scopedMutations = mutations.filter(function (m) {\n        return filterMutations(m, \"childName\");\n      });\n    } // find any mutation objects that match the target\n\n\n    var targetMutations = scopedMutations.filter(function (m) {\n      return filterMutations(m, \"target\");\n    });\n\n    if (_isEmpty(targetMutations)) {\n      return undefined;\n    }\n\n    var keyMutations = targetMutations.filter(function (m) {\n      return filterMutations(m, \"eventKey\");\n    });\n\n    if (_isEmpty(keyMutations)) {\n      return undefined;\n    }\n\n    return keyMutations.reduce(function (memo, curr) {\n      var mutationFunction = curr && _isFunction(curr.mutation) ? curr.mutation : function () {\n        return undefined;\n      };\n      var currentMutation = mutationFunction(_assign({}, baseProps, baseState));\n      return _assign({}, memo, currentMutation);\n    }, {});\n  },\n\n  /* Returns an array of defaultEvents from sub-components of a given component.\n   * i.e. any static `defaultEvents` on `labelComponent` will be returned\n   */\n  getComponentEvents: function (props, components) {\n    var events = Array.isArray(components) && components.reduce(function (memo, componentName) {\n      var _memo;\n\n      var component = props[componentName];\n      var defaultEvents = component && component.type && component.type.defaultEvents;\n      var componentEvents = _isFunction(defaultEvents) ? defaultEvents(component.props) : defaultEvents;\n      memo = Array.isArray(componentEvents) ? (_memo = memo).concat.apply(_memo, _toConsumableArray(componentEvents)) : memo;\n      return memo;\n    }, []);\n    return events && events.length ? events : undefined;\n  },\n  getGlobalEventNameFromKey: function (key) {\n    var match = key.match(GLOBAL_EVENT_REGEX);\n    return match && match[1] && match[1].toLowerCase();\n  },\n  getGlobalEvents: function (events) {\n    return _pickBy(events, function (_, key) {\n      return GLOBAL_EVENT_REGEX.test(key);\n    });\n  },\n  omitGlobalEvents: function (events) {\n    return _omitBy(events, function (_, key) {\n      return GLOBAL_EVENT_REGEX.test(key);\n    });\n  },\n  emulateReactEvent: function (event) {\n    return _assign(event, {\n      nativeEvent: event\n    });\n  }\n};","import _isPlainObject from \"lodash/isPlainObject\";\nimport _values from \"lodash/values\";\nimport _uniqBy from \"lodash/uniqBy\";\nimport _groupBy from \"lodash/groupBy\";\nimport _some from \"lodash/some\";\nimport _uniq from \"lodash/uniq\";\nimport _isFunction from \"lodash/isFunction\";\nimport _flatten from \"lodash/flatten\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nimport React from \"react\";\nimport Axis from \"./axis\";\nimport Style from \"./style\";\nimport Transitions from \"./transitions\";\nimport Data from \"./data\";\nimport Domain from \"./domain\";\nimport Events from \"./events\";\nimport Collection from \"./collection\";\nimport Helpers from \"./helpers\";\nimport Scale from \"./scale\";\nimport Log from \"./log\";\nexport default {\n  getData: function (props, childComponents) {\n    if (props.data) {\n      return Data.getData(props);\n    }\n\n    childComponents = childComponents || React.Children.toArray(props.children);\n    return this.getDataFromChildren(childComponents);\n  },\n  getDefaultDomainPadding: function (props, axis, childComponents) {\n    if (props.polar || axis !== \"x\") {\n      return undefined;\n    }\n\n    var groupComponent = childComponents.filter(function (child) {\n      return child.type && child.type.role && child.type.role === \"group\";\n    });\n\n    if (groupComponent.length < 1) {\n      return undefined;\n    }\n\n    var _groupComponent$0$pro = groupComponent[0].props,\n        offset = _groupComponent$0$pro.offset,\n        children = _groupComponent$0$pro.children;\n    return {\n      x: offset * children.length / 2\n    };\n  },\n  getDomain: function (props, axis, childComponents) {\n    childComponents = childComponents || React.Children.toArray(props.children);\n    var propsDomain = Domain.getDomainFromProps(props, axis);\n    var domainPadding = this.getDefaultDomainPadding(props, axis, childComponents);\n    var domain;\n\n    if (propsDomain) {\n      domain = propsDomain;\n    } else {\n      var minDomain = Domain.getMinFromProps(props, axis);\n      var maxDomain = Domain.getMaxFromProps(props, axis);\n      var dataset = (props.data || props.y) && Data.getData(props);\n      var dataDomain = dataset ? Domain.getDomainFromData(props, axis, dataset) : [];\n      var childDomain = this.getDomainFromChildren(props, axis, childComponents);\n      var min = minDomain || Collection.getMinValue(_toConsumableArray(dataDomain).concat(_toConsumableArray(childDomain)));\n      var max = maxDomain || Collection.getMaxValue(_toConsumableArray(dataDomain).concat(_toConsumableArray(childDomain)));\n      domain = Domain.getDomainFromMinMax(min, max);\n    }\n\n    return Domain.formatDomain(domain, _assign({\n      domainPadding: domainPadding\n    }, props), axis);\n  },\n  getScale: function (props, axis, childComponents) {\n    if (props.data) {\n      return Scale.getBaseScale(props, axis);\n    }\n\n    var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n\n    var iteratee = function (child) {\n      var sharedProps = _assign({}, child.props, {\n        horizontal: props.horizontal\n      });\n\n      return Scale.getScaleType(sharedProps, axis);\n    };\n\n    var childScale = _uniq(Helpers.reduceChildren(children, iteratee, props)); // default to linear scale if more than one uniq scale type is given by children\n\n\n    return childScale.length > 1 ? Scale.getScaleFromName(\"linear\") : Scale.getScaleFromName(childScale[0]);\n  },\n  setAnimationState: function (props, nextProps) {\n    if (!props.animate) {\n      return;\n    }\n\n    if (props.animate.parentState) {\n      var nodesWillExit = props.animate.parentState.nodesWillExit;\n      var oldProps = nodesWillExit ? props : null;\n      this.setState(_defaults({\n        oldProps: oldProps,\n        nextProps: nextProps\n      }, props.animate.parentState));\n    } else {\n      var oldChildren = React.Children.toArray(props.children);\n      var nextChildren = React.Children.toArray(nextProps.children);\n\n      var isContinuous = function (child) {\n        var check = function (c) {\n          return c.type && c.type.continuous;\n        };\n\n        return Array.isArray(child) ? _some(child, check) : check(child);\n      };\n\n      var continuous = !props.polar && _some(oldChildren, function (child) {\n        return isContinuous(child) || child.props.children && isContinuous(child.props.children);\n      });\n\n      var _Transitions$getIniti = Transitions.getInitialTransitionState(oldChildren, nextChildren),\n          _nodesWillExit = _Transitions$getIniti.nodesWillExit,\n          nodesWillEnter = _Transitions$getIniti.nodesWillEnter,\n          childrenTransitions = _Transitions$getIniti.childrenTransitions,\n          nodesShouldEnter = _Transitions$getIniti.nodesShouldEnter;\n\n      this.setState({\n        nodesWillExit: _nodesWillExit,\n        nodesWillEnter: nodesWillEnter,\n        nodesShouldEnter: nodesShouldEnter,\n        childrenTransitions: Collection.isArrayOfArrays(childrenTransitions) ? childrenTransitions[0] : childrenTransitions,\n        oldProps: _nodesWillExit ? props : null,\n        nextProps: nextProps,\n        continuous: continuous\n      });\n    }\n  },\n  getAllEvents: function (props) {\n    var components = [\"groupComponent\", \"containerComponent\", \"labelComponent\"];\n    this.componentEvents = Events.getComponentEvents(props, components);\n    var events = props.events;\n\n    if (Array.isArray(this.componentEvents)) {\n      var _componentEvents;\n\n      events = Array.isArray(props.events) ? (_componentEvents = this.componentEvents).concat.apply(_componentEvents, _toConsumableArray(props.events)) : this.componentEvents;\n    }\n\n    return events || [];\n  },\n  getAnimationProps: function (props, child, index) {\n    var _this = this;\n\n    if (!props.animate) {\n      return child.props.animate;\n    }\n\n    var getFilteredState = function () {\n      var childrenTransitions = _this.state && _this.state.childrenTransitions;\n      childrenTransitions = Collection.isArrayOfArrays(childrenTransitions) ? childrenTransitions[index] : childrenTransitions;\n      return _defaults({\n        childrenTransitions: childrenTransitions\n      }, _this.state);\n    };\n\n    var getTransitions = props.animate && props.animate.getTransitions;\n    var state = getFilteredState();\n    var parentState = props.animate && props.animate.parentState || state;\n\n    if (!getTransitions) {\n      var getTransitionProps = Transitions.getTransitionPropsFactory(props, state, function (newState) {\n        return _this.setState(newState);\n      });\n\n      getTransitions = function (childComponent) {\n        return getTransitionProps(childComponent, index);\n      };\n    }\n\n    return _defaults({\n      getTransitions: getTransitions,\n      parentState: parentState\n    }, props.animate, child.props.animate);\n  },\n  getDomainFromChildren: function (props, axis, childComponents) {\n    // eslint-disable-line max-statements, complexity, max-len\n    var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n    var parentData = props.data ? Data.getData(props, axis) : undefined;\n    var polar = props.polar,\n        startAngle = props.startAngle,\n        endAngle = props.endAngle,\n        categories = props.categories,\n        minDomain = props.minDomain,\n        maxDomain = props.maxDomain,\n        horizontal = props.horizontal;\n    var baseParentProps = {\n      horizontal: horizontal,\n      polar: polar,\n      startAngle: startAngle,\n      endAngle: endAngle,\n      minDomain: minDomain,\n      maxDomain: maxDomain,\n      categories: categories\n    };\n    var parentProps = parentData ? _assign(baseParentProps, {\n      data: parentData\n    }) : baseParentProps;\n\n    var iteratee = function (child) {\n      var sharedProps = _assign({}, child.props, parentProps);\n\n      if (!Domain.isDomainComponent(child)) {\n        return null;\n      } else if (child.type && _isFunction(child.type.getDomain)) {\n        return child.props && child.type.getDomain(sharedProps, axis);\n      } else {\n        return Domain.getDomain(sharedProps, axis);\n      }\n    };\n\n    var childDomains = Helpers.reduceChildren(children, iteratee, props);\n    var min = childDomains.length === 0 ? 0 : Collection.getMinValue(childDomains);\n    var max = childDomains.length === 0 ? 1 : Collection.getMaxValue(childDomains);\n    return [min, max];\n  },\n  addBinsToParentPropsIfHistogram: function (_ref) {\n    var children = _ref.children,\n        props = _ref.props,\n        childComponents = _ref.childComponents,\n        parentProps = _ref.parentProps;\n    var someChildrenAreHistograms = children.some(function (child) {\n      return child.type && child.type.role === \"histogram\";\n    });\n    var allChildrenAreHistograms = someChildrenAreHistograms && children.length && children.every(function (child) {\n      return child.type && child.type.role === \"histogram\";\n    });\n\n    if (someChildrenAreHistograms && !allChildrenAreHistograms) {\n      Log.warn(\"VictoryHistogram only supports being stacked with other VictoryHistogram components. Check to make sure that you are only passing VictoryHistogram components to VictoryStack\");\n    } // if we are stacking histograms, we need to generate explicit bins\n    // or else each histogram may end up having different bins\n\n\n    if (!allChildrenAreHistograms) {\n      return parentProps;\n    }\n\n    var childBins = props.bins || childComponents[0].props.bins; // if we have explicit bins then we don't need to calculate them\n\n    if (!Array.isArray(childBins)) {\n      var combinedData = children.reduce(function (memo, child) {\n        var xAccessor = Helpers.createAccessor(child.props.x || \"x\");\n        return memo.concat(child.props.data.map(function (datum) {\n          return {\n            x: xAccessor(datum)\n          };\n        }));\n      }, []); // use the same function to generate bins as VictoryHistogram but with\n      // the combined data from above, then get explicit bins from that\n\n      var getFormattedHistogramData = children[0].type.getFormattedData;\n      childBins = getFormattedHistogramData({\n        data: combinedData,\n        bins: childBins\n      }).reduce(function (memo, _ref2, index) {\n        var x0 = _ref2.x0,\n            x1 = _ref2.x1;\n        return index === 0 ? memo.concat([x0, x1]) : memo.concat(x1);\n      }, []);\n    }\n\n    return _objectSpread({}, parentProps, {\n      bins: childBins\n    });\n  },\n  getDataFromChildren: function (props, childComponents) {\n    var polar = props.polar,\n        startAngle = props.startAngle,\n        endAngle = props.endAngle,\n        categories = props.categories,\n        minDomain = props.minDomain,\n        maxDomain = props.maxDomain;\n    var parentProps = {\n      polar: polar,\n      startAngle: startAngle,\n      endAngle: endAngle,\n      categories: categories,\n      minDomain: minDomain,\n      maxDomain: maxDomain\n    };\n    var stack = 0;\n    var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n    parentProps = this.addBinsToParentPropsIfHistogram({\n      children: children,\n      props: props,\n      childComponents: childComponents,\n      parentProps: parentProps\n    });\n\n    var iteratee = function (child, childName, parent) {\n      var childProps = _assign({}, child.props, parentProps);\n\n      var childData;\n\n      if (!Data.isDataComponent(child)) {\n        return null;\n      } else if (child.type && _isFunction(child.type.getData)) {\n        child = parent ? React.cloneElement(child, parent.props) : child;\n        childData = child.type.getData(childProps);\n      } else {\n        childData = Data.getData(childProps);\n      }\n\n      stack += 1;\n      return childData.map(function (datum, index) {\n        return _assign({\n          _stack: stack,\n          _group: index\n        }, datum);\n      });\n    };\n\n    var stacked = children.filter(function (c) {\n      return c.type && c.type.role === \"stack\";\n    }).length;\n\n    var combine = function (memo, val) {\n      return memo.concat(_uniqBy(val, \"_group\"));\n    };\n\n    var datasets = Helpers.reduceChildren(children, iteratee, props, [], combine);\n    var group = stacked ? \"_group\" : \"_stack\";\n    return _values(_groupBy(datasets, group));\n  },\n  getColor: function (calculatedProps, child, index) {\n    // check for styles first\n    var style = calculatedProps.style;\n    var colorScale = calculatedProps.colorScale,\n        color = calculatedProps.color;\n\n    if (style && style.data && style.data.fill) {\n      return style.data.fill;\n    }\n\n    colorScale = child.props && child.props.colorScale ? child.props.colorScale : colorScale;\n    color = child.props && child.props.color ? child.props.color : color;\n\n    if (!colorScale && !color) {\n      return undefined;\n    }\n\n    var colors = Array.isArray(colorScale) ? colorScale : Style.getColorScale(colorScale);\n    return color || colors[index % colors.length];\n  },\n  getWidth: function (props) {\n    var datasets = props.datasets,\n        scale = props.scale,\n        horizontal = props.horizontal;\n    var range = horizontal ? scale.y.range() : scale.x.range();\n    var extent = Math.abs(range[1] - range[0]);\n    var seriesLength = Array.isArray(datasets[0]) ? datasets[0].length : 1;\n    var bars = datasets.length * seriesLength + 2;\n    var barRatio = 0.5;\n    return {\n      width: Math.round(barRatio * extent / bars)\n    };\n  },\n  getStyle: function (theme, style, role) {\n    var defaultStyle = theme && theme[role] && theme[role].style ? theme[role].style : {};\n    return Helpers.getStyles(style, defaultStyle);\n  },\n  getChildStyle: function (child, index, calculatedProps) {\n    var style = calculatedProps.style,\n        role = calculatedProps.role;\n    var childStyle = child.props.style || {};\n\n    if (Array.isArray(childStyle)) {\n      return childStyle;\n    }\n\n    var childRole = child.type && child.type.role;\n    var defaultFill = childRole === \"stack\" ? undefined : this.getColor(calculatedProps, child, index);\n    var defaultColor = childRole === \"line\" ? {\n      fill: \"none\",\n      stroke: defaultFill\n    } : {\n      fill: defaultFill\n    };\n    var dataWidth = role === \"stack\" ? {} : this.getWidth(calculatedProps);\n\n    var dataStyle = _defaults({}, childStyle.data, _assign({}, dataWidth, style.data, defaultColor));\n\n    var labelsStyle = _defaults({}, childStyle.labels, style.labels);\n\n    return {\n      parent: style.parent,\n      data: dataStyle,\n      labels: labelsStyle\n    };\n  },\n  getStringsFromCategories: function (childComponents, axis) {\n    var iteratee = function (child) {\n      var childProps = child.props || {};\n\n      if (!Domain.isDomainComponent(child) || !childProps.categories) {\n        return null;\n      } else {\n        var categories = childProps.categories && !Array.isArray(childProps.categories) ? childProps.categories[axis] : childProps.props.categories;\n        var categoryStrings = categories && categories.filter(function (val) {\n          return typeof val === \"string\";\n        });\n        return categoryStrings ? Collection.removeUndefined(categoryStrings) : [];\n      }\n    };\n\n    return Helpers.reduceChildren(childComponents.slice(0), iteratee);\n  },\n  getStringsFromData: function (childComponents) {\n    var iteratee = function (child) {\n      var childProps = child.props || {};\n      var data;\n\n      if (!Data.isDataComponent(child)) {\n        return null;\n      } else if (child.type && _isFunction(child.type.getData)) {\n        data = child.type.getData(childProps);\n      } else {\n        data = Data.getData(childProps);\n      }\n\n      return data.map(function (d) {\n        return {\n          x: d.xName,\n          y: d.yName\n        };\n      });\n    };\n\n    var initialMemo = {\n      x: [],\n      y: []\n    };\n\n    var combine = function (memo, datum) {\n      var x = Array.isArray(datum) ? datum.map(function (d) {\n        return d.x;\n      }).filter(Boolean) : datum.x;\n      var y = Array.isArray(datum) ? datum.map(function (d) {\n        return d.y;\n      }).filter(Boolean) : datum.y;\n      return {\n        x: x !== undefined ? memo.x.concat(x) : memo.x,\n        y: y !== undefined ? memo.y.concat(y) : memo.y\n      };\n    };\n\n    return Helpers.reduceChildren(childComponents.slice(0), iteratee, {}, initialMemo, combine);\n  },\n  getCategoryAndAxisStringsFromChildren: function (props, axis, childComponents) {\n    var categories = _isPlainObject(props.categories) ? props.categories[axis] : props.categories;\n    var axisComponent = Axis.getAxisComponent(childComponents, axis);\n    var axisStrings = axisComponent ? Data.getStringsFromAxes(axisComponent.props, axis) : [];\n    var categoryStrings = categories || this.getStringsFromCategories(childComponents, axis);\n    return _uniq(_flatten(_toConsumableArray(categoryStrings).concat(_toConsumableArray(axisStrings))));\n  },\n  getStringsFromChildren: function (props, childComponents) {\n    childComponents = childComponents || React.Children.toArray(props.children);\n    var xStrings = this.getCategoryAndAxisStringsFromChildren(props, \"x\", childComponents);\n    var yStrings = this.getCategoryAndAxisStringsFromChildren(props, \"y\", childComponents);\n    var dataStrings = this.getStringsFromData(childComponents);\n    return {\n      x: _uniq(_flatten(_toConsumableArray(xStrings).concat(_toConsumableArray(dataStrings.x)))),\n      y: _uniq(_flatten(_toConsumableArray(yStrings).concat(_toConsumableArray(dataStrings.y))))\n    };\n  },\n  getCategories: function (props, childComponents, allStrings) {\n    var xPropCategories = props.categories && !Array.isArray(props.categories) ? props.categories.x : props.categories;\n    var yPropCategories = props.categories && !Array.isArray(props.categories) ? props.categories.y : props.categories;\n    var fallbackRequired = !xPropCategories || !yPropCategories;\n    var fallbackProps = fallbackRequired ? allStrings || this.getStringsFromChildren(props, childComponents) : {};\n    var xCategories = xPropCategories || fallbackProps.x;\n    var yCategories = yPropCategories || fallbackProps.y;\n    return {\n      x: xCategories.length > 0 ? xCategories : undefined,\n      y: yCategories.length > 0 ? yCategories : undefined\n    };\n  }\n};","/**\n * Given an object with CSS/SVG transform definitions, return the string value\n * for use with the `transform` CSS property or SVG attribute. Note that we\n * can't always guarantee the order will match the author's intended order, so\n * authors should only use the object notation if they know that their transform\n * is commutative or that there is only one.\n * @param {Object} obj An object of transform definitions.\n * @returns {String} The generated transform string.\n */\nvar toTransformString = function (obj) {\n  for (var _len = arguments.length, more = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    more[_key - 1] = arguments[_key];\n  }\n\n  if (more.length > 0) {\n    return more.reduce(function (memo, currentObj) {\n      return [memo, toTransformString(currentObj)].join(\" \");\n    }, toTransformString(obj)).trim();\n  } else {\n    if (obj === undefined || obj === null || typeof obj === \"string\") {\n      return obj;\n    }\n\n    var transforms = [];\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        var value = obj[key];\n        transforms.push(\"\".concat(key, \"(\").concat(value, \")\"));\n      }\n    }\n\n    return transforms.join(\" \").trim();\n  }\n};\n\nexport default {\n  toTransformString: toTransformString,\n\n  /**\n   * Given the name of a color scale, getColorScale will return an array\n   * of 5 hex string values in that color scale. If no 'name' parameter\n   * is given, it will return the Victory default grayscale.\n   * @param {String} name The name of the color scale to return (optional).\n   * @returns {Array} An array of 5 hex string values composing a color scale.\n   */\n  getColorScale: function (name) {\n    var scales = {\n      grayscale: [\"#cccccc\", \"#969696\", \"#636363\", \"#252525\"],\n      qualitative: [\"#334D5C\", \"#45B29D\", \"#EFC94C\", \"#E27A3F\", \"#DF5A49\", \"#4F7DA1\", \"#55DBC1\", \"#EFDA97\", \"#E2A37F\", \"#DF948A\"],\n      heatmap: [\"#428517\", \"#77D200\", \"#D6D305\", \"#EC8E19\", \"#C92B05\"],\n      warm: [\"#940031\", \"#C43343\", \"#DC5429\", \"#FF821D\", \"#FFAF55\"],\n      cool: [\"#2746B9\", \"#0B69D4\", \"#2794DB\", \"#31BB76\", \"#60E83B\"],\n      red: [\"#FCAE91\", \"#FB6A4A\", \"#DE2D26\", \"#A50F15\", \"#750B0E\"],\n      blue: [\"#002C61\", \"#004B8F\", \"#006BC9\", \"#3795E5\", \"#65B4F4\"],\n      green: [\"#354722\", \"#466631\", \"#649146\", \"#8AB25C\", \"#A9C97E\"]\n    };\n    return name ? scales[name] : scales.grayscale;\n  }\n};","import _isRegExp from \"lodash/isRegExp\";\nimport _find from \"lodash/find\";\nimport _isFunction from \"lodash/isFunction\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Log from \"./log\";\nimport PropTypes from \"prop-types\";\n/**\n * Return a new validator based on `validator` but with the option to chain\n * `isRequired` onto the validation. This is nearly identical to how React\n * does it internally, but they don't expose their helper for us to use.\n * @param {Function} validator Validation function.\n * @returns {Function} Validator with `isRequired` option.\n */\n\nvar makeChainable = function (validator) {\n  /* eslint-disable max-params */\n  var _chainable = function (isRequired, props, propName, componentName) {\n    var value = props[propName];\n\n    if (value === undefined || value === null) {\n      if (isRequired) {\n        return new Error(\"Required `\".concat(propName, \"` was not specified in `\").concat(componentName, \"`.\"));\n      }\n\n      return null;\n    }\n\n    for (var _len = arguments.length, rest = new Array(_len > 4 ? _len - 4 : 0), _key = 4; _key < _len; _key++) {\n      rest[_key - 4] = arguments[_key];\n    }\n\n    return validator.apply(void 0, [props, propName, componentName].concat(rest));\n  };\n\n  var chainable = _chainable.bind(null, false);\n\n  chainable.isRequired = _chainable.bind(null, true);\n  return chainable;\n};\n\nvar nullConstructor = function () {\n  return null;\n};\n\nvar undefinedConstructor = function () {\n  return undefined;\n};\n/**\n * Get the constructor of `value`. If `value` is null or undefined, return the\n * special singletons `nullConstructor` or `undefinedConstructor`, respectively.\n * @param {*} value Instance to return the constructor of.\n * @returns {Function} Constructor of `value`.\n */\n\n\nvar getConstructor = function (value) {\n  if (value === undefined) {\n    return undefinedConstructor;\n  } else if (value === null) {\n    return nullConstructor;\n  } else {\n    return value.constructor;\n  }\n};\n/**\n * Get the name of the constructor used to create `value`, using\n * `Object.protoype.toString`. If the value is null or undefined, return\n * \"null\" or \"undefined\", respectively.\n * @param {*} value Instance to return the constructor name of.\n * @returns {String} Name of the constructor.\n */\n\n\nvar getConstructorName = function (value) {\n  if (value === undefined) {\n    return \"undefined\";\n  } else if (value === null) {\n    return \"null\";\n  }\n\n  return Object.prototype.toString.call(value).slice(8, -1); // eslint-disable-line no-magic-numbers\n};\n\nexport default {\n  /**\n   * Return a new validator based on `propType` but which logs a `console.error`\n   * with `explanation` if used.\n   * @param {Function} propType The old, deprecated propType.\n   * @param {String} explanation The message to provide the user of the deprecated propType.\n   * @returns {Function} Validator which logs usage of this propType\n   */\n  deprecated: function (propType, explanation) {\n    return function (props, propName, componentName) {\n      var value = props[propName];\n\n      if (value !== null && value !== undefined) {\n        Log.warn(\"\\\"\".concat(propName, \"\\\" property of \\\"\").concat(componentName, \"\\\" has been deprecated \").concat(explanation));\n      }\n\n      return PropTypes.checkPropTypes(_defineProperty({}, propName, propType), props, propName, componentName);\n    };\n  },\n\n  /**\n   * Return a new validator which returns true\n   * if and only if all validators passed as arguments return true.\n   * Like React.propTypes.oneOfType, except \"all\" instead of \"any\"\n   * @param {Array} validators Validation functions.\n   * @returns {Function} Combined validator function\n   */\n  allOfType: function (validators) {\n    return makeChainable(function (props, propName, componentName) {\n      for (var _len2 = arguments.length, rest = new Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {\n        rest[_key2 - 3] = arguments[_key2];\n      }\n\n      return validators.reduce(function (result, validator) {\n        return result || validator.apply(void 0, [props, propName, componentName].concat(rest));\n      }, undefined);\n    });\n  },\n\n  /**\n   * Check that the value is a non-negative number.\n   */\n  nonNegative: makeChainable(function (props, propName, componentName) {\n    var value = props[propName];\n\n    if (typeof value !== \"number\" || value < 0) {\n      return new Error(\"`\".concat(propName, \"` in `\").concat(componentName, \"` must be a non-negative number.\"));\n    }\n\n    return undefined;\n  }),\n\n  /**\n   * Check that the value is an integer.\n   */\n  integer: makeChainable(function (props, propName, componentName) {\n    var value = props[propName];\n\n    if (typeof value !== \"number\" || value % 1 !== 0) {\n      return new Error(\"`\".concat(propName, \"` in `\").concat(componentName, \"` must be an integer.\"));\n    }\n\n    return undefined;\n  }),\n\n  /**\n   * Check that the value is greater than zero.\n   */\n  greaterThanZero: makeChainable(function (props, propName, componentName) {\n    var value = props[propName];\n\n    if (typeof value !== \"number\" || value <= 0) {\n      return new Error(\"`\".concat(propName, \"` in `\").concat(componentName, \"` must be a number greater than zero.\"));\n    }\n\n    return undefined;\n  }),\n\n  /**\n   * Check that the value is an Array of two unique values.\n   */\n  domain: makeChainable(function (props, propName, componentName) {\n    var value = props[propName];\n\n    if (!Array.isArray(value) || value.length !== 2 || value[1] === value[0]) {\n      return new Error(\"`\".concat(propName, \"` in `\").concat(componentName, \"` must be an array of two unique numeric values.\"));\n    }\n\n    return undefined;\n  }),\n\n  /**\n   * Check that the value looks like a d3 `scale` function.\n   */\n  scale: makeChainable(function (props, propName, componentName) {\n    var supportedScaleStrings = [\"linear\", \"time\", \"log\", \"sqrt\"];\n\n    var validScale = function (scl) {\n      if (_isFunction(scl)) {\n        return _isFunction(scl.copy) && _isFunction(scl.domain) && _isFunction(scl.range);\n      } else if (typeof scl === \"string\") {\n        return supportedScaleStrings.indexOf(scl) !== -1;\n      }\n\n      return false;\n    };\n\n    var value = props[propName];\n\n    if (!validScale(value)) {\n      return new Error(\"`\".concat(propName, \"` in `\").concat(componentName, \"` must be a d3 scale.\"));\n    }\n\n    return undefined;\n  }),\n\n  /**\n   * Check that an array contains items of the same type.\n   */\n  homogeneousArray: makeChainable(function (props, propName, componentName) {\n    var values = props[propName];\n\n    if (!Array.isArray(values)) {\n      return new Error(\"`\".concat(propName, \"` in `\").concat(componentName, \"` must be an array.\"));\n    }\n\n    if (values.length < 2) {\n      return undefined;\n    }\n\n    var comparisonConstructor = getConstructor(values[0]);\n\n    var typeMismatchedValue = _find(values, function (value) {\n      return comparisonConstructor !== getConstructor(value);\n    });\n\n    if (typeMismatchedValue) {\n      var constructorName = getConstructorName(values[0]);\n      var otherConstructorName = getConstructorName(typeMismatchedValue);\n      return new Error(\"Expected `\".concat(propName, \"` in `\").concat(componentName, \"` to be a \") + \"homogeneous array, but found types `\".concat(constructorName, \"` and \") + \"`\".concat(otherConstructorName, \"`.\"));\n    }\n\n    return undefined;\n  }),\n\n  /**\n   * Check that array prop length matches props.data.length\n   */\n  matchDataLength: makeChainable(function (props, propName) {\n    if (props[propName] && Array.isArray(props[propName]) && props[propName].length !== props.data.length) {\n      return new Error(\"Length of data and \".concat(propName, \" arrays must match.\"));\n    }\n\n    return undefined;\n  }),\n\n  /**\n   * Check that the value is a regular expression\n   */\n  regExp: makeChainable(function (props, propName, componentName) {\n    if (props[propName] && !_isRegExp(props[propName])) {\n      return new Error(\"`\".concat(propName, \"` in `\").concat(componentName, \"` must be a regular expression.\"));\n    }\n\n    return undefined;\n  })\n};","import PropTypes from \"prop-types\";\nimport CustomPropTypes from \"./prop-types\";\nvar dataProps = {\n  categories: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.string), PropTypes.shape({\n    x: PropTypes.arrayOf(PropTypes.string),\n    y: PropTypes.arrayOf(PropTypes.string)\n  })]),\n  data: PropTypes.oneOfType([PropTypes.array, PropTypes.object]),\n  dataComponent: PropTypes.element,\n  labelComponent: PropTypes.element,\n  labels: PropTypes.oneOfType([PropTypes.func, PropTypes.array]),\n  samples: CustomPropTypes.nonNegative,\n  sortKey: PropTypes.oneOfType([PropTypes.func, CustomPropTypes.allOfType([CustomPropTypes.integer, CustomPropTypes.nonNegative]), PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  sortOrder: PropTypes.oneOf([\"ascending\", \"descending\"]),\n  style: PropTypes.shape({\n    parent: PropTypes.object,\n    data: PropTypes.object,\n    labels: PropTypes.object\n  }),\n  x: PropTypes.oneOfType([PropTypes.func, CustomPropTypes.allOfType([CustomPropTypes.integer, CustomPropTypes.nonNegative]), PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  y: PropTypes.oneOfType([PropTypes.func, CustomPropTypes.allOfType([CustomPropTypes.integer, CustomPropTypes.nonNegative]), PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  y0: PropTypes.oneOfType([PropTypes.func, CustomPropTypes.allOfType([CustomPropTypes.integer, CustomPropTypes.nonNegative]), PropTypes.string, PropTypes.arrayOf(PropTypes.string)])\n};\nvar baseProps = {\n  animate: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  containerComponent: PropTypes.element,\n  domain: PropTypes.oneOfType([CustomPropTypes.domain, PropTypes.shape({\n    x: CustomPropTypes.domain,\n    y: CustomPropTypes.domain\n  })]),\n  maxDomain: PropTypes.oneOfType([PropTypes.number, PropTypes.instanceOf(Date), PropTypes.shape({\n    x: PropTypes.oneOfType([PropTypes.number, PropTypes.instanceOf(Date)]),\n    y: PropTypes.oneOfType([PropTypes.number, PropTypes.instanceOf(Date)])\n  })]),\n  minDomain: PropTypes.oneOfType([PropTypes.number, PropTypes.instanceOf(Date), PropTypes.shape({\n    x: PropTypes.oneOfType([PropTypes.number, PropTypes.instanceOf(Date)]),\n    y: PropTypes.oneOfType([PropTypes.number, PropTypes.instanceOf(Date)])\n  })]),\n  domainPadding: PropTypes.oneOfType([PropTypes.shape({\n    x: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)]),\n    y: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)])\n  }), PropTypes.number, PropTypes.arrayOf(PropTypes.number)]),\n  eventKey: PropTypes.oneOfType([PropTypes.func, CustomPropTypes.allOfType([CustomPropTypes.integer, CustomPropTypes.nonNegative]), PropTypes.string]),\n  events: PropTypes.arrayOf(PropTypes.shape({\n    target: PropTypes.oneOf([\"data\", \"labels\", \"parent\"]),\n    eventKey: PropTypes.oneOfType([PropTypes.array, CustomPropTypes.allOfType([CustomPropTypes.integer, CustomPropTypes.nonNegative]), PropTypes.string]),\n    eventHandlers: PropTypes.object\n  })),\n  externalEventMutations: PropTypes.arrayOf(PropTypes.shape({\n    callback: PropTypes.function,\n    childName: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n    eventKey: PropTypes.oneOfType([PropTypes.array, CustomPropTypes.allOfType([CustomPropTypes.integer, CustomPropTypes.nonNegative]), PropTypes.string]),\n    mutation: PropTypes.function,\n    target: PropTypes.oneOfType([PropTypes.string, PropTypes.array])\n  })),\n  groupComponent: PropTypes.element,\n  height: CustomPropTypes.nonNegative,\n  name: PropTypes.string,\n  origin: PropTypes.shape({\n    x: PropTypes.number,\n    y: PropTypes.number\n  }),\n  padding: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    top: PropTypes.number,\n    bottom: PropTypes.number,\n    left: PropTypes.number,\n    right: PropTypes.number\n  })]),\n  polar: PropTypes.bool,\n  range: PropTypes.oneOfType([CustomPropTypes.domain, PropTypes.shape({\n    x: CustomPropTypes.domain,\n    y: CustomPropTypes.domain\n  })]),\n  scale: PropTypes.oneOfType([CustomPropTypes.scale, PropTypes.shape({\n    x: CustomPropTypes.scale,\n    y: CustomPropTypes.scale\n  })]),\n  sharedEvents: PropTypes.shape({\n    events: PropTypes.array,\n    getEventState: PropTypes.func\n  }),\n  singleQuadrantDomainPadding: PropTypes.oneOfType([PropTypes.bool, PropTypes.shape({\n    x: PropTypes.oneOfType([PropTypes.bool]),\n    y: PropTypes.oneOfType([PropTypes.bool])\n  })]),\n  standalone: PropTypes.bool,\n  theme: PropTypes.object,\n  width: CustomPropTypes.nonNegative\n};\nvar primitiveProps = {\n  active: PropTypes.bool,\n  ariaLabel: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  className: PropTypes.string,\n  clipPath: PropTypes.string,\n  data: PropTypes.oneOfType([PropTypes.array, PropTypes.object]),\n  desc: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  events: PropTypes.object,\n  id: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  index: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  origin: PropTypes.shape({\n    x: PropTypes.number,\n    y: PropTypes.number\n  }),\n  polar: PropTypes.bool,\n  role: PropTypes.string,\n  scale: PropTypes.oneOfType([CustomPropTypes.scale, PropTypes.shape({\n    x: CustomPropTypes.scale,\n    y: CustomPropTypes.scale\n  })]),\n  shapeRendering: PropTypes.string,\n  style: PropTypes.object,\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n  transform: PropTypes.string\n};\nexport default {\n  baseProps: baseProps,\n  dataProps: dataProps,\n  primitiveProps: primitiveProps\n};","import _keys from \"lodash/keys\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport CustomPropTypes from \"../victory-util/prop-types\";\n\nvar Portal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Portal, _React$Component);\n\n  function Portal(props) {\n    var _this;\n\n    _classCallCheck(this, Portal);\n\n    _this = _possibleConstructorReturn(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).call(this, props));\n    _this.map = {};\n    _this.index = 1;\n    _this.portalUpdate = _this.portalUpdate.bind(_assertThisInitialized(_this));\n    _this.portalRegister = _this.portalRegister.bind(_assertThisInitialized(_this));\n    _this.portalDeregister = _this.portalDeregister.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Portal, [{\n    key: \"portalRegister\",\n    value: function portalRegister() {\n      return ++this.index;\n    }\n  }, {\n    key: \"portalUpdate\",\n    value: function portalUpdate(key, element) {\n      this.map[key] = element;\n      this.forceUpdate();\n    }\n  }, {\n    key: \"portalDeregister\",\n    value: function portalDeregister(key) {\n      delete this.map[key];\n      this.forceUpdate();\n    }\n  }, {\n    key: \"getChildren\",\n    value: function getChildren() {\n      var _this2 = this;\n\n      return _keys(this.map).map(function (key) {\n        var el = _this2.map[key];\n        return el ? React.cloneElement(el, {\n          key: key\n        }) : el;\n      });\n    } // Overridden in victory-core-native\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"svg\", this.props, this.getChildren());\n    }\n  }]);\n\n  return Portal;\n}(React.Component);\n\nObject.defineProperty(Portal, \"displayName\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: \"Portal\"\n});\nObject.defineProperty(Portal, \"propTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    className: PropTypes.string,\n    height: CustomPropTypes.nonNegative,\n    style: PropTypes.object,\n    viewBox: PropTypes.string,\n    width: CustomPropTypes.nonNegative\n  }\n});\nexport { Portal as default };","import React from \"react\";\n/**\n * The React context object consumers may use to access the context of the\n * portal.\n */\n\nvar PortalContext = React.createContext({});\nPortalContext.displayName = \"PortalContext\";\nexport default PortalContext;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { timer, now } from \"d3-timer\";\n\nvar Timer =\n/*#__PURE__*/\nfunction () {\n  function Timer() {\n    _classCallCheck(this, Timer);\n\n    this.shouldAnimate = true;\n    this.subscribers = [];\n    this.loop = this.loop.bind(this);\n    this.timer = null;\n    this.activeSubscriptions = 0;\n  }\n\n  _createClass(Timer, [{\n    key: \"bypassAnimation\",\n    value: function bypassAnimation() {\n      this.shouldAnimate = false;\n    }\n  }, {\n    key: \"resumeAnimation\",\n    value: function resumeAnimation() {\n      this.shouldAnimate = true;\n    }\n  }, {\n    key: \"loop\",\n    value: function loop() {\n      this.subscribers.forEach(function (s) {\n        s.callback(now() - s.startTime, s.duration);\n      });\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      if (!this.timer) {\n        this.timer = timer(this.loop);\n      }\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      if (this.timer) {\n        this.timer.stop();\n        this.timer = null;\n      }\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(callback, duration) {\n      duration = this.shouldAnimate ? duration : 0;\n      var subscriptionID = this.subscribers.push({\n        startTime: now(),\n        callback: callback,\n        duration: duration\n      });\n      this.activeSubscriptions++;\n      this.start();\n      return subscriptionID;\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(id) {\n      if (id !== null && this.subscribers[id - 1]) {\n        delete this.subscribers[id - 1];\n        this.activeSubscriptions--;\n      }\n\n      if (this.activeSubscriptions === 0) {\n        this.stop();\n      }\n    }\n  }]);\n\n  return Timer;\n}();\n\nexport { Timer as default };","import React from \"react\";\nimport Timer from \"./timer\";\n/**\n * The React context object consumers may use to access or override the global\n * timer.\n */\n\nvar TimerContext = React.createContext({\n  transitionTimer: new Timer(),\n  animationTimer: new Timer()\n});\nTimerContext.displayName = \"TimerContext\";\nexport default TimerContext;","import _isFunction from \"lodash/isFunction\";\nimport _isObject from \"lodash/isObject\";\nimport _uniqueId from \"lodash/uniqueId\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport CustomPropTypes from \"../victory-util/prop-types\";\nimport Portal from \"../victory-portal/portal\";\nimport PortalContext from \"../victory-portal/portal-context\";\nimport TimerContext from \"../victory-util/timer-context\";\nimport Helpers from \"../victory-util/helpers\";\n\nvar VictoryContainer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(VictoryContainer, _React$Component);\n\n  function VictoryContainer(props) {\n    var _this;\n\n    _classCallCheck(this, VictoryContainer);\n\n    _this = _possibleConstructorReturn(this, (VictoryContainer.__proto__ || Object.getPrototypeOf(VictoryContainer)).call(this, props));\n    _this.containerId = !_isObject(props) || props.containerId === undefined ? _uniqueId(\"victory-container-\") : props.containerId;\n\n    _this.savePortalRef = function (portal) {\n      _this.portalRef = portal;\n      return portal;\n    };\n\n    _this.portalUpdate = function (key, el) {\n      return _this.portalRef.portalUpdate(key, el);\n    };\n\n    _this.portalRegister = function () {\n      return _this.portalRef.portalRegister();\n    };\n\n    _this.portalDeregister = function (key) {\n      return _this.portalRef.portalDeregister(key);\n    };\n\n    _this.saveContainerRef = props && _isFunction(props.containerRef) ? props.containerRef : function (container) {\n      _this.containerRef = container;\n      return container;\n    };\n    _this.shouldHandleWheel = props && props.events && props.events.onWheel;\n\n    if (_this.shouldHandleWheel) {\n      _this.handleWheel = function (e) {\n        return e.preventDefault();\n      };\n    }\n\n    return _this;\n  }\n\n  _createClass(VictoryContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.shouldHandleWheel && this.containerRef) {\n        this.containerRef.addEventListener(\"wheel\", this.handleWheel);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.shouldHandleWheel && this.containerRef) {\n        this.containerRef.removeEventListener(\"wheel\", this.handleWheel);\n      }\n    }\n  }, {\n    key: \"getIdForElement\",\n    value: function getIdForElement(elementName) {\n      return \"\".concat(this.containerId, \"-\").concat(elementName);\n    } // overridden in custom containers\n\n  }, {\n    key: \"getChildren\",\n    value: function getChildren(props) {\n      return props.children;\n    } // Get props defined by the Open UI Automation (OUIA) 1.0-RC spec\n    // See https://ouia.readthedocs.io/en/latest/README.html#ouia-component\n\n  }, {\n    key: \"getOUIAProps\",\n    value: function getOUIAProps(props) {\n      var ouiaId = props.ouiaId,\n          ouiaSafe = props.ouiaSafe,\n          ouiaType = props.ouiaType;\n      return _objectSpread({}, ouiaId && {\n        \"data-ouia-component-id\": ouiaId\n      }, ouiaType && {\n        \"data-ouia-component-type\": ouiaType\n      }, ouiaSafe !== undefined && {\n        \"data-ouia-safe\": ouiaSafe\n      });\n    }\n  }, {\n    key: \"renderContainer\",\n    value: function renderContainer(props, svgProps, style) {\n      var title = props.title,\n          desc = props.desc,\n          portalComponent = props.portalComponent,\n          className = props.className,\n          width = props.width,\n          height = props.height,\n          portalZIndex = props.portalZIndex,\n          responsive = props.responsive;\n      var children = this.getChildren(props);\n      var dimensions = responsive ? {\n        width: \"100%\",\n        height: \"100%\"\n      } : {\n        width: width,\n        height: height\n      };\n\n      var divStyle = _assign({\n        pointerEvents: \"none\",\n        touchAction: \"none\",\n        position: \"relative\"\n      }, dimensions);\n\n      var portalDivStyle = _assign({\n        zIndex: portalZIndex,\n        position: \"absolute\",\n        top: 0,\n        left: 0\n      }, dimensions);\n\n      var svgStyle = _assign({\n        pointerEvents: \"all\"\n      }, dimensions);\n\n      var portalSvgStyle = _assign({\n        overflow: \"visible\"\n      }, dimensions);\n\n      var portalProps = {\n        width: width,\n        height: height,\n        viewBox: svgProps.viewBox,\n        preserveAspectRatio: svgProps.preserveAspectRatio,\n        style: portalSvgStyle\n      };\n      return React.createElement(PortalContext.Provider, {\n        value: {\n          portalUpdate: this.portalUpdate,\n          portalRegister: this.portalRegister,\n          portalDeregister: this.portalDeregister\n        }\n      }, React.createElement(\"div\", _extends({\n        style: _defaults({}, style, divStyle),\n        className: className,\n        ref: this.saveContainerRef\n      }, this.getOUIAProps(props)), React.createElement(\"svg\", _extends({}, svgProps, {\n        style: svgStyle\n      }), title ? React.createElement(\"title\", {\n        id: this.getIdForElement(\"title\")\n      }, title) : null, desc ? React.createElement(\"desc\", {\n        id: this.getIdForElement(\"desc\")\n      }, desc) : null, children), React.createElement(\"div\", {\n        style: portalDivStyle\n      }, React.cloneElement(portalComponent, _objectSpread({}, portalProps, {\n        ref: this.savePortalRef\n      })))));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _props = this.props,\n          width = _props.width,\n          height = _props.height,\n          responsive = _props.responsive,\n          events = _props.events,\n          title = _props.title,\n          desc = _props.desc,\n          tabIndex = _props.tabIndex,\n          preserveAspectRatio = _props.preserveAspectRatio,\n          role = _props.role;\n      var style = responsive ? this.props.style : Helpers.omit(this.props.style, [\"height\", \"width\"]);\n\n      var svgProps = _assign({\n        width: width,\n        height: height,\n        tabIndex: tabIndex,\n        role: role,\n        \"aria-labelledby\": [title && this.getIdForElement(\"title\"), this.props[\"aria-labelledby\"]].filter(Boolean).join(\" \") || undefined,\n        \"aria-describedby\": [desc && this.getIdForElement(\"desc\"), this.props[\"aria-describedby\"]].filter(Boolean).join(\" \") || undefined,\n        viewBox: responsive ? \"0 0 \".concat(width, \" \").concat(height) : undefined,\n        preserveAspectRatio: responsive ? preserveAspectRatio : undefined\n      }, events);\n\n      return this.renderContainer(this.props, svgProps, style);\n    }\n  }]);\n\n  return VictoryContainer;\n}(React.Component);\n\nObject.defineProperty(VictoryContainer, \"displayName\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: \"VictoryContainer\"\n});\nObject.defineProperty(VictoryContainer, \"role\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: \"container\"\n});\nObject.defineProperty(VictoryContainer, \"propTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    \"aria-describedby\": PropTypes.string,\n    \"aria-labelledby\": PropTypes.string,\n    children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n    className: PropTypes.string,\n    containerId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    containerRef: PropTypes.func,\n    desc: PropTypes.string,\n    events: PropTypes.object,\n    height: CustomPropTypes.nonNegative,\n    name: PropTypes.string,\n    origin: PropTypes.shape({\n      x: CustomPropTypes.nonNegative,\n      y: CustomPropTypes.nonNegative\n    }),\n    ouiaId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    ouiaSafe: PropTypes.bool,\n    ouiaType: PropTypes.string,\n    polar: PropTypes.bool,\n    portalComponent: PropTypes.element,\n    portalZIndex: CustomPropTypes.integer,\n    preserveAspectRatio: PropTypes.string,\n    responsive: PropTypes.bool,\n    role: PropTypes.string,\n    style: PropTypes.object,\n    tabIndex: PropTypes.number,\n    theme: PropTypes.object,\n    title: PropTypes.string,\n    width: CustomPropTypes.nonNegative\n  }\n});\nObject.defineProperty(VictoryContainer, \"defaultProps\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    className: \"VictoryContainer\",\n    portalComponent: React.createElement(Portal, null),\n    portalZIndex: 99,\n    responsive: true,\n    role: \"img\"\n  }\n});\nObject.defineProperty(VictoryContainer, \"contextType\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: TimerContext\n});\nexport { VictoryContainer as default };","import _assign from \"lodash/assign\";\n// *\n// * Colors\n// *\nvar yellow200 = \"#FFF59D\";\nvar deepOrange600 = \"#F4511E\";\nvar lime300 = \"#DCE775\";\nvar lightGreen500 = \"#8BC34A\";\nvar teal700 = \"#00796B\";\nvar cyan900 = \"#006064\";\nvar colors = [deepOrange600, yellow200, lime300, lightGreen500, teal700, cyan900];\nvar blueGrey50 = \"#ECEFF1\";\nvar blueGrey300 = \"#90A4AE\";\nvar blueGrey700 = \"#455A64\";\nvar grey900 = \"#212121\"; // *\n// * Typography\n// *\n\nvar sansSerif = \"'Helvetica Neue', 'Helvetica', sans-serif\";\nvar letterSpacing = \"normal\";\nvar fontSize = 12; // *\n// * Layout\n// *\n\nvar padding = 8;\nvar baseProps = {\n  width: 350,\n  height: 350,\n  padding: 50\n}; // *\n// * Labels\n// *\n\nvar baseLabelStyles = {\n  fontFamily: sansSerif,\n  fontSize: fontSize,\n  letterSpacing: letterSpacing,\n  padding: padding,\n  fill: blueGrey700,\n  stroke: \"transparent\",\n  strokeWidth: 0\n};\n\nvar centeredLabelStyles = _assign({\n  textAnchor: \"middle\"\n}, baseLabelStyles); // *\n// * Strokes\n// *\n\n\nvar strokeDasharray = \"10, 5\";\nvar strokeLinecap = \"round\";\nvar strokeLinejoin = \"round\";\nexport default {\n  area: _assign({\n    style: {\n      data: {\n        fill: grey900\n      },\n      labels: baseLabelStyles\n    }\n  }, baseProps),\n  axis: _assign({\n    style: {\n      axis: {\n        fill: \"transparent\",\n        stroke: blueGrey300,\n        strokeWidth: 2,\n        strokeLinecap: strokeLinecap,\n        strokeLinejoin: strokeLinejoin\n      },\n      axisLabel: _assign({}, centeredLabelStyles, {\n        padding: padding,\n        stroke: \"transparent\"\n      }),\n      grid: {\n        fill: \"none\",\n        stroke: blueGrey50,\n        strokeDasharray: strokeDasharray,\n        strokeLinecap: strokeLinecap,\n        strokeLinejoin: strokeLinejoin,\n        pointerEvents: \"painted\"\n      },\n      ticks: {\n        fill: \"transparent\",\n        size: 5,\n        stroke: blueGrey300,\n        strokeWidth: 1,\n        strokeLinecap: strokeLinecap,\n        strokeLinejoin: strokeLinejoin\n      },\n      tickLabels: _assign({}, baseLabelStyles, {\n        fill: blueGrey700\n      })\n    }\n  }, baseProps),\n  polarDependentAxis: _assign({\n    style: {\n      ticks: {\n        fill: \"transparent\",\n        size: 1,\n        stroke: \"transparent\"\n      }\n    }\n  }),\n  bar: _assign({\n    style: {\n      data: {\n        fill: blueGrey700,\n        padding: padding,\n        strokeWidth: 0\n      },\n      labels: baseLabelStyles\n    }\n  }, baseProps),\n  boxplot: _assign({\n    style: {\n      max: {\n        padding: padding,\n        stroke: blueGrey700,\n        strokeWidth: 1\n      },\n      maxLabels: _assign({}, baseLabelStyles, {\n        padding: 3\n      }),\n      median: {\n        padding: padding,\n        stroke: blueGrey700,\n        strokeWidth: 1\n      },\n      medianLabels: _assign({}, baseLabelStyles, {\n        padding: 3\n      }),\n      min: {\n        padding: padding,\n        stroke: blueGrey700,\n        strokeWidth: 1\n      },\n      minLabels: _assign({}, baseLabelStyles, {\n        padding: 3\n      }),\n      q1: {\n        padding: padding,\n        fill: blueGrey700\n      },\n      q1Labels: _assign({}, baseLabelStyles, {\n        padding: 3\n      }),\n      q3: {\n        padding: padding,\n        fill: blueGrey700\n      },\n      q3Labels: _assign({}, baseLabelStyles, {\n        padding: 3\n      })\n    },\n    boxWidth: 20\n  }, baseProps),\n  candlestick: _assign({\n    style: {\n      data: {\n        stroke: blueGrey700\n      },\n      labels: _assign({}, baseLabelStyles, {\n        padding: 5\n      })\n    },\n    candleColors: {\n      positive: \"#ffffff\",\n      negative: blueGrey700\n    }\n  }, baseProps),\n  chart: baseProps,\n  errorbar: _assign({\n    borderWidth: 8,\n    style: {\n      data: {\n        fill: \"transparent\",\n        opacity: 1,\n        stroke: blueGrey700,\n        strokeWidth: 2\n      },\n      labels: baseLabelStyles\n    }\n  }, baseProps),\n  group: _assign({\n    colorScale: colors\n  }, baseProps),\n  histogram: _assign({\n    style: {\n      data: {\n        fill: blueGrey700,\n        stroke: grey900,\n        strokeWidth: 2\n      },\n      labels: baseLabelStyles\n    }\n  }, baseProps),\n  legend: {\n    colorScale: colors,\n    gutter: 10,\n    orientation: \"vertical\",\n    titleOrientation: \"top\",\n    style: {\n      data: {\n        type: \"circle\"\n      },\n      labels: baseLabelStyles,\n      title: _assign({}, baseLabelStyles, {\n        padding: 5\n      })\n    }\n  },\n  line: _assign({\n    style: {\n      data: {\n        fill: \"transparent\",\n        opacity: 1,\n        stroke: blueGrey700,\n        strokeWidth: 2\n      },\n      labels: baseLabelStyles\n    }\n  }, baseProps),\n  pie: _assign({\n    colorScale: colors,\n    style: {\n      data: {\n        padding: padding,\n        stroke: blueGrey50,\n        strokeWidth: 1\n      },\n      labels: _assign({}, baseLabelStyles, {\n        padding: 20\n      })\n    }\n  }, baseProps),\n  scatter: _assign({\n    style: {\n      data: {\n        fill: blueGrey700,\n        opacity: 1,\n        stroke: \"transparent\",\n        strokeWidth: 0\n      },\n      labels: baseLabelStyles\n    }\n  }, baseProps),\n  stack: _assign({\n    colorScale: colors\n  }, baseProps),\n  tooltip: {\n    style: _assign({}, baseLabelStyles, {\n      padding: 0,\n      pointerEvents: \"none\"\n    }),\n    flyoutStyle: {\n      stroke: grey900,\n      strokeWidth: 1,\n      fill: \"#f0f0f0\",\n      pointerEvents: \"none\"\n    },\n    flyoutPadding: 5,\n    cornerRadius: 5,\n    pointerLength: 10\n  },\n  voronoi: _assign({\n    style: {\n      data: {\n        fill: \"transparent\",\n        stroke: \"transparent\",\n        strokeWidth: 0\n      },\n      labels: _assign({}, baseLabelStyles, {\n        padding: 5,\n        pointerEvents: \"none\"\n      }),\n      flyout: {\n        stroke: grey900,\n        strokeWidth: 1,\n        fill: \"#f0f0f0\",\n        pointerEvents: \"none\"\n      }\n    }\n  }, baseProps)\n};","import _assign from \"lodash/assign\";\n// *\n// * Colors\n// *\nvar colors = [\"#252525\", \"#525252\", \"#737373\", \"#969696\", \"#bdbdbd\", \"#d9d9d9\", \"#f0f0f0\"];\nvar charcoal = \"#252525\";\nvar grey = \"#969696\"; // *\n// * Typography\n// *\n\nvar sansSerif = \"'Gill Sans', 'Seravek', 'Trebuchet MS', sans-serif\";\nvar letterSpacing = \"normal\";\nvar fontSize = 14; // *\n// * Layout\n// *\n\nvar baseProps = {\n  width: 450,\n  height: 300,\n  padding: 50,\n  colorScale: colors\n}; // *\n// * Labels\n// *\n\nvar baseLabelStyles = {\n  fontFamily: sansSerif,\n  fontSize: fontSize,\n  letterSpacing: letterSpacing,\n  padding: 10,\n  fill: charcoal,\n  stroke: \"transparent\"\n};\n\nvar centeredLabelStyles = _assign({\n  textAnchor: \"middle\"\n}, baseLabelStyles); // *\n// * Strokes\n// *\n\n\nvar strokeLinecap = \"round\";\nvar strokeLinejoin = \"round\";\nexport default {\n  area: _assign({\n    style: {\n      data: {\n        fill: charcoal\n      },\n      labels: baseLabelStyles\n    }\n  }, baseProps),\n  axis: _assign({\n    style: {\n      axis: {\n        fill: \"transparent\",\n        stroke: charcoal,\n        strokeWidth: 1,\n        strokeLinecap: strokeLinecap,\n        strokeLinejoin: strokeLinejoin\n      },\n      axisLabel: _assign({}, centeredLabelStyles, {\n        padding: 25\n      }),\n      grid: {\n        fill: \"none\",\n        stroke: \"none\",\n        pointerEvents: \"painted\"\n      },\n      ticks: {\n        fill: \"transparent\",\n        size: 1,\n        stroke: \"transparent\"\n      },\n      tickLabels: baseLabelStyles\n    }\n  }, baseProps),\n  bar: _assign({\n    style: {\n      data: {\n        fill: charcoal,\n        padding: 8,\n        strokeWidth: 0\n      },\n      labels: baseLabelStyles\n    }\n  }, baseProps),\n  boxplot: _assign({\n    style: {\n      max: {\n        padding: 8,\n        stroke: charcoal,\n        strokeWidth: 1\n      },\n      maxLabels: _assign({}, baseLabelStyles, {\n        padding: 3\n      }),\n      median: {\n        padding: 8,\n        stroke: charcoal,\n        strokeWidth: 1\n      },\n      medianLabels: _assign({}, baseLabelStyles, {\n        padding: 3\n      }),\n      min: {\n        padding: 8,\n        stroke: charcoal,\n        strokeWidth: 1\n      },\n      minLabels: _assign({}, baseLabelStyles, {\n        padding: 3\n      }),\n      q1: {\n        padding: 8,\n        fill: grey\n      },\n      q1Labels: _assign({}, baseLabelStyles, {\n        padding: 3\n      }),\n      q3: {\n        padding: 8,\n        fill: grey\n      },\n      q3Labels: _assign({}, baseLabelStyles, {\n        padding: 3\n      })\n    },\n    boxWidth: 20\n  }, baseProps),\n  candlestick: _assign({\n    style: {\n      data: {\n        stroke: charcoal,\n        strokeWidth: 1\n      },\n      labels: _assign({}, baseLabelStyles, {\n        padding: 5\n      })\n    },\n    candleColors: {\n      positive: \"#ffffff\",\n      negative: charcoal\n    }\n  }, baseProps),\n  chart: baseProps,\n  errorbar: _assign({\n    borderWidth: 8,\n    style: {\n      data: {\n        fill: \"transparent\",\n        stroke: charcoal,\n        strokeWidth: 2\n      },\n      labels: baseLabelStyles\n    }\n  }, baseProps),\n  group: _assign({\n    colorScale: colors\n  }, baseProps),\n  histogram: _assign({\n    style: {\n      data: {\n        fill: grey,\n        stroke: charcoal,\n        strokeWidth: 2\n      },\n      labels: baseLabelStyles\n    }\n  }, baseProps),\n  legend: {\n    colorScale: colors,\n    gutter: 10,\n    orientation: \"vertical\",\n    titleOrientation: \"top\",\n    style: {\n      data: {\n        type: \"circle\"\n      },\n      labels: baseLabelStyles,\n      title: _assign({}, baseLabelStyles, {\n        padding: 5\n      })\n    }\n  },\n  line: _assign({\n    style: {\n      data: {\n        fill: \"transparent\",\n        stroke: charcoal,\n        strokeWidth: 2\n      },\n      labels: baseLabelStyles\n    }\n  }, baseProps),\n  pie: {\n    style: {\n      data: {\n        padding: 10,\n        stroke: \"transparent\",\n        strokeWidth: 1\n      },\n      labels: _assign({}, baseLabelStyles, {\n        padding: 20\n      })\n    },\n    colorScale: colors,\n    width: 400,\n    height: 400,\n    padding: 50\n  },\n  scatter: _assign({\n    style: {\n      data: {\n        fill: charcoal,\n        stroke: \"transparent\",\n        strokeWidth: 0\n      },\n      labels: baseLabelStyles\n    }\n  }, baseProps),\n  stack: _assign({\n    colorScale: colors\n  }, baseProps),\n  tooltip: {\n    style: _assign({}, baseLabelStyles, {\n      padding: 0,\n      pointerEvents: \"none\"\n    }),\n    flyoutStyle: {\n      stroke: charcoal,\n      strokeWidth: 1,\n      fill: \"#f0f0f0\",\n      pointerEvents: \"none\"\n    },\n    flyoutPadding: 5,\n    cornerRadius: 5,\n    pointerLength: 10\n  },\n  voronoi: _assign({\n    style: {\n      data: {\n        fill: \"transparent\",\n        stroke: \"transparent\",\n        strokeWidth: 0\n      },\n      labels: _assign({}, baseLabelStyles, {\n        padding: 5,\n        pointerEvents: \"none\"\n      }),\n      flyout: {\n        stroke: charcoal,\n        strokeWidth: 1,\n        fill: \"#f0f0f0\",\n        pointerEvents: \"none\"\n      }\n    }\n  }, baseProps)\n};","import materialTheme from \"./material\";\nimport grayscaleTheme from \"./grayscale\";\nexport default {\n  material: materialTheme,\n  grayscale: grayscaleTheme\n};","import _orderBy from \"lodash/orderBy\";\nimport _keys from \"lodash/keys\";\nimport _assign from \"lodash/assign\";\nimport React from \"react\";\nimport { Helpers, Scale, Wrapper } from \"victory-core\";\nvar fallbackProps = {\n  width: 450,\n  height: 300,\n  padding: 50\n}; // Assumes data in `datasets` is sorted by `Data.getData`.\n\nfunction fillData(props, datasets) {\n  var fillInMissingData = props.fillInMissingData;\n  var xMap = datasets.reduce(function (prev, dataset) {\n    dataset.forEach(function (datum) {\n      prev[datum._x instanceof Date ? datum._x.getTime() : datum._x] = true;\n    });\n    return prev;\n  }, {});\n\n  var xKeys = _keys(xMap).map(function (k) {\n    return +k;\n  });\n\n  var xArr = _orderBy(xKeys);\n\n  return datasets.map(function (dataset) {\n    var indexOffset = 0;\n    var isDate = dataset[0] && dataset[0]._x instanceof Date;\n    var filledInData = xArr.map(function (x, index) {\n      x = +x;\n      var datum = dataset[index - indexOffset];\n\n      if (datum) {\n        var x1 = isDate ? datum._x.getTime() : datum._x;\n\n        if (x1 === x) {\n          return datum;\n        } else {\n          indexOffset++;\n          var y = fillInMissingData ? 0 : null;\n          x = isDate ? new Date(x) : x;\n          return {\n            x: x,\n            y: y,\n            _x: x,\n            _y: y\n          };\n        }\n      } else {\n        var _y = fillInMissingData ? 0 : null;\n\n        x = isDate ? new Date(x) : x;\n        return {\n          x: x,\n          y: _y,\n          _x: x,\n          _y: _y\n        };\n      }\n    });\n    return filledInData;\n  });\n}\n\nfunction getY0(datum, index, datasets) {\n  if (datum.y0) {\n    return datum.y0;\n  }\n\n  var y = datum._y;\n  var previousDatasets = datasets.slice(0, index);\n  var previousPoints = previousDatasets.reduce(function (prev, dataset) {\n    return prev.concat(dataset.filter(function (previousDatum) {\n      return datum._x instanceof Date ? previousDatum._x.getTime() === datum._x.getTime() : previousDatum._x === datum._x;\n    }).map(function (previousDatum) {\n      return previousDatum._y || 0;\n    }));\n  }, []);\n  var y0 = previousPoints.length && previousPoints.reduce(function (memo, value) {\n    var sameSign = y < 0 && value < 0 || y >= 0 && value >= 0;\n    return sameSign ? +value + memo : memo;\n  }, 0);\n  return previousPoints.some(function (point) {\n    return point instanceof Date;\n  }) ? new Date(y0) : y0;\n}\n/* eslint-disable no-nested-ternary */\n\n\nfunction addLayoutData(props, datasets, index) {\n  var xOffset = props.xOffset || 0;\n  return datasets[index].map(function (datum) {\n    var yOffset = getY0(datum, index, datasets) || 0;\n    return _assign({}, datum, {\n      _y0: !(datum._y instanceof Date) ? yOffset : yOffset ? new Date(yOffset) : datum._y,\n      _y1: datum._y === null ? null : datum._y instanceof Date ? new Date(+datum._y + +yOffset) : datum._y + yOffset,\n      _x1: datum._x === null ? null : datum._x instanceof Date ? new Date(+datum._x + +xOffset) : datum._x + xOffset\n    });\n  });\n}\n/* eslint-enable no-nested-ternary */\n\n\nfunction stackData(props, childComponents) {\n  var dataFromChildren = Wrapper.getDataFromChildren(props, childComponents);\n  var datasets = fillData(props, dataFromChildren);\n  return datasets.map(function (d, i) {\n    return addLayoutData(props, datasets, i);\n  });\n}\n\nfunction getCalculatedProps(props, childComponents) {\n  childComponents = childComponents || React.Children.toArray(props.children);\n  var role = \"stack\";\n  props = Helpers.modifyProps(props, fallbackProps, role);\n  var style = Wrapper.getStyle(props.theme, props.style, role);\n  var categories = props.categories || Wrapper.getCategories(props, childComponents);\n  var datasets = props.datasets || stackData(props, childComponents);\n  var children = childComponents.map(function (c, i) {\n    return React.cloneElement(c, {\n      data: datasets[i]\n    });\n  });\n  var domain = {\n    x: Wrapper.getDomain(_assign({}, props, {\n      categories: categories\n    }), \"x\", children),\n    y: Wrapper.getDomain(_assign({}, props, {\n      categories: categories\n    }), \"y\", children)\n  };\n  var range = props.range || {\n    x: Helpers.getRange(props, \"x\"),\n    y: Helpers.getRange(props, \"y\")\n  };\n  var baseScale = {\n    x: Scale.getScaleFromProps(props, \"x\") || Wrapper.getScale(props, \"x\"),\n    y: Scale.getScaleFromProps(props, \"y\") || Wrapper.getScale(props, \"y\")\n  };\n  var scale = {\n    x: baseScale.x.domain(domain.x).range(props.horizontal ? range.y : range.x),\n    y: baseScale.y.domain(domain.y).range(props.horizontal ? range.x : range.y)\n  };\n  var _props = props,\n      colorScale = _props.colorScale,\n      horizontal = _props.horizontal;\n  return {\n    datasets: datasets,\n    categories: categories,\n    range: range,\n    domain: domain,\n    horizontal: horizontal,\n    scale: scale,\n    style: style,\n    colorScale: colorScale,\n    role: role\n  };\n}\n\nfunction getLabels(props, datasets, index) {\n  if (!props.labels) {\n    return undefined;\n  }\n\n  return datasets.length === index + 1 ? props.labels : undefined;\n}\n\nfunction getChildProps(props, calculatedProps) {\n  var categories = calculatedProps.categories,\n      domain = calculatedProps.domain,\n      range = calculatedProps.range,\n      scale = calculatedProps.scale,\n      horizontal = calculatedProps.horizontal;\n  return {\n    height: props.height,\n    width: props.width,\n    padding: Helpers.getPadding(props),\n    standalone: false,\n    theme: props.theme,\n    categories: categories,\n    domain: domain,\n    range: range,\n    scale: scale,\n    horizontal: horizontal\n  };\n}\n\nfunction getColorScale(props, child) {\n  var role = child.type && child.type.role;\n  var colorScaleOptions = child.props.colorScale || props.colorScale;\n\n  if (role !== \"group\" && role !== \"stack\") {\n    return undefined;\n  }\n\n  return props.theme ? colorScaleOptions || props.theme.props.colorScale : colorScaleOptions;\n}\n\nfunction getChildren(props, childComponents, calculatedProps) {\n  props = Helpers.modifyProps(props, fallbackProps, \"stack\");\n  childComponents = childComponents || React.Children.toArray(props.children);\n  calculatedProps = calculatedProps || getCalculatedProps(props, childComponents);\n  var _calculatedProps = calculatedProps,\n      datasets = _calculatedProps.datasets;\n  var childProps = getChildProps(props, calculatedProps);\n  var parentName = props.name || \"stack\";\n  return childComponents.map(function (child, index) {\n    var role = child.type && child.type.role;\n    var data = datasets[index];\n    var style = Wrapper.getChildStyle(child, index, calculatedProps);\n    var labels = props.labels ? getLabels(props, datasets, index) : child.props.labels;\n    var name = child.props.name || \"\".concat(parentName, \"-\").concat(role, \"-\").concat(index);\n    return React.cloneElement(child, _assign({\n      key: \"\".concat(name, \"-key-\").concat(index),\n      labels: labels,\n      name: name,\n      domainPadding: child.props.domainPadding || props.domainPadding,\n      theme: props.theme,\n      labelComponent: props.labelComponent || child.props.labelComponent,\n      style: style,\n      colorScale: getColorScale(props, child),\n      data: data,\n      polar: props.polar\n    }, childProps));\n  });\n}\n\nexport { getChildren, getCalculatedProps };","import _isEmpty from \"lodash/isEmpty\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { Helpers, VictoryContainer, VictoryTheme, CommonProps, Wrapper, PropTypes as CustomPropTypes } from \"victory-core\";\nimport { VictorySharedEvents } from \"victory-shared-events\";\nimport { getChildren, getCalculatedProps } from \"./helper-methods\";\nimport isEqual from \"react-fast-compare\";\nvar fallbackProps = {\n  width: 450,\n  height: 300,\n  padding: 50\n};\n\nvar VictoryStack =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(VictoryStack, _React$Component);\n\n  function VictoryStack(props) {\n    var _this;\n\n    _classCallCheck(this, VictoryStack);\n\n    _this = _possibleConstructorReturn(this, (VictoryStack.__proto__ || Object.getPrototypeOf(VictoryStack)).call(this, props));\n\n    if (props.animate) {\n      _this.state = {\n        nodesShouldLoad: false,\n        nodesDoneLoad: false,\n        animating: true\n      };\n      _this.setAnimationState = Wrapper.setAnimationState.bind(_assertThisInitialized(_this));\n    }\n\n    return _this;\n  }\n\n  _createClass(VictoryStack, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      if (this.props.animate) {\n        if (!isEqual(this.props, nextProps)) {\n          this.setAnimationState(this.props, nextProps);\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: \"getNewChildren\",\n    value: function getNewChildren(props, childComponents, calculatedProps) {\n      var children = getChildren(props, childComponents, calculatedProps);\n      var getAnimationProps = Wrapper.getAnimationProps.bind(this);\n      var newChildren = children.map(function (child, index) {\n        var childProps = _assign({\n          animate: getAnimationProps(props, child, index)\n        }, child.props);\n\n        return React.cloneElement(child, childProps);\n      });\n      /*\n        reverse render order for children of `VictoryStack` so that higher children in the stack\n        are rendered behind lower children. This looks nicer for stacked bars with cornerRadius, and\n        areas with strokes\n      */\n\n      return newChildren.reverse();\n    }\n  }, {\n    key: \"renderContainer\",\n    value: function renderContainer(containerComponent, props) {\n      var containerProps = _defaults({}, containerComponent.props, props);\n\n      return React.cloneElement(containerComponent, containerProps);\n    }\n  }, {\n    key: \"getContainerProps\",\n    value: function getContainerProps(props, calculatedProps) {\n      var width = props.width,\n          height = props.height,\n          standalone = props.standalone,\n          theme = props.theme,\n          polar = props.polar,\n          horizontal = props.horizontal,\n          name = props.name;\n      var domain = calculatedProps.domain,\n          scale = calculatedProps.scale,\n          style = calculatedProps.style,\n          origin = calculatedProps.origin;\n      return {\n        domain: domain,\n        scale: scale,\n        width: width,\n        height: height,\n        standalone: standalone,\n        theme: theme,\n        style: style.parent,\n        horizontal: horizontal,\n        polar: polar,\n        origin: origin,\n        name: name\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var role = this.constructor.role;\n      var props = this.state && this.state.nodesWillExit ? this.state.oldProps || this.props : this.props;\n      var modifiedProps = Helpers.modifyProps(props, fallbackProps, role);\n      var eventKey = modifiedProps.eventKey,\n          containerComponent = modifiedProps.containerComponent,\n          standalone = modifiedProps.standalone,\n          groupComponent = modifiedProps.groupComponent,\n          externalEventMutations = modifiedProps.externalEventMutations;\n      var childComponents = React.Children.toArray(modifiedProps.children);\n      var calculatedProps = getCalculatedProps(modifiedProps, childComponents);\n      var newChildren = this.getNewChildren(modifiedProps, childComponents, calculatedProps);\n      var containerProps = standalone ? this.getContainerProps(modifiedProps, calculatedProps) : {};\n      var container = standalone ? this.renderContainer(containerComponent, containerProps) : groupComponent;\n      var events = Wrapper.getAllEvents(props);\n\n      if (!_isEmpty(events)) {\n        return React.createElement(VictorySharedEvents, {\n          container: container,\n          eventKey: eventKey,\n          events: events,\n          externalEventMutations: externalEventMutations\n        }, newChildren);\n      }\n\n      return React.cloneElement(container, container.props, newChildren);\n    }\n  }]);\n\n  return VictoryStack;\n}(React.Component);\n\nObject.defineProperty(VictoryStack, \"displayName\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: \"VictoryStack\"\n});\nObject.defineProperty(VictoryStack, \"role\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: \"stack\"\n});\nObject.defineProperty(VictoryStack, \"propTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: _objectSpread({}, CommonProps.baseProps, {\n    bins: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([CustomPropTypes.nonNegative, PropTypes.instanceOf(Date)])), CustomPropTypes.nonNegative]),\n    categories: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.string), PropTypes.shape({\n      x: PropTypes.arrayOf(PropTypes.string),\n      y: PropTypes.arrayOf(PropTypes.string)\n    })]),\n    children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n    colorScale: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.string), PropTypes.oneOf([\"grayscale\", \"qualitative\", \"heatmap\", \"warm\", \"cool\", \"red\", \"green\", \"blue\"])]),\n    fillInMissingData: PropTypes.bool,\n    horizontal: PropTypes.bool,\n    labelComponent: PropTypes.element,\n    labels: PropTypes.oneOfType([PropTypes.func, PropTypes.array]),\n    style: PropTypes.shape({\n      parent: PropTypes.object,\n      data: PropTypes.object,\n      labels: PropTypes.object\n    }),\n    xOffset: PropTypes.number\n  })\n});\nObject.defineProperty(VictoryStack, \"defaultProps\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    containerComponent: React.createElement(VictoryContainer, null),\n    groupComponent: React.createElement(\"g\", null),\n    standalone: true,\n    theme: VictoryTheme.grayscale,\n    fillInMissingData: true\n  }\n});\nObject.defineProperty(VictoryStack, \"expectedComponents\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: [\"groupComponent\", \"containerComponent\", \"labelComponent\"]\n});\nObject.defineProperty(VictoryStack, \"getChildren\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: getChildren\n});\nexport { VictoryStack as default };"],"sourceRoot":""}
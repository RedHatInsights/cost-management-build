(self.webpackChunkkoku_ui=self.webpackChunkkoku_ui||[]).push([[5805],{77724:(e,t,s)=>{"use strict";s.d(t,{g:()=>c});var r=s(87268),a=s(66191),o=s.n(a);function c({version:e}){o().defaults.baseURL=`/api/cost-management/${e}/`,o().interceptors.request.use(i),o().interceptors.request.use(r.w5)}function i(e){return Object.assign(Object.assign({},e),{headers:Object.assign({},e.headers)})}},6813:(e,t,s)=>{"use strict";s.d(t,{l6:()=>o,Rl:()=>c,js:()=>i,j4:()=>n});var r=s(66191),a=s.n(r);function o(e=""){return a().get(`cost-models/${e&&"?"}${e}`)}function c(e){return a().post("cost-models/",e)}function i(e,t){return a().put(`cost-models/${e}/`,t)}function n(e){return a().delete(`cost-models/${e}/`)}},5144:(e,t,s)=>{"use strict";s.d(t,{l:()=>o});var r=s(66191),a=s.n(r);function o(e){const t=window.insights,s=e?`?${e}`:"";return t&&t.chrome&&t.chrome.auth&&t.chrome.auth.getUser?t.chrome.auth.getUser().then((()=>a().get(`sources/${s}`))):a().get(`sources/${s}`)}},95078:(e,t,s)=>{"use strict";s.d(t,{IV:()=>a,pm:()=>o,mB:()=>c});var r=s(45997);function a(e){return r.IV(e)}function o(e){return r.pm(e)}function c(e){return r.mB(e)}},93662:(e,t,s)=>{"use strict";s.d(t,{IV:()=>a,pm:()=>o,mB:()=>c});var r=s(45997);function a(e){return r.IV(e)}function o(e){return r.pm(e)}function c(e){return r.mB(e)}},37762:(e,t,s)=>{"use strict";s.d(t,{IV:()=>a,pm:()=>o,mB:()=>c});var r=s(45997);function a(e){return r.IV(e)}function o(e){return r.pm(e)}function c(e){return r.mB(e)}},99263:(e,t,s)=>{"use strict";s.d(t,{pm:()=>a,mB:()=>o});var r=s(45997);function a(e){return r.pm(e)}function o(e){return r.mB(e)}},90392:(e,t,s)=>{"use strict";s.d(t,{IV:()=>a,pm:()=>o,mB:()=>c});var r=s(45997);function a(e){return r.IV(e)}function o(e){return r.pm(e)}function c(e){return r.mB(e)}},45997:(e,t,s)=>{"use strict";s.d(t,{P:()=>o,eG:()=>c,yG:()=>i,dV:()=>n,iP:()=>p,up:()=>u,IV:()=>d,pm:()=>l,mB:()=>g});var r=s(43702);const a="or:",o="tag:",c="breakdown_desc",i="breakdown_title",n="org_unit_id",p="org_unit_name",u="tag";function d(e){return(0,r.stringify)(e,{encode:!1,indices:!1})}function l(e){const t=function(e){if(!e||!e.filter_by)return e;const t=Object.assign(Object.assign({},JSON.parse(JSON.stringify(e))),{filter_by:{}});for(const s of Object.keys(e.filter_by))t.group_by||(t.group_by={}),t.group_by[s]=e.filter_by[s];return t}(e);let s=!1;if(t&&t.group_by){const e=Object.keys(t.group_by);if(e&&e.length>1)s=!0;else for(const r of e)(Array.isArray(t.group_by[r])&&t.group_by[r].length>1||-1!==r.indexOf(o))&&(s=!0)}const a=s?function(e){if(!e||!e.group_by)return e;const t=Object.assign(Object.assign({},JSON.parse(JSON.stringify(e))),{group_by:{}});for(const s of Object.keys(e.group_by))t.group_by[`or:${s}`]=e.group_by[s];return t}(t):t;return(0,r.stringify)(a,{encode:!1,indices:!1})}function g(e){return function(e){if(!e||!e.filter_by)return e;const t=Object.assign(Object.assign({},JSON.parse(JSON.stringify(e))),{filter_by:{}});for(const s of Object.keys(e.filter_by)){const r=s.indexOf(a),o=-1!==r?s.substring(r+a.length):s;t.filter_by[o]=e.filter_by[s]}return t}(function(e){if(!e||!e.group_by)return e;const t=Object.assign(Object.assign({},JSON.parse(JSON.stringify(e))),{group_by:{}});for(const s of Object.keys(e.group_by)){const r=s.indexOf(a),o=-1!==r?s.substring(r+a.length):s;t.group_by[o]=e.group_by[s]}return t}((0,r.parse)(e,{ignoreQueryPrefix:!0})))}},508:(e,t,s)=>{"use strict";s.d(t,{b:()=>o,S:()=>c});var r=s(66191),a=s.n(r);const o={cost:"reports/aws/costs/",database:"reports/aws/costs/",network:"reports/aws/costs/",storage:"reports/aws/storage/",instance_type:"reports/aws/instance-types/"};function c(e,t){const s=o[e];return a().get(`${s}?${t}`)}},35443:(e,t,s)=>{"use strict";s.d(t,{b:()=>o,S:()=>c});var r=s(66191),a=s.n(r);const o={cost:"reports/azure/costs/",database:"reports/azure/costs/",network:"reports/azure/costs/",storage:"reports/azure/storage/",instance_type:"reports/azure/instance-types/"};function c(e,t){const s=o[e];return a().get(`${s}?${t}`)}},99531:(e,t,s)=>{"use strict";s.d(t,{b:()=>o,S:()=>c});var r=s(66191),a=s.n(r);const o={cost:"reports/gcp/costs/",database:"reports/gcp/costs/",network:"reports/gcp/costs/",storage:"reports/gcp/storage/",instance_type:"reports/gcp/instance-types/"};function c(e,t){const s=o[e];return a().get(`${s}?${t}`)}},5061:(e,t,s)=>{"use strict";s.d(t,{b:()=>o,S:()=>c});var r=s(66191),a=s.n(r);const o={cost:"reports/openshift/infrastructures/all/costs/",cpu:"reports/openshift/compute/",database:"reports/openshift/infrastructures/all/costs/",instance_type:"reports/openshift/infrastructures/all/instance-types/",memory:"reports/openshift/memory/",network:"reports/openshift/infrastructures/all/costs/",storage:"reports/openshift/infrastructures/all/storage/",volume:"reports/openshift/volumes/"};function c(e,t){const s=o[e];return a().get(`${s}?${t}`)}},10328:(e,t,s)=>{"use strict";s.d(t,{b:()=>o,S:()=>c});var r=s(66191),a=s.n(r);const o={cost:"reports/openshift/costs/",cpu:"reports/openshift/compute/",memory:"reports/openshift/memory/",volume:"reports/openshift/volumes/"};function c(e,t){const s=o[e];return a().get(`${s}?${t}`)}},4349:(e,t,s)=>{"use strict";s.d(t,{Z:()=>I});var r=s(97522),a=s.n(r),o=s(79878);class c extends a().Component{render(){return n().changeLanguage(this.props.locale),a().createElement(o.I18nextProvider,{i18n:n()},a().createElement(a().Fragment,null,this.props.children))}}var i=s(30136),n=s.n(i),p=s(7015),u=s.n(p);n().use(u()).use(o.initReactI18next).init({backend:{loadPath:"/beta/apps/cost-management//locales/{{lng}}.json"},fallbackLng:"en",ns:["default"],defaultNS:"default",react:{useSuspense:!1}});var d=s(47205),l=s(55399),g=s(48927),m=s(88943);class y extends a().Component{render(){const{t:e}=this.props;return a().createElement(m.Maintenance,{description:a().createElement(g.Stack,null,a().createElement(g.StackItem,null,e("maintenance.empty_state_desc")),a().createElement(g.StackItem,null,e("maintenance.empty_state_info")," ",a().createElement("a",{href:"https://status.redhat.com"},"status.redhat.com"),"."),a().createElement(g.StackItem,null,e("maintenance.empty_state_thanks")))})}}const b=(0,o.withTranslation)()(y),h=(0,l.withRouter)((()=>a().createElement(d.Main,null,a().createElement(b,null))));var f=s(86588),_=s(49381),O=s(94377),w=s(57954);class T extends a().Component{constructor(){super(...arguments),this.state={locale:"en",maintenanceMode:!1}}componentDidMount(){const{history:e,location:t}=this.props;insights.chrome.init(),insights.chrome.identifyApp("cost-management"),t&&t.pathname&&insights.chrome.appAction(t.pathname),this.appNav=insights.chrome.on("APP_NAVIGATION",(t=>{const s=w._j.find((({path:e})=>e.includes(t.navId)));t.domEvent&&s&&e.push(s.path)}))}componentDidUpdate(e){const{location:t}=this.props;t&&t.pathname!==e.location.pathname&&(window.scrollTo(0,0),insights.chrome.appAction(t.pathname))}componentWillUnmount(){this.appNav(),insights.chrome.appAction(void 0)}render(){const{maintenanceMode:e}=this.state,t=e?a().createElement(h,null):a().createElement(w.Z5,null);return a().createElement(c,{locale:this.state.locale},t)}}const v=(0,O.X1)(((e,t)=>({}))),j={history},I=(0,_.compose)(l.withRouter,(0,f.connect)(v,j))(T)},88485:(e,t,s)=>{"use strict";s.d(t,{L:()=>r});const r=e=>{if(e.response&&e.response.data){if(e.response.data.Error)return e.response.data.Error;if(e.response.data.errors)return e.response.data.errors.map((e=>`${e.source}: ${e.detail}`)).join(", ")}else if(e.message)return e.message;return"unknown"}},57954:(e,t,s)=>{"use strict";s.d(t,{Z5:()=>D,Hb:()=>j,_j:()=>I});var r=s(97522),a=s.n(r);function o(e){let t=null;class s extends a().Component{constructor(){super(...arguments),this.state={isLoading:!t}}componentDidMount(){this.state.isLoading&&e().then((e=>{t=e.default?e.default:e,this.setState({isLoading:!1})}))}render(){const{isLoading:e}=this.state;return e?null:a().createElement(t,Object.assign({},this.props))}}return s}const c=o,i=c((()=>Promise.all([s.e(4736),s.e(4449)]).then(s.bind(s,74386)))),n=c((()=>Promise.all([s.e(4736),s.e(4449)]).then(s.bind(s,88422))));function p(e){class t extends a().Component{render(){return a().createElement(n,null,a().createElement(i,Object.assign({},this.props)),a().createElement(e,Object.assign({},this.props)))}}return t}var u=s(55399);const d=o((()=>Promise.all([s.e(4736),s.e(4449)]).then(s.bind(s,12188)))),l=o((()=>Promise.all([s.e(4736),s.e(4175),s.e(8769),s.e(4804),s.e(373)]).then(s.bind(s,37692)))),g=o((()=>Promise.all([s.e(4736),s.e(4175),s.e(8769),s.e(4804),s.e(373)]).then(s.bind(s,22452)))),m=o((()=>Promise.all([s.e(4736),s.e(4175),s.e(8769),s.e(4804),s.e(6196)]).then(s.bind(s,63630)))),y=o((()=>Promise.all([s.e(4736),s.e(4175),s.e(8769),s.e(4804),s.e(6196)]).then(s.bind(s,18457)))),b=o((()=>Promise.all([s.e(4736),s.e(4175),s.e(8769),s.e(4804),s.e(6196)]).then(s.bind(s,31073)))),h=o((()=>Promise.all([s.e(4736),s.e(4175),s.e(8769),s.e(4804),s.e(403)]).then(s.bind(s,32185)))),f=o((()=>Promise.all([s.e(4736),s.e(4175),s.e(8769),s.e(4804),s.e(403)]).then(s.bind(s,27957)))),_=o((()=>Promise.all([s.e(4736),s.e(4175),s.e(8769),s.e(4804),s.e(7855)]).then(s.bind(s,58988)))),O=o((()=>Promise.all([s.e(4736),s.e(4175),s.e(8769),s.e(4804),s.e(7855)]).then(s.bind(s,65734)))),w=o((()=>Promise.all([s.e(4736),s.e(8769),s.e(2340)]).then(s.bind(s,83734)))),T=o((()=>Promise.all([s.e(4736),s.e(4175),s.e(7399),s.e(9612)]).then(s.bind(s,88482)))),v=o((()=>Promise.all([s.e(4736),s.e(4175),s.e(7399),s.e(3758)]).then(s.bind(s,70876)))),j={awsDetails:"/infrastructure/aws",awsDetailsBreakdown:"/infrastructure/aws/breakdown",azureDetails:"/infrastructure/azure",azureDetailsBreakdown:"/infrastructure/azure/breakdown",costModels:"/cost-models",explorer:"/explorer",gcpDetails:"/infrastructure/gcp",gcpDetailsBreakdown:"/infrastructure/gcp/breakdown",ocpDetails:"/ocp",ocpDetailsBreakdown:"/ocp/breakdown",overview:"/"},I=[{path:j.overview,labelKey:"navigation.overview",component:p(w),exact:!0},{path:j.costModels,labelKey:"navigation.cost_models",component:p(T),exact:!0},{path:`${j.costModels}/:uuid`,labelKey:"navigation.cost_models",component:p(v),exact:!0},{path:j.awsDetails,labelKey:"navigation.aws_details",component:p(g),exact:!0},{path:j.awsDetailsBreakdown,labelKey:"navigation.aws_details_breakdown",component:p(l),exact:!0},{path:j.azureDetails,labelKey:"navigation.azure_details",component:p(y),exact:!0},{path:j.azureDetailsBreakdown,labelKey:"navigation.azure_details_breakdown",component:p(m),exact:!0},{path:j.explorer,labelKey:"navigation.explorer",component:p(b),exact:!0},{path:j.gcpDetails,labelKey:"navigation.gcp_details",component:p(f),exact:!0},{path:j.gcpDetailsBreakdown,labelKey:"navigation.gcp_details_breakdown",component:p(h),exact:!0},{path:j.ocpDetails,labelKey:"navigation.ocp_details",component:p(_),exact:!0},{path:j.ocpDetailsBreakdown,labelKey:"navigation.ocp_details_breakdown",component:p(O),exact:!0}],D=()=>a().createElement(u.Switch,null,I.map((e=>a().createElement(u.Route,Object.assign({key:e.path},e)))),a().createElement(u.Route,{component:d}))},17287:(e,t,s)=>{"use strict";s.d(t,{uj:()=>g,XL:()=>r,zc:()=>a});var r={};s.r(r),s.d(r,{selectAwsCostOverviewState:()=>m,selectCurrentWidgets:()=>h,selectWidget:()=>b,selectWidgets:()=>y});const a="awsCostOverview";var o=s(45997);let c=0;const i=()=>c++,n={id:i(),reportPathsType:"ocp",reportType:"cost",type:"cost"},p={id:i(),reportSummary:{reportGroupBy:"account",showWidgetOnGroupBy:["region","service",o.P]},reportPathsType:"aws",reportType:"cost",type:"summary"},u={id:i(),reportSummary:{reportGroupBy:"region",showWidgetOnGroupBy:["account","service",o.P]},reportPathsType:"aws",reportType:"cost",type:"summary"},d={id:i(),reportSummary:{reportGroupBy:"service",showWidgetOnGroupBy:["region","account",o.P]},reportPathsType:"aws",reportType:"cost",type:"summary"},l={currentWidgets:[n.id,p.id,d.id,u.id],widgets:{[n.id]:n,[p.id]:p,[d.id]:d,[u.id]:u}};function g(e=l){return e}const m=e=>e[a],y=e=>m(e).widgets,b=(e,t)=>y(e)[t],h=e=>m(e).currentWidgets},43420:(e,t,s)=>{"use strict";s.d(t,{Dk:()=>g,kl:()=>r,YN:()=>a});var r={};s.r(r),s.d(r,{selectAzureCostOverviewState:()=>m,selectCurrentWidgets:()=>h,selectWidget:()=>b,selectWidgets:()=>y});const a="azureCostOverview";var o=s(45997);let c=0;const i=()=>c++,n={id:i(),reportPathsType:"ocp",reportType:"cost",type:"cost"},p={id:i(),reportSummary:{reportGroupBy:"subscription_guid",showWidgetOnGroupBy:["resource_location","service_name",o.P]},reportPathsType:"azure",reportType:"cost",type:"summary"},u={id:i(),reportSummary:{reportGroupBy:"resource_location",showWidgetOnGroupBy:["subscription_guid","service_name",o.P]},reportPathsType:"azure",reportType:"cost",type:"summary"},d={id:i(),reportSummary:{reportGroupBy:"service_name",showWidgetOnGroupBy:["resource_location","subscription_guid",o.P]},reportPathsType:"azure",reportType:"cost",type:"summary"},l={currentWidgets:[n.id,p.id,d.id,u.id],widgets:{[n.id]:n,[p.id]:p,[d.id]:d,[u.id]:u}};function g(e=l){return e}const m=e=>e[a],y=e=>m(e).widgets,b=(e,t)=>y(e)[t],h=e=>m(e).currentWidgets},30315:(e,t,s)=>{"use strict";s.d(t,{AG:()=>m,eo:()=>r,YY:()=>a});var r={};s.r(r),s.d(r,{selectCurrentWidgets:()=>f,selectGcpCostOverviewState:()=>y,selectWidget:()=>h,selectWidgets:()=>b});const a="gcpCostOverview";var o=s(45997);let c=0;const i=()=>c++,n={id:i(),reportPathsType:"ocp",reportType:"cost",type:"cost"},p={id:i(),reportSummary:{reportGroupBy:"account",showWidgetOnGroupBy:["project","region","service",o.P]},reportPathsType:"gcp",reportType:"cost",type:"summary"},u={id:i(),reportSummary:{reportGroupBy:"project",showWidgetOnGroupBy:["account","region","service",o.P]},reportPathsType:"gcp",reportType:"cost",type:"summary"},d={id:i(),reportSummary:{reportGroupBy:"region",showWidgetOnGroupBy:["account","project","service",o.P]},reportPathsType:"gcp",reportType:"cost",type:"summary"},l={id:i(),reportSummary:{reportGroupBy:"service",showWidgetOnGroupBy:["project","region","account",o.P]},reportPathsType:"gcp",reportType:"cost",type:"summary"},g={currentWidgets:[n.id,p.id,u.id,l.id,d.id],widgets:{[n.id]:n,[p.id]:p,[u.id]:u,[l.id]:l,[d.id]:d}};function m(e=g){return e}const y=e=>e[a],b=e=>y(e).widgets,h=(e,t)=>b(e)[t],f=e=>y(e).currentWidgets},64764:(e,t,s)=>{"use strict";s.d(t,{Gi:()=>g,cm:()=>r,xt:()=>a});var r={};s.r(r),s.d(r,{selectCurrentWidgets:()=>h,selectOcpCostOverviewState:()=>m,selectWidget:()=>b,selectWidgets:()=>y});const a="ocpCostOverview";let o=0;const c=()=>o++,i={id:c(),cluster:{reportGroupBy:"project",showWidgetOnGroupBy:["project"]},reportPathsType:"ocp",reportType:"cost",type:"cluster"},n={id:c(),reportPathsType:"ocp",reportType:"cost",type:"cost"},p={id:c(),usage:{showCapacityOnGroupBy:["cluster"]},reportPathsType:"ocp",reportType:"cpu",type:"cpuUsage"},u={id:c(),usage:{showCapacityOnGroupBy:["cluster"]},reportPathsType:"ocp",reportType:"memory",type:"memoryUsage"},d={id:c(),reportSummary:{reportGroupBy:"project",showWidgetOnGroupBy:["cluster"],usePlaceholder:!0},reportType:"cost",reportPathsType:"ocp",type:"summary"},l={currentWidgets:[n.id,i.id,d.id,p.id,u.id],widgets:{[n.id]:n,[i.id]:i,[d.id]:d,[p.id]:p,[u.id]:u}};function g(e=l){return e}const m=e=>e[a],y=e=>m(e).widgets,b=(e,t)=>y(e)[t],h=e=>m(e).currentWidgets},17303:(e,t,s)=>{"use strict";s.d(t,{PA:()=>d,Vf:()=>r,Ee:()=>a});var r={};s.r(r),s.d(r,{selectAwsHistoricalDataState:()=>l,selectCurrentWidgets:()=>y,selectWidget:()=>m,selectWidgets:()=>g});const a="awsHistoricalData";let o=0;const c=()=>o++,i={id:c(),reportPathsType:"aws",reportType:"cost",type:"trend"},n={id:c(),reportPathsType:"aws",reportType:"instance_type",type:"usage"},p={id:c(),reportPathsType:"aws",reportType:"storage",type:"usage"},u={currentWidgets:[i.id,n.id,p.id],widgets:{[i.id]:i,[n.id]:n,[p.id]:p}};function d(e=u){return e}const l=e=>e[a],g=e=>l(e).widgets,m=(e,t)=>g(e)[t],y=e=>l(e).currentWidgets},48204:(e,t,s)=>{"use strict";s.d(t,{E0:()=>d,VK:()=>r,NO:()=>a});var r={};s.r(r),s.d(r,{selectAzureHistoricalDataState:()=>l,selectCurrentWidgets:()=>y,selectWidget:()=>m,selectWidgets:()=>g});const a="azureHistoricalData";let o=0;const c=()=>o++,i={id:c(),reportPathsType:"azure",reportType:"cost",type:"trend"},n={id:c(),reportPathsType:"azure",reportType:"instance_type",type:"usage"},p={id:c(),reportPathsType:"azure",reportType:"storage",type:"usage"},u={currentWidgets:[i.id,n.id,p.id],widgets:{[i.id]:i,[n.id]:n,[p.id]:p}};function d(e=u){return e}const l=e=>e[a],g=e=>l(e).widgets,m=(e,t)=>g(e)[t],y=e=>l(e).currentWidgets},82086:(e,t,s)=>{"use strict";s.d(t,{Ht:()=>d,hH:()=>r,xJ:()=>a});var r={};s.r(r),s.d(r,{selectCurrentWidgets:()=>y,selectGcpHistoricalDataState:()=>l,selectWidget:()=>m,selectWidgets:()=>g});const a="gcpHistoricalData";let o=0;const c=()=>o++,i={id:c(),reportPathsType:"gcp",reportType:"cost",type:"trend"},n={id:c(),reportPathsType:"gcp",reportType:"instance_type",type:"trend"},p={id:c(),reportPathsType:"gcp",reportType:"storage",type:"trend"},u={currentWidgets:[i.id,n.id,p.id],widgets:{[i.id]:i,[n.id]:n,[p.id]:p}};function d(e=u){return e}const l=e=>e[a],g=e=>l(e).widgets,m=(e,t)=>g(e)[t],y=e=>l(e).currentWidgets},82462:(e,t,s)=>{"use strict";s.d(t,{c3:()=>d,P2:()=>r,Xi:()=>a});var r={};s.r(r),s.d(r,{selectCurrentWidgets:()=>y,selectOcpHistoricalDataState:()=>l,selectWidget:()=>m,selectWidgets:()=>g});const a="ocpHistoricalData";let o=0;const c=()=>o++,i={id:c(),reportPathsType:"ocp",reportType:"cost",type:"cost"},n={id:c(),reportPathsType:"ocp",reportType:"cpu",type:"usage"},p={id:c(),reportPathsType:"ocp",reportType:"memory",type:"usage"},u={currentWidgets:[i.id,n.id,p.id],widgets:{[i.id]:i,[n.id]:n,[p.id]:p}};function d(e=u){return e}const l=e=>e[a],g=e=>l(e).widgets,m=(e,t)=>g(e)[t],y=e=>l(e).currentWidgets},94377:(e,t,s)=>{"use strict";function r(e){return e}s.d(t,{X1:()=>r})},87932:(e,t,s)=>{"use strict";s.d(t,{F0:()=>r,Ih:()=>R,E6:()=>a,fn:()=>P});var r={};s.r(r),s.d(r,{deleteCostModel:()=>I,deleteCostModelsFailure:()=>j,deleteCostModelsRequest:()=>T,deleteCostModelsSuccess:()=>v,fetchCostModels:()=>h,fetchCostModelsFailure:()=>b,fetchCostModelsRequest:()=>m,fetchCostModelsSuccess:()=>y,redirectToCostModelFromSourceUuid:()=>D,resetCostModel:()=>l,selectCostModel:()=>d,setCostModelDialog:()=>g,updateCostModel:()=>w,updateCostModelsFailure:()=>O,updateCostModelsRequest:()=>f,updateCostModelsSuccess:()=>_,updateFilterToolbar:()=>u});var a={};s.r(a),s.d(a,{costModels:()=>z,costModelsState:()=>M,currentFilterType:()=>V,currentFilterValue:()=>$,deleteError:()=>H,deleteProcessing:()=>G,dialogData:()=>N,error:()=>U,isDialogOpen:()=>C,pagination:()=>B,query:()=>x,selected:()=>L,stateName:()=>W,status:()=>k,updateError:()=>q,updateProcessing:()=>E});var o=s(32479),c=s(6813),i=s(30136),n=s.n(i),p=s(62717);const u=(0,p.createAction)("fetch/costModels/filter")(),d=(0,p.createAction)("select/costModels")(),l=(0,p.createAction)("reset/costModels")(),g=(0,p.createAction)("display/costModels/dialog")(),{request:m,success:y,failure:b}=(0,p.createAsyncAction)("fetch/costModels/request","fetch/costModels/success","fetch/costModels/failure")(),h=(e="")=>t=>(t(m()),(0,c.l6)(e).then((e=>{t(y(e))})).catch((e=>{t(b(e))}))),{request:f,success:_,failure:O}=(0,p.createAsyncAction)("update/costModels/request","update/costModels/success","update/costModels/failure")(),w=(e,t,s=null)=>r=>(r(f()),(0,c.js)(e,t).then((t=>{r(_(t)),null!==s&&(h(`uuid=${e}`)(r),r(g({name:s,isOpen:!1})))})).catch((e=>{r(O(e))}))),{request:T,success:v,failure:j}=(0,p.createAsyncAction)("delete/costModels/request","delete/costModels/success","delete/costModels/failure")(),I=(e,t="",s=null)=>r=>(r(T()),(0,c.j4)(e).then((()=>{r(v()),r(l()),h()(r),null!==t&&("deleteCostModel"===t&&s&&s.push("/cost-models"),r(g({name:t,isOpen:!1})))})).catch((e=>{r(j(e))}))),D=(e,t)=>s=>(0,c.l6)(`source_uuid=${e}`).then((e=>{const s=e.data.data[0].uuid;insights.chrome.appNavClick({id:"cost-models",secondaryNav:null}),t.push(`/cost-models/${s}`)})).catch((()=>{s((0,o.addNotification)({title:n().t("cost_models_router.error_title"),description:n().t("cost_models_router.server_error"),variant:"danger",dismissable:!0}))})),P="costModels",S={costModels:null,error:null,status:0,currentFilterType:"name",currentFilterValue:"",isDialogOpen:{deleteRate:!1,deleteSource:!1,addSource:!1,addRate:!1,updateRate:!1,deleteCostModel:!1,updateCostModel:!1,deleteMarkup:!1,updateMarkup:!1,createWizard:!1},dialogData:null,update:{error:null,status:0,current:null},delete:{error:null,status:0}},R=(e=S,t)=>{switch(t.type){case(0,p.getType)(l):return Object.assign(Object.assign({},e),{update:Object.assign(Object.assign({},e.update),{current:null})});case(0,p.getType)(d):return Object.assign(Object.assign({},e),{update:Object.assign(Object.assign({},e.update),{current:t.payload})});case(0,p.getType)(f):return Object.assign(Object.assign({},e),{update:Object.assign(Object.assign({},e.update),{status:1})});case(0,p.getType)(_):return Object.assign(Object.assign({},e),{update:{error:null,status:2,current:t.payload.data}});case(0,p.getType)(O):return Object.assign(Object.assign({},e),{update:Object.assign(Object.assign({},e.update),{status:2,error:t.payload})});case(0,p.getType)(m):return Object.assign(Object.assign({},e),{status:1});case(0,p.getType)(y):return Object.assign(Object.assign({},e),{currentFilterValue:"",status:2,error:null,costModels:t.payload.data});case(0,p.getType)(b):return Object.assign(Object.assign({},e),{status:2,error:t.payload});case(0,p.getType)(T):return Object.assign(Object.assign({},e),{delete:Object.assign(Object.assign({},e.delete),{status:1})});case(0,p.getType)(v):return Object.assign(Object.assign({},e),{delete:{error:null,status:2}});case(0,p.getType)(j):return Object.assign(Object.assign({},e),{delete:{status:2,error:t.payload}});case(0,p.getType)(u):return Object.assign(Object.assign({},e),t.payload);case(0,p.getType)(g):return Object.assign(Object.assign({},e),{isDialogOpen:Object.assign(Object.assign({},e.isDialogOpen),{[t.payload.name]:t.payload.isOpen}),dialogData:t.payload.meta});default:return e}};var F=s(88485),A=s(12538),K=s(93987);const M=e=>e[P],z=e=>{const t=M(e).costModels;return t?t.data:[]},C=e=>{const t=M(e).isDialogOpen;return s=>{switch(s){case"markup":{const{deleteMarkup:e,updateMarkup:s}=t;return{deleteMarkup:e,updateMarkup:s}}case"costmodel":{const{deleteCostModel:e,updateCostModel:s,createWizard:r}=t;return{deleteCostModel:e,updateCostModel:s,createWizard:r}}case"sources":{const{deleteSource:e,addSource:s}=t;return{deleteSource:e,addSource:s}}case"rate":{const{addRate:e,updateRate:s,deleteRate:r}=t;return{addRate:e,updateRate:s,deleteRate:r}}default:return M(e).isDialogOpen}}},k=e=>M(e).status,U=e=>M(e).error,W=e=>{const t=k(e),s=U(e),r=z(e),a=x(e);return 2!==t?"loading":null!==s?"failure":r.length>0?"success":Object.keys(a).every((e=>{switch(e){case"limit":return"10"===a[e];case"offset":return"0"===a[e];default:return null===a[e]}}))?"empty":"no-match"},$=e=>M(e).currentFilterValue,V=e=>M(e).currentFilterType,x=(0,K.x)((e=>M(e).costModels),["ordering","name","source_type","description","offset","limit"]),B=(0,A.B)((e=>M(e).costModels)),N=e=>M(e).dialogData,E=e=>1===M(e).update.status,q=e=>{const t=M(e).update.error;return null===t?"":(0,F.L)(t)},L=e=>M(e).update.current,G=e=>1===M(e).delete.status,H=e=>{const t=M(e).delete.error;return null===t?"":(0,F.L)(t)}},37062:(e,t,s)=>{"use strict";s.d(t,{k4:()=>a,ZY:()=>A,jh:()=>r,Mz:()=>p});var r={};s.r(r),s.d(r,{selectAwsCloudDashboardState:()=>m,selectCurrentWidgets:()=>h,selectWidget:()=>b,selectWidgetQueries:()=>f,selectWidgets:()=>y});var a={};s.r(a),s.d(a,{as:()=>T,v4:()=>_,a4:()=>O,Xj:()=>w});var o=s(40693),c=s(90203),i=s(62717),n=s(95078);const p="awsCloudDashboard",u={time_scope_units:"month",time_scope_value:-1,resolution:"daily"},d=Object.assign(Object.assign({},u),{limit:3});function l(e=u,t){const s=Object.assign({filter:e},t||{});return(0,n.pm)(s)}function g(e,t=u){const s=function(e){switch(e.currentTab){case"services":return{service:e.tabsFilter&&e.tabsFilter.service?e.tabsFilter.service:"*"};case"accounts":return{account:"*"};case"regions":return{region:"*"};case"instance_type":return{instance_type:"*"};default:return{}}}(e),r=Object.assign({},JSON.parse(JSON.stringify(t)));"services"===e.currentTab&&e.tabsFilter&&e.tabsFilter.service&&(r.service=void 0);const a={filter:r,group_by:s};return(0,n.pm)(a)}const m=e=>e[p],y=e=>m(e).widgets,b=(e,t)=>y(e)[t],h=e=>m(e).currentWidgets,f=(e,t)=>{const s=b(e,t),r=Object.assign(Object.assign({},u),s.filter?s.filter:{}),a=Object.assign(Object.assign({},d),s.tabsFilter?s.tabsFilter:{});return{previous:l(Object.assign(Object.assign({},r),{time_scope_value:-2})),current:l(r),forecast:l({},{limit:31}),tabs:g(s,Object.assign(Object.assign({},a),{resolution:"monthly"}))}},_=e=>(t,s)=>{const r=s(),a=b(r,e);if(a.forecastPathsType&&a.forecastType){const{forecast:s}=f(r,e);t(o.c2.fetchForecast(a.forecastPathsType,a.forecastType,s))}},O=e=>(t,s)=>{const r=s(),a=b(r,e),{previous:o,current:i,tabs:n}=f(r,e);t(c.nx.fetchReport(a.reportPathsType,a.reportType,i)),t(c.nx.fetchReport(a.reportPathsType,a.reportType,o)),a.availableTabs&&t(c.nx.fetchReport(a.reportPathsType,a.reportType,n))},w=(0,i.createAction)("awsCloudDashboard/widget/tab")(),T=(e,t)=>s=>{s(w({id:e,tab:t})),s(O(e))};let v=0;const j=()=>v++,I={id:j(),titleKey:"aws_cloud_dashboard.compute_title",reportPathsType:"aws_cloud",reportType:"instance_type",details:{costKey:"cost",formatOptions:{fractionDigits:2},showUnits:!0,showUsageFirst:!0,showUsageLegendLabel:!0,usageFormatOptions:{fractionDigits:0},usageKey:"aws_cloud_dashboard.usage_label"},filter:{service:"AmazonEC2"},tabsFilter:{service:"AmazonEC2"},trend:{computedReportItem:"usage",computedReportItemValue:"total",formatOptions:{fractionDigits:2},titleKey:"chart.daily_usage_comparison",type:1},topItems:{formatOptions:{}},chartType:"trend",currentTab:"instance_type"},D={id:j(),titleKey:"aws_cloud_dashboard.cost_title",forecastPathsType:"aws_cloud",forecastType:"cost",reportPathsType:"aws_cloud",reportType:"cost",details:{costKey:"cost",formatOptions:{fractionDigits:2},showHorizontal:!0},tabsFilter:{limit:3},trend:{computedForecastItem:"cost",computedReportItem:"cost",computedReportItemValue:"total",formatOptions:{},dailyTitleKey:"aws_cloud_dashboard.daily_cost_trend_title",titleKey:"aws_cloud_dashboard.cost_trend_title",type:0},topItems:{formatOptions:{}},availableTabs:["services","accounts","regions"],chartType:"dailyTrend",currentTab:"services"},P={id:j(),titleKey:"aws_cloud_dashboard.database_title",reportPathsType:"aws_cloud",reportType:"database",details:{costKey:"cost",formatOptions:{fractionDigits:2},showUnits:!0},filter:{service:"AmazonRDS,AmazonDynamoDB,AmazonElastiCache,AmazonNeptune,AmazonRedshift,AmazonDocumentDB"},tabsFilter:{service:"AmazonRDS,AmazonDynamoDB,AmazonElastiCache,AmazonNeptune,AmazonRedshift,AmazonDocumentDB"},trend:{computedReportItem:"cost",computedReportItemValue:"total",formatOptions:{},titleKey:"aws_cloud_dashboard.database_trend_title",type:0},topItems:{formatOptions:{}},chartType:"trend",currentTab:"services"},S={id:j(),titleKey:"aws_cloud_dashboard.network_title",reportPathsType:"aws_cloud",reportType:"network",details:{costKey:"cost",formatOptions:{fractionDigits:2},showUnits:!0},filter:{service:"AmazonVPC,AmazonCloudFront,AmazonRoute53,AmazonAPIGateway"},tabsFilter:{service:"AmazonVPC,AmazonCloudFront,AmazonRoute53,AmazonAPIGateway"},trend:{computedReportItem:"cost",computedReportItemValue:"total",formatOptions:{},titleKey:"aws_cloud_dashboard.network_trend_title",type:0},topItems:{formatOptions:{}},chartType:"trend",currentTab:"services"},R={id:j(),titleKey:"aws_cloud_dashboard.storage_title",reportPathsType:"aws_cloud",reportType:"storage",details:{costKey:"cost",formatOptions:{fractionDigits:2},showUnits:!0,showUsageFirst:!0,showUsageLegendLabel:!0,usageFormatOptions:{fractionDigits:0},usageKey:"aws_cloud_dashboard.usage_label"},trend:{computedReportItem:"usage",computedReportItemValue:"total",formatOptions:{fractionDigits:2},titleKey:"chart.daily_usage_comparison",type:1},topItems:{formatOptions:{}},chartType:"trend",currentTab:"accounts"},F={currentWidgets:[D.id,I.id,R.id,S.id,P.id],widgets:{[D.id]:D,[I.id]:I,[P.id]:P,[S.id]:S,[R.id]:R}};function A(e=F,t){switch(t.type){case(0,i.getType)(w):return Object.assign(Object.assign({},e),{widgets:Object.assign(Object.assign({},e.widgets),{[t.payload.id]:Object.assign(Object.assign({},e.widgets[t.payload.id]),{currentTab:t.payload.tab})})});default:return e}}},67119:(e,t,s)=>{"use strict";s.d(t,{Kf:()=>a,ZX:()=>K,Cv:()=>r,py:()=>p});var r={};s.r(r),s.d(r,{selectAwsDashboardState:()=>m,selectCurrentWidgets:()=>h,selectWidget:()=>b,selectWidgetQueries:()=>f,selectWidgets:()=>y});var a={};s.r(a),s.d(a,{as:()=>T,v4:()=>_,a4:()=>O,Xj:()=>w});var o=s(40693),c=s(90203),i=s(62717),n=s(95078);const p="awsDashboard",u={time_scope_units:"month",time_scope_value:-1,resolution:"daily"},d=Object.assign(Object.assign({},u),{limit:3});function l(e=u,t){const s=Object.assign({filter:e},t||{});return(0,n.pm)(s)}function g(e,t=u){const s=function(e){switch(e.currentTab){case"services":return{service:e.tabsFilter&&e.tabsFilter.service?e.tabsFilter.service:"*"};case"accounts":return{account:"*"};case"regions":return{region:"*"};case"instance_type":return{instance_type:"*"};default:return{}}}(e),r=Object.assign({},JSON.parse(JSON.stringify(t)));"services"===e.currentTab&&e.tabsFilter&&e.tabsFilter.service&&(r.service=void 0);const a={filter:r,group_by:s};return(0,n.pm)(a)}const m=e=>e[p],y=e=>m(e).widgets,b=(e,t)=>y(e)[t],h=e=>m(e).currentWidgets,f=(e,t)=>{const s=b(e,t),r=Object.assign(Object.assign({},u),s.filter?s.filter:{}),a=Object.assign(Object.assign({},d),s.tabsFilter?s.tabsFilter:{});return{previous:l(Object.assign(Object.assign({},r),{time_scope_value:-2})),current:l(r),forecast:l({},{limit:31}),tabs:g(s,Object.assign(Object.assign({},a),{resolution:"monthly"}))}},_=e=>(t,s)=>{const r=s(),a=b(r,e);if(a.forecastPathsType&&a.forecastType){const{forecast:s}=f(r,e);t(o.c2.fetchForecast(a.forecastPathsType,a.forecastType,s))}},O=e=>(t,s)=>{const r=s(),a=b(r,e),{previous:o,current:i,tabs:n}=f(r,e);t(c.nx.fetchReport(a.reportPathsType,a.reportType,i)),t(c.nx.fetchReport(a.reportPathsType,a.reportType,o)),a.availableTabs&&t(c.nx.fetchReport(a.reportPathsType,a.reportType,n))},w=(0,i.createAction)("awsDashboard/widget/tab")(),T=(e,t)=>s=>{s(w({id:e,tab:t})),s(O(e))};var v=s(57954);let j=0;const I=()=>j++,D={id:I(),titleKey:"aws_dashboard.compute_title",reportPathsType:"aws",reportType:"instance_type",details:{costKey:"cost",formatOptions:{fractionDigits:2},showUnits:!0,showUsageFirst:!0,showUsageLegendLabel:!0,usageFormatOptions:{fractionDigits:0},usageKey:"aws_dashboard.usage_label"},filter:{service:"AmazonEC2"},tabsFilter:{service:"AmazonEC2"},trend:{computedReportItem:"usage",computedReportItemValue:"total",formatOptions:{fractionDigits:2},titleKey:"chart.daily_usage_comparison",type:1},topItems:{formatOptions:{}},chartType:"trend",currentTab:"instance_type"},P={id:I(),titleKey:"aws_dashboard.cost_title",forecastPathsType:"aws",forecastType:"cost",reportPathsType:"aws",reportType:"cost",details:{adjustContainerHeight:!0,appNavId:"aws",costKey:"cumulative_cost",formatOptions:{fractionDigits:2},showHorizontal:!0,viewAllPath:v.Hb.awsDetails},tabsFilter:{limit:3},trend:{computedForecastItem:"cost",computedReportItem:"cost",computedReportItemValue:"total",formatOptions:{},dailyTitleKey:"aws_dashboard.daily_cost_trend_title",titleKey:"aws_dashboard.cost_trend_title",type:0},topItems:{formatOptions:{}},availableTabs:["services","accounts","regions"],chartType:"dailyTrend",currentTab:"services"},S={id:I(),titleKey:"aws_dashboard.database_title",reportPathsType:"aws",reportType:"database",details:{costKey:"cost",formatOptions:{fractionDigits:2},showUnits:!0},filter:{service:"AmazonRDS,AmazonDynamoDB,AmazonElastiCache,AmazonNeptune,AmazonRedshift,AmazonDocumentDB"},tabsFilter:{service:"AmazonRDS,AmazonDynamoDB,AmazonElastiCache,AmazonNeptune,AmazonRedshift,AmazonDocumentDB"},trend:{computedReportItem:"cost",computedReportItemValue:"total",formatOptions:{},titleKey:"aws_dashboard.database_trend_title",type:0},topItems:{formatOptions:{}},chartType:"trend",currentTab:"services"},R={id:I(),titleKey:"aws_dashboard.network_title",reportPathsType:"aws",reportType:"network",details:{costKey:"cost",formatOptions:{fractionDigits:2},showUnits:!0},filter:{service:"AmazonVPC,AmazonCloudFront,AmazonRoute53,AmazonAPIGateway"},tabsFilter:{service:"AmazonVPC,AmazonCloudFront,AmazonRoute53,AmazonAPIGateway"},trend:{computedReportItem:"cost",computedReportItemValue:"total",formatOptions:{},titleKey:"aws_dashboard.network_trend_title",type:0},topItems:{formatOptions:{}},chartType:"trend",currentTab:"services"},F={id:I(),titleKey:"aws_dashboard.storage_title",reportPathsType:"aws",reportType:"storage",details:{costKey:"cost",formatOptions:{fractionDigits:2},showUnits:!0,showUsageFirst:!0,showUsageLegendLabel:!0,usageFormatOptions:{fractionDigits:0},usageKey:"aws_dashboard.usage_label"},trend:{computedReportItem:"usage",computedReportItemValue:"total",formatOptions:{fractionDigits:2},titleKey:"chart.daily_usage_comparison",type:1},topItems:{formatOptions:{}},chartType:"trend",currentTab:"accounts"},A={currentWidgets:[P.id,D.id,F.id,R.id,S.id],widgets:{[P.id]:P,[D.id]:D,[S.id]:S,[R.id]:R,[F.id]:F}};function K(e=A,t){switch(t.type){case(0,i.getType)(w):return Object.assign(Object.assign({},e),{widgets:Object.assign(Object.assign({},e.widgets),{[t.payload.id]:Object.assign(Object.assign({},e.widgets[t.payload.id]),{currentTab:t.payload.tab})})});default:return e}}},49016:(e,t,s)=>{"use strict";s.d(t,{_S:()=>a,$s:()=>A,$I:()=>r,Bk:()=>p});var r={};s.r(r),s.d(r,{selectAzureCloudDashboardState:()=>m,selectCurrentWidgets:()=>h,selectWidget:()=>b,selectWidgetQueries:()=>f,selectWidgets:()=>y});var a={};s.r(a),s.d(a,{as:()=>T,v4:()=>_,a4:()=>O,Xj:()=>w});var o=s(40693),c=s(90203),i=s(62717),n=s(93662);const p="azureCloudDashboard",u={time_scope_units:"month",time_scope_value:-1,resolution:"daily"},d=Object.assign(Object.assign({},u),{limit:3});function l(e=u,t){const s=Object.assign({filter:e},t||{});return(0,n.pm)(s)}function g(e,t=u){const s=function(e){switch(e.currentTab){case"service_names":return{service_name:e.tabsFilter&&e.tabsFilter.service_name?e.tabsFilter.service_name:"*"};case"subscription_guids":return{subscription_guid:"*"};case"resource_locations":return{resource_location:"*"};case"instance_type":return{instance_type:"*"};default:return{}}}(e),r=Object.assign({},JSON.parse(JSON.stringify(t)));"service_names"===e.currentTab&&e.tabsFilter&&e.tabsFilter.service_name&&(r.service=void 0);const a={filter:r,group_by:s};return(0,n.pm)(a)}const m=e=>e[p],y=e=>m(e).widgets,b=(e,t)=>y(e)[t],h=e=>m(e).currentWidgets,f=(e,t)=>{const s=b(e,t),r=Object.assign(Object.assign({},u),s.filter?s.filter:{}),a=Object.assign(Object.assign({},d),s.tabsFilter?s.tabsFilter:{});return{previous:l(Object.assign(Object.assign({},r),{time_scope_value:-2})),current:l(r),forecast:l({},{limit:31}),tabs:g(s,Object.assign(Object.assign({},a),{resolution:"monthly"}))}},_=e=>(t,s)=>{const r=s(),a=b(r,e);if(a.forecastPathsType&&a.forecastType){const{forecast:s}=f(r,e);t(o.c2.fetchForecast(a.forecastPathsType,a.forecastType,s))}},O=e=>(t,s)=>{const r=s(),a=b(r,e),{previous:o,current:i,tabs:n}=f(r,e);t(c.nx.fetchReport(a.reportPathsType,a.reportType,i)),t(c.nx.fetchReport(a.reportPathsType,a.reportType,o)),a.availableTabs&&t(c.nx.fetchReport(a.reportPathsType,a.reportType,n))},w=(0,i.createAction)("azureCloudDashboard/widget/tab")(),T=(e,t)=>s=>{s(w({id:e,tab:t})),s(O(e))};let v=0;const j=()=>v++,I={id:j(),titleKey:"azure_cloud_dashboard.cost_title",forecastPathsType:"azure_cloud",forecastType:"cost",reportPathsType:"azure_cloud",reportType:"cost",details:{costKey:"cumulative_cost",formatOptions:{fractionDigits:2},showHorizontal:!0},tabsFilter:{limit:3},trend:{computedForecastItem:"cost",computedReportItem:"cost",computedReportItemValue:"total",formatOptions:{},dailyTitleKey:"azure_cloud_dashboard.daily_cost_trend_title",titleKey:"azure_cloud_dashboard.cost_trend_title",type:0},topItems:{formatOptions:{}},availableTabs:["service_names","subscription_guids","resource_locations"],chartType:"dailyTrend",currentTab:"service_names"},D={id:j(),titleKey:"azure_cloud_dashboard.database_title",reportPathsType:"azure_cloud",reportType:"database",details:{costKey:"cost",formatOptions:{fractionDigits:2},showUnits:!0},filter:{service_name:"Database,Cosmos DB,Cache for Redis"},tabsFilter:{service_name:"Database,Cosmos DB,Cache for Redis"},trend:{computedReportItem:"cost",computedReportItemValue:"total",formatOptions:{},titleKey:"azure_cloud_dashboard.database_trend_title",type:0},topItems:{formatOptions:{}},chartType:"trend",currentTab:"service_names"},P={id:j(),titleKey:"azure_cloud_dashboard.network_title",reportPathsType:"azure_cloud",reportType:"network",details:{costKey:"cost",formatOptions:{fractionDigits:2},showUnits:!0},filter:{service_name:"Virtual Network,VPN,DNS,Traffic Manager,ExpressRoute,Load Balancer,Application Gateway"},tabsFilter:{service_name:"Virtual Network,VPN,DNS,Traffic Manager,ExpressRoute,Load Balancer,Application Gateway"},trend:{computedReportItem:"cost",computedReportItemValue:"total",formatOptions:{},titleKey:"azure_cloud_dashboard.network_trend_title",type:0},topItems:{formatOptions:{}},chartType:"trend",currentTab:"service_names"},S={id:j(),titleKey:"azure_cloud_dashboard.storage_title",reportPathsType:"azure_cloud",reportType:"storage",details:{costKey:"cost",formatOptions:{fractionDigits:2},showUnits:!0,showUsageFirst:!0,showUsageLegendLabel:!0,units:"gb-mo",usageFormatOptions:{fractionDigits:0},usageKey:"azure_cloud_dashboard.usage_label"},filter:{service_name:"Storage"},tabsFilter:{service_name:"Storage"},trend:{computedReportItem:"usage",computedReportItemValue:"total",formatOptions:{fractionDigits:2},titleKey:"chart.daily_usage_comparison",type:1},topItems:{formatOptions:{}},chartType:"trend",currentTab:"subscription_guids"},R={id:j(),titleKey:"azure_cloud_dashboard.compute_title",reportPathsType:"azure_cloud",reportType:"instance_type",details:{costKey:"cost",formatOptions:{fractionDigits:2},showUnits:!0,showUsageFirst:!0,showUsageLegendLabel:!0,usageFormatOptions:{fractionDigits:0},units:"vm-hours",usageKey:"azure_cloud_dashboard.usage_label"},filter:{service_name:"Virtual Machines"},tabsFilter:{service_name:"Virtual Machines"},trend:{computedReportItem:"usage",computedReportItemValue:"total",formatOptions:{fractionDigits:2},titleKey:"chart.daily_usage_comparison",type:1},topItems:{formatOptions:{}},chartType:"trend",currentTab:"instance_type"},F={currentWidgets:[I.id,R.id,S.id,P.id,D.id],widgets:{[I.id]:I,[R.id]:R,[D.id]:D,[P.id]:P,[S.id]:S}};function A(e=F,t){switch(t.type){case(0,i.getType)(w):return Object.assign(Object.assign({},e),{widgets:Object.assign(Object.assign({},e.widgets),{[t.payload.id]:Object.assign(Object.assign({},e.widgets[t.payload.id]),{currentTab:t.payload.tab})})});default:return e}}},31554:(e,t,s)=>{"use strict";s.d(t,{oc:()=>a,Hs:()=>K,rj:()=>r,g8:()=>p});var r={};s.r(r),s.d(r,{selectAzureDashboardState:()=>m,selectCurrentWidgets:()=>h,selectWidget:()=>b,selectWidgetQueries:()=>f,selectWidgets:()=>y});var a={};s.r(a),s.d(a,{as:()=>T,v4:()=>_,a4:()=>O,Xj:()=>w});var o=s(40693),c=s(90203),i=s(62717),n=s(93662);const p="azureDashboard",u={time_scope_units:"month",time_scope_value:-1,resolution:"daily"},d=Object.assign(Object.assign({},u),{limit:3});function l(e=u,t){const s=Object.assign({filter:e},t||{});return(0,n.pm)(s)}function g(e,t=u){const s=function(e){switch(e.currentTab){case"service_names":return{service_name:e.tabsFilter&&e.tabsFilter.service_name?e.tabsFilter.service_name:"*"};case"subscription_guids":return{subscription_guid:"*"};case"resource_locations":return{resource_location:"*"};case"instance_type":return{instance_type:"*"};default:return{}}}(e),r=Object.assign({},JSON.parse(JSON.stringify(t)));"service_names"===e.currentTab&&e.tabsFilter&&e.tabsFilter.service_name&&(r.service=void 0);const a={filter:r,group_by:s};return(0,n.pm)(a)}const m=e=>e[p],y=e=>m(e).widgets,b=(e,t)=>y(e)[t],h=e=>m(e).currentWidgets,f=(e,t)=>{const s=b(e,t),r=Object.assign(Object.assign({},u),s.filter?s.filter:{}),a=Object.assign(Object.assign({},d),s.tabsFilter?s.tabsFilter:{});return{previous:l(Object.assign(Object.assign({},r),{time_scope_value:-2})),current:l(r),forecast:l({},{limit:31}),tabs:g(s,Object.assign(Object.assign({},a),{resolution:"monthly"}))}},_=e=>(t,s)=>{const r=s(),a=b(r,e);if(a.forecastPathsType&&a.forecastType){const{forecast:s}=f(r,e);t(o.c2.fetchForecast(a.forecastPathsType,a.forecastType,s))}},O=e=>(t,s)=>{const r=s(),a=b(r,e),{previous:o,current:i,tabs:n}=f(r,e);t(c.nx.fetchReport(a.reportPathsType,a.reportType,i)),t(c.nx.fetchReport(a.reportPathsType,a.reportType,o)),a.availableTabs&&t(c.nx.fetchReport(a.reportPathsType,a.reportType,n))},w=(0,i.createAction)("azureDashboard/widget/tab")(),T=(e,t)=>s=>{s(w({id:e,tab:t})),s(O(e))};var v=s(57954);let j=0;const I=()=>j++,D={id:I(),titleKey:"azure_dashboard.cost_title",forecastPathsType:"azure",forecastType:"cost",reportPathsType:"azure",reportType:"cost",details:{adjustContainerHeight:!0,appNavId:"aws",costKey:"cumulative_cost",formatOptions:{fractionDigits:2},showHorizontal:!0,viewAllPath:v.Hb.azureDetails},tabsFilter:{limit:3},trend:{computedForecastItem:"cost",computedReportItem:"cost",computedReportItemValue:"total",formatOptions:{},dailyTitleKey:"azure_dashboard.daily_cost_trend_title",titleKey:"azure_dashboard.cost_trend_title",type:0},topItems:{formatOptions:{}},availableTabs:["service_names","subscription_guids","resource_locations"],chartType:"dailyTrend",currentTab:"service_names"},P={id:I(),titleKey:"azure_dashboard.database_title",reportPathsType:"azure",reportType:"database",details:{costKey:"cost",formatOptions:{fractionDigits:2},showUnits:!0},filter:{service_name:"Database,Cosmos DB,Cache for Redis"},tabsFilter:{service_name:"Database,Cosmos DB,Cache for Redis"},trend:{computedReportItem:"cost",computedReportItemValue:"total",formatOptions:{},titleKey:"azure_dashboard.database_trend_title",type:0},topItems:{formatOptions:{}},chartType:"trend",currentTab:"service_names"},S={id:I(),titleKey:"azure_dashboard.network_title",reportPathsType:"azure",reportType:"network",details:{costKey:"cost",formatOptions:{fractionDigits:2},showUnits:!0},filter:{service_name:"Virtual Network,VPN,DNS,Traffic Manager,ExpressRoute,Load Balancer,Application Gateway"},tabsFilter:{service_name:"Virtual Network,VPN,DNS,Traffic Manager,ExpressRoute,Load Balancer,Application Gateway"},trend:{computedReportItem:"cost",computedReportItemValue:"total",formatOptions:{},titleKey:"azure_dashboard.network_trend_title",type:0},topItems:{formatOptions:{}},chartType:"trend",currentTab:"service_names"},R={id:I(),titleKey:"azure_dashboard.storage_title",reportPathsType:"azure",reportType:"storage",details:{costKey:"cost",formatOptions:{fractionDigits:2},showUnits:!0,showUsageFirst:!0,showUsageLegendLabel:!0,units:"gb-mo",usageFormatOptions:{fractionDigits:0},usageKey:"azure_dashboard.usage_label"},filter:{service_name:"Storage"},tabsFilter:{service_name:"Storage"},trend:{computedReportItem:"usage",computedReportItemValue:"total",formatOptions:{fractionDigits:2},titleKey:"chart.daily_usage_comparison",type:1},topItems:{formatOptions:{}},chartType:"trend",currentTab:"subscription_guids"},F={id:I(),titleKey:"azure_dashboard.compute_title",reportPathsType:"azure",reportType:"instance_type",details:{costKey:"cost",formatOptions:{fractionDigits:2},showUnits:!0,showUsageFirst:!0,showUsageLegendLabel:!0,usageFormatOptions:{fractionDigits:0},units:"vm-hours",usageKey:"azure_dashboard.usage_label"},filter:{service_name:"Virtual Machines"},tabsFilter:{service_name:"Virtual Machines"},trend:{computedReportItem:"usage",computedReportItemValue:"total",formatOptions:{fractionDigits:2},titleKey:"chart.daily_usage_comparison",type:1},topItems:{formatOptions:{}},chartType:"trend",currentTab:"instance_type"},A={currentWidgets:[D.id,F.id,R.id,S.id,P.id],widgets:{[D.id]:D,[F.id]:F,[P.id]:P,[S.id]:S,[R.id]:R}};function K(e=A,t){switch(t.type){case(0,i.getType)(w):return Object.assign(Object.assign({},e),{widgets:Object.assign(Object.assign({},e.widgets),{[t.payload.id]:Object.assign(Object.assign({},e.widgets[t.payload.id]),{currentTab:t.payload.tab})})});default:return e}}},79522:(e,t,s)=>{"use strict";s.d(t,{n5:()=>a,zU:()=>K,oS:()=>r,KP:()=>p});var r={};s.r(r),s.d(r,{selectCurrentWidgets:()=>h,selectGcpDashboardState:()=>m,selectWidget:()=>b,selectWidgetQueries:()=>f,selectWidgets:()=>y});var a={};s.r(a),s.d(a,{as:()=>T,v4:()=>_,a4:()=>O,Xj:()=>w});var o=s(40693),c=s(90203),i=s(62717),n=s(37762);const p="gcpDashboard",u={time_scope_units:"month",time_scope_value:-1,resolution:"daily"},d=Object.assign(Object.assign({},u),{limit:3});function l(e=u,t){const s=Object.assign({filter:e},t||{});return(0,n.pm)(s)}function g(e,t=u){const s=function(e){switch(e.currentTab){case"services":return{service:e.tabsFilter&&e.tabsFilter.service?e.tabsFilter.service:"*"};case"accounts":return{account:"*"};case"projects":return{project:"*"};case"regions":return{region:"*"};case"instance_type":return{instance_type:"*"};default:return{}}}(e),r=Object.assign({},JSON.parse(JSON.stringify(t)));"services"===e.currentTab&&e.tabsFilter&&e.tabsFilter.service&&(r.service=void 0);const a={filter:r,group_by:s};return(0,n.pm)(a)}const m=e=>e[p],y=e=>m(e).widgets,b=(e,t)=>y(e)[t],h=e=>m(e).currentWidgets,f=(e,t)=>{const s=b(e,t),r=Object.assign(Object.assign({},u),s.filter?s.filter:{}),a=Object.assign(Object.assign({},d),s.tabsFilter?s.tabsFilter:{});return{previous:l(Object.assign(Object.assign({},r),{time_scope_value:-2})),current:l(r),forecast:l({},{limit:31}),tabs:g(s,Object.assign(Object.assign({},a),{resolution:"monthly"}))}},_=e=>(t,s)=>{const r=s(),a=b(r,e);if(a.forecastPathsType&&a.forecastType){const{forecast:s}=f(r,e);t(o.c2.fetchForecast(a.forecastPathsType,a.forecastType,s))}},O=e=>(t,s)=>{const r=s(),a=b(r,e),{previous:o,current:i,tabs:n}=f(r,e);t(c.nx.fetchReport(a.reportPathsType,a.reportType,i)),t(c.nx.fetchReport(a.reportPathsType,a.reportType,o)),a.availableTabs&&t(c.nx.fetchReport(a.reportPathsType,a.reportType,n))},w=(0,i.createAction)("gcpDashboard/widget/tab")(),T=(e,t)=>s=>{s(w({id:e,tab:t})),s(O(e))};var v=s(57954);let j=0;const I=()=>j++,D={id:I(),titleKey:"gcp_dashboard.compute_title",forecastPathsType:"gcp",reportPathsType:"gcp",reportType:"instance_type",details:{costKey:"cost",formatOptions:{fractionDigits:2},showUnits:!0,showUsageFirst:!0,showUsageLegendLabel:!0,usageFormatOptions:{fractionDigits:0},usageKey:"gcp_dashboard.usage_label"},filter:{service:"Compute Engine"},tabsFilter:{service:"Compute Engine"},trend:{computedReportItem:"usage",computedReportItemValue:"total",formatOptions:{fractionDigits:2},titleKey:"chart.daily_usage_comparison",type:1},topItems:{formatOptions:{}},chartType:"trend",currentTab:"instance_type"},P={id:I(),titleKey:"gcp_dashboard.cost_title",forecastPathsType:"gcp",forecastType:"cost",reportPathsType:"gcp",reportType:"cost",details:{adjustContainerHeight:!0,appNavId:"gcp",costKey:"cumulative_cost",formatOptions:{fractionDigits:2},showHorizontal:!0,viewAllPath:v.Hb.gcpDetails},tabsFilter:{limit:3},trend:{computedForecastItem:"cost",computedReportItem:"cost",computedReportItemValue:"total",formatOptions:{},dailyTitleKey:"gcp_dashboard.daily_cost_trend_title",titleKey:"gcp_dashboard.cost_trend_title",type:0},topItems:{formatOptions:{}},availableTabs:["services","projects","regions"],chartType:"dailyTrend",currentTab:"services"},S={id:I(),titleKey:"gcp_dashboard.database_title",reportPathsType:"gcp",reportType:"database",details:{costKey:"cost",formatOptions:{fractionDigits:2},showUnits:!0},filter:{service:"Bigtable,Datastore,Database Migrations,Firestore,MemoryStore,Spanner,SQL"},tabsFilter:{service:"Bigtable,Datastore,Database Migrations,Firestore,MemoryStore,Spanner,SQL"},trend:{computedReportItem:"cost",computedReportItemValue:"total",formatOptions:{},titleKey:"gcp_dashboard.database_trend_title",type:0},topItems:{formatOptions:{}},chartType:"trend",currentTab:"services"},R={id:I(),titleKey:"gcp_dashboard.network_title",reportPathsType:"gcp",reportType:"network",details:{costKey:"cost",formatOptions:{fractionDigits:2},showUnits:!0},filter:{service:"VPC network,Network services,Hybrid Connectivity,Network Service Tiers,Network Security,Network Intelligence"},tabsFilter:{service:"VPC network,Network services,Hybrid Connectivity,Network Service Tiers,Network Security,Network Intelligence"},trend:{computedReportItem:"cost",computedReportItemValue:"total",formatOptions:{},titleKey:"gcp_dashboard.network_trend_title",type:0},topItems:{formatOptions:{}},chartType:"trend",currentTab:"services"},F={id:I(),titleKey:"gcp_dashboard.storage_title",reportPathsType:"gcp",reportType:"storage",details:{costKey:"cost",formatOptions:{fractionDigits:2},showUnits:!0,showUsageFirst:!0,showUsageLegendLabel:!0,usageFormatOptions:{fractionDigits:0},usageKey:"gcp_dashboard.usage_label"},trend:{computedReportItem:"usage",computedReportItemValue:"total",formatOptions:{fractionDigits:2},titleKey:"chart.daily_usage_comparison",type:1},topItems:{formatOptions:{}},chartType:"trend",currentTab:"projects"},A={currentWidgets:[P.id,D.id,F.id,R.id,S.id],widgets:{[P.id]:P,[D.id]:D,[F.id]:F,[R.id]:R,[S.id]:S}};function K(e=A,t){switch(t.type){case(0,i.getType)(w):return Object.assign(Object.assign({},e),{widgets:Object.assign(Object.assign({},e.widgets),{[t.payload.id]:Object.assign(Object.assign({},e.widgets[t.payload.id]),{currentTab:t.payload.tab})})});default:return e}}},83123:(e,t,s)=>{"use strict";s.d(t,{BV:()=>a,oV:()=>A,qN:()=>r,MP:()=>p});var r={};s.r(r),s.d(r,{selectCurrentWidgets:()=>h,selectOcpCloudDashboardState:()=>m,selectWidget:()=>b,selectWidgetQueries:()=>f,selectWidgets:()=>y});var a={};s.r(a),s.d(a,{as:()=>T,v4:()=>_,a4:()=>O,Xj:()=>w});var o=s(40693),c=s(90203),i=s(62717),n=s(99263);const p="ocpCloudDashboard",u={time_scope_units:"month",time_scope_value:-1,resolution:"daily"},d=Object.assign(Object.assign({},u),{limit:3});function l(e=u,t){const s=Object.assign({filter:e},t||{});return(0,n.pm)(s)}function g(e,t=u){const s=function(e){switch(e.currentTab){case"accounts":return{account:"*"};case"regions":return{region:"*"};case"services":return{service:e.tabsFilter&&e.tabsFilter.service?e.tabsFilter.service:"*"};default:return{}}}(e),r=Object.assign({},JSON.parse(JSON.stringify(t)));"services"===e.currentTab&&e.tabsFilter&&e.tabsFilter.service&&(r.service=void 0);const a={filter:r,group_by:s};return(0,n.pm)(a)}const m=e=>e[p],y=e=>m(e).widgets,b=(e,t)=>y(e)[t],h=e=>m(e).currentWidgets,f=(e,t)=>{const s=b(e,t),r=Object.assign(Object.assign({},u),s.filter?s.filter:{}),a=Object.assign(Object.assign({},d),s.tabsFilter?s.tabsFilter:{});return{previous:l(Object.assign(Object.assign({},r),{time_scope_value:-2})),current:l(r),forecast:l({},{limit:31}),tabs:g(s,Object.assign(Object.assign({},a),{resolution:"monthly"}))}},_=e=>(t,s)=>{const r=s(),a=b(r,e);if(a.forecastPathsType&&a.forecastType){const{forecast:s}=f(r,e);t(o.c2.fetchForecast(a.forecastPathsType,a.forecastType,s))}},O=e=>(t,s)=>{const r=s(),a=b(r,e),{previous:o,current:i,tabs:n}=f(r,e);t(c.nx.fetchReport(a.reportPathsType,a.reportType,i)),t(c.nx.fetchReport(a.reportPathsType,a.reportType,o)),a.availableTabs&&t(c.nx.fetchReport(a.reportPathsType,a.reportType,n))},w=(0,i.createAction)("ocpCloudDashboard/widget/tab")(),T=(e,t)=>s=>{s(w({id:e,tab:t})),s(O(e))};let v=0;const j=()=>v++,I={id:j(),titleKey:"ocp_cloud_dashboard.cost_title",forecastPathsType:"ocp_cloud",forecastType:"cost",reportPathsType:"ocp_cloud",reportType:"cost",details:{costKey:"cumulative_cost",formatOptions:{fractionDigits:2},showHorizontal:!0},tabsFilter:{limit:3},trend:{computedForecastItem:"cost",computedReportItem:"cost",computedReportItemValue:"total",formatOptions:{},dailyTitleKey:"ocp_cloud_dashboard.daily_cost_trend_title",titleKey:"ocp_cloud_dashboard.cost_trend_title",type:0},topItems:{formatOptions:{}},availableTabs:["services","accounts","regions"],chartType:"dailyTrend",currentTab:"services"},D={id:j(),titleKey:"ocp_cloud_dashboard.compute_title",reportPathsType:"ocp_cloud",reportType:"instance_type",details:{costKey:"cost",formatOptions:{fractionDigits:2},showUnits:!0,showUsageFirst:!0,showUsageLegendLabel:!0,usageFormatOptions:{fractionDigits:0},usageKey:"ocp_cloud_dashboard.usage_label"},filter:{service:"AmazonEC2"},trend:{computedReportItem:"usage",computedReportItemValue:"total",formatOptions:{fractionDigits:2},titleKey:"chart.daily_usage_comparison",type:1},chartType:"trend"},P={id:j(),titleKey:"ocp_cloud_dashboard.database_title",reportPathsType:"ocp_cloud",reportType:"database",details:{costKey:"cost",formatOptions:{fractionDigits:2},showUnits:!0},filter:{service:"AmazonRDS,AmazonDynamoDB,AmazonElastiCache,AmazonNeptune,AmazonRedshift,AmazonDocumentDBDatabase,Cosmos DB,Cache for Redis"},trend:{computedReportItem:"cost",computedReportItemValue:"total",formatOptions:{},titleKey:"ocp_cloud_dashboard.database_trend_title",type:0},chartType:"trend"},S={id:j(),titleKey:"ocp_cloud_dashboard.network_title",reportPathsType:"ocp_cloud",reportType:"network",details:{costKey:"cost",formatOptions:{fractionDigits:2},showUnits:!0},filter:{service:"AmazonVPC,AmazonCloudFront,AmazonRoute53,AmazonAPIGatewayVirtual Network,VPN,DNS,Traffic Manager,ExpressRoute,Load Balancer,Application Gateway"},trend:{computedReportItem:"cost",computedReportItemValue:"total",formatOptions:{},titleKey:"ocp_cloud_dashboard.network_trend_title",type:0},chartType:"trend"},R={id:j(),titleKey:"ocp_cloud_dashboard.storage_title",reportPathsType:"ocp_cloud",reportType:"storage",details:{costKey:"cost",formatOptions:{fractionDigits:2},showUnits:!0,showUsageFirst:!0,showUsageLegendLabel:!0,usageFormatOptions:{fractionDigits:0},usageKey:"ocp_cloud_dashboard.usage_label"},trend:{computedReportItem:"usage",computedReportItemValue:"total",formatOptions:{fractionDigits:2},titleKey:"chart.daily_usage_comparison",type:1},chartType:"trend"},F={currentWidgets:[I.id,D.id,R.id,S.id,P.id],widgets:{[I.id]:I,[D.id]:D,[P.id]:P,[S.id]:S,[R.id]:R}};function A(e=F,t){switch(t.type){case(0,i.getType)(w):return Object.assign(Object.assign({},e),{widgets:Object.assign(Object.assign({},e.widgets),{[t.payload.id]:Object.assign(Object.assign({},e.widgets[t.payload.id]),{currentTab:t.payload.tab})})});default:return e}}},17563:(e,t,s)=>{"use strict";s.d(t,{U6:()=>a,rS:()=>K,nH:()=>r,yf:()=>p});var r={};s.r(r),s.d(r,{selectCurrentWidgets:()=>f,selectOcpDashboardState:()=>y,selectWidget:()=>h,selectWidgetQueries:()=>_,selectWidgets:()=>b});var a={};s.r(a),s.d(a,{as:()=>v,v4:()=>O,a4:()=>w,Xj:()=>T});var o=s(40693),c=s(90203),i=s(62717),n=s(90392);const p="ocpDashboard",u={time_scope_units:"month",time_scope_value:-1,resolution:"daily"},d=Object.assign(Object.assign({},u),{limit:3});function l(e){switch(e){case"projects":return{project:"*"};case"clusters":return{cluster:"*"};case"nodes":return{node:"*"};default:return{}}}function g(e=u,t){const s=Object.assign({filter:e},t||{});return(0,n.pm)(s)}function m(e,t=u){const s={filter:t,group_by:l(e.currentTab)};return(0,n.pm)(s)}const y=e=>e[p],b=e=>y(e).widgets,h=(e,t)=>b(e)[t],f=e=>y(e).currentWidgets,_=(e,t)=>{const s=h(e,t),r=Object.assign(Object.assign({},u),s.filter?s.filter:{}),a=Object.assign(Object.assign({},d),s.tabsFilter?s.tabsFilter:{});return{previous:g(Object.assign(Object.assign({},r),{time_scope_value:-2})),current:g(r),forecast:g({},{limit:31}),tabs:m(s,Object.assign(Object.assign({},a),{resolution:"monthly"}))}},O=e=>(t,s)=>{const r=s(),a=h(r,e);if(a.forecastPathsType&&a.forecastType){const{forecast:s}=_(r,e);t(o.c2.fetchForecast(a.forecastPathsType,a.forecastType,s))}},w=e=>(t,s)=>{const r=s(),a=h(r,e),{previous:o,current:i,tabs:n}=_(r,e);t(c.nx.fetchReport(a.reportPathsType,a.reportType,i)),t(c.nx.fetchReport(a.reportPathsType,a.reportType,o)),a.availableTabs&&t(c.nx.fetchReport(a.reportPathsType,a.reportType,n))},T=(0,i.createAction)("ocpDashboard/widget/tab")(),v=(e,t)=>s=>{s(T({id:e,tab:t})),s(w(e))};var j=s(57954);let I=0;const D=()=>I++,P={id:D(),titleKey:"ocp_dashboard.cost_title",forecastPathsType:"ocp",forecastType:"cost",reportPathsType:"ocp",reportType:"cost",details:{adjustContainerHeight:!0,appNavId:"ocp",costKey:"cumulative_cost",formatOptions:{fractionDigits:2},showHorizontal:!0,showTooltip:!0,viewAllPath:j.Hb.ocpDetails},trend:{computedForecastItem:"cost",computedForecastInfrastructureItem:"infrastructure",computedReportItem:"cost",computedReportItemValue:"total",formatOptions:{},dailyTitleKey:"ocp_dashboard.daily_cost_trend_title",titleKey:"ocp_dashboard.cost_trend_title",type:0},tabsFilter:{limit:3},topItems:{formatOptions:{}},availableTabs:["projects","clusters"],chartType:"dailyCost",currentTab:"projects"},S={id:D(),titleKey:"ocp_dashboard.cpu_title",reportPathsType:"ocp",reportType:"cpu",details:{formatOptions:{fractionDigits:0},requestFormatOptions:{fractionDigits:0},requestKey:"ocp_dashboard.requests_label",showUnits:!0,showUsageFirst:!0,usageFormatOptions:{fractionDigits:0},usageKey:"ocp_dashboard.usage_label"},trend:{computedReportItem:"usage",computedReportItemValue:"total",formatOptions:{fractionDigits:2},titleKey:"ocp_dashboard.cpu_trend_title",type:1},topItems:{formatOptions:{}},chartType:"usage",currentTab:"projects"},R={id:D(),titleKey:"ocp_dashboard.memory_title",reportPathsType:"ocp",reportType:"memory",details:{formatOptions:{fractionDigits:0},requestFormatOptions:{fractionDigits:0},requestKey:"ocp_dashboard.requests_label",showUnits:!0,showUsageFirst:!0,usageFormatOptions:{fractionDigits:0},usageKey:"ocp_dashboard.usage_label"},trend:{computedReportItem:"usage",computedReportItemValue:"total",formatOptions:{fractionDigits:2},titleKey:"ocp_dashboard.memory_trend_title",type:1},topItems:{formatOptions:{}},chartType:"usage",currentTab:"projects"},F={id:D(),titleKey:"ocp_dashboard.volume_title",reportPathsType:"ocp",reportType:"volume",details:{formatOptions:{fractionDigits:0},requestFormatOptions:{fractionDigits:0},requestKey:"ocp_dashboard.requests_label",showUnits:!0,showUsageFirst:!0,usageFormatOptions:{fractionDigits:0},usageKey:"ocp_dashboard.usage_label"},trend:{computedReportItem:"usage",computedReportItemValue:"total",formatOptions:{fractionDigits:2},titleKey:"ocp_dashboard.volume_trend_title",type:1},topItems:{formatOptions:{}},chartType:"usage",currentTab:"projects"},A={currentWidgets:[P.id,S.id,R.id,F.id],widgets:{[P.id]:P,[S.id]:S,[R.id]:R,[F.id]:F}};function K(e=A,t){switch(t.type){case(0,i.getType)(T):return Object.assign(Object.assign({},e),{widgets:Object.assign(Object.assign({},e.widgets),{[t.payload.id]:Object.assign(Object.assign({},e.widgets[t.payload.id]),{currentTab:t.payload.tab})})});default:return e}}},77e3:(e,t,s)=>{"use strict";s.d(t,{T3:()=>a,Cc:()=>A,xX:()=>r,$s:()=>p});var r={};s.r(r),s.d(r,{selectCurrentWidgets:()=>f,selectOcpSupplementaryDashboardState:()=>y,selectWidget:()=>h,selectWidgetQueries:()=>_,selectWidgets:()=>b});var a={};s.r(a),s.d(a,{as:()=>v,v4:()=>O,a4:()=>w,Xj:()=>T});var o=s(40693),c=s(90203),i=s(62717),n=s(90392);const p="ocpSupplementaryDashboard",u={time_scope_units:"month",time_scope_value:-1,resolution:"daily"},d=Object.assign(Object.assign({},u),{limit:3});function l(e){switch(e){case"projects":return{project:"*"};case"clusters":return{cluster:"*"};case"nodes":return{node:"*"};default:return{}}}function g(e=u,t){const s=Object.assign({filter:e},t||{});return(0,n.pm)(s)}function m(e,t=u){const s={filter:t,group_by:l(e.currentTab)};return(0,n.pm)(s)}const y=e=>e[p],b=e=>y(e).widgets,h=(e,t)=>b(e)[t],f=e=>y(e).currentWidgets,_=(e,t)=>{const s=h(e,t),r=Object.assign(Object.assign({},u),s.filter?s.filter:{}),a=Object.assign(Object.assign({},d),s.tabsFilter?s.tabsFilter:{});return{previous:g(Object.assign(Object.assign({},r),{time_scope_value:-2})),current:g(r),forecast:g({},{limit:31}),tabs:m(s,Object.assign(Object.assign({},a),{resolution:"monthly"}))}},O=e=>(t,s)=>{const r=s(),a=h(r,e);if(a.forecastPathsType&&a.forecastType){const{forecast:s}=_(r,e);t(o.c2.fetchForecast(a.forecastPathsType,a.forecastType,s))}},w=e=>(t,s)=>{const r=s(),a=h(r,e),{previous:o,current:i,tabs:n}=_(r,e);t(c.nx.fetchReport(a.reportPathsType,a.reportType,i)),t(c.nx.fetchReport(a.reportPathsType,a.reportType,o)),a.availableTabs&&t(c.nx.fetchReport(a.reportPathsType,a.reportType,n))},T=(0,i.createAction)("ocpSupplementaryDashboard/widget/tab")(),v=(e,t)=>s=>{s(T({id:e,tab:t})),s(w(e))};let j=0;const I=()=>j++,D={id:I(),titleKey:"ocp_supplementary_dashboard.cost_title",forecastPathsType:"ocp",forecastType:"supplementary",reportPathsType:"ocp",reportType:"cost",details:{costKey:"cumulative_cost",formatOptions:{fractionDigits:2},showHorizontal:!0},trend:{computedForecastItem:"supplementary",computedReportItem:"supplementary",computedReportItemValue:"total",formatOptions:{},dailyTitleKey:"ocp_supplementary_dashboard.daily_cost_trend_title",showSupplementaryLabel:!0,titleKey:"ocp_supplementary_dashboard.cost_trend_title",type:0},tabsFilter:{limit:3},topItems:{formatOptions:{}},availableTabs:["projects","clusters"],chartType:"dailyTrend",currentTab:"projects"},P={id:I(),titleKey:"ocp_supplementary_dashboard.cpu_title",reportPathsType:"ocp",reportType:"cpu",details:{formatOptions:{fractionDigits:0},requestFormatOptions:{fractionDigits:0},requestKey:"ocp_supplementary_dashboard.requests_label",showUnits:!0,showUsageFirst:!0,usageFormatOptions:{fractionDigits:0},usageKey:"ocp_supplementary_dashboard.usage_label"},trend:{computedReportItem:"usage",computedReportItemValue:"none",formatOptions:{fractionDigits:2},titleKey:"ocp_supplementary_dashboard.cpu_trend_title",type:1},topItems:{formatOptions:{}},chartType:"usage",currentTab:"projects"},S={id:I(),titleKey:"ocp_supplementary_dashboard.memory_title",reportPathsType:"ocp",reportType:"memory",details:{formatOptions:{fractionDigits:0},requestFormatOptions:{fractionDigits:0},requestKey:"ocp_supplementary_dashboard.requests_label",showUnits:!0,showUsageFirst:!0,usageFormatOptions:{fractionDigits:0},usageKey:"ocp_supplementary_dashboard.usage_label"},trend:{computedReportItem:"usage",computedReportItemValue:"total",formatOptions:{fractionDigits:2},titleKey:"ocp_supplementary_dashboard.memory_trend_title",type:1},topItems:{formatOptions:{}},chartType:"usage",currentTab:"projects"},R={id:I(),titleKey:"ocp_supplementary_dashboard.volume_title",reportPathsType:"ocp",reportType:"volume",details:{formatOptions:{fractionDigits:0},requestFormatOptions:{fractionDigits:0},requestKey:"ocp_supplementary_dashboard.requests_label",showUnits:!0,showUsageFirst:!0,usageFormatOptions:{fractionDigits:0},usageKey:"ocp_supplementary_dashboard.usage_label"},trend:{computedReportItem:"usage",computedReportItemValue:"none",formatOptions:{fractionDigits:2},titleKey:"ocp_supplementary_dashboard.volume_trend_title",type:1},topItems:{formatOptions:{}},chartType:"usage",currentTab:"projects"},F={currentWidgets:[D.id,P.id,S.id,R.id],widgets:{[D.id]:D,[P.id]:P,[S.id]:S,[R.id]:R}};function A(e=F,t){switch(t.type){case(0,i.getType)(T):return Object.assign(Object.assign({},e),{widgets:Object.assign(Object.assign({},e.widgets),{[t.payload.id]:Object.assign(Object.assign({},e.widgets[t.payload.id]),{currentTab:t.payload.tab})})});default:return e}}},2891:(e,t,s)=>{"use strict";s.d(t,{K5:()=>a,hV:()=>R,b2:()=>r,fy:()=>n});var r={};s.r(r),s.d(r,{selectCurrentWidgets:()=>h,selectOcpUsageDashboardState:()=>m,selectWidget:()=>b,selectWidgetQueries:()=>f,selectWidgets:()=>y});var a={};s.r(a),s.d(a,{as:()=>w,a4:()=>_,Xj:()=>O});var o=s(90203),c=s(62717),i=s(99263);const n="ocpUsageDashboard",p={time_scope_units:"month",time_scope_value:-1,resolution:"daily"},u=Object.assign(Object.assign({},p),{limit:3});function d(e){switch(e){case"projects":return{project:"*"};case"clusters":return{cluster:"*"};case"nodes":return{node:"*"};default:return{}}}function l(e=p){const t={filter:e};return(0,i.pm)(t)}function g(e,t=p){const s={filter:t,group_by:d(e.currentTab)};return(0,i.pm)(s)}const m=e=>e[n],y=e=>m(e).widgets,b=(e,t)=>y(e)[t],h=e=>m(e).currentWidgets,f=(e,t)=>{const s=b(e,t),r=Object.assign(Object.assign({},p),s.filter?s.filter:{}),a=Object.assign(Object.assign({},u),s.tabsFilter?s.tabsFilter:{});return{previous:l(Object.assign(Object.assign({},r),{time_scope_value:-2})),current:l(r),tabs:g(s,Object.assign(Object.assign({},a),{resolution:"monthly"}))}},_=e=>(t,s)=>{const r=s(),a=b(r,e),{previous:c,current:i,tabs:n}=f(r,e);t(o.nx.fetchReport(a.reportPathsType,a.reportType,i)),t(o.nx.fetchReport(a.reportPathsType,a.reportType,c)),a.availableTabs&&t(o.nx.fetchReport(a.reportPathsType,a.reportType,n))},O=(0,c.createAction)("ocpUsageDashboard/widget/tab")(),w=(e,t)=>s=>{s(O({id:e,tab:t})),s(_(e))};let T=0;const v=()=>T++,j={id:v(),titleKey:"ocp_usage_dashboard.cost_title",reportPathsType:"ocp_usage",reportType:"cost",details:{costKey:"cumulative_cost",formatOptions:{fractionDigits:2},showHorizontal:!0},tabsFilter:{limit:3},trend:{computedReportItem:"infrastructure",computedReportItemValue:"usage",formatOptions:{},titleKey:"ocp_usage_dashboard.cost_trend_title",type:0},topItems:{formatOptions:{}},availableTabs:["projects","clusters"],chartType:"trend",currentTab:"projects"},I={id:v(),titleKey:"ocp_usage_dashboard.cpu_title",reportPathsType:"ocp_usage",reportType:"cpu",details:{formatOptions:{fractionDigits:0},requestKey:"ocp_usage_dashboard.requests_label",showUnits:!0,showUsageFirst:!0,usageFormatOptions:{fractionDigits:0},usageKey:"ocp_usage_dashboard.usage_label"},trend:{computedReportItem:"usage",computedReportItemValue:"total",formatOptions:{fractionDigits:2},titleKey:"ocp_usage_dashboard.cpu_trend_title",type:1},chartType:"usage"},D={id:v(),titleKey:"ocp_usage_dashboard.memory_title",reportPathsType:"ocp_usage",reportType:"memory",details:{formatOptions:{fractionDigits:0},requestFormatOptions:{fractionDigits:0},requestKey:"ocp_usage_dashboard.requests_label",showUnits:!0,showUsageFirst:!0,usageFormatOptions:{fractionDigits:0},usageKey:"ocp_usage_dashboard.usage_label"},trend:{computedReportItem:"usage",computedReportItemValue:"total",formatOptions:{fractionDigits:2},titleKey:"ocp_usage_dashboard.memory_trend_title",type:1},chartType:"usage"},P={id:v(),titleKey:"ocp_usage_dashboard.volume_title",reportPathsType:"ocp_usage",reportType:"volume",details:{formatOptions:{fractionDigits:0},requestFormatOptions:{fractionDigits:0},requestKey:"ocp_usage_dashboard.requests_label",showUnits:!0,showUsageFirst:!0,usageFormatOptions:{fractionDigits:0},usageKey:"ocp_usage_dashboard.usage_label"},trend:{computedReportItem:"usage",computedReportItemValue:"total",formatOptions:{fractionDigits:2},titleKey:"ocp_usage_dashboard.volume_trend_title",type:1},chartType:"usage"},S={currentWidgets:[j.id,I.id,D.id,P.id],widgets:{[j.id]:j,[I.id]:I,[D.id]:D,[P.id]:P}};function R(e=S,t){switch(t.type){case(0,c.getType)(O):return Object.assign(Object.assign({},e),{widgets:Object.assign(Object.assign({},e.widgets),{[t.payload.id]:Object.assign(Object.assign({},e.widgets[t.payload.id]),{currentTab:t.payload.tab})})});default:return e}}},12538:(e,t,s)=>{"use strict";s.d(t,{B:()=>r});const r=e=>t=>a(e(t)),a=e=>{if(null===e)return{page:1,perPage:1,count:0};let t=null;if(null!==e.links.next){t=new URLSearchParams(e.links.next.split("?")[1]);const s=Number(t.get("limit"));return{page:(Number(t.get("offset"))-s)/s+1,perPage:s,count:e.meta.count}}if(null!==e.links.previous){t=new URLSearchParams(e.links.previous.split("?")[1]);const s=Number(t.get("limit"));return{page:(Number(t.get("offset"))+s)/s+1,perPage:s,count:e.meta.count}}return t=new URLSearchParams(e.links.first.split("?")[1]),{page:1,perPage:Number(t.get("limit")),count:e.meta.count}}},93987:(e,t,s)=>{"use strict";s.d(t,{x:()=>r});const r=(e,t)=>s=>{const r=a(e(s));return t.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:r.get(t)})),{})},a=e=>{if(null===e)return new URLSearchParams;const[,t]=e.links.first.split("?");return new URLSearchParams(t)}},42560:(e,t,s)=>{"use strict";s.d(t,{HY:()=>a,e1:()=>j,$S:()=>r,I0:()=>l});var r={};s.r(r),s.d(r,{selectExport:()=>y,selectExportError:()=>h,selectExportFetchStatus:()=>b,selectExportState:()=>m});var a={};s.r(a),s.d(a,{Hy:()=>T,ex:()=>w,My:()=>_,XV:()=>O});var o=s(508),c=s(66191),i=s.n(c),n=s(35443),p=s(99531),u=s(5061),d=s(10328);const l="export";function g(e,t,s){return`${e}-${t}--${s}`}const m=e=>e[l],y=(e,t,s,r)=>m(e).byId.get(g(t,s,r)),b=(e,t,s,r)=>m(e).fetchStatus.get(g(t,s,r)),h=(e,t,s,r)=>m(e).errors.get(g(t,s,r));var f=s(62717);const _=(0,f.createAction)("report/request")(),O=(0,f.createAction)("report/success")(),w=(0,f.createAction)("report/failure")();function T(e,t,s){return(r,a)=>{if(!function(e,t,s,r){const a=y(e,t,s,r);return 1!==b(e,t,s,r)&&(!a||Date.now()>a.timeRequested+18e5)}(a(),e,t,s))return;const c={reportId:g(e,t,s)};r(_(c)),function(e,t,s){let r;switch(e){case"aws":r=function(e,t){const s=o.b[e];return i().get(`${s}?${t}`,{headers:{Accept:"text/csv"}})}(t,s);break;case"azure":r=function(e,t){const s=n.b[e];return i().get(`${s}?${t}`,{headers:{Accept:"text/csv"}})}(t,s);break;case"gcp":r=function(e,t){const s=p.b[e];return i().get(`${s}?${t}`,{headers:{Accept:"text/csv"}})}(t,s);break;case"ocp_cloud":r=function(e,t){const s=u.b[e];return i().get(`${s}?${t}`,{headers:{Accept:"text/csv"}})}(t,s);break;case"ocp":r=function(e,t){const s=d.b[e];return i().get(`${s}?${t}`,{headers:{Accept:"text/csv"}})}(t,s)}return r}(e,t,s).then((e=>{r(O(e.data,c))})).catch((e=>{r(w(e,c))}))}}const v={byId:new Map,fetchStatus:new Map,errors:new Map};function j(e=v,t){switch(t.type){case(0,f.getType)(_):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.payload.reportId,1)});case(0,f.getType)(O):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.meta.reportId,2),byId:new Map(e.byId).set(t.meta.reportId,{data:t.payload,timeRequested:Date.now()}),errors:new Map(e.errors).set(t.meta.reportId,null)});case(0,f.getType)(w):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.meta.reportId,2),errors:new Map(e.errors).set(t.meta.reportId,t.payload)});default:return e}}},40693:(e,t,s)=>{"use strict";s.d(t,{c2:()=>a,MZ:()=>D,mj:()=>r,G6:()=>y});var r={};s.r(r),s.d(r,{selectForecast:()=>f,selectForecastError:()=>O,selectForecastFetchStatus:()=>_,selectForecastState:()=>h});var a={};s.r(a),s.d(a,{fetchForecast:()=>j,fetchForecastFailure:()=>v,fetchForecastRequest:()=>w,fetchForecastSuccess:()=>T});var o=s(66191),c=s.n(o);const i={cost:"forecasts/openshift/infrastructures/aws/costs/"},n={cost:"forecasts/aws/costs/"},p={cost:"forecasts/openshift/infrastructures/azure/costs/"},u={cost:"forecasts/azure/costs/"},d={cost:"forecasts/gcp/costs/"},l={cost:"forecasts/openshift/infrastructures/all/costs/"},g={cost:"forecasts/openshift/costs/",infrastructure:"forecasts/openshift/costs/",supplementary:"forecasts/openshift/costs/"};var m=s(62717);const y="forecast";function b(e,t,s){return`${e}--${t}--${s}`}const h=e=>e[y],f=(e,t,s,r)=>h(e).byId.get(b(t,s,r)),_=(e,t,s,r)=>h(e).fetchStatus.get(b(t,s,r)),O=(e,t,s,r)=>h(e).errors.get(b(t,s,r)),w=(0,m.createAction)("forecast/request")(),T=(0,m.createAction)("forecast/success")(),v=(0,m.createAction)("forecast/failure")();function j(e,t,s){return(r,a)=>{if(!function(e,t,s,r){const a=f(e,t,s,r);return 1!==_(e,t,s,r)&&(!a||Date.now()>a.timeRequested+18e5)}(a(),e,t,s))return;const o={forecastId:b(e,t,s)};r(w(o)),function(e,t,s){let r;switch(e){case"aws":r=function(e,t){const s=window.insights,r=n[e];return s&&s.chrome&&s.chrome.auth&&s.chrome.auth.getUser?s.chrome.auth.getUser().then((()=>c().get(`${r}?${t}`))):c().get(`${r}?${t}`)}(t,s);break;case"aws_cloud":r=function(e,t){const s=window.insights,r=i[e];return s&&s.chrome&&s.chrome.auth&&s.chrome.auth.getUser?s.chrome.auth.getUser().then((()=>c().get(`${r}?${t}`))):c().get(`${r}?${t}`)}(t,s);break;case"azure":r=function(e,t){const s=window.insights,r=u[e];return s&&s.chrome&&s.chrome.auth&&s.chrome.auth.getUser?s.chrome.auth.getUser().then((()=>c().get(`${r}?${t}`))):c().get(`${r}?${t}`)}(t,s);break;case"azure_cloud":r=function(e,t){const s=window.insights,r=p[e];return s&&s.chrome&&s.chrome.auth&&s.chrome.auth.getUser?s.chrome.auth.getUser().then((()=>c().get(`${r}?${t}`))):c().get(`${r}?${t}`)}(t,s);break;case"gcp":r=function(e,t){const s=window.insights,r=d[e];return s&&s.chrome&&s.chrome.auth&&s.chrome.auth.getUser?s.chrome.auth.getUser().then((()=>c().get(`${r}?${t}`))):c().get(`${r}?${t}`)}(t,s);break;case"ocp":r=function(e,t){const s=window.insights,r=g[e];return s&&s.chrome&&s.chrome.auth&&s.chrome.auth.getUser?s.chrome.auth.getUser().then((()=>c().get(`${r}?${t}`))):c().get(`${r}?${t}`)}(t,s);break;case"ocp_cloud":r=function(e,t){const s=window.insights,r=l[e];return s&&s.chrome&&s.chrome.auth&&s.chrome.auth.getUser?s.chrome.auth.getUser().then((()=>c().get(`${r}?${t}`))):c().get(`${r}?${t}`)}(t,s)}return r}(e,t,s).then((e=>{r(T(e.data,o))})).catch((e=>{r(v(e,o))}))}}const I={byId:new Map,fetchStatus:new Map,errors:new Map};function D(e=I,t){switch(t.type){case(0,m.getType)(w):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.payload.forecastId,1)});case(0,m.getType)(T):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.meta.forecastId,2),byId:new Map(e.byId).set(t.meta.forecastId,Object.assign(Object.assign({},t.payload),{timeRequested:Date.now()})),errors:new Map(e.errors).set(t.meta.forecastId,null)});case(0,m.getType)(v):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.meta.forecastId,2),errors:new Map(e.errors).set(t.meta.forecastId,t.payload)});default:return e}}},11132:(e,t,s)=>{"use strict";s.d(t,{x:()=>J});var r=s(32479),a=s(66191),o=s.n(a),c=s(49381),i=s(37408),n=s.n(i),p=s(17287),u=s(43420),d=s(30315),l=s(64764),g=s(17303),m=s(48204),y=s(82086),b=s(82462),h=s(87932),f=s(37062),_=s(67119),O=s(49016),w=s(31554),T=s(79522),v=s(83123),j=s(17563),I=s(77e3),D=s(2891),P=s(42560),S=s(40693),R=s(38434),F=s(62717);const A={rates:new Map,error:new Map,status:new Map},K=(0,F.createAction)("priceList/request")(),M=(0,F.createAction)("priceList/success")(),z=(0,F.createAction)("priceList/failure")();var C=s(90203),k=s(62226),U=s(5754),W=s(99627),$=s(45235),V=s(46462);const x=(0,F.createAction)("ui/close_providers_modal")(),B=(0,F.createAction)("ui/open_providers_modal")(),N=(0,F.createAction)("ui/toggle_sidebar")(),E={isExportModalOpen:!1,isProvidersModalOpen:!1,isSidebarOpen:!1};var q=s(1723);const L=(0,c.combineReducers)({[f.Mz]:f.ZY,[p.zc]:p.uj,[_.py]:_.ZX,[g.Ee]:g.PA,[O.Bk]:O.$s,[u.YN]:u.Dk,[w.g8]:w.Hs,[m.NO]:m.E0,[h.fn]:h.Ih,[P.I0]:P.e1,[d.YY]:d.AG,[T.KP]:T.zU,[y.xJ]:y.Ht,[W.uU]:W.Cs,[l.xt]:l.Gi,[j.yf]:j.rS,[v.MP]:v.oV,[v.MP]:v.oV,[b.Xi]:b.c3,[I.$s]:I.Cc,[D.fy]:D.hV,[R.e9]:R.eW,priceList:function(e=A,t){switch(t.type){case(0,F.getType)(K):return Object.assign(Object.assign({},e),{status:new Map(e.status).set(t.payload.providerUuid,1)});case(0,F.getType)(M):return Object.assign(Object.assign({},e),{status:new Map(e.status).set(t.meta.providerUuid,2),rates:new Map(e.rates).set(t.meta.providerUuid,Object.assign(Object.assign({},t.payload),{timeRequested:Date.now()})),error:new Map(e.error).set(t.meta.providerUuid,null)});case(0,F.getType)(z):return Object.assign(Object.assign({},e),{error:new Map(e.error).set(t.meta.providerUuid,t.payload),status:new Map(e.status).set(t.meta.providerUuid,2)});default:return e}},[$.HQ]:$.Lo,[V.C8]:V.mT,[C._r]:C.OI,[S.G6]:S.MZ,[k.Pe]:k.Zm,[U.nu]:U.bh,ui:function(e=E,t){switch(t.type){case(0,F.getType)(x):return Object.assign(Object.assign({},e),{isProvidersModalOpen:!1});case(0,F.getType)(B):return Object.assign(Object.assign({},e),{isProvidersModalOpen:!0});case(0,F.getType)(N):return Object.assign(Object.assign({},e),{isSidebarOpen:!e.isSidebarOpen});default:return e}},[q.af]:q.Oc,notifications:r.notifications}),G="object"==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({serialize:!0}):c.compose,H=[n(),(0,r.notificationsMiddleware)()];function J(e){const t=G((0,c.applyMiddleware)(...H)),s=(0,c.createStore)(L,e,t);return o().interceptors.response.use(null,(e=>Promise.reject(e))),s}},99627:(e,t,s)=>{"use strict";s.d(t,{Wg:()=>r,Cs:()=>m,qw:()=>a,uU:()=>l});var r={};s.r(r),s.d(r,{fetchMetrics:()=>d,fetchMetricsFailure:()=>u,fetchMetricsRequest:()=>n,fetchMetricsSuccess:()=>p});var a={};s.r(a),s.d(a,{costTypes:()=>w,error:()=>f,maxRate:()=>O,metrics:()=>_,metricsState:()=>b,status:()=>h});var o=s(66191),c=s.n(o),i=s(62717);const{request:n,success:p,failure:u}=(0,i.createAsyncAction)("fetch/metrics/request","fetch/metrics/success","fetch/metrics/failure")(),d=(e="")=>t=>(t(n()),function(e=""){const t=e?`?source_type=${e}`:"";return c().get(`metrics/${t}`)}(e).then((e=>{t(p(e))})).catch((e=>{t(u(e))}))),l="metrics",g={error:null,status:0,metrics:null},m=(e=g,t)=>{switch(t.type){case(0,i.getType)(p):return{error:null,status:2,metrics:t.payload.data};case(0,i.getType)(u):return{status:2,error:t.payload,metrics:null};case(0,i.getType)(n):return Object.assign(Object.assign({},e),{status:1});default:return e}};var y=s(88485);const b=e=>e[l],h=e=>b(e).status,f=e=>{const t=b(e).error;return null===t?"":(0,y.L)(t)},_=e=>{const t=b(e).metrics;return null===t?{}:t.data.reduce(((e,t)=>{const s=e[t.label_metric]?Object.assign({},e[t.label_metric]):{};return Object.assign(Object.assign({},e),{[t.label_metric]:Object.assign(Object.assign({},s),{[t.label_measurement]:t})})}),{})},O=e=>{const t=b(e).metrics;return null===t?0:t.data.length},w=e=>{const t=b(e).metrics;return null===t?[]:t.data.reduce(((e,t)=>e.includes(t.default_cost_type)?e:[t.default_cost_type,...e]),[])}},38434:(e,t,s)=>{"use strict";s.d(t,{Lp:()=>a,eW:()=>O,zE:()=>r,e9:()=>p});var r={};s.r(r),s.d(r,{selectOrg:()=>l,selectOrgError:()=>m,selectOrgFetchStatus:()=>g,selectOrgState:()=>d});var a={};s.r(a),s.d(a,{T7:()=>f,qz:()=>h,MN:()=>y,Ws:()=>b});var o=s(66191),c=s.n(o);const i={org:"organizations/aws/"};var n=s(62717);const p="org";function u(e,t,s){return`${e}--${t}--${s}`}const d=e=>e[p],l=(e,t,s,r)=>d(e).byId.get(u(t,s,r)),g=(e,t,s,r)=>d(e).fetchStatus.get(u(t,s,r)),m=(e,t,s,r)=>d(e).errors.get(u(t,s,r)),y=(0,n.createAction)("org/request")(),b=(0,n.createAction)("org/success")(),h=(0,n.createAction)("org/failure")();function f(e,t,s){return(r,a)=>{if(!function(e,t,s,r){const a=l(e,t,s,r);return 1!==g(e,t,s,r)&&(!a||Date.now()>a.timeRequested+18e5)}(a(),e,t,s))return;const o={orgId:u(e,t,s)};r(y(o)),function(e,t,s){let r;switch(e){case"aws":r=function(e,t){const s=i[e];return c().get(`${s}?${t}`)}(t,s)}return r}(e,t,s).then((e=>{r(b(e.data,o))})).catch((e=>{r(h(e,o))}))}}const _={byId:new Map,fetchStatus:new Map,errors:new Map};function O(e=_,t){switch(t.type){case(0,n.getType)(y):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.payload.orgId,1)});case(0,n.getType)(b):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.meta.orgId,2),byId:new Map(e.byId).set(t.meta.orgId,Object.assign(Object.assign({},t.payload),{timeRequested:Date.now()})),errors:new Map(e.errors).set(t.meta.orgId,null)});case(0,n.getType)(h):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.meta.orgId,2),errors:new Map(e.errors).set(t.meta.orgId,t.payload)});default:return e}}},45235:(e,t,s)=>{"use strict";s.d(t,{JL:()=>i,u5:()=>n,U6:()=>u,Vp:()=>p,JZ:()=>r,Lo:()=>_,aX:()=>a,HQ:()=>o});var r={};s.r(r),s.d(r,{lm:()=>h,ep:()=>b,rK:()=>m,FR:()=>y});var a={};s.r(a),s.d(a,{selectAddProviderError:()=>T,selectAddProviderFetchStatus:()=>w,selectProviders:()=>v,selectProvidersError:()=>I,selectProvidersFetchStatus:()=>j,selectProvidersState:()=>O});const o="providers",c="add-provider",i={type:"AWS"},n={type:"AZURE"},p={type:"OCP"},u={type:"GCP"};function d(e,t){return`${e}--${t}`}var l=s(5144),g=s(62717);const m=(0,g.createAction)("providers/fetch/request")(),y=(0,g.createAction)("providers/fetch/success")(),b=(0,g.createAction)("providers/fetch/failure")();function h(e,t){return s=>{const r={reportId:d(e,t)};return s(m(r)),(0,l.l)(t).then((e=>{s(y(e.data,r))})).catch((e=>{s(b(e,r))}))}}(0,g.createAction)("providers/clear/failure");const f={byId:new Map,errors:new Map,fetchStatus:new Map};function _(e=f,t){switch(t.type){case(0,g.getType)(m):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.payload.reportId,1)});case(0,g.getType)(y):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.meta.reportId,2),byId:new Map(e.byId).set(t.meta.reportId,Object.assign({},t.payload)),errors:new Map(e.errors).set(t.meta.reportId,null)});case(0,g.getType)(b):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.meta.reportId,2),errors:new Map(e.errors).set(t.meta.reportId,t.payload)});default:return e}}const O=e=>e[o],w=e=>O(e).fetchStatus.get(c),T=e=>O(e).errors.get(c),v=(e,t,s)=>O(e).byId.get(d(t,s)),j=(e,t,s)=>O(e).fetchStatus.get(d(t,s)),I=(e,t,s)=>O(e).errors.get(d(t,s))},46462:(e,t,s)=>{"use strict";s.d(t,{O9:()=>r,mT:()=>y,c5:()=>a,C8:()=>g});var r={};s.r(r),s.d(r,{fetchRbac:()=>l,fetchRbacFailure:()=>d,fetchRbacRequest:()=>p,fetchRbacSuccess:()=>u});var a={};s.r(a),s.d(a,{isCostModelWritePermission:()=>h,selectRbacState:()=>b});var o=s(32479),c=s(30136),i=s.n(c),n=s(62717);const{request:p,success:u,failure:d}=(0,n.createAsyncAction)("fetch/RBAC/request","fetch/RBAC/success","fetch/RBAC/failure")(),l=()=>e=>(e(p()),async function(){const e=window.insights;if(e&&e.chrome&&e.chrome.auth&&e.chrome.auth.getUser&&e.chrome.getUserPermissions){const t=await e.chrome.auth.getUser(),s=await e.chrome.getUserPermissions();return{isOrgAdmin:t.identity.user.is_org_admin,permissions:s}}return{isOrgAdmin:!1,permissions:null}}().then((t=>{e(u(t))})).catch((t=>{e((0,o.addNotification)({title:i().t("rbac.error_title"),description:i().t("rbac.error_description"),variant:"danger",dismissable:!0})),e(d(t))}))),g="RBAC",m={isOrgAdmin:!1,permissions:null,status:0,error:null},y=(e=m,t)=>{switch(t.type){case(0,n.getType)(p):return Object.assign(Object.assign({},e),{status:1});case(0,n.getType)(u):return Object.assign(Object.assign({},t.payload),{status:2,error:null});case(0,n.getType)(d):return Object.assign(Object.assign({},e),{status:2,error:t.payload});default:return e}},b=e=>e[g],h=e=>{const{isOrgAdmin:t,permissions:s}=b(e);if(!0===t)return!0;if(!s)return!1;const r=s.find((e=>e.permission.startsWith("cost-management")));if(!r)return!1;const[a,o,c]=r.permission.split(":");return"cost-management"===a&&"*"===o&&"*"===c||("rate"===o||"cost_model"===o)&&"write"===c}},90203:(e,t,s)=>{"use strict";s.d(t,{nx:()=>a,OI:()=>P,ZV:()=>r,_r:()=>b});var r={};s.r(r),s.d(r,{selectReport:()=>_,selectReportError:()=>w,selectReportFetchStatus:()=>O,selectReportState:()=>f});var a={};s.r(a),s.d(a,{fetchReport:()=>I,fetchReportFailure:()=>j,fetchReportRequest:()=>T,fetchReportSuccess:()=>v});var o=s(66191),c=s.n(o);const i={cost:"reports/openshift/infrastructures/aws/costs/",database:"reports/openshift/infrastructures/aws/costs/",network:"reports/openshift/infrastructures/aws/costs/",storage:"reports/openshift/infrastructures/aws/storage/",instance_type:"reports/openshift/infrastructures/aws/instance-types/"};var n=s(508);const p={cost:"reports/openshift/infrastructures/azure/costs/",database:"reports/openshift/infrastructures/azure/costs/",network:"reports/openshift/infrastructures/azure/costs/",storage:"reports/openshift/infrastructures/azure/storage/",instance_type:"reports/openshift/infrastructures/azure/instance-types/"};var u=s(35443),d=s(99531),l=s(5061),g=s(10328);const m={cost:"reports/openshift/costs/",cpu:"reports/openshift/compute/",memory:"reports/openshift/memory/",volume:"reports/openshift/volumes/"};var y=s(62717);const b="report";function h(e,t,s){return`${e}--${t}--${s}`}const f=e=>e[b],_=(e,t,s,r)=>f(e).byId.get(h(t,s,r)),O=(e,t,s,r)=>f(e).fetchStatus.get(h(t,s,r)),w=(e,t,s,r)=>f(e).errors.get(h(t,s,r)),T=(0,y.createAction)("report/request")(),v=(0,y.createAction)("report/success")(),j=(0,y.createAction)("report/failure")();function I(e,t,s){return(r,a)=>{if(!function(e,t,s,r){const a=_(e,t,s,r);return 1!==O(e,t,s,r)&&(!a||Date.now()>a.timeRequested+18e5)}(a(),e,t,s))return;const o={reportId:h(e,t,s)};r(T(o)),function(e,t,s){let r;switch(e){case"aws":r=(0,n.S)(t,s);break;case"aws_cloud":r=function(e,t){const s=i[e];return c().get(`${s}?${t}`)}(t,s);break;case"azure":r=(0,u.S)(t,s);break;case"azure_cloud":r=function(e,t){const s=p[e];return c().get(`${s}?${t}`)}(t,s);break;case"gcp":r=(0,d.S)(t,s);break;case"ocp":r=(0,g.S)(t,s);break;case"ocp_cloud":r=(0,l.S)(t,s);break;case"ocp_usage":r=function(e,t){const s=m[e];return c().get(`${s}?${t}`)}(t,s)}return r}(e,t,s).then((e=>{r(v(e.data,o))})).catch((e=>{r(j(e,o))}))}}const D={byId:new Map,fetchStatus:new Map,errors:new Map};function P(e=D,t){switch(t.type){case(0,y.getType)(T):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.payload.reportId,1)});case(0,y.getType)(v):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.meta.reportId,2),byId:new Map(e.byId).set(t.meta.reportId,Object.assign(Object.assign({},t.payload),{timeRequested:Date.now()})),errors:new Map(e.errors).set(t.meta.reportId,null)});case(0,y.getType)(j):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.meta.reportId,2),errors:new Map(e.errors).set(t.meta.reportId,t.payload)});default:return e}}},62226:(e,t,s)=>{"use strict";s.d(t,{lk:()=>r,Zm:()=>m,vc:()=>a,Pe:()=>l});var r={};s.r(r),s.d(r,{fetchSources:()=>d,fetchSourcesFailure:()=>u,fetchSourcesRequest:()=>n,fetchSourcesSuccess:()=>p,updateFilterToolbar:()=>i});var a={};s.r(a),s.d(a,{currentFilterType:()=>T,currentFilterValue:()=>w,error:()=>O,pagination:()=>j,query:()=>v,sources:()=>f,sourcesState:()=>h,status:()=>_});var o=s(5144),c=s(62717);const i=(0,c.createAction)("fetch/source/filter")(),{request:n,success:p,failure:u}=(0,c.createAsyncAction)("fetch/source/request","fetch/source/success","fetch/source/failure")(),d=(e="")=>t=>(t(n()),(0,o.l)(e).then((e=>{t(p(e))})).catch((e=>{t(u(e))}))),l="sources",g={sources:null,error:null,status:0,currentFilterType:"name",currentFilterValue:""},m=(e=g,t)=>{switch(t.type){case(0,c.getType)(n):return Object.assign(Object.assign({},e),{status:1});case(0,c.getType)(p):return Object.assign(Object.assign({},e),{currentFilterValue:"",status:2,error:null,sources:t.payload.data});case(0,c.getType)(u):return Object.assign(Object.assign({},e),{status:2,error:t.payload});case(0,c.getType)(i):return Object.assign(Object.assign({},e),t.payload);default:return e}};var y=s(12538),b=s(93987);const h=e=>e[l],f=e=>{const t=h(e).sources;return t?t.data:[]},_=e=>h(e).status,O=e=>h(e).error,w=e=>h(e).currentFilterValue,T=e=>h(e).currentFilterType,v=(0,b.x)((e=>h(e).sources),["name","type","offset","limit"]),j=(0,y.B)((e=>h(e).sources))},5754:(e,t,s)=>{"use strict";s.d(t,{xr:()=>a,bh:()=>v,ux:()=>r,nu:()=>l});var r={};s.r(r),s.d(r,{selectTag:()=>y,selectTagError:()=>h,selectTagFetchStatus:()=>b,selectTagState:()=>m});var a={};s.r(a),s.d(a,{Xt:()=>w,zM:()=>O,mH:()=>f,Gv:()=>_});var o=s(66191),c=s.n(o);const i={tag:"tags/aws/"},n={tag:"tags/azure/"},p={tag:"tags/gcp/"},u={tag:"tags/openshift/"};var d=s(62717);const l="tag";function g(e,t,s){return`${e}--${t}--${s}`}const m=e=>e[l],y=(e,t,s,r)=>m(e).byId.get(g(t,s,r)),b=(e,t,s,r)=>m(e).fetchStatus.get(g(t,s,r)),h=(e,t,s,r)=>m(e).errors.get(g(t,s,r)),f=(0,d.createAction)("tag/request")(),_=(0,d.createAction)("tag/success")(),O=(0,d.createAction)("tag/failure")();function w(e,t,s){return(r,a)=>{if(!function(e,t,s,r){const a=y(e,t,s,r);return 1!==b(e,t,s,r)&&(!a||Date.now()>a.timeRequested+18e5)}(a(),e,t,s))return;const o={tagId:g(e,t,s)};r(f(o)),function(e,t,s){let r;switch(e){case"aws":r=function(e,t){const s=i[e];return c().get(`${s}?${t}`)}(t,s);break;case"azure":r=function(e,t){const s=n[e];return c().get(`${s}?${t}`)}(t,s);break;case"gcp":r=function(e,t){const s=p[e];return c().get(`${s}?${t}`)}(t,s);break;case"ocp":r=function(e,t){const s=u[e];return c().get(`${s}?${t}`)}(t,s)}return r}(e,t,s).then((e=>{r(_(e.data,o))})).catch((e=>{r(O(e,o))}))}}const T={byId:new Map,fetchStatus:new Map,errors:new Map};function v(e=T,t){switch(t.type){case(0,d.getType)(f):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.payload.tagId,1)});case(0,d.getType)(_):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.meta.tagId,2),byId:new Map(e.byId).set(t.meta.tagId,Object.assign(Object.assign({},t.payload),{timeRequested:Date.now()})),errors:new Map(e.errors).set(t.meta.tagId,null)});case(0,d.getType)(O):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.meta.tagId,2),errors:new Map(e.errors).set(t.meta.tagId,t.payload)});default:return e}}},1723:(e,t,s)=>{"use strict";s.d(t,{BD:()=>i,On:()=>r,Oc:()=>h,JO:()=>a,af:()=>o});var r={};s.r(r),s.d(r,{yM:()=>y,rZ:()=>m,m3:()=>l,dy:()=>g});var a={};s.r(a),s.d(a,{selectAddProviderError:()=>O,selectAddProviderFetchStatus:()=>_,selectUserAccess:()=>w,selectUserAccessError:()=>v,selectUserAccessFetchStatus:()=>T,selectUserAccessState:()=>f});const o="userAccess",c="user-access",i={type:""};function n(e,t){return`${e}--${t}`}var p=s(66191),u=s.n(p),d=s(62717);const l=(0,d.createAction)("userAccess/fetch/request")(),g=(0,d.createAction)("userAccess/fetch/success")(),m=(0,d.createAction)("userAccess/fetch/failure")();function y(e,t){return s=>{const r={reportId:n(e,t)};return s(l(r)),function(e){const t=window.insights,s=e?`?${e}`:"";return t&&t.chrome&&t.chrome.auth&&t.chrome.auth.getUser?t.chrome.auth.getUser().then((()=>u().get(`user-access/${s}`))):u().get(`user-access/${s}`)}(t).then((e=>{s(g(e.data,r))})).catch((e=>{s(m(e,r))}))}}(0,d.createAction)("userAccess/clear/failure");const b={byId:new Map,errors:new Map,fetchStatus:new Map};function h(e=b,t){switch(t.type){case(0,d.getType)(l):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.payload.reportId,1)});case(0,d.getType)(g):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.meta.reportId,2),byId:new Map(e.byId).set(t.meta.reportId,Object.assign({},t.payload)),errors:new Map(e.errors).set(t.meta.reportId,null)});case(0,d.getType)(m):return Object.assign(Object.assign({},e),{fetchStatus:new Map(e.fetchStatus).set(t.meta.reportId,2),errors:new Map(e.errors).set(t.meta.reportId,t.payload)});default:return e}}const f=e=>e[o],_=e=>f(e).fetchStatus.get(c),O=e=>f(e).errors.get(c),w=(e,t,s)=>f(e).byId.get(n(t,s)),T=(e,t,s)=>f(e).fetchStatus.get(n(t,s)),v=(e,t,s)=>f(e).errors.get(n(t,s))},97828:(e,t,s)=>{"use strict";s.d(t,{e:()=>r});const r=e=>{let t="/";const s=e.split("/");return s.shift(),"beta"===s[0]&&(s.shift(),t="/beta/"),`${t}${s[0]}`}}}]);
//# sourceMappingURL=825c847494deddff3754.bundle.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{214:function(e,t,a){var s;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var s=arguments[t];if(s){var n=typeof s;if("string"===n||"number"===n)e.push(s);else if(Array.isArray(s)&&s.length){var o=r.apply(null,s);o&&e.push(o)}else if("object"===n)for(var l in s)a.call(s,l)&&s[l]&&e.push(l)}}return e.join(" ")}void 0!==e&&e.exports?(r.default=r,e.exports=r):void 0===(s=function(){return r}.apply(t,[]))||(e.exports=s)}()},550:function(e,t,a){"use strict";a.d(t,"c",function(){return s}),a.d(t,"b",function(){return r}),a.d(t,"a",function(){return o});const s=e=>{const t=e?e.toLowerCase():"";switch(t){case"usd":case"gb":case"gb-hours":case"gb-mo":case"core-hours":case"hrs":case"tag-mo":case"vm-hours":return t;default:return""}},r=(e,t,a={})=>{const r=s(t),c=e||0;switch(r){case"usd":return o(c,r,a);case"gb":case"gb-hours":case"gb-mo":case"tag-mo":case"vm-hours":return l(c,r,a);case"core-hours":case"hrs":return i(c,r,a);default:return n(c,r,a)}},n=(e,t,{fractionDigits:a=0}={})=>e.toLocaleString("en",{minimumFractionDigits:a,maximumFractionDigits:a}),o=(e,t,{fractionDigits:a=2}={})=>{let s=e;return e||(s=0),s.toLocaleString("en",{style:"currency",currency:t||"USD",minimumFractionDigits:a,maximumFractionDigits:a})},l=(e,t,{fractionDigits:a=0}={})=>e.toLocaleString("en",{minimumFractionDigits:a,maximumFractionDigits:a}),i=(e,t,{fractionDigits:a=0}={})=>e.toLocaleString("en",{minimumFractionDigits:a,maximumFractionDigits:a})},551:function(e,t,a){!function(t,s){e.exports=s(a(214),a(1),a(2))}(window,function(e,t,a){return function(e){var t={};function a(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(s,r,function(t){return e[t]}.bind(null,r));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s="./src/Components/Skeleton/index.js")}({"../../node_modules/@babel/runtime/helpers/defineProperty.js":
/*!*******************************************************************************************************************!*\
  !*** /home/travis/build/RedHatInsights/frontend-components/node_modules/@babel/runtime/helpers/defineProperty.js ***!
  \*******************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},"../../node_modules/@babel/runtime/helpers/extends.js":
/*!************************************************************************************************************!*\
  !*** /home/travis/build/RedHatInsights/frontend-components/node_modules/@babel/runtime/helpers/extends.js ***!
  \************************************************************************************************************/
/*! no static exports found */function(e,t){function a(){return e.exports=a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},a.apply(this,arguments)}e.exports=a},"../../node_modules/@babel/runtime/helpers/interopRequireDefault.js":
/*!**************************************************************************************************************************!*\
  !*** /home/travis/build/RedHatInsights/frontend-components/node_modules/@babel/runtime/helpers/interopRequireDefault.js ***!
  \**************************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},"../../node_modules/@babel/runtime/helpers/interopRequireWildcard.js":
/*!***************************************************************************************************************************!*\
  !*** /home/travis/build/RedHatInsights/frontend-components/node_modules/@babel/runtime/helpers/interopRequireWildcard.js ***!
  \***************************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};s.get||s.set?Object.defineProperty(t,a,s):t[a]=e[a]}return t.default=e,t}},"../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js":
/*!****************************************************************************************************************************!*\
  !*** /home/travis/build/RedHatInsights/frontend-components/node_modules/@babel/runtime/helpers/objectWithoutProperties.js ***!
  \****************************************************************************************************************************/
/*! no static exports found */function(e,t,a){var s=a(/*! ./objectWithoutPropertiesLoose */"../../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js");e.exports=function(e,t){if(null==e)return{};var a,r,n=s(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}},"../../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js":
/*!*********************************************************************************************************************************!*\
  !*** /home/travis/build/RedHatInsights/frontend-components/node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js ***!
  \*********************************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t){if(null==e)return{};var a,s,r={},n=Object.keys(e);for(s=0;s<n.length;s++)a=n[s],t.indexOf(a)>=0||(r[a]=e[a]);return r}},"./src/Components/Skeleton/Skeleton.js":
/*!*********************************************!*\
  !*** ./src/Components/Skeleton/Skeleton.js ***!
  \*********************************************/
/*! no static exports found */function(e,t,a){"use strict";var s=a(/*! @babel/runtime/helpers/interopRequireDefault */"../../node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SkeletonSize=void 0;var r=s(a(/*! @babel/runtime/helpers/extends */"../../node_modules/@babel/runtime/helpers/extends.js")),n=s(a(/*! @babel/runtime/helpers/defineProperty */"../../node_modules/@babel/runtime/helpers/defineProperty.js")),o=s(a(/*! @babel/runtime/helpers/objectWithoutProperties */"../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),l=s(a(/*! react */"react")),i=s(a(/*! prop-types */"prop-types")),c=s(a(/*! classnames */"classnames"));a(/*! ./skeleton.scss */"./src/Components/Skeleton/skeleton.scss");var u={xs:"xs",sm:"sm",md:"md",lg:"lg"};t.SkeletonSize=u;var m=function(e){var t=e.size,a=e.isDark,s=e.className,i=(0,o.default)(e,["size","isDark","className"]),u=(0,c.default)("ins-c-skeleton","ins-c-skeleton__".concat(t),(0,n.default)({},"ins-m-dark",a),s);return l.default.createElement("div",(0,r.default)({className:u},i),"Â ")},d=m;t.default=d,m.propTypes={className:i.default.string,size:i.default.oneOf(Object.values(u)),isDark:i.default.bool},m.defaultProps={size:u.md,isDark:!1}},"./src/Components/Skeleton/index.js":
/*!******************************************!*\
  !*** ./src/Components/Skeleton/index.js ***!
  \******************************************/
/*! no static exports found */function(e,t,a){"use strict";var s=a(/*! @babel/runtime/helpers/interopRequireWildcard */"../../node_modules/@babel/runtime/helpers/interopRequireWildcard.js");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Skeleton",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"SkeletonSize",{enumerable:!0,get:function(){return r.SkeletonSize}});var r=s(a(/*! ./Skeleton.js */"./src/Components/Skeleton/Skeleton.js"))},"./src/Components/Skeleton/skeleton.scss":
/*!***********************************************!*\
  !*** ./src/Components/Skeleton/skeleton.scss ***!
  \***********************************************/
/*! no static exports found */function(e,t,a){},classnames:
/*!*****************************!*\
  !*** external "classnames" ***!
  \*****************************/
/*! no static exports found */function(t,a){t.exports=e},"prop-types":
/*!*****************************!*\
  !*** external "prop-types" ***!
  \*****************************/
/*! no static exports found */function(e,a){e.exports=t},react:
/*!************************!*\
  !*** external "react" ***!
  \************************/
/*! no static exports found */function(e,t){e.exports=a}})})},553:function(e,t,a){"use strict";a.d(t,"g",function(){return _}),a.d(t,"h",function(){return y}),a.d(t,"j",function(){return E}),a.d(t,"i",function(){return S}),a.d(t,"b",function(){return k}),a.d(t,"c",function(){return j}),a.d(t,"d",function(){return D}),a.d(t,"e",function(){return T}),a.d(t,"a",function(){return C}),a.d(t,"f",function(){return w});var s=a(603),r=a.n(s),n=a(563),o=a.n(n),l=a(554),i=a.n(l),c=a(602),u=a.n(c),m=a(572),d=a.n(m),p=a(76),b=a(550),g=a(567),h=a(566),v=a(565),f=a(564);function _(e,t=1,a="date",s="cost"){if(!e)return[];const r={report:e,idKey:a,sortKey:"id",sortDirection:1},n=Object(g.a)(r);return 1===t?n.map(e=>O(e[s],e,a)):2===t?n.map(e=>O(e[s],e,a)):n.reduce((e,t)=>{const r=e.length?e[e.length-1].y:0;return[...e,O(r+t[s],t,a)]},[])}function y(e,t=1,a="date",s="cost"){if(!e)return[];const r={report:e,idKey:a,sortKey:"id",sortDirection:1},n=Object(h.a)(r);return 1===t?n.map(e=>O(e[s],e,a)):2===t?n.map(e=>O(e[s],e,a)):n.reduce((e,t)=>{const r=e.length?e[e.length-1].y:0;return[...e,O(r+t[s],t,a)]},[])}function E(e,t=1,a="date",s="cost"){if(!e)return[];const r={report:e,idKey:a,sortKey:"id",sortDirection:1},n=Object(f.a)(r);return 1===t?n.map(e=>O(e[s],e,a)):2===t?n.map(e=>O(e[s],e,a)):n.reduce((e,t)=>{const r=e.length?e[e.length-1].y:0;return[...e,O(r+t[s],t,a)]},[])}function S(e,t=1,a="date",s="infrastructureCost"){if(!e)return[];const r={report:e,idKey:a,sortKey:"id",sortDirection:1},n=Object(v.a)(r);return 1===t?n.map(e=>O(e[s],e,a)):2===t?n.map(e=>O(e[s],e,a)):n.reduce((e,t)=>{const r=e.length?e[e.length-1].y:0;return[...e,O(r+t[s],t,a)]},[])}function O(e,t,a="date"){return{x:"date"===a?i()(t.id):t.label,y:function(e){return Number(e)===e&&e%1!=0}(e)?parseFloat(e.toFixed(2)):function(e){return Number(e)===e&&e%1==0}(e)?e:0,key:t.id,name:t.id,units:t.units}}function k(e,t=!0,a=!1,s=0){const[n,o]=function(e,t=0){if(!e||!e.length){const e=new Date;return t&&e.setMonth(e.getMonth()-t),[d()(e),e]}return[new Date(e[0].key+"T00:00:00"),new Date(e[e.length-1].key+"T00:00:00")]}(e,s);if(t&&n.setDate&&n.setDate(1),a&&n.setDate){const e=r()(n).getDate();o.setDate(e)}return[n,o]}function j(e){let t=0;return e&&e.length&&e.forEach(e=>{e.y>t&&(t=e.y)}),t}function D(e){return function(t,a=null,s={}){const r=Object(b.c)(a);switch(r){case"core-hours":case"hrs":case"gb":case"gb-hours":case"gb-mo":case"vm-hours":return p.a.t(`unit_tooltips.${r}`,{value:`${e(t,a,s)}`});default:return`${e(t,a,s)}`}}}function T(e,t,a,s="date",r){if(!e.key)return"";if("date"===s){return`${o()(e.key,"DD MMM YYYY")} ${t(e.y,r||e.units,a)}`}return e.key.toString()}function C(e,t="chart.cost_legend_label",a=!1,s=!1,r=0){const[n,l]=k(e,a,s,r);return p.a.t(t,{count:i()(l),endDate:o()(l,"D"),month:Number(o()(n,"M"))-1,startDate:o()(n,"D"),year:u()(l)})}function w(e,t="chart.usage_legend_label",a=!1,s=!1,r=0){return C(e,t,a,s,r)}},555:function(e,t,a){"use strict";function s(e,t){if("string"==typeof e)return e;return e[t.key]}function r(e,t){const{direction:a=0}=t||{};return[...e].sort((e,r)=>{const n=s(0===a?e:r,t),o=s(0===a?r:e,t);return n>o?-1:n<o?1:0})}a.d(t,"a",function(){return r})},556:function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"b",function(){return r});const s=e=>({"data-testid":e}),r={details:{historical_data_btn:"historical-data-btn",tag_lnk:"tag-lnk",show_more_btn:"show-more-btn",view_all_btn:"view-all-btn"},export:{cancel_btn:"cancel-btn",submit_btn:"submit-btn"},login:{alert:"alert",form:"login-form",username_input:"username-input",password_input:"password-input",submit:"submit"},masthead:{masthead:"masthead",username:"username",sidebarToggle:"sidebar-toggle",logout:"logout"},onboarding:{btn_cancel:"btn-cancel",btn_back:"btn-back",btn_continue:"btn-continue",btn_close:"btn-close",type_selector:"type-selector",type_opt_aws:"type-option-aws",type_opt_ocp:"type-option-ocp",type_opt_non:"type-option-non",name_input:"name-input",check_box_1:"check-box-1",check_box_2:"check-box-2",s3_input:"s3-input",clusterid_input:"clusterid-input",arn_input:"arn-input"},providers:{add_btn:"add-btn",bucket_input:"bucket-input",cancel_btn:"cancel-btn",empty_state_add_btn:"empty_state_add-btn",name_input:"provider-name-input",resource_name_input:"provider-resource-name-input",cluster_id_input:"provider-cluster-id-input",submit_btn:"submit-btn",type_input:"provider-type-input",view_all_link:"view-all-lnk"},sidebar:{nav:"vertical-nav",link:"vertical-nav-link",backdrop:"sidebar-backdrop"}}},559:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return o});var s=a(211),r=void 0!==e?e:{},n=Object(s.a)(r),o=(n.flush,n.hydrate,n.cx,n.merge,n.getRegisteredStyles,n.injectGlobal,n.keyframes,n.css);n.sheet,n.caches}).call(this,a(77))},560:function(e,t,a){"use strict";var s=a(870),r=a(358);const n={padding:8};var o={area:Object.assign({},n),axis:Object.assign({},n),bar:Object.assign({},n),boxplot:Object.assign({},n),candlestick:Object.assign({},n),chart:Object.assign({},n),errorbar:Object.assign({},n),group:Object.assign({},n),legend:{},line:Object.assign({},n),pie:Object.assign({},n),scatter:Object.assign({},n),stack:Object.assign({},n),tooltip:{},voronoi:Object.assign({},n)};const l=(()=>Object(s.k)(r.q.default,r.r.default,o))();t.a=l},562:function(e,t,a){"use strict";a(83);var s=a(162),r=a(221),n=a(2),o=a.n(n),l=a(3);const i=r.a.create({container:{fontSize:l.global_FontSize_sm.value}});a.d(t,"a",function(){return c});const c=()=>o.a.createElement("span",{className:Object(r.b)(i.container)},o.a.createElement(s.b,null))},564:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"c",function(){return n}),a.d(t,"b",function(){return o});var s=a(555);function r({report:e,idKey:t,labelKey:a=t,sortKey:r="cost",sortDirection:o=0}){return Object(s.a)(n({report:e,idKey:t,labelKey:a,sortDirection:o,sortKey:r}),{key:r,direction:o})}function n({report:e,idKey:t,labelKey:a=t}){if(!e)return[];const s=new Map,r=e=>{e.values&&e.values.forEach(e=>{const r=e.capacity?e.capacity.value:0,n=e.cluster_alias?e.cluster_alias:e.cluster,o=e.cost?e.cost.value:0,l=e.derived_cost?e.derived_cost.value:0,i=e.infrastructure_cost?e.infrastructure_cost.value:0,c="date"!==t&&"cluster"!==t&&e.cluster?`-${e.cluster}`:"",u=`${e[t]}${c}`;let m;m="cluster"===a&&e.cluster_alias?e.cluster_alias:e[a]instanceof Object?e[a].value:e[a];const d=e.limit?e.limit.value:0,p=e.request?e.request.value:0,b=e.usage?e.usage.value:0,g=e.usage?e.usage.units:e.cost?e.cost.units:"USD";s.get(u)?s.set(u,Object.assign({},s.get(u),{capacity:s.get(u).capacity+r,cost:s.get(u).cost+o,derivedCost:s.get(u).derivedCost+l,infrastructureCost:s.get(u).infrastructureCost+i,limit:s.get(u).limit+d,request:s.get(u).request+p,usage:s.get(u).usage+b})):s.set(u,{capacity:r,cluster:n,cost:o,deltaPercent:e.delta_percent,deltaValue:e.delta_value,derivedCost:l,id:u,infrastructureCost:i,label:m,limit:d,request:p,units:g,usage:b})});for(const t in e)if(e[t]instanceof Array)return e[t].forEach(r)};return e&&e.data&&e.data.forEach(r),Array.from(s.values())}function o(e={}){return e.project?"project":e.cluster?"cluster":e.node?"node":"date"}},565:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"c",function(){return n}),a.d(t,"b",function(){return o});var s=a(555);function r({report:e,idKey:t,labelKey:a=t,sortKey:r="cost",sortDirection:o=0}){return Object(s.a)(n({report:e,idKey:t,labelKey:a,sortDirection:o,sortKey:r}),{key:r,direction:o})}function n({report:e,idKey:t,labelKey:a=t}){if(!e)return[];const s=new Map,r=e=>{e.values&&e.values.forEach(e=>{const r=e.capacity?e.capacity.value:0,n=e.cluster_alias?e.cluster_alias:e.cluster,o=e.cost?e.cost.value:0,l=e.derived_cost?e.derived_cost.value:0,i=e.infrastructure_cost?e.infrastructure_cost.value:0,c=e.markup_cost?e.markup_cost.value:0,u="date"!==t&&"cluster"!==t&&e.cluster?`-${e.cluster}`:"",m=`${e[t]}${u}`;let d;d="cluster"===a&&e.cluster_alias?e.cluster_alias:e[a]instanceof Object?e[a].value:e[a],"account"===a&&e.account_alias&&(d=e.account_alias);const p=e.limit?e.limit.value:0,b=e.request?e.request.value:0,g=e.usage?e.usage.value:0,h=e.usage?e.usage.units:e.cost?e.cost.units:"USD";s.get(m)?s.set(m,Object.assign({},s.get(m),{capacity:s.get(m).capacity+r,cost:s.get(m).cost+o,derivedCost:s.get(m).derivedCost+l,infrastructureCost:s.get(m).infrastructureCost+i,limit:s.get(m).limit+p,markupCost:s.get(m).markupCost+c,request:s.get(m).request+b,usage:s.get(m).usage+g})):s.set(m,{capacity:r,cluster:n,cost:o,deltaPercent:e.delta_percent,deltaValue:e.delta_value,derivedCost:l,id:m,infrastructureCost:i,label:d,limit:p,markupCost:c,request:b,units:h,usage:g})});for(const t in e)if(e[t]instanceof Array)return e[t].forEach(r)};return e&&e.data&&e.data.forEach(r),Array.from(s.values())}function o(e={}){return e.project?"project":e.cluster?"cluster":e.node?"node":"date"}},566:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"c",function(){return n}),a.d(t,"b",function(){return o});var s=a(555);function r({report:e,idKey:t,labelKey:a=t,sortKey:r="cost",sortDirection:o=0}){return Object(s.a)(n({report:e,idKey:t,labelKey:a,sortDirection:o,sortKey:r}),{key:r,direction:o})}function n({report:e,idKey:t,labelKey:a=t}){if(!e)return[];const s=new Map,r=e=>{e.values&&e.values.forEach(e=>{const r=e.usage?e.usage.value:e.cost.value,n=e.derived_cost?e.derived_cost.value:0,o=e.infrastructure_cost?e.infrastructure_cost.value:0,l=e[t];let i;i=e[a]instanceof Object?e[a].value:e[a],s.get(l)?s.set(l,Object.assign({},s.get(l),{cost:s.get(l).cost+r,derivedCost:s.get(l).derivedCost+n,infrastructureCost:s.get(l).infrastructureCost+o})):s.set(l,{cost:r,deltaPercent:e.delta_percent,deltaValue:e.delta_value,derivedCost:n,id:l,infrastructureCost:o,label:i,units:e.usage?e.usage.units:e.cost?e.cost.units:"USD"})});for(const t in e)if(e[t]instanceof Array)return e[t].forEach(r)};return e&&e.data&&e.data.forEach(r),Array.from(s.values())}function o(e={}){return e.subscription_guid?"subscription_guid":e.instance_type?"instance_type":e.resource_location?"resource_location":e.service_name?"service_name":"date"}},567:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"c",function(){return n}),a.d(t,"b",function(){return o});var s=a(555);function r({report:e,idKey:t,labelKey:a=t,sortKey:r="cost",sortDirection:o=0}){return Object(s.a)(n({report:e,idKey:t,labelKey:a,sortDirection:o,sortKey:r}),{key:r,direction:o})}function n({report:e,idKey:t,labelKey:a=t}){if(!e)return[];const s=new Map,r=e=>{e.values&&e.values.forEach(e=>{const r=e.usage?e.usage.value:e.cost.value,n=e.derived_cost?e.derived_cost.value:0,o=e.infrastructure_cost?e.infrastructure_cost.value:0,l=e[t];let i;i=e[a]instanceof Object?e[a].value:e[a],"account"===a&&e.account_alias&&(i=e.account_alias),s.get(l)?s.set(l,Object.assign({},s.get(l),{cost:s.get(l).cost+r,derivedCost:s.get(l).derivedCost+n,infrastructureCost:s.get(l).infrastructureCost+o})):s.set(l,{cost:r,deltaPercent:e.delta_percent,deltaValue:e.delta_value,derivedCost:n,id:l,infrastructureCost:o,label:i,units:e.usage?e.usage.units:e.cost?e.cost.units:"USD"})});for(const t in e)if(e[t]instanceof Array)return e[t].forEach(r)};return e&&e.data&&e.data.forEach(r),Array.from(s.values())}function o(e={}){return e.account?"account":e.instance_type?"instance_type":e.region?"region":e.service?"service":"date"}},568:function(e,t,a){"use strict";var s=a(354),r=a(313),n=a(314),o=a(300),l=(a(83),a(171)),i=a(221),c=a(2),u=a.n(c),m=a(190);const d=i.a.create({container:{display:"flex",justifyContent:"center",height:"100vh",marginTop:"150px"}});a.d(t,"a",function(){return p});const p=Object(m.d)()(({icon:e=l.b,t:t})=>{const a=t("loading_state.sources_title"),c=t("loading_state.sources_desc");return u.a.createElement("div",{className:Object(i.b)(d.container)},u.a.createElement(n.a,null,u.a.createElement(o.a,{size:"lg"}),u.a.createElement(s.a,{size:"lg"},a),u.a.createElement(r.a,null,c)))})},570:function(e,t,a){"use strict";var s=a(354),r=a(313),n=a(312),o=a(314),l=a(165),i=(a(83),a(154)),c=a(221),u=a(2),m=a.n(u),d=a(190);const p=c.a.create({container:{display:"flex",justifyContent:"center",height:"100vh",marginTop:"150px"}});a.d(t,"a",function(){return b});const b=Object(d.d)()(({error:e,icon:t=i.b,t:a})=>{let u=a("error_state.unexpected_title"),d=a("error_state.unexpected_desc");return e&&e.response&&401===e.response.status&&(t=l.b,u=a("error_state.unauthorized_title"),d=a("error_state.unauthorized_desc")),m.a.createElement("div",{className:Object(c.b)(p.container)},m.a.createElement(o.a,null,m.a.createElement(n.a,{icon:t}),m.a.createElement(s.a,{size:"lg"},u),m.a.createElement(r.a,null,d)))})},580:function(e,t,a){"use strict";var s=a(313),r=a(354),n=a(312),o=a(314),l=a(169),i=(a(83),a(221)),c=a(2),u=a.n(c),m=a(190),d=a(75),p=a(901),b=a(69),g=a(196),h=a(556),v=a(3);const f=i.a.create({container:{display:"flex",justifyContent:"center",height:"100vh",marginTop:"150px"},viewSources:{marginTop:v.global_spacer_lg.value}});a.d(t,"a",function(){return y});const _=Object(b.a)((e,{})=>({})),y=Object(m.d)()(Object(d.connect)(_,{openProvidersModal:g.a.openModal})(class extends u.a.Component{constructor(){super(...arguments),this.getViewSources=(()=>{const{t:e}=this.props;return u.a.createElement(p.a,Object.assign({to:"/sources"},Object(h.a)(h.b.providers.view_all_link)),e("providers.view_sources"))})}render(){const{t:e}=this.props;return u.a.createElement("div",{className:Object(i.b)(f.container)},u.a.createElement(o.a,null,u.a.createElement(n.a,{icon:l.b}),u.a.createElement(r.a,{size:"lg"},e("providers.empty_state_title")),u.a.createElement(s.a,null,e("providers.empty_state_desc")),u.a.createElement("div",{className:Object(i.b)(f.viewSources)},this.getViewSources())))}}))},581:function(e,t,a){"use strict";var s=a(885),r=a(880),n=a(898),o=a(878),l=a(856),i=a(881),c=a(221),u=a(560),m=a(553),d=a(554),p=a.n(d),b=a(2),g=a.n(b),h=a(3);const v={legend:{labels:{fontFamily:h.global_FontFamily_sans_serif.value,fontSize:14},minWidth:175},legendColorScale:[h.global_disabled_color_200.value,h.chart_color_green_100.value,h.chart_color_green_200.value,h.chart_color_green_300.value,h.chart_color_green_400.value,h.chart_color_green_500.value],previousMonth:{data:{fill:"none",stroke:h.global_disabled_color_200.value}},currentMonth:{data:{fill:"none",stroke:"#A2DA9C"}},yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}},f=c.a.create({chartContainer:{":not(foo) svg":{overflow:"visible"}}});class _ extends g.a.Component{constructor(){super(...arguments),this.containerRef=g.a.createRef(),this.state={hiddenSeries:new Set,width:0},this.initDatum=(()=>{const{currentData:e,previousData:t,showUsageLegendLabel:a=!1}=this.props,s=a?"chart.usage_legend_label":"chart.cost_legend_label";this.setState({series:[{childName:"previousCost",data:t,legendItem:{name:Object(m.a)(t,s,!0,!0,1),symbol:{type:"minus"}},style:v.previousMonth},{childName:"currentCost",data:e,legendItem:{name:Object(m.a)(e,s,!0,!1),symbol:{type:"minus"}},style:v.currentMonth}]})}),this.handleResize=(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})}),this.getChart=((e,t)=>{const{hiddenSeries:a}=this.state;return g.a.createElement(i.a,{data:a.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})}),this.getLegend=(()=>{const{width:e}=this.state;return g.a.createElement(l.a,{colorScale:v.legendColorScale,data:this.getLegendData(),gutter:10,height:25,name:"legend",orientation:e>150?"horizontal":"vertical",style:v.legend})}),this.getTooltipLabel=(({datum:e})=>{const{formatDatumValue:t,formatDatumOptions:a,units:s}=this.props;return Object(m.e)(e,Object(m.d)(t),a,"date",s)}),this.handleLegendClick=(e=>{this.state.hiddenSeries.delete(e.index)||this.state.hiddenSeries.add(e.index),this.setState({hiddenSeries:new Set(this.state.hiddenSeries)})}),this.isDataAvailable=(()=>{const{series:e}=this.state,t=[];return e&&e.forEach((e,a)=>{(this.isSeriesHidden(a)||e.data&&0===e.data.length)&&t.push(a)}),t.length===(e?e.length:0)}),this.isSeriesHidden=(e=>{const{hiddenSeries:t}=this.state;return t.has(e)}),this.getChartNames=(()=>{const{series:e}=this.state,t=[];return e&&e.map((e,a)=>{t.push(e.childName)}),t}),this.getEvents=(()=>{return Object(s.a)({chartNames:this.getChartNames(),isHidden:this.isSeriesHidden,legendName:"legend",onLegendClick:this.handleLegendClick})}),this.getLegendData=(()=>{const{hiddenSeries:e,series:t}=this.state;if(t){return t.map((t,a)=>Object.assign({},t.legendItem,Object(s.b)(e.has(a))))}})}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize)}),this.initDatum()}componentDidUpdate(e){e.currentData===this.props.currentData&&e.previousData===this.props.previousData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}getDomain(){const{currentData:e,previousData:t}=this.props,a={x:[1,31]},s=e?Object(m.c)(e):0,r=t?Object(m.c)(t):0,n=Math.max(s,r),o=n>0?Math.ceil(n+.1*n):0;return o>0&&(a.y=[0,o]),a}getEndDate(){const{currentData:e,previousData:t}=this.props,a=t?p()(Object(m.b)(t,!0,!0)[1]):0,s=e?p()(Object(m.b)(e,!0,!0)[1]):0;return s>0||a>0?Math.max(s,a):31}render(){const{adjustContainerHeight:e,height:t,containerHeight:a=t,padding:s,title:l}=this.props,{series:i,width:m}=this.state,d=this.isDataAvailable(),p=g.a.createElement(o.a,{allowTooltip:!d,constrainToVisibleArea:!0,labels:d?void 0:this.getTooltipLabel,voronoiDimension:"x"}),b=this.getDomain(),h=this.getEndDate(),_=Math.floor(h/2),y=e?m>400?a:a+75:a;return g.a.createElement("div",{className:Object(c.b)(f.chartContainer),ref:this.containerRef,style:{height:y}},g.a.createElement("div",null,l),g.a.createElement(n.a,{containerComponent:p,domain:b,events:this.getEvents(),height:t,legendComponent:this.getLegend(),legendData:this.getLegendData(),legendPosition:"bottom-left",padding:s,theme:u.a,width:m},i&&i.map((e,t)=>this.getChart(e,t)),g.a.createElement(r.a,{style:v.xAxis,tickValues:[1,_,h]}),g.a.createElement(r.a,{dependentAxis:!0,style:v.yAxis})))}}a.d(t,"a",function(){return _})},595:function(e,t,a){"use strict";var s=a(885),r=a(880),n=a(898),o=a(878),l=a(856),i=a(881),c=a(221),u=a(560),m=a(553),d=a(554),p=a.n(d),b=a(76),g=a(2),h=a.n(g),v=a(3);const f={currentRequestData:{data:{fill:"none",stroke:"#88D080",strokeDasharray:"3,3"}},currentUsageData:{data:{fill:"none",stroke:"#A2DA9C"}},itemsPerRow:2,legend:{labels:{fontFamily:v.global_FontFamily_sans_serif.value,fontSize:14},minWidth:380},legendColorScale:[v.global_disabled_color_200.value,v.chart_color_green_100.value,v.global_disabled_color_200.value,v.chart_color_green_200.value],previousRequestData:{data:{fill:"none",stroke:v.global_disabled_color_200.value,strokeDasharray:"3,3"}},previousUsageData:{data:{fill:"none",stroke:v.global_disabled_color_200.value}},currentColorScale:[v.chart_color_green_100.value,v.chart_color_green_200.value,v.chart_color_green_300.value,v.chart_color_green_400.value,v.chart_color_green_500.value],previousColorScale:[v.global_disabled_color_200.value,v.global_disabled_color_200.value],yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}},_=c.a.create({chartContainer:{":not(foo) svg":{overflow:"visible"},marginTop:v.global_spacer_lg.value}});class y extends h.a.Component{constructor(){super(...arguments),this.containerRef=h.a.createRef(),this.state={hiddenSeries:new Set,width:0},this.initDatum=(()=>{const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:s}=this.props;this.setState({series:[{childName:"previousUsage",data:s,legendItem:{name:Object(m.f)(s,"chart.usage_legend_label",!0,!0,1),symbol:{type:"minus"}},style:f.previousUsageData},{childName:"currentUsage",data:t,legendItem:{name:Object(m.f)(t,"chart.usage_legend_label",!0,!1),symbol:{type:"minus"}},style:f.currentUsageData},{childName:"previousRequest",data:a,legendItem:{name:Object(m.f)(a,"chart.requests_legend_label",!0,!0,1),symbol:{type:"dash"}},style:f.previousRequestData},{childName:"currentRequest",data:e,legendItem:{name:Object(m.f)(e,"chart.requests_legend_label",!0,!1),symbol:{type:"dash"}},style:f.currentRequestData}]})}),this.handleResize=(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})}),this.getChart=((e,t)=>{const{hiddenSeries:a}=this.state;return h.a.createElement(i.a,{data:a.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})}),this.getLegend=(()=>{const{legendItemsPerRow:e}=this.props,{width:t}=this.state,a=e||(t>300?f.itemsPerRow:1);return h.a.createElement(l.a,{colorScale:f.legendColorScale,data:this.getLegendData(),height:25,gutter:10,itemsPerRow:a,name:"legend",style:f.legend})}),this.getTooltipLabel=(({datum:e})=>{const{formatDatumValue:t,formatDatumOptions:a}=this.props,s=Object(m.e)(e,Object(m.d)(t),a,"date");return"currentRequest"===e.childName||"previousRequest"===e.childName?b.a.t("chart.requests_tooltip",{value:s}):"currentUsage"===e.childName||"previousUsage"===e.childName?b.a.t("chart.usage_tooltip",{value:s}):s}),this.handleLegendClick=(e=>{this.state.hiddenSeries.delete(e.index)||this.state.hiddenSeries.add(e.index),this.setState({hiddenSeries:new Set(this.state.hiddenSeries)})}),this.isDataAvailable=(()=>{const{series:e}=this.state,t=[];return e&&e.forEach((e,a)=>{(this.isSeriesHidden(a)||e.data&&0===e.data.length)&&t.push(a)}),t.length===(e?e.length:0)}),this.isSeriesHidden=(e=>{const{hiddenSeries:t}=this.state;return t.has(e)}),this.getChartNames=(()=>{const{series:e}=this.state,t=[];return e&&e.map((e,a)=>{t.push(e.childName)}),t}),this.getEvents=(()=>{return Object(s.a)({chartNames:this.getChartNames(),isHidden:this.isSeriesHidden,legendName:"legend",onLegendClick:this.handleLegendClick})}),this.getLegendData=(()=>{const{hiddenSeries:e,series:t}=this.state;if(t){return t.map((t,a)=>Object.assign({},t.legendItem,Object(s.b)(e.has(a))))}})}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize)}),this.initDatum()}componentDidUpdate(e){e.currentRequestData===this.props.currentRequestData&&e.currentUsageData===this.props.currentUsageData&&e.previousRequestData===this.props.previousRequestData&&e.previousUsageData===this.props.previousUsageData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}getDomain(){const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:s}=this.props,r={x:[1,31]},n=e?Object(m.c)(e):0,o=t?Object(m.c)(t):0,l=a?Object(m.c)(a):0,i=s?Object(m.c)(s):0,c=Math.max(n,o,l,i),u=c>0?Math.ceil(c+.1*c):0;return u>0&&(r.y=[0,u]),r}getEndDate(){const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:s}=this.props,r=e?p()(Object(m.b)(e,!0,!0)[1]):0,n=t?p()(Object(m.b)(t,!0,!0)[1]):0,o=a?p()(Object(m.b)(a,!0,!0)[1]):0,l=s?p()(Object(m.b)(s,!0,!0)[1]):0;return r>0||n>0||o>0||l>0?Math.max(r,n,o,l):31}render(){const{adjustContainerHeight:e,height:t,containerHeight:a=t,padding:s,title:l}=this.props,{series:i,width:m}=this.state,d=this.isDataAvailable(),p=h.a.createElement(o.a,{allowTooltip:!d,constrainToVisibleArea:!0,labels:d?void 0:this.getTooltipLabel,voronoiDimension:"x"}),b=this.getDomain(),g=this.getEndDate(),v=Math.floor(g/2),y=e?m>400?a:a+75:a;return h.a.createElement("div",{className:Object(c.b)(_.chartContainer),ref:this.containerRef,style:{height:y}},h.a.createElement("div",null,l),h.a.createElement(n.a,{containerComponent:p,domain:b,events:this.getEvents(),height:t,legendComponent:this.getLegend(),legendData:this.getLegendData(),legendPosition:"bottom-left",padding:s,theme:u.a,width:m},i&&i.map((e,t)=>this.getChart(e,t)),h.a.createElement(r.a,{style:f.xAxis,tickValues:[1,v,g]}),h.a.createElement(r.a,{dependentAxis:!0,style:f.yAxis})))}}a.d(t,"a",function(){return y})},611:function(e,t,a){"use strict";var s=a(330),r=a(329),n=a(332),o=a(354),l=a(328),i=a(221),c=a(551),u=a(2),m=a.n(u),d=a(190),p=a(3);const b=i.a.create({chartSkeleton:{height:"125px",marginBottom:p.global_spacer_md.value,marginTop:p.global_spacer_md.value},legendSkeleton:{marginTop:p.global_spacer_md.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:p.global_FontSize_xs.value,color:p.global_Color_200.var,marginBottom:"0"}}),g=Object(d.d)()(({children:e,detailsLink:t,title:a,subTitle:u,status:d,t:p})=>m.a.createElement(n.a,{className:Object(i.b)(b.reportSummary)},m.a.createElement(l.a,null,m.a.createElement(o.a,{size:"lg"},a),Boolean(u)&&m.a.createElement("p",{className:Object(i.b)(b.subtitle)},u)),m.a.createElement(s.a,null,1===d?m.a.createElement(m.a.Fragment,null,m.a.createElement(c.Skeleton,{size:c.SkeletonSize.xs}),m.a.createElement(c.Skeleton,{className:Object(i.b)(b.chartSkeleton),size:c.SkeletonSize.md}),m.a.createElement(c.Skeleton,{size:c.SkeletonSize.sm}),m.a.createElement(c.Skeleton,{className:Object(i.b)(b.legendSkeleton),size:c.SkeletonSize.xs})):e),Boolean(t)&&m.a.createElement(r.a,null,t)));var h=a(292),v=a(293);const f=i.a.create({chartSkeleton:{height:"175px",marginBottom:p.global_spacer_md.value,marginTop:p.global_spacer_md.value},container:{display:"flex"},cost:{flexGrow:1,minHeight:"470px",marginRight:p.global_spacer_md.value},legendSkeleton:{marginTop:p.global_spacer_md.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:p.global_FontSize_xs.value,color:p.global_Color_200.var,marginBottom:"0"},tops:{flexGrow:1,marginTop:p.global_spacer_lg.value}}),_=Object(d.d)()(({children:e,detailsLink:t,status:a,subTitle:u,t:d,tabs:p,title:b})=>m.a.createElement(n.a,{className:Object(i.b)(f.reportSummary)},m.a.createElement(v.a,{gutter:"md"},m.a.createElement(h.a,{lg:5,xl:6},m.a.createElement("div",{className:Object(i.b)(f.cost)},m.a.createElement(l.a,null,m.a.createElement(o.a,{size:"lg"},b),Boolean(u)&&m.a.createElement("p",{className:Object(i.b)(f.subtitle)},u)),m.a.createElement(s.a,null,1===a?m.a.createElement(m.a.Fragment,null,m.a.createElement(c.Skeleton,{size:c.SkeletonSize.xs}),m.a.createElement(c.Skeleton,{className:Object(i.b)(f.chartSkeleton),size:c.SkeletonSize.md}),m.a.createElement(c.Skeleton,{size:c.SkeletonSize.sm}),m.a.createElement(c.Skeleton,{className:Object(i.b)(f.legendSkeleton),size:c.SkeletonSize.xs})):e))),m.a.createElement(h.a,{lg:7,xl:6},m.a.createElement("div",{className:Object(i.b)(f.container)},m.a.createElement("div",{className:Object(i.b)(f.tops)},1!==a&&m.a.createElement(m.a.Fragment,null,Boolean(p)&&m.a.createElement(s.a,null,p),Boolean(t)&&m.a.createElement(r.a,null,t))))))));var y=a(562),E=a(550);const S=i.a.create({reportSummaryDetails:{marginBottom:p.global_spacer_md.value,display:"flex",alignItems:"flex-end"},text:{paddingBottom:14,lineHeight:p.global_LineHeight_sm.value,fontSize:p.global_FontSize_xs.value},value:{color:p.global_Color_100.var,marginRight:p.global_spacer_sm.value,fontSize:p.global_FontSize_4xl.value},valueContainer:{display:"inline-block",marginBottom:p.global_spacer_md.value,width:"50%",wordWrap:"break-word"}}),O=Object(d.d)()(({costLabel:e,formatValue:t,formatOptions:a,report:s,reportType:r="cost",showUnits:n=!1,showUsageFirst:o=!1,t:l,units:c,usageFormatOptions:u,usageLabel:d})=>{let p=m.a.createElement(y.a,null),b=m.a.createElement(y.a,null);s&&s.meta&&s.meta.total&&(p=t(s.meta.total.cost?s.meta.total.cost.value:0,s.meta.total.cost?s.meta.total.cost.units:"USD",a),b=s.meta.total.usage&&s.meta.total.usage.value?t(s.meta.total.usage?s.meta.total.usage.value:0,s.meta.total.usage?s.meta.total.usage.units:"",u||a):t(s.meta.total.usage?s.meta.total.usage:0,s.meta.total.count?s.meta.total.count.units:"",u||a));const g=()=>m.a.createElement("div",{className:Object(i.b)(S.valueContainer)},m.a.createElement("div",{className:Object(i.b)(S.value)},p),m.a.createElement("div",{className:Object(i.b)(S.text)},m.a.createElement("div",null,e))),h=()=>{if(!d)return null;const e=s&&s.meta&&s.meta.total&&s.meta.total.usage?s.meta.total.usage.units:"",t=Object(E.c)(c||e),a=l(`units.${t}`);return m.a.createElement("div",{className:Object(i.b)(S.valueContainer)},m.a.createElement("div",{className:Object(i.b)(S.value)},b,Boolean(n&&(c||s&&s.meta&&s.meta.total.usage&&s.meta.total.usage.value>=0))&&m.a.createElement("span",{className:Object(i.b)(S.text)},a)),m.a.createElement("div",{className:Object(i.b)(S.text)},m.a.createElement("div",null,d)))};return"cost"===r?m.a.createElement(m.a.Fragment,null,g()):o?m.a.createElement(m.a.Fragment,null,h(),g()):m.a.createElement(m.a.Fragment,null,g(),h())});var k=a(302);const j=i.a.create({reportSummaryItem:{":not(:last-child)":{marginBottom:p.global_spacer_md.value}},test:{":not(foo) svg":{overflow:"visible"}}}),D=({label:e,formatOptions:t,formatValue:a,t:s,totalValue:r,units:n,value:o})=>{const l=Object(E.c)(n),c="usd"!==l?s(`units.${l}`):void 0,u=Number((r?o/r*100:0).toFixed(2)),d=s("percent_of_total",{percent:u,units:c,value:a(o,n,t)});return m.a.createElement("li",{className:Object(i.b)(j.reportSummaryItem)},m.a.createElement(k.a,{label:d,value:u,title:e,size:k.b.sm}))};D.defaultProps={formatValue:e=>e};const T=Object(d.d)()(D);var C=a(566);const w=i.a.create({skeleton:{marginTop:p.global_spacer_md.value}});const x=Object(d.d)()(class extends m.a.Component{shouldComponentUpdate(e){return e.report!==this.props.report}getItems(){const{report:e,idKey:t,labelKey:a}=this.props,s=Object(C.a)({report:e,idKey:t,labelKey:a}),r=s.findIndex(e=>{const t=e.id;if(t&&null!==t)return t.toString().includes("Other")});return-1!==r?[...s.slice(0,r),...s.slice(r+1),s[r]]:s}render(){const{children:e,status:t}=this.props;if(1===t)return m.a.createElement(m.a.Fragment,null,m.a.createElement(c.Skeleton,{size:c.SkeletonSize.md}),m.a.createElement(c.Skeleton,{size:c.SkeletonSize.md,className:Object(i.b)(w.skeleton)}),m.a.createElement(c.Skeleton,{size:c.SkeletonSize.md,className:Object(i.b)(w.skeleton)}),m.a.createElement(c.Skeleton,{size:c.SkeletonSize.md,className:Object(i.b)(w.skeleton)}));{const t=this.getItems();return m.a.createElement("ul",null,e({items:t}))}}});var z=a(581);const N=i.a.create({chart:{marginBottom:p.global_spacer_sm.value}}),R=e=>m.a.createElement("div",{className:Object(i.b)(N.chart)},m.a.createElement(z.a,Object.assign({},e)));a.d(t,"a",function(){return g}),a.d(t,"b",function(){return _}),a.d(t,"c",function(){return O}),a.d(t,"d",function(){return T}),a.d(t,"e",function(){return x}),a.d(t,"f",function(){return R})},612:function(e,t,a){"use strict";var s=a(330),r=a(329),n=a(332),o=a(354),l=a(328),i=a(221),c=a(551),u=a(2),m=a.n(u),d=a(190),p=a(3);const b=i.a.create({chartSkeleton:{height:"125px",marginBottom:p.global_spacer_md.value,marginTop:p.global_spacer_md.value},legendSkeleton:{marginTop:p.global_spacer_md.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:p.global_FontSize_xs.value,color:p.global_Color_200.var,marginBottom:"0"}}),g=Object(d.d)()(({children:e,detailsLink:t,title:a,subTitle:u,status:d,t:p})=>m.a.createElement(n.a,{className:Object(i.b)(b.reportSummary)},m.a.createElement(l.a,null,m.a.createElement(o.a,{size:"lg"},a),Boolean(u)&&m.a.createElement("p",{className:Object(i.b)(b.subtitle)},u)),m.a.createElement(s.a,null,1===d?m.a.createElement(m.a.Fragment,null,m.a.createElement(c.Skeleton,{size:c.SkeletonSize.xs}),m.a.createElement(c.Skeleton,{className:Object(i.b)(b.chartSkeleton),size:c.SkeletonSize.md}),m.a.createElement(c.Skeleton,{size:c.SkeletonSize.sm}),m.a.createElement(c.Skeleton,{className:Object(i.b)(b.legendSkeleton),size:c.SkeletonSize.xs})):e),Boolean(t)&&m.a.createElement(r.a,null,t)));var h=a(292),v=a(293);const f=i.a.create({chartSkeleton:{height:"175px",marginBottom:p.global_spacer_md.value,marginTop:p.global_spacer_md.value},container:{display:"flex"},cost:{flexGrow:1,minHeight:"470px",marginRight:p.global_spacer_md.value},legendSkeleton:{marginTop:p.global_spacer_md.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:p.global_FontSize_xs.value,color:p.global_Color_200.var,marginBottom:"0"},tops:{flexGrow:1,marginTop:p.global_spacer_lg.value}}),_=Object(d.d)()(({children:e,detailsLink:t,status:a,subTitle:u,t:d,tabs:p,title:b})=>m.a.createElement(n.a,{className:Object(i.b)(f.reportSummary)},m.a.createElement(v.a,{gutter:"md"},m.a.createElement(h.a,{lg:5,xl:6},m.a.createElement("div",{className:Object(i.b)(f.cost)},m.a.createElement(l.a,null,m.a.createElement(o.a,{size:"lg"},b),Boolean(u)&&m.a.createElement("p",{className:Object(i.b)(f.subtitle)},u)),m.a.createElement(s.a,null,1===a?m.a.createElement(m.a.Fragment,null,m.a.createElement(c.Skeleton,{size:c.SkeletonSize.xs}),m.a.createElement(c.Skeleton,{className:Object(i.b)(f.chartSkeleton),size:c.SkeletonSize.md}),m.a.createElement(c.Skeleton,{size:c.SkeletonSize.sm}),m.a.createElement(c.Skeleton,{className:Object(i.b)(f.legendSkeleton),size:c.SkeletonSize.xs})):e))),m.a.createElement(h.a,{lg:7,xl:6},m.a.createElement("div",{className:Object(i.b)(f.container)},m.a.createElement("div",{className:Object(i.b)(f.tops)},1!==a&&m.a.createElement(m.a.Fragment,null,Boolean(p)&&m.a.createElement(s.a,null,p),Boolean(t)&&m.a.createElement(r.a,null,t))))))));var y=a(562),E=a(550);const S=i.a.create({reportSummaryDetails:{marginBottom:p.global_spacer_md.value,display:"flex",alignItems:"flex-end"},text:{paddingBottom:14,lineHeight:p.global_LineHeight_sm.value,fontSize:p.global_FontSize_xs.value},value:{color:p.global_Color_100.var,marginRight:p.global_spacer_sm.value,fontSize:p.global_FontSize_4xl.value},valueContainer:{display:"inline-block",marginBottom:p.global_spacer_md.value,width:"50%",wordWrap:"break-word"}}),O=Object(d.d)()(({costLabel:e,formatValue:t,formatOptions:a,report:s,reportType:r="cost",showUnits:n=!1,showUsageFirst:o=!1,t:l,usageFormatOptions:c,usageLabel:u})=>{let d=m.a.createElement(y.a,null),p=m.a.createElement(y.a,null);s&&s.meta&&s.meta.total&&(d=t(s.meta.total.cost?s.meta.total.cost.value:0,s.meta.total.cost?s.meta.total.cost.units:"USD",a),p=t(s.meta.total.usage?s.meta.total.usage.value:0,s.meta.total.usage?s.meta.total.usage.units:"",c||a));const b=()=>m.a.createElement("div",{className:Object(i.b)(S.valueContainer)},m.a.createElement("div",{className:Object(i.b)(S.value)},d),m.a.createElement("div",{className:Object(i.b)(S.text)},m.a.createElement("div",null,e))),g=()=>{if(!u)return null;const e=s&&s.meta&&s.meta.total&&s.meta.total.usage?s.meta.total.usage.units:"",t=Object(E.c)(e),a=l(`units.${t}`);return m.a.createElement("div",{className:Object(i.b)(S.valueContainer)},m.a.createElement("div",{className:Object(i.b)(S.value)},p,Boolean(n&&s&&s.meta&&s.meta.total.usage&&s.meta.total.usage.value>=0)&&m.a.createElement("span",{className:Object(i.b)(S.text)},a)),m.a.createElement("div",{className:Object(i.b)(S.text)},m.a.createElement("div",null,u)))};return"cost"===r?m.a.createElement(m.a.Fragment,null,b()):o?m.a.createElement(m.a.Fragment,null,g(),b()):m.a.createElement(m.a.Fragment,null,b(),g())});var k=a(302);const j=i.a.create({reportSummaryItem:{":not(:last-child)":{marginBottom:p.global_spacer_md.value}},test:{":not(foo) svg":{overflow:"visible"}}}),D=({label:e,formatOptions:t,formatValue:a,t:s,totalValue:r,units:n,value:o})=>{const l=Object(E.c)(n),c="usd"!==l?s(`units.${l}`):void 0,u=Number((r?o/r*100:0).toFixed(2)),d=s("percent_of_total",{percent:u,units:c,value:a(o,n,t)});return m.a.createElement("li",{className:Object(i.b)(j.reportSummaryItem)},m.a.createElement(k.a,{label:d,value:u,title:e,size:k.b.sm}))};D.defaultProps={formatValue:e=>e};const T=Object(d.d)()(D);var C=a(567);const w=i.a.create({skeleton:{marginTop:p.global_spacer_md.value}});const x=Object(d.d)()(class extends m.a.Component{shouldComponentUpdate(e){return e.report!==this.props.report}getItems(){const{report:e,idKey:t,labelKey:a}=this.props,s=Object(C.a)({report:e,idKey:t,labelKey:a}),r=s.findIndex(e=>{const t=e.id;if(t&&null!==t)return t.toString().includes("Other")});return-1!==r?[...s.slice(0,r),...s.slice(r+1),s[r]]:s}render(){const{children:e,status:t}=this.props;if(1===t)return m.a.createElement(m.a.Fragment,null,m.a.createElement(c.Skeleton,{size:c.SkeletonSize.md}),m.a.createElement(c.Skeleton,{size:c.SkeletonSize.md,className:Object(i.b)(w.skeleton)}),m.a.createElement(c.Skeleton,{size:c.SkeletonSize.md,className:Object(i.b)(w.skeleton)}),m.a.createElement(c.Skeleton,{size:c.SkeletonSize.md,className:Object(i.b)(w.skeleton)}));{const t=this.getItems();return m.a.createElement("ul",null,e({items:t}))}}});var z=a(581);const N=i.a.create({chart:{marginBottom:p.global_spacer_sm.value}}),R=e=>m.a.createElement("div",{className:Object(i.b)(N.chart)},m.a.createElement(z.a,Object.assign({},e)));a.d(t,"a",function(){return g}),a.d(t,"b",function(){return _}),a.d(t,"c",function(){return O}),a.d(t,"d",function(){return T}),a.d(t,"e",function(){return x}),a.d(t,"f",function(){return R})},613:function(e,t,a){"use strict";var s=a(330),r=a(329),n=a(332),o=a(354),l=a(328),i=a(221),c=a(551),u=a(2),m=a.n(u),d=a(190),p=a(3);const b=i.a.create({chartSkeleton:{height:"125px",marginBottom:p.global_spacer_md.value,marginTop:p.global_spacer_md.value},legendSkeleton:{marginTop:p.global_spacer_md.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:p.global_FontSize_xs.value,color:p.global_Color_200.var,marginBottom:"0"}}),g=Object(d.d)()(({children:e,detailsLink:t,title:a,subTitle:u,status:d,t:p})=>m.a.createElement(n.a,{className:Object(i.b)(b.reportSummary)},m.a.createElement(l.a,null,m.a.createElement(o.a,{size:"lg"},a),Boolean(u)&&m.a.createElement("p",{className:Object(i.b)(b.subtitle)},u)),m.a.createElement(s.a,null,1===d?m.a.createElement(m.a.Fragment,null,m.a.createElement(c.Skeleton,{size:c.SkeletonSize.xs}),m.a.createElement(c.Skeleton,{className:Object(i.b)(b.chartSkeleton),size:c.SkeletonSize.md}),m.a.createElement(c.Skeleton,{size:c.SkeletonSize.sm}),m.a.createElement(c.Skeleton,{className:Object(i.b)(b.legendSkeleton),size:c.SkeletonSize.xs})):e),Boolean(t)&&m.a.createElement(r.a,null,t)));var h=a(292),v=a(293);const f=i.a.create({chartSkeleton:{height:"175px",marginBottom:p.global_spacer_md.value,marginTop:p.global_spacer_md.value},container:{display:"flex"},cost:{flexGrow:1,minHeight:"470px",marginRight:p.global_spacer_md.value},legendSkeleton:{marginTop:p.global_spacer_md.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:p.global_FontSize_xs.value,color:p.global_Color_200.var,marginBottom:"0"},tops:{flexGrow:1,marginTop:p.global_spacer_lg.value}}),_=Object(d.d)()(({children:e,detailsLink:t,status:a,subTitle:u,t:d,tabs:p,title:b})=>m.a.createElement(n.a,{className:Object(i.b)(f.reportSummary)},m.a.createElement(v.a,{gutter:"md"},m.a.createElement(h.a,{lg:5,xl:6},m.a.createElement("div",{className:Object(i.b)(f.cost)},m.a.createElement(l.a,null,m.a.createElement(o.a,{size:"lg"},b),Boolean(u)&&m.a.createElement("p",{className:Object(i.b)(f.subtitle)},u)),m.a.createElement(s.a,null,1===a?m.a.createElement(m.a.Fragment,null,m.a.createElement(c.Skeleton,{size:c.SkeletonSize.xs}),m.a.createElement(c.Skeleton,{className:Object(i.b)(f.chartSkeleton),size:c.SkeletonSize.md}),m.a.createElement(c.Skeleton,{size:c.SkeletonSize.sm}),m.a.createElement(c.Skeleton,{className:Object(i.b)(f.legendSkeleton),size:c.SkeletonSize.xs})):e))),m.a.createElement(h.a,{lg:7,xl:6},m.a.createElement("div",{className:Object(i.b)(f.container)},m.a.createElement("div",{className:Object(i.b)(f.tops)},1!==a&&m.a.createElement(m.a.Fragment,null,Boolean(p)&&m.a.createElement(s.a,null,p),Boolean(t)&&m.a.createElement(r.a,null,t))))))));var y=a(145),E=a(562),S=a(550);const O=i.a.create({reportSummaryDetails:{marginBottom:p.global_spacer_md.value,display:"flex",alignItems:"flex-end"},text:{paddingBottom:14,lineHeight:p.global_LineHeight_sm.value,fontSize:p.global_FontSize_xs.value},value:{color:p.global_Color_100.var,marginRight:p.global_spacer_sm.value,fontSize:p.global_FontSize_4xl.value},valueContainer:{display:"inline-block",marginBottom:p.global_spacer_md.value,width:"50%",wordWrap:"break-word"}}),k=Object(d.d)()(({costLabel:e,formatValue:t,formatOptions:a,report:s,reportType:r="cost",requestFormatOptions:n,requestLabel:o,showUnits:l=!1,showUsageFirst:c=!1,t:u,usageFormatOptions:d,usageLabel:p})=>{let b=m.a.createElement(E.a,null),g=m.a.createElement(E.a,null),h=m.a.createElement(E.a,null),v=m.a.createElement(E.a,null),f=m.a.createElement(E.a,null);const _="database"===r||"instance_type"===r||"network"===r||"storage"===r;s&&s.meta&&s.meta.total&&(b=t(s.meta.total.cost?s.meta.total.cost.value:0,s.meta.total.cost?s.meta.total.cost.units:"USD",a),g=t(s.meta.total.infrastructure_cost?s.meta.total.infrastructure_cost.value:0,s.meta.total.infrastructure_cost?s.meta.total.infrastructure_cost.units:"USD",a),h=t(s.meta.total.markup_cost?s.meta.total.markup_cost.value:0,s.meta.total.markup_cost?s.meta.total.markup_cost.units:"USD",a),_?f=t(s.meta.total.usage?s.meta.total.usage.value:0,s.meta.total.usage?s.meta.total.usage.units:"",d||a):(f=t(s.meta.total.usage?s.meta.total.usage.value:0,s.meta.total.usage?s.meta.total.usage.units:"",d||a),v=t(s.meta.total.request?s.meta.total.request.value:0,s.meta.total.request?s.meta.total.request.units:"",n?d:a)));const k=()=>m.a.createElement("div",{className:Object(i.b)(O.valueContainer)},m.a.createElement(y.a,{content:u("ocp_cloud_dashboard.total_cost_tooltip",{infrastructureCost:g,markupCost:h}),enableFlip:!0},m.a.createElement("div",{className:Object(i.b)(O.value)},b)),m.a.createElement("div",{className:Object(i.b)(O.text)},m.a.createElement("div",null,e))),j=()=>{if(!p)return null;const e=s&&s.meta&&s.meta.total&&s.meta.total.request?s.meta.total.request.units:"",t=Object(S.c)(e),a=u(`units.${t}`);return m.a.createElement("div",{className:Object(i.b)(O.valueContainer)},m.a.createElement("div",{className:Object(i.b)(O.value)},v,Boolean(l&&s&&s.meta&&s.meta.total.request&&s.meta.total.request.value>=0)&&m.a.createElement("span",{className:Object(i.b)(O.text)},a)),m.a.createElement("div",{className:Object(i.b)(O.text)},m.a.createElement("div",null,o)))},D=()=>{if(!p)return null;const e=s&&s.meta&&s.meta.total&&s.meta.total.usage?s.meta.total.usage.units:"",t=Object(S.c)(e),a=u(`units.${t}`);return m.a.createElement("div",{className:Object(i.b)(O.valueContainer)},m.a.createElement("div",{className:Object(i.b)(O.value)},f,Boolean(l&&s&&s.meta&&s.meta.total.usage&&s.meta.total.usage.value>=0)&&m.a.createElement("span",{className:Object(i.b)(O.text)},a)),m.a.createElement("div",{className:Object(i.b)(O.text)},m.a.createElement("div",null,p)))};return"cost"===r?m.a.createElement(m.a.Fragment,null,k()):_?c?m.a.createElement(m.a.Fragment,null,D(),k()):m.a.createElement(m.a.Fragment,null,k(),D()):c?m.a.createElement(m.a.Fragment,null,D(),j()):m.a.createElement(m.a.Fragment,null,j(),D())});var j=a(302);const D=i.a.create({reportSummaryItem:{":not(:last-child)":{marginBottom:p.global_spacer_md.value}},test:{":not(foo) svg":{overflow:"visible"}}}),T=({label:e,formatOptions:t,formatValue:a,t:s,totalValue:r,units:n,value:o})=>{const l=Object(S.c)(n),c="usd"!==l?s(`units.${l}`):void 0,u=Number((r?o/r*100:0).toFixed(2)),d=s("percent_of_total",{percent:u,units:c,value:a(o,n,t)});return m.a.createElement("li",{className:Object(i.b)(D.reportSummaryItem)},m.a.createElement(j.a,{label:d,value:u,title:e,size:j.b.sm}))};T.defaultProps={formatValue:e=>e};const C=Object(d.d)()(T);var w=a(565);const x=i.a.create({skeleton:{marginTop:p.global_spacer_md.value}});const z=Object(d.d)()(class extends m.a.Component{shouldComponentUpdate(e){return e.report!==this.props.report}getItems(){const{report:e,idKey:t,labelKey:a}=this.props,s=Object(w.a)({report:e,idKey:t,labelKey:a}),r=s.findIndex(e=>{const t=e.id;if(t&&null!==t)return t.toString().includes("Other")});return-1!==r?[...s.slice(0,r),...s.slice(r+1),s[r]]:s}render(){const{children:e,status:t}=this.props;if(1===t)return m.a.createElement(m.a.Fragment,null,m.a.createElement(c.Skeleton,{size:c.SkeletonSize.md}),m.a.createElement(c.Skeleton,{size:c.SkeletonSize.md,className:Object(i.b)(x.skeleton)}),m.a.createElement(c.Skeleton,{size:c.SkeletonSize.md,className:Object(i.b)(x.skeleton)}),m.a.createElement(c.Skeleton,{size:c.SkeletonSize.md,className:Object(i.b)(x.skeleton)}));{const t=this.getItems();return m.a.createElement("ul",null,e({items:t}))}}});var N=a(581);const R=i.a.create({chart:{marginBottom:p.global_spacer_sm.value}}),L=e=>m.a.createElement("div",{className:Object(i.b)(R.chart)},m.a.createElement(N.a,Object.assign({},e)));var F=a(595);const K=e=>m.a.createElement("div",{className:Object(i.b)(R.chart)},m.a.createElement(F.a,Object.assign({},e)));a.d(t,"a",function(){return g}),a.d(t,"b",function(){return _}),a.d(t,"c",function(){return k}),a.d(t,"d",function(){return C}),a.d(t,"e",function(){return z}),a.d(t,"f",function(){return L}),a.d(t,"g",function(){return K})},614:function(e,t,a){"use strict";var s=a(330),r=a(329),n=a(332),o=a(354),l=a(328),i=a(221),c=a(551),u=a(2),m=a.n(u),d=a(190),p=a(3);const b=i.a.create({chartSkeleton:{height:"125px",marginBottom:p.global_spacer_md.value,marginTop:p.global_spacer_md.value},legendSkeleton:{marginTop:p.global_spacer_md.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:p.global_FontSize_xs.value,color:p.global_Color_200.var,marginBottom:"0"}}),g=Object(d.d)()(({children:e,detailsLink:t,title:a,subTitle:u,status:d,t:p})=>m.a.createElement(n.a,{className:Object(i.b)(b.reportSummary)},m.a.createElement(l.a,null,m.a.createElement(o.a,{size:"lg"},a),Boolean(u)&&m.a.createElement("p",{className:Object(i.b)(b.subtitle)},u)),m.a.createElement(s.a,null,1===d?m.a.createElement(m.a.Fragment,null,m.a.createElement(c.Skeleton,{size:c.SkeletonSize.xs}),m.a.createElement(c.Skeleton,{className:Object(i.b)(b.chartSkeleton),size:c.SkeletonSize.md}),m.a.createElement(c.Skeleton,{size:c.SkeletonSize.sm}),m.a.createElement(c.Skeleton,{className:Object(i.b)(b.legendSkeleton),size:c.SkeletonSize.xs})):e),Boolean(t)&&m.a.createElement(r.a,null,t)));var h=a(293),v=a(292);const f=i.a.create({chartSkeleton:{height:"175px",marginBottom:p.global_spacer_md.value,marginTop:p.global_spacer_md.value},container:{display:"flex"},cost:{flexGrow:1,minHeight:"440px",marginRight:p.global_spacer_md.value},legendSkeleton:{marginTop:p.global_spacer_md.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:p.global_FontSize_xs.value,color:p.global_Color_200.var,marginBottom:"0"},tops:{flexGrow:1,marginTop:p.global_spacer_lg.value}}),_=Object(d.d)()(({children:e,detailsLink:t,status:a,subTitle:u,t:d,tabs:p,title:b})=>m.a.createElement(n.a,{className:Object(i.b)(f.reportSummary)},m.a.createElement(h.a,{gutter:"md"},m.a.createElement(v.a,{lg:5,xl:6},m.a.createElement("div",{className:Object(i.b)(f.cost)},m.a.createElement(l.a,null,m.a.createElement(o.a,{size:"lg"},b),Boolean(u)&&m.a.createElement("p",{className:Object(i.b)(f.subtitle)},u)),m.a.createElement(s.a,null,1===a?m.a.createElement(m.a.Fragment,null,m.a.createElement(c.Skeleton,{size:c.SkeletonSize.xs}),m.a.createElement(c.Skeleton,{size:c.SkeletonSize.md,className:Object(i.b)(f.chartSkeleton)}),m.a.createElement(c.Skeleton,{size:c.SkeletonSize.sm}),m.a.createElement(c.Skeleton,{size:c.SkeletonSize.xs,className:Object(i.b)(f.legendSkeleton)})):e))),m.a.createElement(v.a,{lg:7,xl:6},m.a.createElement("div",{className:Object(i.b)(f.container)},m.a.createElement("div",{className:Object(i.b)(f.tops)},1!==a&&m.a.createElement(m.a.Fragment,null,Boolean(p)&&m.a.createElement(s.a,null,p),Boolean(t)&&m.a.createElement(r.a,null,t))))))));var y=a(145),E=a(562),S=a(550);const O=i.a.create({reportSummaryDetails:{marginBottom:p.global_spacer_md.value,display:"flex",alignItems:"flex-end"},text:{paddingBottom:14,lineHeight:p.global_LineHeight_sm.value,fontSize:p.global_FontSize_xs.value},value:{color:p.global_Color_100.var,marginRight:p.global_spacer_sm.value,fontSize:p.global_FontSize_4xl.value},valueContainer:{display:"inline-block",marginBottom:p.global_spacer_md.value,width:"50%",wordWrap:"break-word"}}),k=Object(d.d)()(({costLabel:e,formatValue:t,formatOptions:a,report:s,reportType:r="cost",requestFormatOptions:n,requestLabel:o,showUnits:l=!1,showUsageFirst:c=!1,t:u,usageFormatOptions:d,usageLabel:p})=>{let b=m.a.createElement(E.a,null),g=m.a.createElement(E.a,null),h=m.a.createElement(E.a,null),v=m.a.createElement(E.a,null),f=m.a.createElement(E.a,null);s&&s.meta&&s.meta.total&&(b=t(s.meta.total.cost?s.meta.total.cost.value:0,s.meta.total.cost?s.meta.total.cost.units:"USD",a),g=t(s.meta.total.derived_cost?s.meta.total.derived_cost.value:0,s.meta.total.derived_cost?s.meta.total.derived_cost.units:"USD",a),h=t(s.meta.total.infrastructure_cost?s.meta.total.infrastructure_cost.value:0,s.meta.total.infrastructure_cost?s.meta.total.infrastructure_cost.units:"USD",a),"cost"!==r&&(f=t(s.meta.total.usage?s.meta.total.usage.value:0,s.meta.total.usage?s.meta.total.usage.units:"",d||a),v=t(s.meta.total.request?s.meta.total.request.value:0,s.meta.total.request?s.meta.total.request.units:"",n?d:a)));const _=()=>{if(!p)return null;const e=s&&s.meta&&s.meta.total&&s.meta.total.request?s.meta.total.request.units:"",t=Object(S.c)(e),a=u(`units.${t}`);return m.a.createElement("div",{className:Object(i.b)(O.valueContainer)},m.a.createElement("div",{className:Object(i.b)(O.value)},v,Boolean(l&&s&&s.meta&&s.meta.total.request&&s.meta.total.request.value>=0)&&m.a.createElement("span",{className:Object(i.b)(O.text)},a)),m.a.createElement("div",{className:Object(i.b)(O.text)},m.a.createElement("div",null,o)))},k=()=>{if(!p)return null;const e=s&&s.meta&&s.meta.total&&s.meta.total.usage?s.meta.total.usage.units:"",t=Object(S.c)(e),a=u(`units.${t}`);return m.a.createElement("div",{className:Object(i.b)(O.valueContainer)},m.a.createElement("div",{className:Object(i.b)(O.value)},f,Boolean(l&&s&&s.meta&&s.meta.total.usage&&s.meta.total.usage.value>=0)&&m.a.createElement("span",{className:Object(i.b)(O.text)},a)),m.a.createElement("div",{className:Object(i.b)(O.text)},m.a.createElement("div",null,p)))};return"cost"===r?m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:Object(i.b)(O.valueContainer)},m.a.createElement(y.a,{content:u("ocp_dashboard.total_cost_tooltip",{derivedCost:g,infrastructureCost:h}),enableFlip:!0},m.a.createElement("div",{className:Object(i.b)(O.value)},b)),m.a.createElement("div",{className:Object(i.b)(O.text)},m.a.createElement("div",null,e)))):c?m.a.createElement(m.a.Fragment,null,k(),_()):m.a.createElement(m.a.Fragment,null,_(),k())});var j=a(302);const D=i.a.create({reportSummaryItem:{":not(:last-child)":{marginBottom:p.global_spacer_md.value}},test:{":not(foo) svg":{overflow:"visible"}}}),T=({formatOptions:e,formatValue:t,label:a,t:s,totalValue:r,units:n,value:o})=>{const l=Object(S.c)(n),c="usd"!==l?s(`units.${l}`):void 0,u=Number((r?o/r*100:0).toFixed(2)),d=s("percent_of_total",{percent:u,units:c,value:t(o,n,e)});return m.a.createElement("li",{className:Object(i.b)(D.reportSummaryItem)},m.a.createElement(j.a,{label:d,value:u,title:a,size:j.b.sm}))};T.defaultProps={formatValue:e=>e};const C=Object(d.d)()(T);var w=a(564);const x=i.a.create({skeleton:{marginTop:p.global_spacer_md.value}});const z=Object(d.d)()(class extends m.a.Component{shouldComponentUpdate(e){return e.report!==this.props.report}getItems(){const{report:e,idKey:t,labelKey:a}=this.props,s=Object(w.a)({report:e,idKey:t,labelKey:a}),r=s.findIndex(e=>{const t=e.id;if(t&&null!==t)return t.toString().includes("Other")});return-1!==r?[...s.slice(0,r),...s.slice(r+1),s[r]]:s}render(){const{children:e,status:t}=this.props;if(1===t)return m.a.createElement(m.a.Fragment,null,m.a.createElement(c.Skeleton,{size:c.SkeletonSize.md}),m.a.createElement(c.Skeleton,{size:c.SkeletonSize.md,className:Object(i.b)(x.skeleton)}),m.a.createElement(c.Skeleton,{size:c.SkeletonSize.md,className:Object(i.b)(x.skeleton)}),m.a.createElement(c.Skeleton,{size:c.SkeletonSize.md,className:Object(i.b)(x.skeleton)}));{const t=this.getItems();return m.a.createElement("ul",null,e({items:t}))}}});var N=a(885),R=a(880),L=a(898),F=a(878),K=a(856),I=a(881),H=a(560),U=a(553),B=a(554),P=a.n(B),q=a(76);const A={currentCostData:{data:{fill:"none",stroke:"#A2DA9C"}},currentInfrastructureCostData:{data:{fill:"none",stroke:"#88D080",strokeDasharray:"3,3"}},itemsPerRow:2,legend:{labels:{fontFamily:p.global_FontFamily_sans_serif.value,fontSize:14},minWidth:200},legendColorScale:[p.global_disabled_color_200.value,p.chart_color_green_100.value,p.global_disabled_color_200.value,p.chart_color_green_200.value],previousCostData:{data:{fill:"none",stroke:p.global_disabled_color_200.value}},previousInfrastructureCostData:{data:{fill:"none",stroke:p.global_disabled_color_200.value,strokeDasharray:"3,3"}},currentColorScale:[p.chart_color_green_100.value,p.chart_color_green_200.value,p.chart_color_green_300.value,p.chart_color_green_400.value,p.chart_color_green_500.value],previousColorScale:[p.global_disabled_color_200.value,p.global_disabled_color_200.value],yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}},V=i.a.create({chartContainer:{":not(foo) svg":{overflow:"visible"}}});class W extends m.a.Component{constructor(){super(...arguments),this.containerRef=m.a.createRef(),this.state={hiddenSeries:new Set,width:0},this.initDatum=(()=>{const{currentInfrastructureCostData:e,currentCostData:t,previousInfrastructureCostData:a,previousCostData:s}=this.props,r="chart.cost_legend_label";this.setState({series:[{childName:"previousCost",data:s,legendItem:{name:Object(U.a)(s,r,!0,!0,1),symbol:{type:"minus"}},style:A.previousCostData},{childName:"currentCost",data:t,legendItem:{name:Object(U.a)(t,r,!0,!1),symbol:{type:"minus"}},style:A.currentCostData},{childName:"previousInfrastructureCost",data:a,legendItem:{name:Object(U.a)(a,"chart.cost_infrastructure_legend_label",!0,!0,1),symbol:{type:"dash"}},style:A.previousInfrastructureCostData},{childName:"currentInfrastructureCost",data:e,legendItem:{name:Object(U.a)(e,"chart.cost_infrastructure_legend_label",!0,!1),symbol:{type:"dash"}},style:A.currentInfrastructureCostData}]})}),this.handleResize=(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})}),this.getChart=((e,t)=>{const{hiddenSeries:a}=this.state;return m.a.createElement(I.a,{data:a.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})}),this.getLegend=(()=>{const{legendItemsPerRow:e}=this.props,{width:t}=this.state,a=e||(t>400?A.itemsPerRow:1);return m.a.createElement(K.a,{colorScale:A.legendColorScale,data:this.getLegendData(),height:25,gutter:10,itemsPerRow:a,name:"legend",responsive:!1,style:A.legend})}),this.getTooltipLabel=(({datum:e})=>{const{formatDatumValue:t,formatDatumOptions:a}=this.props,s=Object(U.e)(e,Object(U.d)(t),a,"date");return"currentCost"===e.childName||"previousCost"===e.childName?q.a.t("chart.cost_tooltip",{value:s}):"currentInfrastructureCost"===e.childName||"previousInfrastructureCost"===e.childName?q.a.t("chart.cost_infrastructure_tooltip",{value:s}):s}),this.handleLegendClick=(e=>{this.state.hiddenSeries.delete(e.index)||this.state.hiddenSeries.add(e.index),this.setState({hiddenSeries:new Set(this.state.hiddenSeries)})}),this.isDataAvailable=(()=>{const{series:e}=this.state,t=[];return e&&e.forEach((e,a)=>{(this.isSeriesHidden(a)||e.data&&0===e.data.length)&&t.push(a)}),t.length===(e?e.length:0)}),this.isSeriesHidden=(e=>{const{hiddenSeries:t}=this.state;return t.has(e)}),this.getChartNames=(()=>{const{series:e}=this.state,t=[];return e&&e.map((e,a)=>{t.push(e.childName)}),t}),this.getEvents=(()=>{return Object(N.a)({chartNames:this.getChartNames(),isHidden:this.isSeriesHidden,legendName:"legend",onLegendClick:this.handleLegendClick})}),this.getLegendData=(()=>{const{hiddenSeries:e,series:t}=this.state;if(t){return t.map((t,a)=>Object.assign({},t.legendItem,Object(N.b)(e.has(a))))}})}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize)}),this.initDatum()}componentDidUpdate(e){e.currentInfrastructureCostData===this.props.currentInfrastructureCostData&&e.currentCostData===this.props.currentCostData&&e.previousInfrastructureCostData===this.props.previousInfrastructureCostData&&e.previousCostData===this.props.previousCostData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}getDomain(){const{currentInfrastructureCostData:e,currentCostData:t,previousInfrastructureCostData:a,previousCostData:s}=this.props,r={x:[1,31]},n=e?Object(U.c)(e):0,o=t?Object(U.c)(t):0,l=a?Object(U.c)(a):0,i=s?Object(U.c)(s):0,c=Math.max(n,o,l,i),u=c>0?Math.ceil(c+.1*c):0;return u>0&&(r.y=[0,u]),r}getEndDate(){const{currentInfrastructureCostData:e,currentCostData:t,previousInfrastructureCostData:a,previousCostData:s}=this.props,r=e?P()(Object(U.b)(e,!0,!0)[1]):0,n=t?P()(Object(U.b)(t,!0,!0)[1]):0,o=a?P()(Object(U.b)(a,!0,!0)[1]):0,l=s?P()(Object(U.b)(s,!0,!0)[1]):0;return r>0||n>0||o>0||l>0?Math.max(r,n,o,l):31}render(){const{adjustContainerHeight:e,height:t,containerHeight:a=t,padding:s,title:r}=this.props,{series:n,width:o}=this.state,l=this.isDataAvailable(),c=m.a.createElement(F.a,{allowTooltip:!l,constrainToVisibleArea:!0,labels:l?void 0:this.getTooltipLabel,voronoiDimension:"x"}),u=this.getDomain(),d=this.getEndDate(),p=Math.floor(d/2),b=e?o>400?a:a+75:a;return m.a.createElement("div",{className:Object(i.b)(V.chartContainer),ref:this.containerRef,style:{height:b}},m.a.createElement("div",null,r),m.a.createElement(L.a,{containerComponent:c,domain:u,events:this.getEvents(),height:t,legendComponent:this.getLegend(),legendData:this.getLegendData(),legendPosition:"bottom-left",padding:s,theme:H.a,width:o},n&&n.map((e,t)=>this.getChart(e,t)),m.a.createElement(R.a,{style:A.xAxis,tickValues:[1,p,d]}),m.a.createElement(R.a,{dependentAxis:!0,style:A.yAxis})))}}const $=i.a.create({chart:{marginBottom:p.global_spacer_sm.value}}),M=e=>m.a.createElement("div",{className:Object(i.b)($.chart)},m.a.createElement(W,Object.assign({},e)));var Q=a(595);const G=e=>m.a.createElement("div",{className:Object(i.b)($.chart)},m.a.createElement(Q.a,Object.assign({},e)));a.d(t,"a",function(){return g}),a.d(t,"b",function(){return _}),a.d(t,"c",function(){return k}),a.d(t,"d",function(){return C}),a.d(t,"e",function(){return z}),a.d(t,"f",function(){return M}),a.d(t,"g",function(){return G})},867:function(e,t,a){"use strict";a.r(t);var s=a(147),r=a(29),n=a(354),o=a(223),l=a(299),i=a(179),c=a(138),u=(a(83),a(221)),m=a(80),d=a(570),p=a(568),b=a(580),g=a(292),h=a(293),v=a(2),f=a.n(v),_=a(190),y=a(75),E=a(198),S=a(69),O=a(194),k=a(553),j=a(612),D=a(563),T=a.n(D),C=a(554),w=a.n(C),x=a(588),z=a.n(x),N=a(572),R=a.n(N),L=a(901),F=a(64),K=a(550),I=a(3);const H={chartAltHeight:180,chartHeight:80,containerAltHeight:200,containerTrendHeight:150},U=u.a.create({tabs:{marginTop:I.global_spacer_2xl.value},tabItems:{marginTop:I.global_spacer_xl.value}}),B=e=>{switch(e){case"services":return"service";case"accounts":return"account";case"regions":return"region";case"instance_type":return"instance_type"}};const P=Object(S.a)((e,{widgetId:t})=>{const a=E.c.selectWidget(e,t),s=E.c.selectWidgetQueries(e,t);return Object.assign({},a,{currentQuery:s.current,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:F.c.selectReport(e,a.reportType,s.current),currentReportFetchStatus:F.c.selectReportFetchStatus(e,a.reportType,s.current),previousReport:F.c.selectReport(e,a.reportType,s.previous),tabsReport:F.c.selectReport(e,a.reportType,s.tabs),tabsReportFetchStatus:F.c.selectReportFetchStatus(e,a.reportType,s.tabs)})}),q={fetchReports:E.a.fetchWidgetReports,updateTab:E.a.changeWidgetTab},A=Object(_.d)()(Object(y.connect)(P,q)(class extends f.a.Component{constructor(){super(...arguments),this.state={activeTabKey:0},this.buildDetailsLink=(e=>{const t=B(e);return`/aws?${Object(O.a)({group_by:{[t]:"*"},order_by:{cost:"desc"}})}`}),this.getChart=((e,t,a=!1)=>{const{currentReport:s,details:r,previousReport:n,t:o,trend:l}=this.props,i=Object(k.g)(s,l.type),c=Object(k.g)(n,l.type),u=this.getUnits();return f.a.createElement(j.f,{adjustContainerHeight:a,containerHeight:e,currentData:i,formatDatumValue:K.b,formatDatumOptions:l.formatOptions,height:t,previousData:c,showUsageLegendLabel:r.showUsageLegendLabel,title:o(l.titleKey,{units:o(`units.${u}`)})})}),this.getDetails=(()=>{const{currentReport:e,details:t,isUsageFirst:a,reportType:s}=this.props,r=this.getUnits();return f.a.createElement(j.c,{costLabel:this.getDetailsLabel(t.costKey,r),formatOptions:t.formatOptions,formatValue:K.b,report:e,reportType:s,showUnits:t.showUnits,showUsageFirst:a,usageFormatOptions:t.usageFormatOptions,usageLabel:this.getDetailsLabel(t.usageKey,r)})}),this.getDetailsLabel=((e,t)=>{const{t:a}=this.props;return e?a(e,{units:a(`units.${t}`)}):void 0}),this.getDetailsLink=(()=>{const{currentTab:e,isDetailsLink:t}=this.props;return t&&f.a.createElement(L.a,{to:this.buildDetailsLink(e),onClick:this.handleInsightsNavClick},this.getDetailsLinkTitle(e))}),this.getDetailsLinkTitle=(e=>{const{t:t}=this.props;return t("group_by.all",{groupBy:B(e)||""})}),this.getHorizontalLayout=(()=>{const{currentReportFetchStatus:e}=this.props;return f.a.createElement(j.b,{detailsLink:this.getDetailsLink(),status:e,subTitle:this.getSubTitle(),tabs:this.getTabs(),title:this.getTitle()},this.getDetails(),this.getChart(H.containerAltHeight,H.chartAltHeight,!0))}),this.getSubTitle=(()=>{const{t:e}=this.props,t=new Date,a=z()(t),s=T()(t,"D"),r=T()(R()(t),"D");return e("aws_dashboard.widget_subtitle",{count:w()(t),endDate:s,month:a,startDate:r})}),this.getTab=((e,t)=>{const{tabsReport:a,tabsReportFetchStatus:s}=this.props,r=B(e);return f.a.createElement(l.a,{eventKey:t,key:`${B(e)}-tab`,title:this.getTabTitle(e)},f.a.createElement("div",{className:Object(u.b)(U.tabItems)},f.a.createElement(j.e,{idKey:r,key:`${r}-items`,report:a,status:s},({items:t})=>t.map(t=>this.getTabItem(e,t)))))}),this.getTabItem=((e,t)=>{const{availableTabs:a,reportType:s,tabsReport:r,topItems:n}=this.props,{activeTabKey:o}=this.state,l=B(e),i=B(a[o]),c="cost"===s||"database"===s||"network"===s;return i===l?f.a.createElement(j.d,{key:`${t.id}-item`,formatOptions:n.formatOptions,formatValue:K.b,label:t.label?t.label.toString():"",totalValue:c?r.meta.total.cost.value:r.meta.total.usage.value,units:t.units,value:t.cost}):null}),this.getTabs=(()=>{const{availableTabs:e}=this.props;return f.a.createElement(o.a,{isFilled:!0,activeKey:this.state.activeTabKey,onSelect:this.handleTabClick},e.map((e,t)=>this.getTab(e,t)))}),this.getTabTitle=(e=>{const{t:t}=this.props;return t("group_by.top",{groupBy:B(e)||""})}),this.getTitle=(()=>{const{t:e,titleKey:t}=this.props,a=new Date,s=z()(a);return e(t,{endDate:T()(a,"Do"),month:s,startDate:T()(R()(a),"Do")})}),this.getUnits=(()=>{const{currentReport:e,reportType:t}=this.props;let a="";return e&&e.meta&&e.meta.total&&(a="cost"===t||"database"===t||"network"===t?e.meta.total.cost?Object(K.c)(e.meta.total.cost.units):"":e.meta.total.usage?Object(K.c)(e.meta.total.usage.units):""),a}),this.getVerticalLayout=(()=>{const{availableTabs:e,currentReportFetchStatus:t}=this.props;return f.a.createElement(j.a,{detailsLink:this.getDetailsLink(),status:t,subTitle:this.getSubTitle(),title:this.getTitle()},this.getDetails(),this.getChart(H.containerTrendHeight,H.chartHeight),Boolean(e)&&f.a.createElement("div",{className:Object(u.b)(U.tabs)},this.getTabs()))}),this.handleInsightsNavClick=(()=>{insights.chrome.appNavClick({id:"aws",secondaryNav:!0})}),this.handleTabClick=((e,t)=>{const{availableTabs:a,id:s,updateTab:r}=this.props;r(s,a[t]),this.setState({activeTabKey:t})})}componentDidMount(){const{availableTabs:e,fetchReports:t,id:a,updateTab:s,widgetId:r}=this.props;s(a,e[0]),t(r)}render(){const{isHorizontal:e=!1}=this.props;return Boolean(e)?this.getHorizontalLayout():this.getVerticalLayout()}})),V=Object(S.a)(e=>({selectWidgets:E.c.selectWidgets(e),widgets:E.c.selectCurrentWidgets(e)}));var W=Object(_.d)()(Object(y.connect)(V,{})(({selectWidgets:e,t:t,widgets:a})=>f.a.createElement("div",null,f.a.createElement(h.a,{gutter:"md"},a.map(t=>{const a=e[t];return Boolean(a.isHorizontal)?f.a.createElement(g.a,{sm:12,key:t},f.a.createElement(A,{widgetId:t})):f.a.createElement(g.a,{lg:12,xl:6,xl2:4,key:t},f.a.createElement(A,{widgetId:t}))}))))),$=a(199),M=a(193),Q=a(611),G=a(65);const Y={chartAltHeight:180,chartHeight:80,containerAltHeight:200,containerTrendHeight:150},X=u.a.create({tabs:{marginTop:I.global_spacer_2xl.value},tabItems:{marginTop:I.global_spacer_xl.value}}),J=e=>{switch(e){case"service_names":return"service_name";case"subscription_guids":return"subscription_guid";case"resource_locations":return"resource_location";case"instance_type":return"instance_type"}};const Z=Object(S.a)((e,{widgetId:t})=>{const a=$.c.selectWidget(e,t),s=$.c.selectWidgetQueries(e,t);return Object.assign({},a,{currentQuery:s.current,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:G.c.selectReport(e,a.reportType,s.current),currentReportFetchStatus:G.c.selectReportFetchStatus(e,a.reportType,s.current),previousReport:G.c.selectReport(e,a.reportType,s.previous),tabsReport:G.c.selectReport(e,a.reportType,s.tabs),tabsReportFetchStatus:G.c.selectReportFetchStatus(e,a.reportType,s.tabs)})}),ee={fetchReports:$.a.fetchWidgetReports,updateTab:$.a.changeWidgetTab},te=Object(_.d)()(Object(y.connect)(Z,ee)(class extends f.a.Component{constructor(){super(...arguments),this.state={activeTabKey:0},this.buildDetailsLink=(e=>{const t=J(e);return`/azure?${Object(M.a)({group_by:{[t]:"*"},order_by:{cost:"desc"}})}`}),this.getChart=((e,t,a=!1)=>{const{currentReport:s,details:r,previousReport:n,t:o,trend:l}=this.props,i=Object(k.h)(s,l.type),c=Object(k.h)(n,l.type),u=this.getUnits();return f.a.createElement(Q.f,{adjustContainerHeight:a,containerHeight:e,currentData:i,formatDatumValue:K.b,formatDatumOptions:l.formatOptions,height:t,previousData:c,showUsageLegendLabel:r.showUsageLegendLabel,title:o(l.titleKey,{units:o(`units.${u}`)}),units:u})}),this.getDetails=(()=>{const{currentReport:e,details:t,isUsageFirst:a,reportType:s}=this.props,r=this.getUnits();return f.a.createElement(Q.c,{costLabel:this.getDetailsLabel(t.costKey,r),formatOptions:t.formatOptions,formatValue:K.b,report:e,reportType:s,showUnits:t.showUnits,showUsageFirst:a,usageFormatOptions:t.usageFormatOptions,units:r,usageLabel:this.getDetailsLabel(t.usageKey,r)})}),this.getDetailsLabel=((e,t)=>{const{t:a}=this.props;return e?a(e,{units:a(`units.${t}`)}):void 0}),this.getDetailsLink=(()=>{const{currentTab:e,isDetailsLink:t}=this.props;return t&&f.a.createElement(L.a,{to:this.buildDetailsLink(e),onClick:this.handleInsightsNavClick},this.getDetailsLinkTitle(e))}),this.getDetailsLinkTitle=(e=>{const{t:t}=this.props;return t("group_by.all",{groupBy:J(e)||""})}),this.getHorizontalLayout=(()=>{const{currentReportFetchStatus:e}=this.props;return f.a.createElement(Q.b,{detailsLink:this.getDetailsLink(),status:e,subTitle:this.getSubTitle(),tabs:this.getTabs(),title:this.getTitle()},this.getDetails(),this.getChart(Y.containerAltHeight,Y.chartAltHeight,!0))}),this.getSubTitle=(()=>{const{t:e}=this.props,t=new Date,a=z()(t),s=T()(t,"D"),r=T()(R()(t),"D");return e("azure_dashboard.widget_subtitle",{count:w()(t),endDate:s,month:a,startDate:r})}),this.getTab=((e,t)=>{const{tabsReport:a,tabsReportFetchStatus:s}=this.props,r=J(e);return f.a.createElement(l.a,{eventKey:t,key:`${J(e)}-tab`,title:this.getTabTitle(e)},f.a.createElement("div",{className:Object(u.b)(X.tabItems)},f.a.createElement(Q.e,{idKey:r,key:`${r}-items`,report:a,status:s},({items:t})=>t.map(t=>this.getTabItem(e,t)))))}),this.getTabItem=((e,t)=>{const{availableTabs:a,details:s,reportType:r,tabsReport:n,topItems:o}=this.props,{activeTabKey:l}=this.state,i=J(e),c=J(a[l]),u="cost"===r||"database"===r||"network"===r;return c===i?f.a.createElement(Q.d,{key:`${t.id}-item`,formatOptions:o.formatOptions,formatValue:K.b,label:t.label?t.label.toString():"",totalValue:u?n.meta.total.cost.value:n.meta.total.usage.value?n.meta.total.usage.value:n.meta.total.usage,units:s.units?s.units:t.units,value:t.cost}):null}),this.getTabs=(()=>{const{availableTabs:e}=this.props;return f.a.createElement(o.a,{isFilled:!0,activeKey:this.state.activeTabKey,onSelect:this.handleTabClick},e.map((e,t)=>this.getTab(e,t)))}),this.getTabTitle=(e=>{const{t:t}=this.props;return t("group_by.top",{groupBy:J(e)||""})}),this.getTitle=(()=>{const{t:e,titleKey:t}=this.props,a=new Date,s=z()(a);return e(t,{endDate:T()(a,"Do"),month:s,startDate:T()(R()(a),"Do")})}),this.getUnits=(()=>{const{currentReport:e,details:t,reportType:a}=this.props;if(t.units)return t.units;let s="";return e&&e.meta&&e.meta.total&&(s="cost"===a||"database"===a||"network"===a?e.meta.total.cost?Object(K.c)(e.meta.total.cost.units):"":e.meta.total.usage?Object(K.c)(e.meta.total.usage.units):""),s}),this.getVerticalLayout=(()=>{const{availableTabs:e,currentReportFetchStatus:t}=this.props;return f.a.createElement(Q.a,{detailsLink:this.getDetailsLink(),status:t,subTitle:this.getSubTitle(),title:this.getTitle()},this.getDetails(),this.getChart(Y.containerTrendHeight,Y.chartHeight),Boolean(e)&&f.a.createElement("div",{className:Object(u.b)(X.tabs)},this.getTabs()))}),this.handleInsightsNavClick=(()=>{insights.chrome.appNavClick({id:"azure",secondaryNav:!0})}),this.handleTabClick=((e,t)=>{const{availableTabs:a,id:s,updateTab:r}=this.props;r(s,a[t]),this.setState({activeTabKey:t})})}componentDidMount(){const{availableTabs:e,fetchReports:t,id:a,updateTab:s,widgetId:r}=this.props;s(a,e[0]),t(r)}render(){const{isHorizontal:e=!1}=this.props;return Boolean(e)?this.getHorizontalLayout():this.getVerticalLayout()}})),ae=Object(S.a)(e=>({selectWidgets:$.c.selectWidgets(e),widgets:$.c.selectCurrentWidgets(e)}));var se=Object(_.d)()(Object(y.connect)(ae,{})(({selectWidgets:e,t:t,widgets:a})=>f.a.createElement("div",null,f.a.createElement(h.a,{gutter:"md"},a.map(t=>{const a=e[t];return Boolean(a.isHorizontal)?f.a.createElement(g.a,{sm:12,key:t},f.a.createElement(te,{widgetId:t})):f.a.createElement(g.a,{lg:12,xl:6,xl2:4,key:t},f.a.createElement(te,{widgetId:t}))}))))),re=a(82),ne=a(191),oe=a(613),le=a(62);const ie={chartAltHeight:180,chartHeight:80,containerAltHeight:200,containerTrendHeight:150,containerUsageHeight:180},ce=u.a.create({tabs:{marginTop:I.global_spacer_2xl.value},tabItems:{marginTop:I.global_spacer_xl.value}}),ue=e=>{switch(e){case"clusters":return"cluster";case"nodes":return"node";case"projects":return"project"}};const me=Object(S.a)((e,{widgetId:t})=>{const a=re.c.selectWidget(e,t),s=re.c.selectWidgetQueries(e,t);return Object.assign({},a,{currentQuery:s.current,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:le.c.selectReport(e,a.reportType,s.current),currentReportFetchStatus:le.c.selectReportFetchStatus(e,a.reportType,s.current),previousReport:le.c.selectReport(e,a.reportType,s.previous),tabsReport:le.c.selectReport(e,a.reportType,s.tabs),tabsReportFetchStatus:le.c.selectReportFetchStatus(e,a.reportType,s.tabs)})}),de={fetchReports:re.a.fetchWidgetReports,updateTab:re.a.changeWidgetTab},pe=Object(_.d)()(Object(y.connect)(me,de)(class extends f.a.Component{constructor(){super(...arguments),this.state={activeTabKey:0},this.buildDetailsLink=(e=>{const t=ue(e);return`/ocp-cloud?${Object(ne.a)({group_by:{[t]:"*"},order_by:{cost:"desc"}})}`}),this.getChart=((e,t,a=!1)=>{const{currentReport:s,details:r,previousReport:n,reportType:o,t:l,trend:i}=this.props,c="cost"===o||"database"===o||"network"===o?"cost":"usage",u=Object(k.i)(s,i.type,"date",c),m=Object(k.i)(n,i.type,"date",c),d="cost"!==o?Object(k.i)(s,i.type,"date","request"):void 0,p="cost"!==o?Object(k.i)(n,i.type,"date","request"):void 0,b=this.getUnits();return f.a.createElement(f.a.Fragment,null,Boolean("cost"===o||"database"===o||"instance_type"===o||"network"===o||"storage"===o)?f.a.createElement(oe.f,{adjustContainerHeight:a,containerHeight:e,currentData:u,formatDatumValue:K.b,formatDatumOptions:i.formatOptions,height:t,previousData:m,showUsageLegendLabel:r.showUsageLegendLabel,title:l(i.titleKey,{units:l(`units.${b}`)})}):f.a.createElement(oe.g,{containerHeight:ie.containerUsageHeight,currentRequestData:d,currentUsageData:u,formatDatumValue:K.b,formatDatumOptions:i.formatOptions,height:t,previousRequestData:p,previousUsageData:m,title:l(i.titleKey,{units:l(`units.${b}`)})}))}),this.getDetails=(()=>{const{currentReport:e,details:t,isUsageFirst:a,reportType:s}=this.props,r=this.getUnits();return f.a.createElement(oe.c,{costLabel:this.getDetailsLabel(t.costKey,r),formatOptions:t.formatOptions,formatValue:K.b,report:e,reportType:s,requestFormatOptions:t.requestFormatOptions,requestLabel:this.getDetailsLabel(t.requestKey,r),showUnits:t.showUnits,showUsageFirst:a,usageFormatOptions:t.usageFormatOptions,usageLabel:this.getDetailsLabel(t.usageKey,r)})}),this.getDetailsLabel=((e,t)=>{const{t:a}=this.props;return e?a(e,{units:a(`units.${t}`)}):void 0}),this.getDetailsLink=(()=>{const{currentTab:e,isDetailsLink:t}=this.props;return t&&f.a.createElement(L.a,{to:this.buildDetailsLink(e),onClick:this.handleInsightsNavClick},this.getDetailsLinkTitle(e))}),this.getDetailsLinkTitle=(e=>{const{t:t}=this.props;return t("group_by.all",{groupBy:ue(e)||""})}),this.getHorizontalLayout=(()=>{const{currentReportFetchStatus:e}=this.props;return f.a.createElement(oe.b,{detailsLink:this.getDetailsLink(),status:e,subTitle:this.getSubTitle(),tabs:this.getTabs(),title:this.getTitle()},this.getDetails(),this.getChart(ie.containerAltHeight,ie.chartAltHeight,!0))}),this.getSubTitle=(()=>{const{t:e}=this.props,t=new Date,a=z()(t),s=T()(t,"D"),r=T()(R()(t),"D");return e("ocp_cloud_dashboard.widget_subtitle",{count:w()(t),endDate:s,month:a,startDate:r})}),this.getTab=((e,t)=>{const{tabsReport:a,tabsReportFetchStatus:s}=this.props,r=ue(e);return f.a.createElement(l.a,{eventKey:t,key:`${ue(e)}-tab`,title:this.getTabTitle(e)},f.a.createElement("div",{className:Object(u.b)(ce.tabItems)},f.a.createElement(oe.e,{idKey:r,key:`${r}-items`,report:a,status:s},({items:t})=>t.map(t=>this.getTabItem(e,t)))))}),this.getTabItem=((e,t)=>{const{availableTabs:a,reportType:s,tabsReport:r,topItems:n}=this.props,{activeTabKey:o}=this.state,l=ue(e),i=ue(a[o]),c="cost"===s||"database"===s||"network"===s;return i===l?f.a.createElement(oe.d,{key:`${t.id}-item`,formatOptions:n.formatOptions,formatValue:K.b,label:t.label?t.label.toString():"",totalValue:c?r.meta.total.cost.value:r.meta.total.usage.value,units:t.units,value:c?t.cost:t.usage}):null}),this.getTabs=(()=>{const{availableTabs:e}=this.props;return e?f.a.createElement(o.a,{isFilled:!0,activeKey:this.state.activeTabKey,onSelect:this.handleTabClick},e.map((e,t)=>this.getTab(e,t))):null}),this.getTabTitle=(e=>{const{t:t}=this.props;return t("group_by.top",{groupBy:ue(e)||""})}),this.getTitle=(()=>{const{t:e,titleKey:t}=this.props,a=new Date,s=z()(a);return e(t,{endDate:T()(a,"Do"),month:s,startDate:T()(R()(a),"Do")})}),this.getUnits=(()=>{const{currentReport:e,reportType:t}=this.props;let a="";return e&&e.meta&&e.meta.total&&(a="cost"===t||"database"===t||"network"===t?e.meta.total.cost?Object(K.c)(e.meta.total.cost.units):"":e.meta.total.usage?Object(K.c)(e.meta.total.usage.units):""),a}),this.getVerticalLayout=(()=>{const{availableTabs:e,currentReportFetchStatus:t}=this.props;return f.a.createElement(oe.a,{detailsLink:this.getDetailsLink(),status:t,subTitle:this.getSubTitle(),title:this.getTitle()},this.getDetails(),this.getChart(ie.containerTrendHeight,ie.chartHeight),Boolean(e)&&f.a.createElement("div",{className:Object(u.b)(ce.tabs)},this.getTabs()))}),this.handleInsightsNavClick=(()=>{insights.chrome.appNavClick({id:"ocp-cloud",secondaryNav:!0})}),this.handleTabClick=((e,t)=>{const{availableTabs:a,id:s,updateTab:r}=this.props;r(s,a[t]),this.setState({activeTabKey:t})})}componentDidMount(){const{availableTabs:e,fetchReports:t,id:a,updateTab:s,widgetId:r}=this.props;e&&s(a,e[0]),t(r)}render(){const{isHorizontal:e=!1}=this.props;return Boolean(e)?this.getHorizontalLayout():this.getVerticalLayout()}})),be=Object(S.a)(e=>({selectWidgets:re.c.selectWidgets(e),widgets:re.c.selectCurrentWidgets(e)}));var ge=Object(_.d)()(Object(y.connect)(be,{})(({selectWidgets:e,t:t,widgets:a})=>f.a.createElement("div",null,f.a.createElement(h.a,{gutter:"md"},a.map(t=>{const a=e[t];return Boolean(a.isHorizontal)?f.a.createElement(g.a,{sm:12,key:t},f.a.createElement(pe,{widgetId:t})):f.a.createElement(g.a,{lg:12,xl:6,xl2:4,key:t},f.a.createElement(pe,{widgetId:t}))}))))),he=a(200),ve=a(192),fe=a(614),_e=a(63);const ye={chartAltHeight:180,chartHeight:80,containerAltHeight:275,containerTrendHeight:150,containerUsageHeight:180},Ee=u.a.create({tabs:{marginTop:I.global_spacer_2xl.value},tabItems:{marginTop:I.global_spacer_xl.value}}),Se=e=>{switch(e){case"clusters":return"cluster";case"nodes":return"node";case"projects":return"project"}};const Oe=Object(S.a)((e,{widgetId:t})=>{const a=he.c.selectWidget(e,t),s=he.c.selectWidgetQueries(e,t);return Object.assign({},a,{currentQuery:s.current,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:_e.c.selectReport(e,a.reportType,s.current),currentReportFetchStatus:_e.c.selectReportFetchStatus(e,a.reportType,s.current),previousReport:_e.c.selectReport(e,a.reportType,s.previous),tabsReport:_e.c.selectReport(e,a.reportType,s.tabs),tabsReportFetchStatus:_e.c.selectReportFetchStatus(e,a.reportType,s.tabs)})}),ke={fetchReports:he.a.fetchWidgetReports,updateTab:he.a.changeWidgetTab},je=Object(_.d)()(Object(y.connect)(Oe,ke)(class extends f.a.Component{constructor(){super(...arguments),this.state={activeTabKey:0},this.buildDetailsLink=(e=>{const t=Se(e);return`/ocp?${Object(ve.a)({group_by:{[t]:"*"},order_by:{cost:"desc"}})}`}),this.getChart=((e,t,a=!1)=>{const{currentReport:s,previousReport:r,reportType:n,t:o,trend:l}=this.props,i="cost"===n?"cost":"usage",c=Object(k.j)(s,l.type,"date",i),u=Object(k.j)(r,l.type,"date",i),m="cost"!==n?Object(k.j)(s,l.type,"date","request"):void 0,d="cost"!==n?Object(k.j)(r,l.type,"date","request"):void 0,p="cost"===n?Object(k.j)(s,l.type,"date","infrastructureCost"):void 0,b="cost"===n?Object(k.j)(r,l.type,"date","infrastructureCost"):void 0,g=this.getUnits(),h=o(l.titleKey,{units:o(`units.${g}`)});return f.a.createElement(f.a.Fragment,null,Boolean("cost"===n)?f.a.createElement(fe.f,{adjustContainerHeight:a,containerHeight:e,currentCostData:c,currentInfrastructureCostData:p,formatDatumValue:K.b,formatDatumOptions:l.formatOptions,height:t,previousCostData:u,previousInfrastructureCostData:b,title:h}):f.a.createElement(fe.g,{containerHeight:ye.containerUsageHeight,currentRequestData:m,currentUsageData:c,formatDatumValue:K.b,formatDatumOptions:l.formatOptions,height:t,previousRequestData:d,previousUsageData:u,title:h}))}),this.getDetails=(()=>{const{currentReport:e,details:t,isUsageFirst:a,reportType:s}=this.props,r=this.getUnits();return f.a.createElement(fe.c,{costLabel:this.getDetailsLabel(t.costKey,r),formatOptions:t.formatOptions,formatValue:K.b,report:e,reportType:s,requestFormatOptions:t.requestFormatOptions,requestLabel:this.getDetailsLabel(t.requestKey,r),showUnits:t.showUnits,showUsageFirst:a,usageFormatOptions:t.usageFormatOptions,usageLabel:this.getDetailsLabel(t.usageKey,r)})}),this.getDetailsLabel=((e,t)=>{const{t:a}=this.props;return e?a(e,{units:a(`units.${t}`)}):void 0}),this.getDetailsLink=(()=>{const{currentTab:e,isDetailsLink:t}=this.props;return t&&f.a.createElement(L.a,{to:this.buildDetailsLink(e),onClick:this.handleInsightsNavClick},this.getDetailsLinkTitle(e))}),this.getDetailsLinkTitle=(e=>{const{t:t}=this.props;return t("group_by.all",{groupBy:Se(e)||""})}),this.getHorizontalLayout=(()=>{const{currentReportFetchStatus:e}=this.props;return f.a.createElement(fe.b,{detailsLink:this.getDetailsLink(),status:e,subTitle:this.getSubTitle(),tabs:this.getTabs(),title:this.getTitle()},this.getDetails(),this.getChart(ye.containerAltHeight,ye.chartAltHeight,!0))}),this.getSubTitle=(()=>{const{t:e}=this.props,t=new Date,a=z()(t),s=T()(t,"D"),r=T()(R()(t),"D");return e("ocp_dashboard.widget_subtitle",{count:w()(t),endDate:s,month:a,startDate:r})}),this.getTab=((e,t)=>{const{tabsReport:a,tabsReportFetchStatus:s}=this.props,r=Se(e);return f.a.createElement(l.a,{eventKey:t,key:`${Se(e)}-tab`,title:this.getTabTitle(e)},f.a.createElement("div",{className:Object(u.b)(Ee.tabItems)},f.a.createElement(fe.e,{idKey:r,key:`${r}-items`,report:a,status:s},({items:t})=>t.map(t=>this.getTabItem(e,t)))))}),this.getTabItem=((e,t)=>{const{availableTabs:a,reportType:s,tabsReport:r,topItems:n}=this.props,{activeTabKey:o}=this.state,l=Se(e);return Se(a[o])===l?f.a.createElement(fe.d,{key:`${t.id}-item`,formatOptions:n.formatOptions,formatValue:K.b,label:t.label?t.label.toString():"",totalValue:"cost"===s?r.meta.total.cost.value:r.meta.total.usage.value,units:t.units,value:"cost"===s?t.cost:t.usage}):null}),this.getTabs=(()=>{const{availableTabs:e}=this.props;return f.a.createElement(o.a,{isFilled:!0,activeKey:this.state.activeTabKey,onSelect:this.handleTabClick},e.map((e,t)=>this.getTab(e,t)))}),this.getTabTitle=(e=>{const{t:t}=this.props;return t("group_by.top",{groupBy:Se(e)||""})}),this.getTitle=(()=>{const{t:e,titleKey:t}=this.props,a=new Date,s=z()(a);return e(t,{endDate:T()(a,"Do"),month:s,startDate:T()(R()(a),"Do")})}),this.getUnits=(()=>{const{currentReport:e,reportType:t}=this.props;let a="";return e&&e.meta&&e.meta.total&&(a="cost"===t?e.meta.total.cost?Object(K.c)(e.meta.total.cost.units):"":e.meta.total.usage?Object(K.c)(e.meta.total.usage.units):""),a}),this.getVerticalLayout=(()=>{const{availableTabs:e,currentReportFetchStatus:t}=this.props;return f.a.createElement(fe.a,{detailsLink:this.getDetailsLink(),status:t,subTitle:this.getSubTitle(),title:this.getTitle()},this.getDetails(),this.getChart(ye.containerTrendHeight,ye.chartHeight),Boolean(e)&&f.a.createElement("div",{className:Object(u.b)(Ee.tabs)},this.getTabs()))}),this.handleInsightsNavClick=(()=>{insights.chrome.appNavClick({id:"ocp",secondaryNav:!0})}),this.handleTabClick=((e,t)=>{const{availableTabs:a,id:s}=this.props,r=a[t];this.props.updateTab(s,r),this.setState({activeTabKey:t})})}componentDidMount(){const{availableTabs:e,fetchReports:t,id:a,widgetId:s}=this.props;this.props.updateTab(a,e[0]),t(s)}render(){const{isHorizontal:e=!1}=this.props;return Boolean(e)?this.getHorizontalLayout():this.getVerticalLayout()}})),De=Object(S.a)(e=>({selectWidgets:he.c.selectWidgets(e),widgets:he.c.selectCurrentWidgets(e)}));var Te=Object(_.d)()(Object(y.connect)(De,{})(({selectWidgets:e,t:t,widgets:a})=>f.a.createElement("div",null,f.a.createElement(h.a,{gutter:"md"},a.map(t=>{const a=e[t];return Boolean(a.isHorizontal)?f.a.createElement(g.a,{sm:12,key:t},f.a.createElement(je,{widgetId:t})):f.a.createElement(g.a,{lg:12,xl:6,xl2:4,key:t},f.a.createElement(je,{widgetId:t}))}))))),Ce=a(196),we=a(36),xe=a(559);const ze=u.a.create({info:{marginLeft:I.global_spacer_sm.value,verticalAlign:"middle"},infoIcon:{fontSize:I.global_FontSize_md.value},infoTitle:{fontWeight:"bold"},tabs:{marginTop:I.global_spacer_lg.value}}),Ne=xe["a"]`
  &.pf-c-page__main-section {
    --pf-c-page__main-section--PaddingBottom: 0;
  }
`,Re=e=>{switch(e){case"aws":return"aws";case"azure":return"azure";case"ocp":return"ocp";case"ocpCloud":return"ocpCloud"}};const Le=Object(S.a)(e=>{const t=Object(m.a)(we.a),a=we.f.selectProviders(e,"aws",t),s=we.f.selectProvidersError(e,"aws",t),r=we.f.selectProvidersFetchStatus(e,"aws",t),n=Object(m.a)(we.b),o=we.f.selectProviders(e,"azure",n),l=we.f.selectProvidersError(e,"azure",n),i=we.f.selectProvidersFetchStatus(e,"azure",n),c=Object(m.a)(we.c);return{awsProviders:a,awsProvidersError:s,awsProvidersFetchStatus:r,awsProvidersQueryString:t,azureProviders:o,azureProvidersError:l,azureProvidersFetchStatus:i,azureProvidersQueryString:n,ocpProviders:we.f.selectProviders(e,"ocp",c),ocpProvidersError:we.f.selectProvidersError(e,"ocp",c),ocpProvidersFetchStatus:we.f.selectProvidersFetchStatus(e,"ocp",c),ocpProvidersQueryString:c}});var Fe=Object(_.d)()(Object(y.connect)(Le,{openProvidersModal:Ce.a.openModal})(class extends f.a.Component{constructor(){super(...arguments),this.state={activeTabKey:0,showPopover:!1},this.getAvailableTabs=(()=>{const{awsProviders:e,azureProviders:t,ocpProviders:a}=this.props,s=[];return e&&e.meta&&e.meta.count&&a&&a.meta&&a.meta.count&&s.push({contentRef:f.a.createRef(),tab:"ocpCloud"}),a&&a.meta&&a.meta.count&&s.push({contentRef:f.a.createRef(),tab:"ocp"}),e&&e.meta&&e.meta.count&&s.push({contentRef:f.a.createRef(),tab:"aws"}),t&&t.meta&&t.meta.count&&s.push({contentRef:f.a.createRef(),tab:"azure"}),s}),this.getTab=((e,t,a)=>f.a.createElement(l.a,{eventKey:a,key:`${Re(e)}-tab`,tabContentId:`tab-${a}`,tabContentRef:t,title:this.getTabTitle(e)})),this.getTabContent=(e=>e.map((e,t)=>f.a.createElement(i.a,{eventKey:t,key:`${Re(e.tab)}-tabContent`,id:`tab-${t}`,ref:e.contentRef},this.getTabItem(e.tab,t)))),this.getTabItem=((e,t)=>{const{activeTabKey:a}=this.state,s=Re(e);return"ocpCloud"===s?a===t?f.a.createElement(ge,null):null:"ocp"===s?a===t?f.a.createElement(Te,null):null:"aws"===s?a===t?f.a.createElement(W,null):null:"azure"===s&&a===t?f.a.createElement(se,null):null}),this.getTabs=(e=>{const{activeTabKey:t}=this.state;return f.a.createElement(o.a,{activeKey:t,onSelect:this.handleTabClick},e.map((e,t)=>this.getTab(e.tab,e.contentRef,t)))}),this.getTabTitle=(e=>{const{t:t}=this.props;return"aws"===e?t("overview.aws"):"azure"===e?t("overview.azure"):"ocp"===e?t("overview.ocp"):"ocpCloud"===e?t("overview.ocp_cloud"):void 0}),this.handlePopoverClick=(()=>{this.setState({show:!this.state.showPopover})}),this.handleTabClick=((e,t)=>{this.setState({activeTabKey:t})})}render(){const{awsProviders:e,awsProvidersError:t,awsProvidersFetchStatus:a,azureProviders:o,azureProvidersError:l,azureProvidersFetchStatus:i,ocpProviders:m,ocpProvidersError:g,ocpProvidersFetchStatus:h,t:v}=this.props,_=this.getAvailableTabs(),y=t||l||g,E=1===a||1===i||1===h,S=void 0!==e&&void 0!==e.meta&&0===e.meta.count&&2===a,O=void 0!==o&&void 0!==o.meta&&0===o.meta.count&&2===i,k=void 0!==m&&void 0!==m.meta&&0===m.meta.count&&2===h,j=S&&O&&k,D=!(y||j||E);return f.a.createElement(f.a.Fragment,null,f.a.createElement("section",{className:`pf-l-page-header pf-c-page-header pf-l-page__main-section pf-c-page__main-section pf-m-light ${D?Ne:""}`},f.a.createElement("header",{className:"pf-u-display-flex pf-u-justify-content-space-between pf-u-align-items-center"},f.a.createElement(n.a,{size:r.a["2xl"]},v("overview.title"),Boolean(D)&&f.a.createElement("span",{className:Object(u.b)(ze.infoIcon)},f.a.createElement(s.a,{"aria-label":"t('ocp_details.derived_aria_label')",enableFlip:!0,bodyContent:f.a.createElement(f.a.Fragment,null,f.a.createElement("p",{className:Object(u.b)(ze.infoTitle)},v("overview.ocp_cloud")),f.a.createElement("p",null,v("overview.ocp_cloud_desc")),f.a.createElement("br",null),f.a.createElement("p",{className:Object(u.b)(ze.infoTitle)},v("overview.ocp")),f.a.createElement("p",null,v("overview.ocp_desc")),f.a.createElement("br",null),f.a.createElement("p",{className:Object(u.b)(ze.infoTitle)},v("overview.aws")),f.a.createElement("p",null,v("overview.aws_desc")),f.a.createElement("br",null),f.a.createElement("p",{className:Object(u.b)(ze.infoTitle)},v("overview.azure")),f.a.createElement("p",null,v("overview.azure_desc")))},f.a.createElement(c.b,{className:Object(u.b)(ze.info),onClick:this.handlePopoverClick}))))),Boolean(D)&&f.a.createElement("div",{className:Object(u.b)(ze.tabs)},this.getTabs(_))),f.a.createElement("section",{className:"pf-l-page__main-section pf-c-page__main-section","page-type":"cost-management-overview"},Boolean(y)?f.a.createElement(d.a,{error:y}):Boolean(j)?f.a.createElement(b.a,null):Boolean(E)?f.a.createElement(p.a,null):this.getTabContent(_)))}}));t.default=Fe}}]);
//# sourceMappingURL=ef3ac8ab0e87e28e68d8.bundle.js.map
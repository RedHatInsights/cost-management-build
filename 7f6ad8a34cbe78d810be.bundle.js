(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{2460:function(e,t,a){"use strict";a.d(t,"f",(function(){return y})),a.d(t,"b",(function(){return f})),a.d(t,"c",(function(){return v})),a.d(t,"d",(function(){return O})),a.d(t,"a",(function(){return S})),a.d(t,"e",(function(){return E}));var r=a(2636),s=a.n(r),n=a(2470),i=a.n(n),o=a(2463),l=a.n(o),c=a(2637),u=a.n(c),p=a(2499),h=a.n(p),d=a(107),g=a(2467),m=a(2459);function y(e,t=1,a="date",r="cost",n="total"){if(!e)return[];const o={idKey:a,report:e,reportItemValue:n,sortKey:"id",sortDirection:1},l=Object(g.a)(o);let c;return c=1===t||2===t?l.map(e=>b(e[r],e,a,r)):l.reduce((e,t)=>{const s=e.length?e[e.length-1].y:0;return[...e,b(s+t[r],t,a,r)]},[]),"date"===a?function(e){const t=[];if(!e||0===e.length)return t;const a=new Date(e[0].key+"T00:00:00"),r=new Date(e[e.length-1].key+"T00:00:00");let n=h()(a);for(let e=n.getDate();e<a.getDate();e++){n.setDate(e);const a=i()(n,"YYYY-MM-DD");t.push(b(null,{id:a},"date",null))}t.push(...e),n=new Date(r);for(let e=n.getDate()+1;e<=s()(r).getDate();e++){n.setDate(e);const a=i()(n,"YYYY-MM-DD");t.push(b(null,{id:a},"date",null))}return t}(c):c}function b(e,t,a="date",r="cost"){const s="date"===a?l()(t.id):t.label,n=(i=e,Number(i)===i&&i%1!=0?parseFloat(e.toFixed(2)):function(e){return Number(e)===e&&e%1==0}(e)?e:0);var i;return{x:s,y:null===e?null:n,key:t.id,name:t.id,units:t.units?t.units[r]:void 0}}function f(e,t=!0,a=!1,r=0){const[n,i]=function(e,t=0){if(!e||!e.length){const e=new Date;t&&e.setMonth(e.getMonth()-t);return[h()(e),e]}return[new Date(e[0].key+"T00:00:00"),new Date(e[e.length-1].key+"T00:00:00")]}(e,r);if(t&&n.setDate&&n.setDate(1),a&&n.setDate){const e=s()(n).getDate();i.setDate(e)}return[n,i]}function v(e){let t=0;return e&&e.length&&e.forEach(e=>{e.y>t&&(t=e.y)}),t}function O(e){return function(t,a=null,r={}){const s=Object(m.c)(a);switch(s){case"core-hours":case"hrs":case"gb":case"gb-hours":case"gb-mo":case"vm-hours":return d.a.t("unit_tooltips."+s,{value:""+e(t,a,r)});default:return""+e(t,a,r)}}}function S(e,t="chart.cost_legend_label",a=!1,r=!1,s=0){const[n,o]=f(e,a,r,s);return d.a.t(t,{count:l()(o),endDate:i()(o,"D"),month:Number(i()(n,"M"))-1,startDate:i()(n,"D"),year:u()(o)})}function E(e,t="chart.usage_legend_label",a=!1,r=!1,s=0){return S(e,t,a,r,s)}},2465:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var r=a(2379),s=a(2380),n=a(2381),i=a(2382),o=a(2383),l=a(2384),c=a(2464);r.a.value,s.a.value,n.a.value,i.a.value,o.a.value,l.a.value;const u=c.a`
  :not(foo) svg {
    overflow: visible;
  }
`},2466:function(e,t,a){"use strict";var r=a(131),s=a(10);const n={padding:8};var i={area:Object.assign({},n),axis:Object.assign({},n),bar:Object.assign({},n),boxplot:Object.assign({},n),candlestick:Object.assign({},n),chart:Object.assign({},n),errorbar:Object.assign({},n),group:Object.assign({},n),legend:{},line:Object.assign({},n),pie:Object.assign({},n),scatter:Object.assign({},n),stack:Object.assign({},n),tooltip:{},voronoi:Object.assign({},n)};const o=(()=>Object(r.k)(s.q.default,s.r.default,i))();t.a=o},2467:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var r=a(2481),s=a(21);function n({idKey:e,labelKey:t=e,report:a,reportItemValue:s="total",sortDirection:n=0,sortKey:o="cost"}){return Object(r.a)(i({idKey:e,labelKey:t,report:a,reportItemValue:s,sortDirection:n,sortKey:o}),{key:o,direction:n})}function i({report:e,idKey:t,labelKey:a=t,reportItemValue:r="total"}){if(!e)return[];const n=new Map,i=o=>{if(o&&o.values){const i=o.type;o.values.forEach(o=>{const l="date"!==t&&"cluster"!==t&&o.cluster?"-"+o.cluster:"",c="org_entities"===t?o.id||o.org_unit_id:o[t],u=`${c}${l}`,p=o.clusters&&o.clusters.length>0?o.clusters[0]:void 0,h=p||o.cluster,d=o.clusters?o.clusters:[],g=o.capacity?o.capacity.value:0,m=o.cost&&o.cost.total?o.cost.total.value:0,y=o.delta_percent?o.delta_percent:0,b=o.delta_value?o.delta_value:0,f=o.source_uuid?o.source_uuid:[],v=o.supplementary&&o.supplementary.total?o.supplementary.total.value:0,O=o.infrastructure&&o.infrastructure[r]?o.infrastructure[r].value:0;let S;const E=function({report:e,labelKey:t,value:a}){let r=String(t);if(e.meta&&e.meta.group_by){const n=e.meta.group_by;for(const e of Object.keys(n))if(e.indexOf(s.i)){const e=s.i+t;a.hasOwnProperty(e)&&(r=e)}}return r}({report:e,labelKey:a,value:o});S="org_entities"===E&&o.alias?o.alias:"account"===E&&o.account_alias?o.account_alias:"cluster"===E&&p?p:o[E]instanceof Object?o[E].value:o[E];const C=o.limit?o.limit.value:0,_=o.request?o.request.value:0,D=o.usage?o.usage.value:0,k=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o.capacity&&{capacity:o.capacity.units}),{cost:o.cost&&o.cost.total?o.cost.total.units:"USD"}),o.limit&&{limit:o.limit.units}),o.infrastructure&&o.infrastructure.total&&{infrastructure:o.infrastructure.total.units}),o.request&&{request:o.request.units}),o.supplementary&&o.supplementary.total&&{supplementary:o.supplementary.total.units}),o.usage&&{usage:o.usage.units}),j=n.get(u);j?n.set(u,Object.assign(Object.assign({},j),{capacity:j.capacity+g,cost:j.cost+m,supplementary:j.supplementary+v,infrastructure:j.infrastructure+O,limit:j.limit+C,request:j.request+_,usage:j.usage+D})):n.set(u,{capacity:g,cluster:h,clusters:d,cost:m,deltaPercent:y,deltaValue:b,source_uuid:f,supplementary:v,id:c,infrastructure:O,label:S,limit:C,request:_,type:i,units:k,usage:D})})}for(const e in o)if(o[e]instanceof Array)return o[e].forEach(i)};return e&&e.data&&e.data.forEach(i),Array.from(n.values())}},2468:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s}));const r=e=>({"data-testid":e}),s={details:{cluster_lnk:"cluster-lnk",historical_data_btn:"historical-data-btn",show_more_btn:"show-more-btn",tag_lnk:"tag-lnk",view_all_btn:"view-all-btn"},export:{cancel_btn:"cancel-btn",submit_btn:"submit-btn"},login:{alert:"alert",form:"login-form",username_input:"username-input",password_input:"password-input",submit:"submit"},masthead:{masthead:"masthead",username:"username",sidebarToggle:"sidebar-toggle",logout:"logout"},onboarding:{btn_cancel:"btn-cancel",btn_back:"btn-back",btn_continue:"btn-continue",btn_close:"btn-close",type_selector:"type-selector",type_opt_aws:"type-option-aws",type_opt_ocp:"type-option-ocp",type_opt_non:"type-option-non",name_input:"name-input",check_box_1:"check-box-1",check_box_2:"check-box-2",s3_input:"s3-input",clusterid_input:"clusterid-input",arn_input:"arn-input"},providers:{add_btn:"add-btn",bucket_input:"bucket-input",cancel_btn:"cancel-btn",empty_state_add_btn:"empty_state_add-btn",name_input:"provider-name-input",resource_name_input:"provider-resource-name-input",cluster_id_input:"provider-cluster-id-input",submit_btn:"submit-btn",type_input:"provider-type-input",view_all_link:"view-all-lnk"},sidebar:{nav:"vertical-nav",link:"vertical-nav-link",backdrop:"sidebar-backdrop"}}},2476:function(e,t,a){"use strict";a.d(t,"b",(function(){return h})),a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return g}));var r=a(2470),s=a.n(r),n=a(2463),i=a.n(n),o=a(2600),l=a.n(o),c=a(2499),u=a.n(c),p=a(107);function h(e="no_data_for_date",t=1){const a=new Date;t&&a.setMonth(a.getMonth()-t);const r=l()(a),n=s()(a,"D"),o=s()(u()(a),"D");return p.a.t(e,{count:i()(a),endDate:n,month:r,startDate:o})}function d(e,t="for_date",a=1){const r=new Date;a&&r.setMonth(r.getMonth()-a);const n=l()(r),o=s()(r,"D"),c=s()(u()(r),"D");return p.a.t(t,{count:i()(r),endDate:o,month:n,startDate:c,value:e})}function g(e="since_date"){const t=new Date,a=l()(t),r=s()(t,"D"),n=s()(u()(t),"D");return p.a.t(e,{count:i()(t),endDate:r,month:a,startDate:n})}},2480:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(485),s=a(1),n=a.n(s);const i={container:{fontSize:a(2359).a.value}},o=()=>n.a.createElement("span",{style:i.container},n.a.createElement(r.MinusIcon,null))},2481:function(e,t,a){"use strict";function r(e,t){if("string"==typeof e)return e;return e[t.key]}function s(e,t){const{direction:a=0}=t||{};return[...e].sort((e,s)=>{const n=r(0===a?e:s,t),i=r(0===a?s:e,t);return n>i?-1:n<i?1:0})}a.d(t,"a",(function(){return s}))},2486:function(e,t,a){"use strict";a.d(t,"a",(function(){return y})),a.d(t,"b",(function(){return S})),a.d(t,"d",(function(){return w})),a.d(t,"e",(function(){return z})),a.d(t,"f",(function(){return N})),a.d(t,"c",(function(){return le})),a.d(t,"g",(function(){return pe})),a.d(t,"h",(function(){return ge}));var r=a(2370),s=a(2371),n=a(2345),i=a(2372),o=a(2373),l=a(2461),c=a(1),u=a.n(c),p=a(123),h=a(2364),d=a(2363),g=a(2360);const m={chartSkeleton:{height:"125px",marginBottom:h.a.value,marginTop:h.a.value},legendSkeleton:{marginTop:h.a.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:d.a.value,color:g.a.var,marginBottom:"0"}},y=Object(p.e)()(({children:e,detailsLink:t,title:a,subTitle:c,status:p,t:h})=>u.a.createElement(r.a,{style:m.reportSummary},u.a.createElement(s.a,null,u.a.createElement(n.a,{headingLevel:"h2",size:"lg"},a),Boolean(c)&&u.a.createElement("p",{style:m.subtitle},c)),u.a.createElement(i.a,null,1===p?u.a.createElement(u.a.Fragment,null,u.a.createElement(l.Skeleton,{size:l.SkeletonSize.xs}),u.a.createElement(l.Skeleton,{style:m.chartSkeleton,size:l.SkeletonSize.md}),u.a.createElement(l.Skeleton,{size:l.SkeletonSize.sm}),u.a.createElement(l.Skeleton,{style:m.legendSkeleton,size:l.SkeletonSize.xs})):e),Boolean(t)&&u.a.createElement(o.a,null,t)));var b=a(2374),f=a(2375),v=a(2347);const O={chartSkeleton:{height:"175px",marginBottom:h.a.value,marginTop:h.a.value},container:{display:"flex"},cost:{flexGrow:1,minHeight:"470px",marginRight:h.a.value},legendSkeleton:{marginTop:h.a.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:d.a.value,color:g.a.var,marginBottom:"0"},tops:{flexGrow:1,marginTop:v.a.value}},S=Object(p.e)()(({children:e,detailsLink:t,status:a,subTitle:c,t:p,tabs:h,title:d})=>u.a.createElement(r.a,{style:O.reportSummary},u.a.createElement(b.a,{hasGutter:!0},u.a.createElement(f.a,{lg:5,xl:6},u.a.createElement("div",{style:O.cost},u.a.createElement(s.a,null,u.a.createElement(n.a,{headingLevel:"h2",size:"lg"},d),Boolean(c)&&u.a.createElement("p",{style:O.subtitle},c)),u.a.createElement(i.a,null,1===a?u.a.createElement(u.a.Fragment,null,u.a.createElement(l.Skeleton,{size:l.SkeletonSize.xs}),u.a.createElement(l.Skeleton,{style:O.chartSkeleton,size:l.SkeletonSize.md}),u.a.createElement(l.Skeleton,{size:l.SkeletonSize.sm}),u.a.createElement(l.Skeleton,{style:O.legendSkeleton,size:l.SkeletonSize.xs})):e))),u.a.createElement(f.a,{lg:7,xl:6},u.a.createElement("div",{style:O.container},u.a.createElement("div",{style:O.tops},1!==a&&u.a.createElement(u.a.Fragment,null,Boolean(h)&&u.a.createElement(i.a,null,h),Boolean(t)&&u.a.createElement(o.a,null,t))))))));var E=a(481),C=a(2480),_=a(2459),D=a(2349),k=a(2376),j=a(2358),x=a(2377),T=a(2378);const R={reportSummaryDetails:{marginBottom:h.a.value,display:"flex",alignItems:"flex-end"},text:{paddingBottom:D.a.value,lineHeight:k.a.value,fontSize:d.a.value},units:{paddingLeft:j.a.value,paddingBottom:D.a.value,lineHeight:k.a.value,fontSize:d.a.value,whiteSpace:"nowrap"},value:{color:x.a.var,marginRight:D.a.value,fontSize:T.a.value},valueContainer:{display:"inline-block",marginBottom:h.a.value,width:"50%",wordWrap:"break-word"}},w=Object(p.e)()(({chartType:e,computedReportItem:t="cost",computedReportItemValue:a="total",costLabel:r,formatValue:s,formatOptions:n,report:i,requestFormatOptions:o,requestLabel:l,showTooltip:c=!1,showUnits:p=!1,showUsageFirst:h=!1,t:d,units:g,usageFormatOptions:m,usageLabel:y})=>{let b=u.a.createElement(C.a,null),f=u.a.createElement(C.a,null),v=u.a.createElement(C.a,null),O=u.a.createElement(C.a,null),S=u.a.createElement(C.a,null);const D=i&&i.meta&&i.meta.total,k=D&&i.meta.total.cost&&i.meta.total.cost.total,j=D&&i.meta.total.count,x=D&&i.meta.total.supplementary&&i.meta.total.supplementary.total&&i.meta.total.supplementary.total.value,T=D&&i.meta.total.infrastructure&&i.meta.total.infrastructure[a]&&i.meta.total.infrastructure[a].value,w=D&&i.meta.total.request,B=D&&i.meta.total.usage;D&&(b=s(k?i.meta.total.cost.total.value:0,k?i.meta.total.cost.total.units:"USD",n),f=s(x?i.meta.total.supplementary.total.value:0,x?i.meta.total.supplementary.total.units:"USD",n),v=s(T?i.meta.total.infrastructure[a].value:0,T?i.meta.total.infrastructure[a].units:"USD",n),O=s(w?i.meta.total.request.value:0,w?i.meta.total.request.units:"",o?m:n),S=B&&i.meta.total.usage.value>=0?s(B?i.meta.total.usage.value:0,B?i.meta.total.usage.units:"",m||n):s(B?i.meta.total.usage:0,j?i.meta.total.count.units:"",m||n));const L=()=>{let e=b;return"infrastructure"===t?e=v:"supplementary"===t&&(e=f),u.a.createElement("div",{style:R.valueContainer},Boolean(c)?u.a.createElement(E.a,{content:d("dashboard.total_cost_tooltip",{infrastructureCost:v,supplementaryCost:f}),enableFlip:!0},u.a.createElement("div",{style:R.value},e)):u.a.createElement("div",{style:R.value},e),u.a.createElement("div",{style:R.text},u.a.createElement("div",null,r)))},I=()=>{if(!y)return null;const e=w?i.meta.total.request.units:"",t=Object(_.c)(e),a=d("units."+t);return u.a.createElement("div",{style:R.valueContainer},u.a.createElement("div",{style:R.value},O,Boolean(p&&(g||w&&i.meta.total.request.value>=0))&&u.a.createElement("span",{style:R.units},a)),u.a.createElement("div",{style:R.text},u.a.createElement("div",null,l)))},z=()=>{if(!y)return null;const e=B?i.meta.total.usage.units:"",t=Object(_.c)(g||e),a=d("units."+t);return u.a.createElement("div",{style:R.valueContainer},u.a.createElement("div",{style:R.value},S,Boolean(p&&(g||B&&i.meta.total.usage.value>=0))&&u.a.createElement("span",{style:R.units},a)),u.a.createElement("div",{style:R.text},u.a.createElement("div",null,y)))};return"cost"===e||"supplementary"===e?u.a.createElement(u.a.Fragment,null,L()):"trend"===e?h?u.a.createElement(u.a.Fragment,null,z(),L()):u.a.createElement(u.a.Fragment,null,L(),z()):"usage"===e?h?u.a.createElement(u.a.Fragment,null,z(),I()):u.a.createElement(u.a.Fragment,null,I(),z()):null});var B=a(2450);const L=a(2464).a`
  :not(:last-child) {
    margin-bottom: ${h.a.value};
  }
`,I=({label:e,formatOptions:t,formatValue:a,t:r,totalValue:s,units:n,value:i})=>{const o=Object(_.c)(n),l="usd"!==o?r("units."+o):void 0,c=Number((s?i/s*100:0).toFixed(2)),p=r("percent_of_total",{percent:c,units:l,value:a(i,n,t)});return u.a.createElement("li",{className:L},u.a.createElement(B.a,{label:p,value:c,title:e,size:B.b.sm}))};I.defaultProps={formatValue:e=>e};const z=Object(p.e)()(I);var q=a(2467);const P={skeleton:{marginTop:h.a.value}};class M extends u.a.Component{shouldComponentUpdate(e){return e.report!==this.props.report}getItems(){const{computedReportItemValue:e="total",idKey:t,labelKey:a,report:r}=this.props,s=Object(q.a)({report:r,idKey:t,labelKey:a,reportItemValue:e}),n=s.findIndex(e=>{const t=e.id;if(t&&null!==t)return t.toString().includes("Other")});return-1!==n?[...s.slice(0,n),...s.slice(n+1),s[n]]:s}render(){const{children:e,status:t}=this.props;if(1===t)return u.a.createElement(u.a.Fragment,null,u.a.createElement(l.Skeleton,{size:l.SkeletonSize.md}),u.a.createElement(l.Skeleton,{size:l.SkeletonSize.md,style:P.skeleton}),u.a.createElement(l.Skeleton,{size:l.SkeletonSize.md,style:P.skeleton}),u.a.createElement(l.Skeleton,{size:l.SkeletonSize.md,style:P.skeleton}));{const t=this.getItems();return u.a.createElement("ul",null,e({items:t}))}}}const N=Object(p.e)()(M);var F=a(2391),G=a(2393),A=a(2448),U=a(220),V=a(2394),K=a(2395),$=a(2396),H=a(2466),W=a(2465),Q=a(2460),J=a(2463),Y=a.n(J),X=a(107),Z=a(2385),ee=a(2386),te=a(2387),ae=a(2388),re=a(2389),se=a(2390);const ne={currentColorScale:[Z.a.value,ee.a.value,te.a.value,ae.a.value,re.a.value],currentCostData:{fill:"none"},currentInfrastructureCostData:{fill:"none",strokeDasharray:"3,3"},itemsPerRow:2,previousCostData:{fill:"none"},previousInfrastructureCostData:{fill:"none",strokeDasharray:"3,3"},previousColorScale:[se.a.value,se.a.value],yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}};class ie extends u.a.Component{constructor(){super(...arguments),this.containerRef=u.a.createRef(),this.state={hiddenSeries:new Set,width:0},this.initDatum=()=>{const{currentInfrastructureCostData:e,currentCostData:t,previousInfrastructureCostData:a,previousCostData:r}=this.props,s="chart.cost_legend_label";this.setState({CursorVoronoiContainer:Object(F.a)("cursor","voronoi"),series:[{childName:"previousCost",data:r,legendItem:{name:Object(Q.a)(r,s,!0,!0,1),symbol:{fill:ne.previousColorScale[0],type:"minus"}},style:{data:Object.assign(Object.assign({},ne.previousCostData),{stroke:ne.previousColorScale[0]})}},{childName:"currentCost",data:t,legendItem:{name:Object(Q.a)(t,s,!0,!1),symbol:{fill:ne.currentColorScale[0],type:"minus"}},style:{data:Object.assign(Object.assign({},ne.currentCostData),{stroke:ne.currentColorScale[0]})}},{childName:"previousInfrastructureCost",data:a,legendItem:{name:Object(Q.a)(a,"chart.cost_infrastructure_legend_label",!0,!0,1),symbol:{fill:ne.previousColorScale[1],type:"dash"}},style:{data:Object.assign(Object.assign({},ne.previousInfrastructureCostData),{stroke:ne.previousColorScale[1]})}},{childName:"currentInfrastructureCost",data:e,legendItem:{name:Object(Q.a)(e,"chart.cost_infrastructure_legend_label",!0,!1),symbol:{fill:ne.currentColorScale[1],type:"dash"}},style:{data:Object.assign(Object.assign({},ne.currentInfrastructureCostData),{stroke:ne.currentColorScale[1]})}}]})},this.handleNavToggle=()=>{setTimeout(this.handleResize,500)},this.handleResize=()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})},this.getChart=(e,t)=>{const{hiddenSeries:a}=this.state;return u.a.createElement(G.a,{data:a.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})},this.getContainer=()=>{const{CursorVoronoiContainer:e}=this.state;if(e)return u.a.createElement(e,{cursorDimension:"x",labels:this.isDataAvailable()?this.getTooltipLabel:void 0,labelComponent:u.a.createElement(A.a,{legendData:this.getLegendData()}),mouseFollowTooltips:!0,voronoiDimension:"x",voronoiPadding:{bottom:75,left:8,right:8,top:8}})},this.getLegend=()=>{const{legendItemsPerRow:e}=this.props,{width:t}=this.state,a=e||(t>400?ne.itemsPerRow:1);return u.a.createElement(U.a,{height:25,gutter:10,itemsPerRow:a,name:"legend",responsive:!1})},this.getTooltipLabel=({datum:e})=>{const{formatDatumValue:t,formatDatumOptions:a}=this.props,r=Object(Q.d)(t);return null!==e.y?r(e.y,e.units,a):X.a.t("chart.no_data")},this.handleLegendClick=e=>{this.state.hiddenSeries.delete(e.index)||this.state.hiddenSeries.add(e.index),this.setState({hiddenSeries:new Set(this.state.hiddenSeries)})},this.isDataAvailable=()=>{const{series:e}=this.state,t=[];return e&&e.forEach((e,a)=>{(this.isSeriesHidden(a)||e.data&&0===e.data.length)&&t.push(a)}),t.length!==(e?e.length:0)},this.isSeriesHidden=e=>{const{hiddenSeries:t}=this.state;return t.has(e)},this.getChartNames=()=>{const{series:e}=this.state,t=[];return e&&e.map((e,a)=>{t.push(e.childName)}),t},this.getEvents=()=>Object(V.a)({chartNames:this.getChartNames(),isHidden:this.isSeriesHidden,legendName:"legend",onLegendClick:this.handleLegendClick}),this.getLegendData=()=>{const{hiddenSeries:e,series:t}=this.state;if(t){return t.map((t,a)=>Object.assign(Object.assign({childName:t.childName},t.legendItem),Object(V.b)(e.has(a))))}}}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize),this.navToggle=insights.chrome.on("NAVIGATION_TOGGLE",this.handleNavToggle)}),this.initDatum()}componentDidUpdate(e){e.currentInfrastructureCostData===this.props.currentInfrastructureCostData&&e.currentCostData===this.props.currentCostData&&e.previousInfrastructureCostData===this.props.previousInfrastructureCostData&&e.previousCostData===this.props.previousCostData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.navToggle&&this.navToggle()}getDomain(){const{currentInfrastructureCostData:e,currentCostData:t,previousInfrastructureCostData:a,previousCostData:r}=this.props,s={x:[1,31]},n=e?Object(Q.c)(e):0,i=t?Object(Q.c)(t):0,o=a?Object(Q.c)(a):0,l=r?Object(Q.c)(r):0,c=Math.max(n,i,o,l),u=c>0?Math.ceil(c+.1*c):0;return u>0&&(s.y=[0,u]),s}getEndDate(){const{currentInfrastructureCostData:e,currentCostData:t,previousInfrastructureCostData:a,previousCostData:r}=this.props,s=e?Y()(Object(Q.b)(e,!0,!0)[1]):0,n=t?Y()(Object(Q.b)(t,!0,!0)[1]):0,i=a?Y()(Object(Q.b)(a,!0,!0)[1]):0,o=r?Y()(Object(Q.b)(r,!0,!0)[1]):0;return s>0||n>0||i>0||o>0?Math.max(s,n,i,o):31}render(){const{adjustContainerHeight:e,height:t,containerHeight:a=t,padding:r={bottom:75,left:8,right:8,top:8},title:s}=this.props,{series:i,width:o}=this.state,l=this.getDomain(),c=this.getEndDate(),p=Math.floor(c/2),h=e?o>400?a:a+75:a;return u.a.createElement(u.a.Fragment,null,u.a.createElement(n.a,{headingLevel:"h3",size:"md"},s),u.a.createElement("div",{className:W.a,ref:this.containerRef,style:{height:h}},u.a.createElement(K.a,{containerComponent:this.getContainer(),domain:l,events:this.getEvents(),height:t,legendComponent:this.getLegend(),legendData:this.getLegendData(),legendPosition:"bottom-left",padding:r,theme:H.a,width:o},i&&i.map((e,t)=>this.getChart(e,t)),u.a.createElement($.a,{style:ne.xAxis,tickValues:[1,p,c]}),u.a.createElement($.a,{dependentAxis:!0,style:ne.yAxis}))))}}const oe={chart:{marginBottom:D.a.value}},le=e=>u.a.createElement("div",{style:oe.chart},u.a.createElement(ie,Object.assign({},e))),ce={currentColorScale:[Z.a.value,ee.a.value,te.a.value,ae.a.value,re.a.value],currentMonthData:{fill:"none"},previousColorScale:[se.a.value,se.a.value],previousMonthData:{fill:"none"},yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}};class ue extends u.a.Component{constructor(){super(...arguments),this.containerRef=u.a.createRef(),this.state={hiddenSeries:new Set,width:0},this.initDatum=()=>{const{currentData:e,previousData:t,showSupplementaryLabel:a=!1,showUsageLegendLabel:r=!1}=this.props,s=r?"chart.usage_legend_label":a?"chart.cost_supplementary_legend_label":"chart.cost_legend_label";this.setState({CursorVoronoiContainer:Object(F.a)("cursor","voronoi"),series:[{childName:"previousCost",data:t,legendItem:{name:Object(Q.a)(t,s,!0,!0,1),symbol:{fill:ce.previousColorScale[0],type:"minus"}},style:{data:Object.assign(Object.assign({},ce.previousMonthData),{stroke:ce.previousColorScale[0]})}},{childName:"currentCost",data:e,legendItem:{name:Object(Q.a)(e,s,!0,!1),symbol:{fill:ce.currentColorScale[0],type:"minus"}},style:{data:Object.assign(Object.assign({},ce.currentMonthData),{stroke:ce.currentColorScale[0]})}}]})},this.handleNavToggle=()=>{setTimeout(this.handleResize,500)},this.handleResize=()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})},this.getChart=(e,t)=>{const{hiddenSeries:a}=this.state;return u.a.createElement(G.a,{data:a.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})},this.getContainer=()=>{const{CursorVoronoiContainer:e}=this.state;if(e)return u.a.createElement(e,{cursorDimension:"x",labels:this.isDataAvailable()?this.getTooltipLabel:void 0,labelComponent:u.a.createElement(A.a,{legendData:this.getLegendData()}),mouseFollowTooltips:!0,voronoiDimension:"x",voronoiPadding:{bottom:50,left:8,right:8,top:8}})},this.getLegend=()=>{const{width:e}=this.state;return u.a.createElement(U.a,{data:this.getLegendData(),gutter:10,height:25,name:"legend",orientation:e>150?"horizontal":"vertical"})},this.getTooltipLabel=({datum:e})=>{const{formatDatumValue:t,formatDatumOptions:a,units:r}=this.props,s=Object(Q.d)(t);return null!==e.y?s(e.y,r||e.units,a):X.a.t("chart.no_data")},this.handleLegendClick=e=>{this.state.hiddenSeries.delete(e.index)||this.state.hiddenSeries.add(e.index),this.setState({hiddenSeries:new Set(this.state.hiddenSeries)})},this.isDataAvailable=()=>{const{series:e}=this.state,t=[];return e&&e.forEach((e,a)=>{(this.isSeriesHidden(a)||e.data&&0===e.data.length)&&t.push(a)}),t.length!==(e?e.length:0)},this.isSeriesHidden=e=>{const{hiddenSeries:t}=this.state;return t.has(e)},this.getChartNames=()=>{const{series:e}=this.state,t=[];return e&&e.map((e,a)=>{t.push(e.childName)}),t},this.getEvents=()=>Object(V.a)({chartNames:this.getChartNames(),isHidden:this.isSeriesHidden,legendName:"legend",onLegendClick:this.handleLegendClick}),this.getLegendData=()=>{const{hiddenSeries:e,series:t}=this.state;if(t){return t.map((t,a)=>Object.assign(Object.assign({childName:t.childName},t.legendItem),Object(V.b)(e.has(a))))}}}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize),this.navToggle=insights.chrome.on("NAVIGATION_TOGGLE",this.handleNavToggle)}),this.initDatum()}componentDidUpdate(e){e.currentData===this.props.currentData&&e.previousData===this.props.previousData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.navToggle&&this.navToggle()}getDomain(){const{currentData:e,previousData:t}=this.props,a={x:[1,31]},r=e?Object(Q.c)(e):0,s=t?Object(Q.c)(t):0,n=Math.max(r,s),i=n>0?Math.ceil(n+.1*n):0;return i>0&&(a.y=[0,i]),a}getEndDate(){const{currentData:e,previousData:t}=this.props,a=t?Y()(Object(Q.b)(t,!0,!0)[1]):0,r=e?Y()(Object(Q.b)(e,!0,!0)[1]):0;return r>0||a>0?Math.max(r,a):31}render(){const{adjustContainerHeight:e,height:t,containerHeight:a=t,padding:r={bottom:50,left:8,right:8,top:8},title:s}=this.props,{series:i,width:o}=this.state,l=this.getDomain(),c=this.getEndDate(),p=Math.floor(c/2),h=e?o>400?a:a+20:a;return u.a.createElement(u.a.Fragment,null,u.a.createElement(n.a,{headingLevel:"h3",size:"md"},s),u.a.createElement("div",{className:W.a,ref:this.containerRef,style:{height:h}},u.a.createElement(K.a,{containerComponent:this.getContainer(),domain:l,events:this.getEvents(),height:t,legendComponent:this.getLegend(),legendData:this.getLegendData(),legendPosition:"bottom-left",padding:r,theme:H.a,width:o},i&&i.map((e,t)=>this.getChart(e,t)),u.a.createElement($.a,{style:ce.xAxis,tickValues:[1,p,c]}),u.a.createElement($.a,{dependentAxis:!0,style:ce.yAxis}))))}}const pe=e=>u.a.createElement("div",{style:oe.chart},u.a.createElement(ue,Object.assign({},e))),he={chartContainer:{marginTop:v.a.value},currentRequestData:{data:{fill:"none",stroke:"#88D080",strokeDasharray:"3,3"}},currentUsageData:{data:{fill:"none",stroke:"#A2DA9C"}},itemsPerRow:2,legendColorScale:[se.a.value,Z.a.value,se.a.value,ee.a.value],previousRequestData:{data:{fill:"none",stroke:se.a.value,strokeDasharray:"3,3"}},previousUsageData:{data:{fill:"none",stroke:se.a.value}},currentColorScale:[Z.a.value,ee.a.value,te.a.value,ae.a.value,re.a.value],previousColorScale:[se.a.value,se.a.value],yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}};class de extends u.a.Component{constructor(){super(...arguments),this.containerRef=u.a.createRef(),this.state={hiddenSeries:new Set,width:0},this.initDatum=()=>{const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:r}=this.props;this.setState({CursorVoronoiContainer:Object(F.a)("cursor","voronoi"),series:[{childName:"previousUsage",data:r,legendItem:{name:Object(Q.e)(r,"chart.usage_legend_label",!0,!0,1),symbol:{fill:he.legendColorScale[0],type:"minus"}},style:he.previousUsageData},{childName:"currentUsage",data:t,legendItem:{name:Object(Q.e)(t,"chart.usage_legend_label",!0,!1),symbol:{fill:he.legendColorScale[1],type:"minus"}},style:he.currentUsageData},{childName:"previousRequest",data:a,legendItem:{name:Object(Q.e)(a,"chart.requests_legend_label",!0,!0,1),symbol:{fill:he.legendColorScale[2],type:"dash"}},style:he.previousRequestData},{childName:"currentRequest",data:e,legendItem:{name:Object(Q.e)(e,"chart.requests_legend_label",!0,!1),symbol:{fill:he.legendColorScale[3],type:"dash"}},style:he.currentRequestData}]})},this.handleNavToggle=()=>{setTimeout(this.handleResize,500)},this.handleResize=()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})},this.getChart=(e,t)=>{const{hiddenSeries:a}=this.state;return u.a.createElement(G.a,{data:a.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})},this.getContainer=()=>{const{CursorVoronoiContainer:e}=this.state;if(e)return u.a.createElement(e,{cursorDimension:"x",labels:this.isDataAvailable()?this.getTooltipLabel:void 0,labelComponent:u.a.createElement(A.a,{legendData:this.getLegendData()}),mouseFollowTooltips:!0,voronoiDimension:"x",voronoiPadding:{bottom:75,left:8,right:8,top:8}})},this.getLegend=()=>{const{legendItemsPerRow:e}=this.props,{width:t}=this.state,a=e||(t>300?he.itemsPerRow:1);return u.a.createElement(U.a,{data:this.getLegendData(),height:25,gutter:10,itemsPerRow:a,name:"legend"})},this.getTooltipLabel=({datum:e})=>{const{formatDatumValue:t,formatDatumOptions:a}=this.props,r=Object(Q.d)(t);return null!==e.y?r(e.y,e.units,a):X.a.t("chart.no_data")},this.handleLegendClick=e=>{this.state.hiddenSeries.delete(e.index)||this.state.hiddenSeries.add(e.index),this.setState({hiddenSeries:new Set(this.state.hiddenSeries)})},this.isDataAvailable=()=>{const{series:e}=this.state,t=[];return e&&e.forEach((e,a)=>{(this.isSeriesHidden(a)||e.data&&0===e.data.length)&&t.push(a)}),t.length!==(e?e.length:0)},this.isSeriesHidden=e=>{const{hiddenSeries:t}=this.state;return t.has(e)},this.getChartNames=()=>{const{series:e}=this.state,t=[];return e&&e.map((e,a)=>{t.push(e.childName)}),t},this.getEvents=()=>Object(V.a)({chartNames:this.getChartNames(),isHidden:this.isSeriesHidden,legendName:"legend",onLegendClick:this.handleLegendClick}),this.getLegendData=()=>{const{hiddenSeries:e,series:t}=this.state;if(t){return t.map((t,a)=>Object.assign(Object.assign({childName:t.childName},t.legendItem),Object(V.b)(e.has(a))))}}}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize),this.navToggle=insights.chrome.on("NAVIGATION_TOGGLE",this.handleNavToggle)}),this.initDatum()}componentDidUpdate(e){e.currentRequestData===this.props.currentRequestData&&e.currentUsageData===this.props.currentUsageData&&e.previousRequestData===this.props.previousRequestData&&e.previousUsageData===this.props.previousUsageData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.navToggle&&this.navToggle()}getDomain(){const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:r}=this.props,s={x:[1,31]},n=e?Object(Q.c)(e):0,i=t?Object(Q.c)(t):0,o=a?Object(Q.c)(a):0,l=r?Object(Q.c)(r):0,c=Math.max(n,i,o,l),u=c>0?Math.ceil(c+.1*c):0;return u>0&&(s.y=[0,u]),s}getEndDate(){const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:r}=this.props,s=e?Y()(Object(Q.b)(e,!0,!0)[1]):0,n=t?Y()(Object(Q.b)(t,!0,!0)[1]):0,i=a?Y()(Object(Q.b)(a,!0,!0)[1]):0,o=r?Y()(Object(Q.b)(r,!0,!0)[1]):0;return s>0||n>0||i>0||o>0?Math.max(s,n,i,o):31}render(){const{adjustContainerHeight:e,height:t,containerHeight:a=t,padding:r={bottom:75,left:8,right:8,top:8},title:s}=this.props,{series:i,width:o}=this.state,l=this.getDomain(),c=this.getEndDate(),p=Math.floor(c/2),h=e?o>480?a:a+20:a;return u.a.createElement(u.a.Fragment,null,u.a.createElement(n.a,{headingLevel:"h3",size:"md"},s),u.a.createElement("div",{className:W.a,ref:this.containerRef,style:{height:h}},u.a.createElement(K.a,{containerComponent:this.getContainer(),domain:l,events:this.getEvents(),height:t,legendComponent:this.getLegend(),legendData:this.getLegendData(),legendPosition:"bottom-left",padding:r,theme:H.a,width:o},i&&i.map((e,t)=>this.getChart(e,t)),u.a.createElement($.a,{style:he.xAxis,tickValues:[1,p,c]}),u.a.createElement($.a,{dependentAxis:!0,style:he.yAxis}))))}}const ge=e=>u.a.createElement("div",{style:oe.chart},u.a.createElement(de,Object.assign({},e)))},2509:function(e,t,a){"use strict";function r(e,t){let a=JSON.stringify(e),r=JSON.stringify(t);return a||(a=""),r||(r=""),a.split("").sort().join("")===r.split("").sort().join("")}a.d(t,"a",(function(){return r}))},2510:function(e,t,a){"use strict";a.d(t,"a",(function(){return I}));var r=a(2442),s=a(268),n=a(2345),i=a(2402),o=a(2456),l=a(2403),c=a(21),u=a(1),p=a.n(u),h=a(123),d=a(132),g=a(176),m=a(225),y=a(2468),b=a(2481),f=a(2349),v=a(2357),O=a(2358);const S={form:{marginLeft:f.a.var},modal:{h2:{marginBottom:v.a.value},input:{marginRight:O.a.var},ul:{marginLeft:f.a.var}},title:{paddingBottom:v.a.var}};var E=a(2470),C=a.n(E),_=a(2819),D=a.n(_);class k extends p.a.Component{constructor(e,t){super(e,t),this.defaultState={fetchReportClicked:!1},this.state=Object.assign({},this.defaultState),this.getExport=()=>{const{report:e,reportFetchStatus:t}=this.props;e&&2===t&&(D()(e.data,this.getFileName(),"text/csv"),this.handleClose())},this.getFileName=()=>{const{groupBy:e,reportPathsType:t,t:a}=this.props;return a("export.file_name",{provider:t,groupBy:e,date:C()(new Date,"YYYY-MM-DD")})+".csv"},this.handleClose=()=>{this.props.onClose(!1)},this.handleFetchReport=()=>{const{exportReport:e,queryString:t,reportPathsType:a}=this.props;e(a,"cost",t),this.setState({fetchReportClicked:!0},()=>{this.getExport()})},this.handleResolutionChange=(e,t)=>{this.setState({resolution:t.currentTarget.value})},this.handleResolutionChange=this.handleResolutionChange.bind(this)}componentDidUpdate(e){const{report:t}=this.props,{fetchReportClicked:a}=this.state;e.report!==t&&a&&this.getExport()}render(){const{reportFetchStatus:e,t:t}=this.props;return p.a.createElement(s.a,Object.assign({},Object(y.a)(y.b.export.submit_btn),{isDisabled:1===e,key:"confirm",onClick:this.handleFetchReport,variant:s.c.primary}),t("export.confirm"))}}const j=Object(g.a)((e,t)=>{const{groupBy:a,isAllItems:r,items:s,query:n,reportPathsType:i,resolution:o}=t,l=(()=>{const e=Object.assign(Object.assign({},JSON.parse(JSON.stringify(n))),{group_by:void 0,order_by:void 0});e.filter.resolution=o;let t=Object(c.c)(e);if(r)t+=`&group_by[${a}]=*`;else for(const e of s)t+=`&group_by[${a}]=`+e.label;return t})();return{queryString:l,report:m.c.selectExport(e,i,"cost",l),reportError:m.c.selectExportError(e,i,"cost",l),reportFetchStatus:m.c.selectExportFetchStatus(e,i,"cost",l)}}),x={exportReport:m.a.exportReport},T=Object(h.e)()(Object(d.connect)(j,x)(k)),R=[{label:"Daily",value:"daily"},{label:"Monthly",value:"monthly"}];class w extends p.a.Component{constructor(e,t){super(e,t),this.defaultState={resolution:"daily"},this.state=Object.assign({},this.defaultState),this.handleClose=()=>{this.props.onClose(!1)},this.handleResolutionChange=(e,t)=>{this.setState({resolution:t.currentTarget.value})},this.handleResolutionChange=this.handleResolutionChange.bind(this)}componentDidUpdate(e){const{isOpen:t}=this.props;t&&!e.isOpen&&this.setState(Object.assign({},this.defaultState))}render(){const{groupBy:e,isAllItems:t,items:a,query:u,reportPathsType:h,t:d}=this.props,{resolution:g}=this.state,m=[...a];this.props.isOpen&&Object(b.a)(m,{key:"id",direction:0});let f=d("export.selected",{groupBy:e});return-1!==e.indexOf(c.i)&&(f=d("export.selected_tags")),p.a.createElement(r.a,{style:S.modal,isOpen:this.props.isOpen,onClose:this.handleClose,title:d("export.title"),variant:"small",actions:[p.a.createElement(T,{groupBy:e,isAllItems:t,items:a,key:"confirm",onClose:this.handleClose,query:u,reportPathsType:h,resolution:g}),p.a.createElement(s.a,Object.assign({},Object(y.a)(y.b.export.cancel_btn),{key:"cancel",onClick:this.handleClose,variant:s.c.link}),d("export.cancel"))]},p.a.createElement(n.a,{headingLevel:"h2",style:S.title,size:"xl"},d("export.heading",{groupBy:e})),p.a.createElement(i.a,{style:S.form},p.a.createElement(o.a,{label:d("export.aggregate_type"),fieldId:"aggregate-type"},p.a.createElement(p.a.Fragment,null,R.map((e,t)=>p.a.createElement(l.a,{key:t,id:"resolution-"+t,isValid:void 0!==e.value,label:d(e.label),value:e.value,checked:g===e.value,name:"resolution",onChange:this.handleResolutionChange,"aria-label":d(e.label)})))),p.a.createElement(o.a,{label:f,fieldId:"selected-labels"},p.a.createElement("ul",null,m.map((e,t)=>p.a.createElement("li",{key:t},e.label))))))}}const B=Object(g.a)((e,t)=>({})),L={exportReport:m.a.exportReport},I=Object(h.e)()(Object(d.connect)(B,L)(w))},2531:function(e,t,a){"use strict";var r=a(133),s=a(1),n=a.n(s),i=a(492),o=a(2343),l=a(2344),c=a(2345),u=a(2346),p=a(484),h=a(123),d=a(2468);const g={viewSources:{marginTop:a(2347).a.value}};class m extends n.a.Component{constructor(){super(...arguments),this.getViewSources=()=>{const{t:e}=this.props,t=(()=>{const e=window.location.pathname.split("/");e.shift();let t="";return"beta"===e[0]&&(t="/beta"),t})();return n.a.createElement("a",Object.assign({href:t+"/settings/sources"},Object(d.a)(d.b.providers.view_all_link)),e("providers.view_sources"))}}render(){const{t:e}=this.props;return n.a.createElement(o.a,{variant:o.b.large,className:"pf-m-redhat-font"},n.a.createElement(l.a,{icon:p.DollarSignIcon}),n.a.createElement(c.a,{headingLevel:"h5",size:"lg"},e("providers.empty_state_title")),n.a.createElement(u.a,null,e("providers.empty_state_desc")),n.a.createElement("div",{style:g.viewSources},this.getViewSources()))}}const y=Object(h.e)()(m);var b=Object(i.a)(()=>n.a.createElement(r.Main,null,n.a.createElement(y,null)));t.a=b},2532:function(e,t,a){"use strict";var r=a(133),s=a(2479),n=a(1),i=a.n(n),o=a(492);var l=Object(o.a)(()=>i.a.createElement(r.Main,null,i.a.createElement(s.a,null)));t.a=l},2548:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return n}));var r=a(21);const s=e=>(e&&e.group_by?Object.keys(e.group_by):[]).find(e=>e!==r.e),n=e=>{const t=s(e);return t?e.group_by[t]:void 0}},2587:function(e,t,a){"use strict";var r=a(270);t.a=r.a},2591:function(e,t,a){"use strict";a.d(t,"a",(function(){return ge}));var r=a(2370),s=a(2371),n=a(2345),i=a(2372),o=a(2374),l=a(2375),c=a(21),u=a(1),p=a.n(u),h=a(123),d=a(2468),g=a(2467),m=a(2350),y=a(2349);const b={clustersContainer:{marginRight:m.a.value,marginTop:y.a.value}};var f=a(2442),v=a(2368),O=a(2347),S=a(2464);const E={modal:{height:"700px",width:"600px"},subTitle:{marginTop:v.a.value,textAlign:"right"}},C=S.a`
  & .pf-c-modal-box__body {
    margin-top: ${O.a.value};
  }
  & .pf-c-modal-box__footer {
    display: none;
  }
`;class _ extends p.a.Component{render(){const{item:e}=this.props;return e.clusters?e.clusters.map((e,t)=>p.a.createElement("div",{key:"cluster-"+t},e)):null}}const D=Object(h.e)()(_);class k extends p.a.Component{constructor(e){super(e),this.handleClose=()=>{this.props.onClose(!1)},this.handleClose=this.handleClose.bind(this)}shouldComponentUpdate(e){const{isOpen:t,item:a}=this.props;return e.item!==a||e.isOpen!==t}render(){const{groupBy:e,isOpen:t,item:a,t:r}=this.props;return p.a.createElement(f.a,{className:C,style:E.modal,isOpen:t,onClose:this.handleClose,title:r("details.clusters_modal_title",{groupBy:e,name:a.label}),width:"50%"},p.a.createElement(D,{item:a}))}}const j=Object(h.e)()(k);class x extends p.a.Component{constructor(e){super(e),this.defaultState={isOpen:!1,showAll:!1},this.state=Object.assign({},this.defaultState),this.handleClose=e=>{this.setState({isOpen:e})},this.handleOpen=e=>(this.setState({isOpen:!0}),e.preventDefault(),!1),this.handleClose=this.handleClose.bind(this),this.handleOpen=this.handleOpen.bind(this)}render(){const{groupBy:e,report:t,t:a}=this.props,{isOpen:r,showAll:s}=this.state;let n=0;const i=[],o=[],l=Object(g.a)({report:t,idKey:e}),c=l&&l.length?l[0]:void 0;if(!c)return null;for(const e of c.clusters){const t=`${i.length>0?", ":""}${e}`;s?i.push(t):n<=50&&(n+t.length>50?i.push(t.slice(0,50-n).trim().concat("...")):i.push(t)),n+=t.length,o.push(e)}return p.a.createElement("div",{style:b.clustersContainer},Boolean(i)&&i.map((e,t)=>p.a.createElement("span",{key:t},e)),Boolean(i.length<o.length)&&p.a.createElement("a",Object.assign({},Object(d.a)(d.b.details.cluster_lnk),{href:"#/",onClick:this.handleOpen}),a("details.more_clusters",{value:o.length-i.length})),p.a.createElement(j,{groupBy:e,isOpen:r,item:c,onClose:this.handleClose}))}}const T=Object(h.e)()(x);var R=a(479),w=a(220),B=a(2369),L=a(10),I=a(2461),z=a(2459),q=a(2348),P=a(2364);const M={chartHeight:150,subTitle:{fontWeight:q.a.value}},N={chartSkeleton:{height:"125px",marginBottom:P.a.value,marginTop:m.a.value}};var F=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(a[r[s]]=e[r[s]])}return a};class G extends p.a.Component{constructor(){super(...arguments),this.containerRef=p.a.createRef(),this.state={width:0},this.getLegendLabel=()=>e=>{var{values:t}=e,a=F(e,["values"]);return p.a.createElement(R.a,Object.assign({},a,{style:[{fontWeight:M.subTitle.fontWeight},{}],text:[t[a.index],a.text]}))},this.getSkeleton=()=>p.a.createElement(p.a.Fragment,null,p.a.createElement(I.Skeleton,{style:N.chartSkeleton,size:I.SkeletonSize.md})),this.handleResize=()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})}}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize)})}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}render(){const{report:e,reportFetchStatus:t,t:a}=this.props,{width:r}=this.state,s=e&&e.meta&&e.meta.total&&e.meta.total.cost,n=s&&e.meta.total.cost.markup,i=s&&e.meta.total.cost.raw,o=s&&e.meta.total.cost.usage,l=n?e.meta.total.cost.markup.units:"USD",c=i?e.meta.total.cost.raw.units:"USD",u=o?e.meta.total.cost.usage.units:"USD",h=n?e.meta.total.cost.markup.value:0,d=i?e.meta.total.cost.raw.value:0,g=o?e.meta.total.cost.usage.value:0,m=Object(z.b)(n?e.meta.total.cost.markup.value:0,l),y=Object(z.b)(i?e.meta.total.cost.raw.value:0,c),b=Object(z.b)(o?e.meta.total.cost.usage.value:0,u),f=a("breakdown.cost_chart.markup_label"),v=a("breakdown.cost_chart.raw_label"),O=a("breakdown.cost_chart.usage_label"),S=this.getLegendLabel(),E=p.a.createElement(w.a,{gutter:25,itemsPerRow:2,labelComponent:p.a.createElement(S,{dy:10,lineHeight:1.5,values:[m,y,b]}),rowGutter:20});return p.a.createElement("div",{ref:this.containerRef,style:{height:M.chartHeight}},1===t?this.getSkeleton():p.a.createElement(B.a,{ariaDesc:a("breakdown.cost_chart.aria_desc"),ariaTitle:a("breakdown.cost_chart.aria_title"),constrainToVisibleArea:!0,data:[{x:f,y:h,units:l},{x:v,y:d,units:c},{x:O,y:g,units:u}],height:M.chartHeight,labels:({datum:e})=>a("breakdown.cost_chart.tooltip",{name:e.x,value:Object(z.b)(e.y,e.units)}),legendComponent:E,legendData:[{name:f},{name:v},{name:O}],legendOrientation:"vertical",legendPosition:"right",padding:{bottom:20,left:0,right:r-M.chartHeight,top:20},themeColor:L.q.green,width:r}))}}const A=Object(h.e)()(G);var U=a(268),V=a(2373),K=a(2486);const $={mainContent:{marginTop:a(2357).a.value},subTitle:{textAlign:"right"}},H=S.a`
  /* Workaround for isLarge not working properly */
  &.pf-c-modal-box {
    height: 700px;
    width: 600px;
  }
  & .pf-c-modal-box__body {
    margin-top: ${O.a.value};
  }
  & .pf-c-modal-box__footer {
    display: none;
  }
`;var W=a(132),Q=a(176),J=a(16);class Y extends p.a.Component{constructor(e){super(e)}componentDidMount(){const{fetchReport:e,queryString:t,reportPathsType:a}=this.props;e(a,"cost",t)}componentDidUpdate(e){const{fetchReport:t,queryString:a,reportPathsType:r}=this.props;e.queryString!==a&&t(r,"cost",a)}render(){const{groupBy:e,report:t,reportFetchStatus:a,t:r}=this.props,s=Object(z.a)(t&&t.meta&&t.meta.total?t.meta.total.cost.total.value:0);return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{style:$.subTitle},p.a.createElement(n.a,{headingLevel:"h2",size:"xl"},r("details.cost_value",{value:s}))),p.a.createElement("div",{style:$.mainContent},p.a.createElement(K.f,{idKey:e,report:t,status:a},({items:e})=>e.map(e=>p.a.createElement(K.e,{key:e.id,formatOptions:{},formatValue:z.b,label:e.label?e.label.toString():"",totalValue:t.meta.total.cost.total.value,units:t.meta.total.cost.total.units,value:e.cost})))))}}const X=Object(Q.a)((e,{filterBy:t,groupBy:a,parentGroupBy:r,query:s,reportPathsType:n})=>{const i=s&&s.group_by[c.e]?s.group_by[c.e]:void 0,o={filter:Object.assign({time_scope_units:"month",time_scope_value:-1,resolution:"monthly",[r]:t},s&&s.filter&&s.filter.account&&{account:s.filter.account}),filter_by:s?s.filter_by:void 0,group_by:Object.assign(Object.assign({},i&&{[c.e]:i}),a&&{[a]:"*"})},l=Object(c.c)(o);return{queryString:l,report:J.c.selectReport(e,n,"cost",l),reportFetchStatus:J.c.selectReportFetchStatus(e,n,"cost",l)}}),Z={fetchReport:J.a.fetchReport},ee=Object(h.e)()(Object(W.connect)(X,Z)(Y));class te extends p.a.Component{constructor(e){super(e),this.handleClose=()=>{this.props.onClose(!1)},this.handleClose=this.handleClose.bind(this)}shouldComponentUpdate(e){const{filterBy:t,isOpen:a}=this.props;return e.filterBy!==t||e.isOpen!==a}render(){const{filterBy:e,groupBy:t,isOpen:a,parentGroupBy:r,query:s,reportPathsType:n,t:i}=this.props;return p.a.createElement(f.a,{className:H,isOpen:a,onClose:this.handleClose,title:i("details.summary_modal_title",{groupBy:t,name:e}),variant:"large"},p.a.createElement(ee,{filterBy:e,groupBy:t,parentGroupBy:r,query:s,reportPathsType:n}))}}const ae=Object(h.e)()(te),re={card:{},skeleton:{marginTop:P.a.value},viewAllContainer:{marginLeft:"-15px"}};class se extends p.a.Component{constructor(){super(...arguments),this.state={isBulletChartModalOpen:!1},this.getItems=()=>{const{groupBy:e,report:t}=this.props;return Object(g.a)({report:t,idKey:e})},this.getSummary=()=>{const{groupBy:e,report:t,reportFetchStatus:a}=this.props;return p.a.createElement(K.f,{idKey:e,report:t,status:a},({items:e})=>e.map(e=>p.a.createElement(K.e,{key:e.id+"-item",formatOptions:{},formatValue:z.b,label:e.label?e.label.toString():void 0,totalValue:t.meta.total.cost.total.value,units:t.meta.total.cost.total.units,value:e.cost})))},this.getViewAll=()=>{const{filterBy:e,groupBy:t,parentGroupBy:a,query:r,reportPathsType:s,t:n}=this.props,{isBulletChartModalOpen:i}=this.state;return-1!==this.getItems().findIndex(e=>{const t=e.id;if(t&&null!==t)return t.toString().includes("Other")})?p.a.createElement("div",{style:re.viewAllContainer},p.a.createElement(U.a,Object.assign({},Object(d.a)(d.b.details.view_all_btn),{onClick:this.handleBulletChartModalOpen,type:U.b.button,variant:U.c.link}),n("details.view_all",{groupBy:t})),p.a.createElement(ae,{filterBy:e,groupBy:t,isOpen:i,onClose:this.handleBulletChartModalClose,parentGroupBy:a,query:r,reportPathsType:s})):null},this.handleBulletChartModalClose=e=>{this.setState({isBulletChartModalOpen:e})},this.handleBulletChartModalOpen=e=>{this.setState({isBulletChartModalOpen:!0}),e.preventDefault()}}componentDidMount(){const{fetchReport:e,queryString:t,reportPathsType:a,reportType:r}=this.props;e(a,r,t)}componentDidUpdate(e){const{fetchReport:t,queryString:a,reportPathsType:r,reportType:s}=this.props;e.queryString!==a&&t(r,s,a)}render(){const{groupBy:e,reportFetchStatus:t,t:a}=this.props;return p.a.createElement(r.a,{style:re.card},p.a.createElement(s.a,null,p.a.createElement(n.a,{headingLevel:"h2",size:"md"},a("breakdown.summary_title",{groupBy:e}))),p.a.createElement(i.a,null,Boolean(1===t)?p.a.createElement(p.a.Fragment,null,p.a.createElement(I.Skeleton,{size:I.SkeletonSize.md}),p.a.createElement(I.Skeleton,{size:I.SkeletonSize.md,style:re.skeleton}),p.a.createElement(I.Skeleton,{size:I.SkeletonSize.md,style:re.skeleton}),p.a.createElement(I.Skeleton,{size:I.SkeletonSize.md,style:re.skeleton})):this.getSummary()),p.a.createElement(V.a,null,this.getViewAll()))}}const ne=Object(Q.a)((e,{filterBy:t,groupBy:a,parentGroupBy:r,query:s,reportPathsType:n,reportType:i})=>{const o=s&&s.group_by[c.e]?s.group_by[c.e]:void 0,l={filter:Object.assign({limit:3,time_scope_units:"month",time_scope_value:-1,resolution:"monthly",[r]:t},s&&s.filter&&s.filter.account&&{account:s.filter.account}),filter_by:s?s.filter_by:void 0,group_by:Object.assign(Object.assign({},o&&{[c.e]:o}),a&&{[a]:"*"})},u=Object(c.c)(l);return{queryString:u,report:J.c.selectReport(e,n,i,u),reportFetchStatus:J.c.selectReportFetchStatus(e,n,i,u),reportPathsType:n,reportType:i}}),ie={fetchReport:J.a.fetchReport},oe=Object(h.e)()(Object(W.connect)(ne,ie)(se));var le=a(2440);const ce={chartSkeleton:{marginBottom:P.a.value},capacity:{fontWeight:q.a.value},legendSkeleton:{marginTop:P.a.value}};class ue extends p.a.Component{constructor(){super(...arguments),this.containerRef=p.a.createRef(),this.state={width:0},this.handleResize=()=>{this.containerRef.current&&this.containerRef.current.clientWidth&&this.setState({width:this.containerRef.current.clientWidth})},this.getCpuChart=()=>{const{parentGroupBy:e,reportFetchStatus:t,report:a}=this.props,{width:r}=this.state,s="cluster"===e?this.getChartDatumWithCapacity():this.getChartDatum();return a&&0!==s.usage.length?p.a.createElement("div",null,1===t?this.getSkeleton():p.a.createElement(p.a.Fragment,null,Boolean("cluster"===e)&&this.getFreeSpace(),p.a.createElement(le.a,{comparativeErrorMeasureData:s.limit.value?[{tooltip:s.limit.tooltip,y:s.limit.value}]:[],comparativeErrorMeasureLegendData:s.limit.value?[{name:s.limit.legend}]:[],height:this.getChartHeight(),labels:({datum:e})=>""+e.tooltip,legendPosition:"bottom-left",legendItemsPerRow:this.getItemsPerRow(),maxDomain:this.isDatumEmpty(s)?100:void 0,minDomain:0,padding:{bottom:75,left:10,right:50,top:0},primarySegmentedMeasureData:s.usage.length?s.usage.map(e=>({tooltip:e.tooltip,y:e.value})):[],primarySegmentedMeasureLegendData:s.usage.length?s.usage.map(e=>({name:e.legend})):[],qualitativeRangeData:s.ranges.length?[{tooltip:s.ranges[0].tooltip,y:s.ranges[0].value}]:[],qualitativeRangeLegendData:s.ranges.length?[{name:s.ranges[0].legend}]:[],width:r}))):null},this.getChartHeight=()=>{const{parentGroupBy:e}=this.props,{width:t}=this.state;return"cluster"===e?t>950?115:t>450?150:210:t>700?115:t>450?150:180},this.getItemsPerRow=()=>{const{width:e}=this.state;return e>950?4:e>700?3:e>450?2:1},this.getSkeleton=()=>p.a.createElement(p.a.Fragment,null,p.a.createElement(I.Skeleton,{style:ce.chartSkeleton,size:I.SkeletonSize.md}),p.a.createElement(I.Skeleton,{style:ce.legendSkeleton,size:I.SkeletonSize.xs})),this.isDatumEmpty=e=>{let t=!1;for(const a of e.ranges)if(a.value){t=!0;break}let a=!1;for(const t of e.usage)if(t.value){a=!0;break}return!(e.limit.value||t||a)}}componentDidMount(){const{fetchReport:e,queryString:t,reportPathsType:a,reportType:r}=this.props;e(a,r,t),window.addEventListener("resize",this.handleResize),this.handleResize()}componentDidUpdate(e){const{fetchReport:t,queryString:a,reportPathsType:r,reportType:s}=this.props;e.queryString!==this.props.queryString&&t(r,s,a)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}getChartDatum(){const{report:e,reportType:t,t:a}=this.props,r={limit:{},ranges:[],usage:[]},s=e&&e.meta&&e.meta.total,n=s&&e.meta.total.limit&&null!==e.meta.total.limit,i=Math.trunc(n?e.meta.total.limit.value:0),o=a("units."+Object(z.c)(n?e.meta.total.limit.units:""));r.limit={legend:a(`details.usage.${t}_limit`,{value:i,units:o}),tooltip:a(`details.usage.${t}_limit`,{value:i,units:o}),value:Math.trunc(i)};const l=s&&e.meta.total.request&&null!==e.meta.total.request,c=Math.trunc(l?e.meta.total.request.value:0),u=a("units."+Object(z.c)(l?e.meta.total.request.units:""));r.ranges=[{legend:a(`details.usage.${t}_requests`,{value:c,units:u}),tooltip:a(`details.usage.${t}_requests`,{value:c,units:u}),value:Math.trunc(c)}];const p=s&&e.meta.total.usage&&null!==e.meta.total.usage,h=Math.trunc(p?e.meta.total.usage.value:0),d=a("units."+Object(z.c)(p?e.meta.total.usage.units:""));return r.usage=[{legend:a(`details.usage.${t}_usage`,{value:h,units:d}),tooltip:a(`details.usage.${t}_usage`,{value:h,units:d}),value:Math.trunc(h)}],r}getChartDatumWithCapacity(){const{report:e,reportType:t,t:a}=this.props,r={limit:{},ranges:[],usage:[]},s=e&&e.meta&&e.meta.total,n=s&&e.meta.total.limit&&null!==e.meta.total.limit,i=Math.trunc(n?e.meta.total.limit.value:0),o=a("units."+Object(z.c)(n?e.meta.total.limit.units:""));r.limit={legend:a(`details.usage.${t}_limit`,{value:i,units:o}),tooltip:a(`details.usage.${t}_limit`,{value:i,units:o}),value:Math.trunc(i)};const l=s&&e.meta.total.request&&null!==e.meta.total.request,c=Math.trunc(l?e.meta.total.capacity.value:0),u=a("units."+Object(z.c)(l?e.meta.total.capacity.units:""));r.ranges=[{legend:a(`details.usage.${t}_capacity`,{value:c,units:u}),tooltip:a(`details.usage.${t}_capacity`,{value:c,units:u}),value:Math.trunc(c)}];const p=s&&e.meta.total.request&&null!==e.meta.total.request,h=s&&e.meta.total.usage&&null!==e.meta.total.usage,d=Math.trunc(p?e.meta.total.request.value:0),g=a("units."+Object(z.c)(p?e.meta.total.request.units:"")),m=Math.trunc(h?e.meta.total.usage.value:0),y=a("units."+Object(z.c)(h?e.meta.total.usage.units:""));return r.usage=[{legend:a(`details.usage.${t}_usage`,{value:m,units:y}),tooltip:a(`details.usage.${t}_usage`,{value:m,units:y}),value:Math.trunc(m)},{legend:a(`details.usage.${t}_requests`,{value:d,units:g}),tooltip:a(`details.usage.${t}_requests`,{value:d,units:g}),value:Math.trunc(d)}],r}getFreeSpace(){const{report:e,reportType:t,t:a}=this.props,r=e&&e.meta&&e.meta.total,s=r&&e.meta.total.request&&null!==e.meta.total.request,n=r&&e.meta.total.request&&null!==e.meta.total.request,i=r&&e.meta.total.usage&&null!==e.meta.total.usage,c=Math.trunc(s?e.meta.total.capacity.value:0),u=Math.trunc(n?e.meta.total.request.value:0),h=a("units."+Object(z.c)(n?e.meta.total.request.units:"")),d=Math.trunc(i?e.meta.total.usage.value:0),g=a("units."+Object(z.c)(i?e.meta.total.usage.units:"")),m=c-u,y=c-d;let b=u>0?u/c*100:0;b>100&&(b=100-b);let f=c>d?d/c*100:0;return f>100&&(f=100-f),p.a.createElement(o.a,{hasGutter:!0},p.a.createElement(l.a,{md:12,lg:6},p.a.createElement("div",null,a(`details.usage.${t}_usage_unused_label`)),p.a.createElement("div",{style:ce.capacity},Object(z.b)(y)),p.a.createElement("div",null,a(`details.usage.${t}_usage_unused_units`,{percentage:Object(z.b)(f,g),units:g}))),p.a.createElement(l.a,{md:12,lg:6},p.a.createElement("div",null,a(`details.usage.${t}_requests_unused_label`)),p.a.createElement("div",{style:ce.capacity},Object(z.b)(m)),p.a.createElement("div",null,a(`details.usage.${t}_requests_unused_units`,{percentage:Object(z.b)(b,h),units:h}))))}render(){return p.a.createElement("div",{ref:this.containerRef},this.getCpuChart())}}const pe=Object(Q.a)((e,{groupBy:t,parentGroupBy:a,reportPathsType:r,reportType:s})=>{const n={filter:{time_scope_units:"month",time_scope_value:-1,resolution:"monthly",limit:3},group_by:{[a]:t}},i=Object(c.c)(n);return{report:J.c.selectReport(e,r,s,i),reportFetchStatus:J.c.selectReportFetchStatus(e,r,s,i),queryString:i}}),he={fetchReport:J.a.fetchReport},de=Object(h.e)()(Object(W.connect)(pe,he)(ue));class ge extends p.a.Component{constructor(){super(...arguments),this.getClusterChart=e=>{const{groupBy:t,report:a,t:o}=this.props;let l=!1;for(const a of e.cluster.showWidgetOnGroupBy)if(a===t||a===c.i&&-1!==t.indexOf(c.i)){l=!0;break}return l?p.a.createElement(r.a,null,p.a.createElement(s.a,null,p.a.createElement(n.a,{headingLevel:"h2",size:"md"},o("breakdown.cluster_title"))),p.a.createElement(i.a,null,p.a.createElement(T,{groupBy:e.cluster.reportGroupBy,report:a}))):null},this.getCostChart=e=>{const{report:t,t:a}=this.props;return p.a.createElement(r.a,null,p.a.createElement(s.a,null,p.a.createElement(n.a,{headingLevel:"h2",size:"md"},a("breakdown.cost_breakdown_title"))),p.a.createElement(i.a,null,p.a.createElement(A,{report:t})))},this.getCpuUsageChart=e=>{const{filterBy:t,groupBy:a,t:o}=this.props;return p.a.createElement(r.a,null,p.a.createElement(s.a,null,p.a.createElement(n.a,{headingLevel:"h2",size:"md"},o("breakdown.cpu_title"))),p.a.createElement(i.a,null,p.a.createElement(de,{groupBy:t,parentGroupBy:a,reportPathsType:e.reportPathsType,reportType:e.reportType})))},this.getMemoryUsageChart=e=>{const{filterBy:t,groupBy:a,t:o}=this.props;return p.a.createElement(r.a,null,p.a.createElement(s.a,null,p.a.createElement(n.a,{headingLevel:"h2",size:"md"},o("breakdown.memory_title"))),p.a.createElement(i.a,null,p.a.createElement(de,{groupBy:t,parentGroupBy:a,reportPathsType:e.reportPathsType,reportType:e.reportType})))},this.getSummaryCard=e=>{const{filterBy:t,groupBy:a,query:r}=this.props;let s=!1;for(const t of e.reportSummary.showWidgetOnGroupBy)if(t===a||r&&r.group_by&&r.group_by[c.e]||t===c.i&&a&&-1!==a.indexOf(c.i)){s=!0;break}return s?p.a.createElement(oe,{filterBy:t,groupBy:e.reportSummary.reportGroupBy,parentGroupBy:a,query:r,reportPathsType:e.reportPathsType,reportType:e.reportType}):e.reportSummary.usePlaceholder?"placeholder":null},this.getWidgetsColumns=()=>{const{selectWidgets:e,widgets:t}=this.props,a=[];t.map(t=>{const r=e[t],s=this.renderWidget(r);null!==s&&a.push(s)});const r=Math.floor(a.length/2)+a.length%2,s=[],n=[];for(let e=0;e<r;e++)"placeholder"!==a[e]&&s.push(a[e]),e+r<a.length&&"placeholder"!==a[e+r]&&n.push(a[e+r]);return{leftColumnWidgets:s,rightColumnWidgets:n}}}renderWidget(e){switch(e.type){case"cluster":return this.getClusterChart(e);case"cost":return this.getCostChart(e);case"cpuUsage":return this.getCpuUsageChart(e);case"memoryUsage":return this.getMemoryUsageChart(e);case"summary":return this.getSummaryCard(e);default:return null}}render(){const{leftColumnWidgets:e,rightColumnWidgets:t}=this.getWidgetsColumns();return p.a.createElement(o.a,{hasGutter:!0},p.a.createElement(l.a,{lg:12,xl:6},p.a.createElement(o.a,{hasGutter:!0},e.map((e,t)=>p.a.createElement(l.a,{key:"widget-"+t},e)))),p.a.createElement(l.a,{lg:12,xl:6},p.a.createElement(o.a,{hasGutter:!0},t.map((e,t)=>p.a.createElement(l.a,{key:"widget-"+t},e)))))}}},2592:function(e,t,a){"use strict";a.d(t,"a",(function(){return me}));var r=a(2370),s=a(2371),n=a(2345),i=a(2372),o=a(2374),l=a(2375),c=a(1),u=a.n(c),p=a(2461),h=a(21),d=a(2460),g=a(2391),m=a(2393),y=a(2448),b=a(220),f=a(2394),v=a(2395),O=a(2396),S=a(2466),E=a(2465),C=a(2463),_=a.n(C),D=a(107),k=a(2385),j=a(2386),x=a(2387),T=a(2388),R=a(2389),w=a(2397),B=a(2398),L=a(2399),I=a(2400),z=a(2401),q=a(2349),P=a(2347);const M={currentCapacityData:{fill:"none"},currentColorScale:[k.a.value,j.a.value,x.a.value,T.a.value,R.a.value],currentInfrastructureCostData:{fill:"none",strokeDasharray:"3,3"},currentCostData:{fill:"none"},itemsPerRow:0,previousCapacityData:{fill:"none"},previousColorScale:[w.a.value,B.a.value,L.a.value,I.a.value,z.a.value],previousInfrastructureCostData:{fill:"none",strokeDasharray:"3,3"},previousCostData:{fill:"none"},yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}},N={chart:{marginTop:q.a.value},title:{marginLeft:"-"+P.a.value}};class F extends u.a.Component{constructor(){super(...arguments),this.containerRef=u.a.createRef(),this.state={hiddenSeries:new Set,width:0},this.initDatum=()=>{const{currentCostData:e,currentInfrastructureCostData:t,previousCostData:a,previousInfrastructureCostData:r}=this.props,s="chart.cost_legend_label";this.setState({CursorVoronoiContainer:Object(g.a)("cursor","voronoi"),series:[{childName:"previousCost",data:a,legendItem:{name:Object(d.a)(a,s,!0,!0,1),symbol:{fill:M.previousColorScale[0],type:"minus"}},style:{data:Object.assign(Object.assign({},M.previousCostData),{stroke:M.previousColorScale[0]})}},{childName:"currentCost",data:e,legendItem:{name:Object(d.a)(e,s,!0,!1),symbol:{fill:M.currentColorScale[0],type:"minus"}},style:{data:Object.assign(Object.assign({},M.currentCostData),{stroke:M.currentColorScale[0]})}},{childName:"previousInfrastructureCost",data:r,legendItem:{name:Object(d.a)(r,"chart.cost_infrastructure_legend_label",!0,!0,1),symbol:{fill:M.previousColorScale[1],type:"dash"}},style:{data:Object.assign(Object.assign({},M.previousInfrastructureCostData),{stroke:M.previousColorScale[1]})}},{childName:"currentInfrastructureCost",data:t,legendItem:{name:Object(d.a)(t,"chart.cost_infrastructure_legend_label",!0,!1),symbol:{fill:M.currentColorScale[1],type:"dash"}},style:{data:Object.assign(Object.assign({},M.currentInfrastructureCostData),{stroke:M.currentColorScale[1]})}}]})},this.handleResize=()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})},this.getChart=(e,t)=>{const{hiddenSeries:a}=this.state;return u.a.createElement(m.a,{data:a.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})},this.getContainer=()=>{const{CursorVoronoiContainer:e}=this.state;if(e)return u.a.createElement(e,{cursorDimension:"x",labels:this.isDataAvailable()?this.getTooltipLabel:void 0,labelComponent:u.a.createElement(y.a,{legendData:this.getLegendData()}),mouseFollowTooltips:!0,voronoiDimension:"x",voronoiPadding:{bottom:120,left:8,right:8,top:8}})},this.getLegend=()=>{const{legendItemsPerRow:e}=this.props,{width:t}=this.state,a=e||(t>700?M.itemsPerRow:2);return u.a.createElement(b.a,{data:this.getLegendData(),gutter:0,height:25,itemsPerRow:a,name:"legend"})},this.getTooltipLabel=({datum:e})=>{const{formatDatumValue:t,formatDatumOptions:a}=this.props,r=Object(d.d)(t);return null!==e.y?r(e.y,e.units,a):D.a.t("chart.no_data")},this.handleLegendClick=e=>{this.state.hiddenSeries.delete(e.index)||this.state.hiddenSeries.add(e.index),this.setState({hiddenSeries:new Set(this.state.hiddenSeries)})},this.isDataAvailable=()=>{const{series:e}=this.state,t=[];return e&&e.forEach((e,a)=>{(this.isSeriesHidden(a)||e.data&&0===e.data.length)&&t.push(a)}),t.length!==(e?e.length:0)},this.isSeriesHidden=e=>{const{hiddenSeries:t}=this.state;return t.has(e)},this.getChartNames=()=>{const{series:e}=this.state,t=[];return e&&e.map((e,a)=>{t.push(e.childName)}),t},this.getEvents=()=>Object(f.a)({chartNames:this.getChartNames(),isHidden:this.isSeriesHidden,legendName:"legend",onLegendClick:this.handleLegendClick}),this.getLegendData=()=>{const{hiddenSeries:e,series:t}=this.state;if(t){return t.map((t,a)=>Object.assign(Object.assign({childName:t.childName},t.legendItem),Object(f.b)(e.has(a))))}}}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize)}),this.initDatum()}componentDidUpdate(e){e.currentCostData===this.props.currentCostData&&e.currentInfrastructureCostData===this.props.currentInfrastructureCostData&&e.previousCostData===this.props.previousCostData&&e.previousInfrastructureCostData===this.props.previousInfrastructureCostData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}getDomain(){const{currentCostData:e,currentInfrastructureCostData:t,previousCostData:a,previousInfrastructureCostData:r}=this.props,s={x:[1,31]},n=e?Object(d.c)(e):0,i=t?Object(d.c)(t):0,o=a?Object(d.c)(a):0,l=r?Object(d.c)(r):0,c=Math.max(n,i,o,l),u=c>0?Math.ceil(c+.1*c):0;return u>0&&(s.y=[0,u]),s}getEndDate(){const{currentInfrastructureCostData:e,previousInfrastructureCostData:t}=this.props,a=e?_()(Object(d.b)(e,!0,!0)[1]):0,r=t?_()(Object(d.b)(t,!0,!0)[1]):0;return a>0||r>0?Math.max(a,r):31}render(){const{adjustContainerHeight:e,height:t,containerHeight:a=t,padding:r={bottom:120,left:8,right:8,top:8},title:s,xAxisLabel:i,yAxisLabel:o}=this.props,{series:l,width:c}=this.state,p=this.getDomain(),h=this.getEndDate(),d=Math.floor(h/2),g=e&&c>700?a-25:a;return u.a.createElement("div",{className:E.a,ref:this.containerRef},u.a.createElement(n.a,{headingLevel:"h2",style:N.title,size:"xl"},s),u.a.createElement("div",{style:Object.assign(Object.assign({},N.chart),{height:g})},u.a.createElement(v.a,{containerComponent:this.getContainer(),domain:p,events:this.getEvents(),height:t,legendComponent:this.getLegend(),legendData:this.getLegendData(),legendPosition:"bottom",padding:r,theme:S.a,width:c},l&&l.map((e,t)=>this.getChart(e,t)),u.a.createElement(O.a,{label:i,style:M.xAxis,tickValues:[1,d,h]}),u.a.createElement(O.a,{dependentAxis:!0,label:o,style:M.yAxis}))))}}var G=a(123),A=a(132),U=a(176),V=a(16),K=a(2459),$=a(2364),H=a(2350);const W=300,Q=300,J={chartContainer:{marginLeft:P.a.value},chartSkeleton:{height:"125px",marginBottom:$.a.value,marginTop:H.a.value},costChart:{marginBottom:q.a.value,marginTop:q.a.value},legendSkeleton:{marginTop:$.a.value},trendChart:{marginBottom:q.a.value,marginTop:q.a.value},usageChart:{marginTop:q.a.value}};class Y extends u.a.Component{constructor(){super(...arguments),this.getSkeleton=()=>u.a.createElement(u.a.Fragment,null,u.a.createElement(p.Skeleton,{style:J.chartSkeleton,size:p.SkeletonSize.md}),u.a.createElement(p.Skeleton,{style:J.legendSkeleton,size:p.SkeletonSize.xs}))}componentDidMount(){const{fetchReport:e,currentQueryString:t,previousQueryString:a,reportPathsType:r,reportType:s}=this.props;e(r,s,t),e(r,s,a)}componentDidUpdate(e){const{fetchReport:t,currentQueryString:a,previousQueryString:r,reportPathsType:s,reportType:n}=this.props;e.currentQueryString!==a&&t(s,n,a),e.previousQueryString!==r&&t(s,n,r)}render(){const{currentReport:e,currentReportFetchStatus:t,previousReport:a,previousReportFetchStatus:r,reportType:s,t:n}=this.props,i=Object(d.f)(e,0,"date","cost"),o=Object(d.f)(e,0,"date","infrastructure"),l=Object(d.f)(a,0,"date","cost"),c=Object(d.f)(a,0,"date","infrastructure"),p=e&&e.meta&&e.meta.total&&e.meta.total.cost?e.meta.total.cost.total.units:"USD";return u.a.createElement("div",{style:J.chartContainer},u.a.createElement("div",{style:J.costChart},1===t&&1===r?this.getSkeleton():u.a.createElement(F,{adjustContainerHeight:!0,containerHeight:Q-25,currentCostData:i,currentInfrastructureCostData:o,formatDatumValue:K.b,formatDatumOptions:{},height:W,previousCostData:l,previousInfrastructureCostData:c,xAxisLabel:n("breakdown.historical_chart.day_of_month_label"),yAxisLabel:n(`breakdown.historical_chart.${s}_label`,{units:n("units."+Object(K.c)(p))})})))}}const X=Object(U.a)((e,{filterBy:t,groupBy:a,reportPathsType:r,reportType:s})=>{const n={filter:{time_scope_units:"month",time_scope_value:-1,resolution:"daily",limit:3},group_by:{[a]:t}},i=Object(h.c)(n),o={filter:{time_scope_units:"month",time_scope_value:-2,resolution:"daily",limit:3},group_by:{[a]:t}},l=Object(h.c)(o);return{currentQuery:n,currentQueryString:i,currentReport:V.c.selectReport(e,r,s,i),currentReportFetchStatus:V.c.selectReportFetchStatus(e,r,s,i),previousQuery:o,previousQueryString:l,previousReport:V.c.selectReport(e,r,s,l),previousReportFetchStatus:V.c.selectReportFetchStatus(e,r,s,l)}}),Z={fetchReport:V.a.fetchReport},ee=Object(G.e)()(Object(A.connect)(X,Z)(Y)),te={currentColorScale:[k.a.value,j.a.value,x.a.value,T.a.value,R.a.value],currentMonthData:{fill:"none"},itemsPerRow:0,previousColorScale:[w.a.value,B.a.value,L.a.value,I.a.value,z.a.value],previousMonthData:{fill:"none"},yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}},ae={chart:{marginTop:q.a.value},title:{marginLeft:"-"+P.a.value}};class re extends u.a.Component{constructor(){super(...arguments),this.containerRef=u.a.createRef(),this.state={hiddenSeries:new Set,width:0},this.initDatum=()=>{const{currentData:e,previousData:t,showUsageLegendLabel:a=!1}=this.props,r=a?"chart.usage_legend_label":"chart.cost_legend_label";this.setState({CursorVoronoiContainer:Object(g.a)("cursor","voronoi"),series:[{childName:"previousCost",data:t,legendItem:{name:Object(d.a)(t,r,!0,!0,1),symbol:{fill:te.previousColorScale[0],type:"minus"}},style:{data:Object.assign(Object.assign({},te.previousMonthData),{stroke:te.previousColorScale[0]})}},{childName:"currentCost",data:e,legendItem:{name:Object(d.a)(e,r,!0,!1),symbol:{fill:te.currentColorScale[1],type:"minus"}},style:{data:Object.assign(Object.assign({},te.currentMonthData),{stroke:te.currentColorScale[1]})}}]})},this.handleResize=()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})},this.getChart=(e,t)=>{const{hiddenSeries:a}=this.state;return u.a.createElement(m.a,{data:a.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})},this.getContainer=()=>{const{CursorVoronoiContainer:e}=this.state;if(e)return u.a.createElement(e,{cursorDimension:"x",labels:this.isDataAvailable()?this.getTooltipLabel:void 0,labelComponent:u.a.createElement(y.a,{legendData:this.getLegendData()}),mouseFollowTooltips:!0,voronoiDimension:"x",voronoiPadding:{bottom:120,left:8,right:8,top:8}})},this.getLegend=()=>{const{legendItemsPerRow:e}=this.props;return u.a.createElement(b.a,{data:this.getLegendData(),gutter:10,height:25,itemsPerRow:e,name:"legend"})},this.getTooltipLabel=({datum:e})=>{const{formatDatumValue:t,formatDatumOptions:a,units:r}=this.props,s=Object(d.d)(t);return null!==e.y?s(e.y,r||e.units,a):D.a.t("chart.no_data")},this.handleLegendClick=e=>{this.state.hiddenSeries.delete(e.index)||this.state.hiddenSeries.add(e.index),this.setState({hiddenSeries:new Set(this.state.hiddenSeries)})},this.isDataAvailable=()=>{const{series:e}=this.state,t=[];return e&&e.forEach((e,a)=>{(this.isSeriesHidden(a)||e.data&&0===e.data.length)&&t.push(a)}),t.length!==(e?e.length:0)},this.isSeriesHidden=e=>{const{hiddenSeries:t}=this.state;return t.has(e)},this.getChartNames=()=>{const{series:e}=this.state,t=[];return e&&e.map((e,a)=>{t.push(e.childName)}),t},this.getEvents=()=>Object(f.a)({chartNames:this.getChartNames(),isHidden:this.isSeriesHidden,legendName:"legend",onLegendClick:this.handleLegendClick}),this.getLegendData=()=>{const{hiddenSeries:e,series:t}=this.state;if(t){return t.map((t,a)=>Object.assign(Object.assign({childName:t.childName},t.legendItem),Object(f.b)(e.has(a))))}}}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize)}),this.initDatum()}componentDidUpdate(e){e.currentData===this.props.currentData&&e.previousData===this.props.previousData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}getDomain(){const{currentData:e,previousData:t}=this.props,a={x:[1,31]},r=e?Object(d.c)(e):0,s=t?Object(d.c)(t):0,n=Math.max(r,s),i=n>0?Math.ceil(n+.1*n):0;return i>0&&(a.y=[0,i]),a}getEndDate(){const{currentData:e,previousData:t}=this.props,a=t?_()(Object(d.b)(t,!0,!0)[1]):0,r=e?_()(Object(d.b)(e,!0,!0)[1]):0;return r>0||a>0?Math.max(r,a):31}render(){const{height:e,containerHeight:t=e,padding:a={bottom:120,left:8,right:8,top:8},title:r,xAxisLabel:s,yAxisLabel:i}=this.props,{series:o,width:l}=this.state,c=this.getDomain(),p=this.getEndDate(),h=Math.floor(p/2);return u.a.createElement("div",{className:E.a,ref:this.containerRef},u.a.createElement(n.a,{headingLevel:"h2",style:ae.title,size:"xl"},r),u.a.createElement("div",{style:Object.assign(Object.assign({},ae.chart),{height:t})},u.a.createElement(v.a,{containerComponent:this.getContainer(),domain:c,events:this.getEvents(),height:e,legendComponent:this.getLegend(),legendData:this.getLegendData(),legendPosition:"bottom",padding:a,theme:S.a,width:l},o&&o.map((e,t)=>this.getChart(e,t)),u.a.createElement(O.a,{label:s,style:te.xAxis,tickValues:[1,h,p]}),u.a.createElement(O.a,{dependentAxis:!0,label:i,style:te.yAxis}))))}}class se extends u.a.Component{constructor(){super(...arguments),this.getSkeleton=()=>u.a.createElement(u.a.Fragment,null,u.a.createElement(p.Skeleton,{style:J.chartSkeleton,size:p.SkeletonSize.md}),u.a.createElement(p.Skeleton,{style:J.legendSkeleton,size:p.SkeletonSize.xs}))}componentDidMount(){const{fetchReport:e,currentQueryString:t,previousQueryString:a,reportPathsType:r,reportType:s}=this.props;e(r,s,t),e(r,s,a)}componentDidUpdate(e){const{fetchReport:t,currentQueryString:a,previousQueryString:r,reportPathsType:s,reportType:n}=this.props;e.currentQueryString!==a&&t(s,n,a),e.previousQueryString!==r&&t(s,n,r)}render(){const{currentReport:e,currentReportFetchStatus:t,previousReport:a,previousReportFetchStatus:r,reportType:s,t:n}=this.props,i="cost"===s,o=Object(d.f)(e,i?0:1,"date",i?"cost":"usage"),l=Object(d.f)(a,i?0:1,"date",i?"cost":"usage"),c=e&&e.meta&&e.meta.total&&e.meta.total.cost?e.meta.total.cost.total.units:"USD";let p,h=e&&e.meta&&e.meta.total&&e.meta.total.usage?e.meta.total.usage.units:void 0;return i?p=n(`breakdown.historical_chart.${s}_label`,{units:n("units."+Object(K.c)(c))}):(h&&Number.isNaN(Number(e.meta.total.usage.units))||(h=n(`breakdown.historical_chart.${s}_label`)),p=n("breakdown.historical_chart.units_label",{units:n("units."+Object(K.c)(h))})),u.a.createElement("div",{style:J.chartContainer},u.a.createElement("div",{style:J.trendChart},1===t&&1===r?this.getSkeleton():u.a.createElement(re,{containerHeight:Q-50,currentData:o,formatDatumValue:K.b,formatDatumOptions:{},height:W,previousData:l,units:i?c:h,xAxisLabel:n("breakdown.historical_chart.day_of_month_label"),yAxisLabel:p})))}}const ne=Object(U.a)((e,{filterBy:t,groupBy:a,query:r,reportPathsType:s,reportType:n})=>{const i=r&&r.group_by[h.e]?r.group_by[h.e]:void 0,o="instance_type"===n||"storage"===n,l={filter:Object.assign(Object.assign({time_scope_units:"month",time_scope_value:-1,resolution:"daily",limit:3},r&&r.filter&&r.filter.account&&{account:r.filter.account}),i&&o&&{[h.e]:i}),filter_by:r?r.filter_by:void 0,group_by:Object.assign(Object.assign({},i&&!o&&{[h.e]:i}),{[a]:t})},c=Object(h.c)(l),u={filter:Object.assign(Object.assign({time_scope_units:"month",time_scope_value:-2,resolution:"daily",limit:3},r&&r.filter&&r.filter.account&&{account:r.filter.account}),i&&o&&{[h.e]:i}),filter_by:r?r.filter_by:void 0,group_by:Object.assign(Object.assign({},i&&!o&&{[h.e]:i}),{[a]:t})},p=Object(h.c)(u);return{currentQuery:l,currentQueryString:c,currentReport:V.c.selectReport(e,s,n,c),currentReportFetchStatus:V.c.selectReportFetchStatus(e,s,n,c),previousQuery:u,previousQueryString:p,previousReport:V.c.selectReport(e,s,n,p),previousReportFetchStatus:V.c.selectReportFetchStatus(e,s,n,p)}}),ie={fetchReport:V.a.fetchReport},oe=Object(G.e)()(Object(A.connect)(ne,ie)(se)),le={currentCapacityData:{fill:"none"},currentColorScale:[k.a.value,j.a.value,x.a.value,T.a.value,R.a.value],currentLimitData:{fill:"none"},currentRequestData:{fill:"none",strokeDasharray:"3,3"},currentUsageData:{fill:"none"},itemsPerRow:0,previousCapacityData:{fill:"none"},previousColorScale:[w.a.value,B.a.value,L.a.value,I.a.value,z.a.value],previousLimitData:{fill:"none"},previousRequestData:{fill:"none",strokeDasharray:"3,3"},previousUsageData:{fill:"none"},yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}},ce={chart:{marginTop:q.a.value},title:{marginLeft:"-"+P.a.value}};class ue extends u.a.Component{constructor(){super(...arguments),this.containerRef=u.a.createRef(),this.state={hiddenSeries:new Set,width:0},this.initDatum=()=>{const{currentLimitData:e,currentRequestData:t,currentUsageData:a,previousLimitData:r,previousRequestData:s,previousUsageData:n}=this.props;this.setState({CursorVoronoiContainer:Object(g.a)("cursor","voronoi"),series:[{childName:"previousUsage",data:n,legendItem:{name:Object(d.e)(n,"chart.usage_legend_label",!0,!0,1),symbol:{fill:le.previousColorScale[0],type:"minus"}},style:{data:Object.assign(Object.assign({},le.previousUsageData),{stroke:le.previousColorScale[0]})}},{childName:"currentUsage",data:a,legendItem:{name:Object(d.e)(a,"chart.usage_legend_label",!0,!1),symbol:{fill:le.currentColorScale[0],type:"minus"}},style:{data:Object.assign(Object.assign({},le.currentUsageData),{stroke:le.currentColorScale[0]})}},{childName:"previousRequest",data:s,legendItem:{name:Object(d.e)(s,"chart.requests_legend_label",!0,!0,1),symbol:{fill:le.previousColorScale[1],type:"dash"}},style:{data:Object.assign(Object.assign({},le.previousRequestData),{stroke:le.previousColorScale[1]})}},{childName:"currentRequest",data:t,legendItem:{name:Object(d.e)(t,"chart.requests_legend_label",!0,!1),symbol:{fill:le.currentColorScale[1],type:"dash"}},style:{data:Object.assign(Object.assign({},le.currentRequestData),{stroke:le.currentColorScale[1]})}},{childName:"previousLimit",data:r,legendItem:{name:Object(d.e)(r,"chart.limit_legend_label",!0,!0,1),symbol:{fill:le.previousColorScale[2],type:"minus"}},style:{data:Object.assign(Object.assign({},le.previousLimitData),{stroke:le.previousColorScale[2]})}},{childName:"currentLimit",data:e,legendItem:{name:Object(d.e)(e,"chart.limit_legend_label",!0,!1),symbol:{fill:le.currentColorScale[2],type:"minus"}},style:{data:Object.assign(Object.assign({},le.currentLimitData),{stroke:le.currentColorScale[2]})}}]})},this.handleResize=()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})},this.getChart=(e,t)=>{const{hiddenSeries:a}=this.state;return u.a.createElement(m.a,{data:a.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})},this.getContainer=()=>{const{CursorVoronoiContainer:e}=this.state;if(e)return u.a.createElement(e,{cursorDimension:"x",labels:this.isDataAvailable()?this.getTooltipLabel:void 0,labelComponent:u.a.createElement(y.a,{legendData:this.getLegendData()}),mouseFollowTooltips:!0,voronoiDimension:"x",voronoiPadding:{bottom:130,left:8,right:8,top:8}})},this.getLegend=()=>{const{legendItemsPerRow:e}=this.props,{width:t}=this.state,a=e||(t>800?le.itemsPerRow:2);return u.a.createElement(b.a,{data:this.getLegendData(),gutter:0,height:25,itemsPerRow:a,name:"legend"})},this.getTooltipLabel=({datum:e})=>{const{formatDatumValue:t,formatDatumOptions:a}=this.props,r=Object(d.d)(t);return null!==e.y?r(e.y,e.units,a):D.a.t("chart.no_data")},this.handleLegendClick=e=>{this.state.hiddenSeries.delete(e.index)||this.state.hiddenSeries.add(e.index),this.setState({hiddenSeries:new Set(this.state.hiddenSeries)})},this.isDataAvailable=()=>{const{series:e}=this.state,t=[];return e&&e.forEach((e,a)=>{(this.isSeriesHidden(a)||e.data&&0===e.data.length)&&t.push(a)}),t.length!==(e?e.length:0)},this.isSeriesHidden=e=>{const{hiddenSeries:t}=this.state;return t.has(e)},this.getChartNames=()=>{const{series:e}=this.state,t=[];return e&&e.map((e,a)=>{t.push(e.childName)}),t},this.getEvents=()=>Object(f.a)({chartNames:this.getChartNames(),isHidden:this.isSeriesHidden,legendName:"legend",onLegendClick:this.handleLegendClick}),this.getLegendData=()=>{const{hiddenSeries:e,series:t}=this.state;if(t){return t.map((t,a)=>Object.assign(Object.assign({childName:t.childName},t.legendItem),Object(f.b)(e.has(a))))}}}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize)}),this.initDatum()}componentDidUpdate(e){e.currentLimitData===this.props.currentLimitData&&e.currentRequestData===this.props.currentRequestData&&e.currentUsageData===this.props.currentUsageData&&e.previousLimitData===this.props.previousLimitData&&e.previousRequestData===this.props.previousRequestData&&e.previousUsageData===this.props.previousUsageData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}getDomain(){const{currentRequestData:e,currentUsageData:t,currentLimitData:a,previousLimitData:r,previousRequestData:s,previousUsageData:n}=this.props,i={x:[1,31]},o=a?Object(d.c)(a):0,l=e?Object(d.c)(e):0,c=t?Object(d.c)(t):0,u=r?Object(d.c)(r):0,p=s?Object(d.c)(s):0,h=n?Object(d.c)(n):0,g=Math.max(o,l,c,u,p,h),m=g>0?Math.ceil(g+.1*g):0;return m>0&&(i.y=[0,m]),i}getEndDate(){const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:r}=this.props,s=e?_()(Object(d.b)(e,!0,!0)[1]):0,n=t?_()(Object(d.b)(t,!0,!0)[1]):0,i=a?_()(Object(d.b)(a,!0,!0)[1]):0,o=r?_()(Object(d.b)(r,!0,!0)[1]):0;return s>0||n>0||i>0||o>0?Math.max(s,n,i,o):31}render(){const{adjustContainerHeight:e,height:t,containerHeight:a=t,padding:r={bottom:130,left:8,right:8,top:8},title:s,xAxisLabel:i,yAxisLabel:o}=this.props,{series:l,width:c}=this.state,p=this.getDomain(),h=this.getEndDate(),d=Math.floor(h/2),g=e&&c>800?a-50:a;return u.a.createElement("div",{className:E.a,ref:this.containerRef},u.a.createElement(n.a,{headingLevel:"h2",style:ce.title,size:"xl"},s),u.a.createElement("div",{style:Object.assign(Object.assign({},ce.chart),{height:g})},u.a.createElement(v.a,{containerComponent:this.getContainer(),domain:p,events:this.getEvents(),height:t,legendComponent:this.getLegend(),legendData:this.getLegendData(),legendPosition:"bottom",padding:r,theme:S.a,width:c},l&&l.map((e,t)=>this.getChart(e,t)),u.a.createElement(O.a,{label:i,style:le.xAxis,tickValues:[1,d,h]}),u.a.createElement(O.a,{dependentAxis:!0,label:o,style:le.yAxis}))))}}class pe extends u.a.Component{constructor(){super(...arguments),this.getSkeleton=()=>u.a.createElement(u.a.Fragment,null,u.a.createElement(p.Skeleton,{style:J.chartSkeleton,size:p.SkeletonSize.md}),u.a.createElement(p.Skeleton,{style:J.legendSkeleton,size:p.SkeletonSize.xs}))}componentDidMount(){const{fetchReport:e,currentQueryString:t,previousQueryString:a,reportPathsType:r,reportType:s}=this.props;e(r,s,t),e(r,s,a)}componentDidUpdate(e){const{fetchReport:t,currentQueryString:a,previousQueryString:r,reportPathsType:s,reportType:n}=this.props;e.currentQueryString!==a&&t(s,n,a),e.previousQueryString!==r&&t(s,n,r)}render(){const{currentReport:e,currentReportFetchStatus:t,previousReport:a,previousReportFetchStatus:r,t:s}=this.props,n=Object(d.f)(e,1,"date","limit"),i=Object(d.f)(e,1,"date","request"),o=Object(d.f)(e,1,"date","usage"),l=Object(d.f)(a,1,"date","limit"),c=Object(d.f)(a,1,"date","request"),p=Object(d.f)(a,1,"date","usage"),h=e&&e.meta&&e.meta.total&&e.meta.total.usage?e.meta.total.usage.units:"";return u.a.createElement("div",{style:J.chartContainer},u.a.createElement("div",{style:J.usageChart},1===t&&1===r?this.getSkeleton():u.a.createElement(ue,{adjustContainerHeight:!0,containerHeight:Q,currentLimitData:n,currentRequestData:i,currentUsageData:o,formatDatumValue:K.b,formatDatumOptions:{},height:W,previousLimitData:l,previousRequestData:c,previousUsageData:p,xAxisLabel:s("breakdown.historical_chart.day_of_month_label"),yAxisLabel:s("breakdown.historical_chart.units_label",{units:s("units."+Object(K.c)(h))})})))}}const he=Object(U.a)((e,{filterBy:t,groupBy:a,reportPathsType:r,reportType:s})=>{const n={filter:{time_scope_units:"month",time_scope_value:-1,resolution:"daily",limit:3},group_by:{[a]:t}},i=Object(h.c)(n),o={filter:{time_scope_units:"month",time_scope_value:-2,resolution:"daily",limit:3},group_by:{[a]:t}},l=Object(h.c)(o);return{currentQuery:n,currentQueryString:i,currentReport:V.c.selectReport(e,r,s,i),currentReportFetchStatus:V.c.selectReportFetchStatus(e,r,s,i),previousQuery:o,previousQueryString:l,previousReport:V.c.selectReport(e,r,s,l),previousReportFetchStatus:V.c.selectReportFetchStatus(e,r,s,l)}}),de={fetchReport:V.a.fetchReport},ge=Object(G.e)()(Object(A.connect)(he,de)(pe));class me extends u.a.Component{constructor(){super(...arguments),this.getCostChart=e=>{const{filterBy:t,groupBy:a,t:o}=this.props;return u.a.createElement(r.a,null,u.a.createElement(s.a,null,u.a.createElement(n.a,{headingLevel:"h2",size:"md"},o(`breakdown.historical_chart.${e.reportType}_title`))),u.a.createElement(i.a,null,u.a.createElement(ee,{filterBy:t,groupBy:a,reportPathsType:e.reportPathsType,reportType:e.reportType})))},this.getTrendChart=e=>{const{filterBy:t,groupBy:a,query:o,t:l}=this.props;return u.a.createElement(r.a,null,u.a.createElement(s.a,null,u.a.createElement(n.a,{headingLevel:"h2",size:"md"},l(`breakdown.historical_chart.${e.reportType}_title`))),u.a.createElement(i.a,null,u.a.createElement(oe,{filterBy:t,groupBy:a,query:o,reportPathsType:e.reportPathsType,reportType:e.reportType})))},this.getUsageChart=e=>{const{filterBy:t,groupBy:a,t:o}=this.props;return u.a.createElement(r.a,null,u.a.createElement(s.a,null,u.a.createElement(n.a,{headingLevel:"h2",size:"md"},o(`breakdown.historical_chart.${e.reportType}_title`))),u.a.createElement(i.a,null,u.a.createElement(ge,{filterBy:t,groupBy:a,reportPathsType:e.reportPathsType,reportType:e.reportType})))}}renderWidget(e){switch(e.type){case"cost":return this.getCostChart(e);case"tend":return this.getTrendChart(e);case"usage":return this.getUsageChart(e);default:return null}}render(){const{selectWidgets:e,widgets:t}=this.props;return u.a.createElement(o.a,{hasGutter:!0},t.map(t=>{const a=e[t];return u.a.createElement(l.a,{key:"widget-"+t},this.renderWidget(a))}))}}},2593:function(e,t,a){"use strict";var r=a(2366),s=a(2367),n=a(329),i=a(2455),o=a(1),l=a.n(o),c=a(2347);const u={content:{paddingBottom:c.a.value,paddingLeft:c.a.value,paddingRight:c.a.value,paddingTop:c.a.value}};var p=a(2345),h=a(2365),d=a(21),g=a(2356),m=a(123),y=a(132),b=a(176),f=a(16),v=a(2468),O=a(2348),S=a(2349),E=a(2350);const C={dataListHeading:{fontWeight:O.a.value},groupByHeading:{marginBottom:c.a.value},tagLink:{marginLeft:S.a.value},tagsContainer:{marginRight:E.a.value,marginTop:S.a.value}};var _=a(2442),D=a(2351),k=a(2352),j=a(2353),x=a(2354),T=a(328);class R extends l.a.Component{constructor(){super(...arguments),this.getDataListItems=()=>{const{report:e}=this.props,t=[];if(e)for(const a of e.data)for(const e of a.values){const r=`${a.key}:${e}`;t.push(l.a.createElement(D.a,{"aria-labelledby":r,key:r+"-item"},l.a.createElement(k.a,null,l.a.createElement(j.a,{dataListCells:[l.a.createElement(x.a,{key:r+"-cell1"},l.a.createElement("span",{id:r},a.key)),l.a.createElement(x.a,{key:r+"-cell2"},e)]}))))}return t}}render(){const{filterBy:e,groupBy:t,t:a}=this.props,r=this.getDataListItems();return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement("span",{style:C.dataListHeading},a("group_by.values."+t))),l.a.createElement("div",{style:C.groupByHeading},l.a.createElement("span",null,e)),l.a.createElement(T.a,{"aria-label":"Simple data list example",isCompact:!0},l.a.createElement(D.a,{"aria-labelledby":"heading1"},l.a.createElement(k.a,null,l.a.createElement(j.a,{dataListCells:[l.a.createElement(x.a,{key:"primary content"},l.a.createElement("span",{id:"heading1",style:C.dataListHeading},a("tag.heading_key"))),l.a.createElement(x.a,{key:"secondary content"},l.a.createElement("span",{id:"heading2",style:C.dataListHeading},a("tag.heading_value")))]}))),r.map(e=>e)))}}const w=Object(m.e)()(Object(y.connect)()(R));class B extends l.a.Component{constructor(e){super(e),this.getTagValueCount=()=>{const{report:e}=this.props;let t=0;if(e)for(const a of e.data)a.values&&(t+=a.values.length);return t},this.handleClose=()=>{this.props.onClose(!1)},this.handleClose=this.handleClose.bind(this)}componentDidMount(){const{fetchReport:e,queryString:t,reportPathsType:a}=this.props;e(a,"tag",t)}componentDidUpdate(e){const{fetchReport:t,queryString:a,reportPathsType:r}=this.props;e.queryString!==a&&t(r,"tag",a)}shouldComponentUpdate(e){const{filterBy:t,isOpen:a}=this.props;return e.filterBy!==t||e.isOpen!==a}render(){const{filterBy:e,groupBy:t,isOpen:a,report:r,t:s}=this.props;return l.a.createElement(_.a,{isOpen:a,onClose:this.handleClose,title:s("tag.title",{value:this.getTagValueCount()}),width:"50%"},l.a.createElement(w,{filterBy:e,groupBy:t,report:r}))}}const L=Object(b.a)((e,{filterBy:t,groupBy:a,reportPathsType:r})=>{const s=Object(d.g)(location.search),n=Object(d.c)({filter:Object.assign({[a]:t,resolution:"monthly",time_scope_units:"month",time_scope_value:-1},s.filter.account&&{account:s.filter.account})});return{queryString:n,report:f.c.selectReport(e,r,"tag",n),reportFetchStatus:f.c.selectReportFetchStatus(e,r,"tag",n)}}),I={fetchReport:f.a.fetchReport},z=Object(m.e)()(Object(y.connect)(L,I)(B));class q extends l.a.Component{constructor(e){super(e),this.defaultState={isOpen:!1},this.state=Object.assign({},this.defaultState),this.handleClose=e=>{this.setState({isOpen:e})},this.handleOpen=e=>(this.setState({isOpen:!0}),e.preventDefault(),!1),this.handleClose=this.handleClose.bind(this),this.handleOpen=this.handleOpen.bind(this)}componentDidMount(){const{fetchReport:e,queryString:t,reportPathsType:a}=this.props;e(a,"tag",t)}componentDidUpdate(e){const{fetchReport:t,queryString:a,reportPathsType:r}=this.props;e.queryString!==a&&t(r,"tag",a)}render(){const{filterBy:e,groupBy:t,id:a,report:r,reportPathsType:s}=this.props,{isOpen:n}=this.state;let i=0;if(r)for(const e of r.data)e.values&&(i+=e.values.length);return l.a.createElement("div",{style:C.tagsContainer,id:a},Boolean(i>0)&&l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,null),l.a.createElement("a",Object.assign({},Object(v.a)(v.b.details.tag_lnk),{href:"#/",onClick:this.handleOpen,style:C.tagLink}),i)),l.a.createElement(z,{filterBy:e,groupBy:t,isOpen:n,onClose:this.handleClose,reportPathsType:s}))}}const P=Object(b.a)((e,{filterBy:t,groupBy:a,reportPathsType:r})=>{const s=Object(d.g)(location.search),n=Object(d.c)({filter:Object.assign({[a]:t,resolution:"monthly",time_scope_units:"month",time_scope_value:-1},s.filter.account&&{account:s.filter.account})});return{filterBy:t,queryString:n,report:f.c.selectReport(e,r,"tag",n),reportFetchStatus:f.c.selectReportFetchStatus(e,r,"tag",n)}}),M={fetchReport:f.a.fetchReport},N=Object(m.e)()(Object(y.connect)(P,M)(q));var F=a(2547),G=a(2476),A=a(2459),U=a(2357),V=a(2358),K=a(2359),$=a(2360),H=a(2361),W=a(2362),Q=a(2363),J=a(2364),Y=a(2464);const X={cost:{marginTop:U.a.var},costLabel:{marginTop:V.a.var},costValue:{marginTop:0,marginBottom:0,textAlign:"right"},costLabelDate:{fontSize:K.a.value,color:$.a.var,textAlign:"right"},header:{display:"flex",justifyContent:"space-between",paddingLeft:U.a.var,paddingRight:U.a.var,paddingTop:U.a.var,backgroundColor:H.a.var},infoDescription:{color:W.a.value,fontSize:Q.a.value},tabs:{display:"flex"},tag:{marginLeft:c.a.var},title:{paddingBottom:c.a.var,paddingTop:J.a.var}},Z=Y.a`
  .pf-c-breadcrumb__item:not(:last-child) {
    margin-left: var(--pf-c-breadcrumb__item--MarginRight);
    margin-right: 0;
  }
  .pf-c-breadcrumb__item-divider {
    margin-left: 0;
    margin-right: var(--pf-c-breadcrumb__item-divider--MarginLeft);
  }
`;class ee extends l.a.Component{constructor(){super(...arguments),this.buildDetailsLink=()=>{const{detailsURL:e,groupBy:t,query:a}=this.props;let r=t,s="*";a[d.e]&&(r=d.e,s=a[d.e]);const n=Object.assign(Object.assign({},JSON.parse(JSON.stringify(a))),{group_by:{[r]:s}});return n.filter&&(n.filter.account=void 0,n[d.a]=void 0,n[d.e]=void 0,n[d.b]=void 0),`${e}?${Object(d.d)(n)}`},this.getGroupByOrg=()=>{const{query:e}=this.props;let t;for(const a of Object.keys(e.group_by))if(a===d.e){t=e.group_by[d.e];break}return t},this.getTotalCost=()=>{const{report:e}=this.props,t=e&&e.meta&&e.meta.total&&e.meta.total.cost&&e.meta.total.cost.total;return Object(A.b)(t?e.meta.total.cost.total.value:0,t?e.meta.total.cost.total.units:"USD")}}render(){const{description:e,filterBy:t,groupBy:a,reportPathsType:r,t:s,tabs:n,title:i,query:o}=this.props,c=o&&o.filter?o.filter.account:void 0,u=this.getGroupByOrg(),g=c||"account"===a||"project"===a||"subscription_guid"===a,m=a||(c?"account":u?d.e:void 0);return l.a.createElement("header",{style:X.header},l.a.createElement("div",null,l.a.createElement("nav",{"aria-label":"breadcrumb",className:"pf-c-breadcrumb "+Z},l.a.createElement("ol",{className:"pf-c-breadcrumb__list"},l.a.createElement("li",{className:"pf-c-breadcrumb__item"},l.a.createElement("span",{className:"pf-c-breadcrumb__item-divider"},l.a.createElement(h.a,null)),l.a.createElement(F.a,{to:this.buildDetailsLink()},s("breakdown.back_to_details",{groupBy:m,value:r}))))),l.a.createElement(p.a,{headingLevel:"h2",style:X.title,size:"xl"},s("breakdown.title",{value:i}),e&&l.a.createElement("div",{style:X.infoDescription},e)),l.a.createElement("div",{style:X.tabs},n,l.a.createElement("div",{style:X.tag},Boolean(g)&&l.a.createElement(N,{filterBy:t,groupBy:m,id:"tags",reportPathsType:r})))),l.a.createElement("div",{style:X.cost},l.a.createElement("div",{style:X.costLabel},l.a.createElement(p.a,{headingLevel:"h2",style:X.costValue,size:"4xl"},l.a.createElement("span",null,this.getTotalCost()))),l.a.createElement("div",{style:X.costLabelDate},Object(G.a)(m,"breakdown.total_cost_date"))))}}const te=Object(m.e)()(ee),ae=e=>{switch(e){case"cost-overview":return"cost-overview";case"historical-data":return"historical-data"}};class re extends l.a.Component{constructor(){super(...arguments),this.defaultState={activeTabKey:0},this.state=Object.assign({},this.defaultState),this.getAvailableTabs=()=>[{contentRef:l.a.createRef(),tab:"cost-overview"},{contentRef:l.a.createRef(),tab:"historical-data"}],this.getTab=(e,t,a)=>l.a.createElement(r.a,{eventKey:a,key:ae(e)+"-tab",tabContentId:"tab-"+a,tabContentRef:t,title:l.a.createElement(s.a,null,this.getTabTitle(e))}),this.getTabContent=e=>e.map((e,t)=>l.a.createElement(n.a,{eventKey:t,key:ae(e.tab)+"-tabContent",id:"tab-"+t,ref:e.contentRef},this.getTabItem(e.tab,t))),this.getTabItem=(e,t)=>{const{costOverviewComponent:a,historicalDataComponent:r}=this.props,{activeTabKey:s}=this.state,n=l.a.createElement(l.a.Fragment,null);if(s!==t)return n;const i=ae(e);return"cost-overview"===i?a:"historical-data"===i?r:n},this.getTabs=e=>{const{activeTabKey:t}=this.state;return l.a.createElement(i.a,{activeKey:t,onSelect:this.handleTabClick},e.map((e,t)=>this.getTab(e.tab,e.contentRef,t)))},this.getTabTitle=e=>{const{t:t}=this.props;return"cost-overview"===e?t("breakdown.cost_overview_title"):"historical-data"===e?t("breakdown.historical_data_title"):void 0},this.handleTabClick=(e,t)=>{const{activeTabKey:a}=this.state;a!==t&&this.setState({activeTabKey:t})},this.updateReport=()=>{const{location:e,fetchReport:t,queryString:a,reportPathsType:r,reportType:s}=this.props;e.search&&t(r,s,a)}}componentDidMount(){this.updateReport()}componentDidUpdate(e,t){const{location:a,report:r,reportError:s,queryString:n}=this.props,i=e.queryString!==n,o=!r&&!s,l=!a.search;(i||o||l)&&this.updateReport()}render(){const{description:e,detailsURL:t,filterBy:a,groupBy:r,query:s,report:n,reportPathsType:i,title:o}=this.props,c=this.getAvailableTabs();return l.a.createElement(l.a.Fragment,null,l.a.createElement(te,{description:e,detailsURL:t,filterBy:a,groupBy:r,query:s,report:n,reportPathsType:i,tabs:this.getTabs(c),title:o}),l.a.createElement("div",{style:u.content},this.getTabContent(c)))}}t.a=re},2594:function(e,t,a){"use strict";a.d(t,"a",(function(){return G}));var r=a(2454),s=a(2406),n=a(2411),i=a(21),o=a(2510),l=a(2442),c=a(2461),u=a(2529),p=a(1),h=a.n(p),d=a(123),g=a(132),m=a(176),y=a(226),b=a(34),f=a(2343),v=a(2344),O=a(2345),S=a(2346),E=a(487);const C={container:{display:"flex",justifyContent:"center",height:"50vh",marginTop:a(2357).a.value}},_=Object(d.e)()(({t:e,cluster:t})=>h.a.createElement("div",{style:C.container},h.a.createElement(f.a,null,h.a.createElement(v.a,{icon:E.MoneyCheckAltIcon}),h.a.createElement(O.a,{headingLevel:"h2",size:"xl"},e("no_rates_state.title")),h.a.createElement(S.a,null,e("no_rates_state.desc",{cluster:t})))));var D=a(2364),k=a(2350);const j=a(2464).a`
  /* Workaround for isLarge not working properly */
  &.pf-c-modal-box {
    height: '900px';
    width: 1200px;
  }
  & .pf-c-modal-box__footer {
    display: none;
  }
`,x={skeleton:{height:"125px",marginBottom:D.a.value,marginTop:k.a.value}};var T=a(88),R=a(2451),w=a(2446),B=a(2459);function L(e,t){return null===e.range_value[0]&&null===e.range_value[1]?t("details.price_list.modal.no_range_set"):`${e.range_value[0]||" "} - ${e.range_value[2]||" "} ${e.range_unit}`}var I=({rates:e,t:t})=>{const a=t("details.price_list.modal.not_available");return h.a.createElement(T.b,{"aria-label":"price-list-table",cells:[t("details.price_list.modal.metric"),t("details.price_list.modal.value"),t("details.price_list.modal.applied_usage_range"),t("details.price_list.modal.applied_usage_date_range")],rows:e.map(e=>{const r=e.display.replace(/cpu/g,"CPU");return[t("details.price_list.modal.metric_display",{display:r.replace(/(^\w)/g,e=>e.toUpperCase()),index:e.index+1,unit:e.range_unit}),e.value?Object(B.a)(e.value,e.value_unit):a,L(e,t),t("details.price_list.modal."+e.period)]})},h.a.createElement(R.a,null),h.a.createElement(w.a,null))};const z=e=>{for(const t of e.source_uuid)if(null!==t)return t;return""};class q extends h.a.Component{componentDidUpdate(){const{fetch:e,isOpen:t,item:a,providers:r,priceListStatus:s}=this.props;if(t&&1!==s){const t=r.data.find(e=>e.uuid===z(a));e(t?t.uuid:null)}}renderContent(){const{item:e,priceListStatus:t,priceListError:a,priceList:r,providers:s,t:n}=this.props;if(2!==t)return h.a.createElement(c.Skeleton,{style:x.skeleton,size:c.SkeletonSize.md});if(null!==a)return h.a.createElement(u.a,{error:a});const i=s.data.find(t=>t.uuid===z(e)),o=i&&r[i.uuid];return o?h.a.createElement(I,{t:n,rates:o}):h.a.createElement(_,{cluster:e.label.toString()})}render(){const{t:e,isOpen:t,close:a,item:r}=this.props;return h.a.createElement(l.a,{className:j,isOpen:t,onClose:()=>a(!1),title:e("details.price_list.modal.title",{name:r.label})},this.renderContent())}}const P=Object(g.connect)(Object(m.a)((e,{item:t,providerType:a})=>{let r;switch(a){case"aws":r="AWS";break;case"azure":r="AZURE";break;case"ocp":r="OCP"}const s=b.f.selectProviders(e,a,"type="+r),n=s&&s.data?s.data.find(e=>e.uuid===z(t)):void 0,i=n?n.uuid:null;return{priceList:y.c.ratesPerProvider(e,i),priceListError:y.c.error(e,i),priceListStatus:y.c.status(e,i),providers:s}}),{fetch:y.a.fetchPriceList})(Object(d.e)()(q));var M=a(492),N=a(222);class F extends h.a.Component{constructor(e){super(e),this.defaultState={isDropdownOpen:!1,isExportModalOpen:!1,isPriceListModalOpen:!1},this.state=Object.assign({},this.defaultState),this.getExportModal=()=>{const{groupBy:e,item:t,query:a,reportPathsType:r}=this.props,{isExportModalOpen:s}=this.state;return h.a.createElement(o.a,{groupBy:e,isOpen:s,items:[t],onClose:this.handleExportModalClose,query:a,reportPathsType:r})},this.getPriceListModal=()=>{const{item:e,providerType:t}=this.props;return h.a.createElement(P,{close:this.handlePriceListModalClose,isOpen:this.state.isPriceListModalOpen,item:e,providerType:t})},this.handleExportModalClose=e=>{this.setState({isExportModalOpen:e})},this.handleExportModalOpen=()=>{this.setState({isExportModalOpen:!0})},this.handlePriceListModalClose=e=>{this.setState({isPriceListModalOpen:e})},this.handlePriceListModalOpen=()=>{this.setState({isPriceListModalOpen:!0})},this.handleOnSelect=()=>{const{isDropdownOpen:e}=this.state;this.setState({isDropdownOpen:!e})},this.handleOnToggle=e=>{this.setState({isDropdownOpen:e})},this.handleExportModalClose=this.handleExportModalClose.bind(this),this.handleExportModalOpen=this.handleExportModalOpen.bind(this),this.handlePriceListModalClose=this.handlePriceListModalClose.bind(this),this.handlePriceListModalOpen=this.handlePriceListModalOpen.bind(this),this.handleOnToggle=this.handleOnToggle.bind(this),this.handleOnSelect=this.handleOnSelect.bind(this)}render(){const{groupBy:e,isDisabled:t,showPriceListOption:a,t:o,redirectToCostModel:l,history:c,item:{source_uuid:u}}=this.props,p=[h.a.createElement(r.a,{component:"button",isDisabled:t,key:"export-action",onClick:this.handleExportModalOpen},o("details.actions.export"))];return a&&p.unshift(h.a.createElement(r.a,{component:"button",key:"price-list-action",isDisabled:t||e.includes(i.i)||0===u.length,onClick:()=>l(u[0],c)},o("details.actions.price_list"))),h.a.createElement(h.a.Fragment,null,h.a.createElement(s.a,{onSelect:this.handleOnSelect,toggle:h.a.createElement(n.a,{onToggle:this.handleOnToggle}),isOpen:this.state.isDropdownOpen,isPlain:!0,position:"right",dropdownItems:p}),this.getExportModal(),a&&this.getPriceListModal())}}const G=Object(g.connect)(void 0,{redirectToCostModel:N.a.redirectToCostModelFromSourceUuid})(Object(d.e)()(Object(M.a)(F)))},2595:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var r=a(2454),s=a(2406),n=a(2407),i=a(21),o=a(1),l=a.n(o),c=a(123),u=a(132),p=a(176),h=a(16);const d={groupBySelector:{display:"flex",alignItems:"center"},groupBySelectorLabel:{marginBottom:0,marginRight:a(2364).a.var}};var g=a(2447),m=a(6),y=a(173);class b extends l.a.Component{constructor(e){super(e),this.defaultState={defaultItem:this.props.groupBy||this.props.options[0].value,isGroupByOpen:!1},this.state=Object.assign({},this.defaultState),this.getCurrentGroupBy=()=>{const{getIdKeyForGroupBy:e}=this.props,t=Object(i.g)(location.search),a=t&&t.group_by?Object.keys(t.group_by):[];let r=e(t.group_by);for(const e of a){if(-1!==e.indexOf(i.e)){r=t.group_by[i.e];break}}return r},this.getGroupByItems=()=>{const{report:e}=this.props;if(!e||!e.data)return[];const t=e.data.sort((e,t)=>e[i.f]<t[i.f]?-1:e[i.f]>t[i.f]?1:0),a=t.filter(e=>0===e.level),r=t.filter(e=>0!==e.level);return a.map(e=>{const a=t.find(t=>t[i.e]===e[i.e]);r.unshift(a)}),r.map(e=>({id:e[i.e],toString:()=>e[i.f]}))},this.handleGroupByClear=()=>{this.setState({currentItem:void 0})},this.handleGroupBySelect=(e,t)=>{const{onItemClicked:a}=this.props;this.setState({currentItem:t.id,isGroupByOpen:!1}),a&&a(`${i.e}${t.id}`)},this.handleGroupByToggle=e=>{this.setState({isGroupByOpen:e})},this.handleGroupByClear=this.handleGroupByClear.bind(this),this.handleGroupBySelect=this.handleGroupBySelect.bind(this),this.handleGroupByToggle=this.handleGroupByToggle.bind(this)}componentDidMount(){this.setState({currentItem:this.getCurrentGroupBy()})}componentDidUpdate(e){const{groupBy:t}=this.props;e.groupBy!==t&&this.setState({currentItem:this.getCurrentGroupBy()})}render(){const{isDisabled:e=!1,t:t}=this.props,{currentItem:a,isGroupByOpen:r}=this.state,s=this.getGroupByItems(),n=s.find(e=>e.id===a);return l.a.createElement("div",{style:d.groupBySelector},l.a.createElement(g.a,{"aria-label":t("group_by.org_unit_aria_label"),isDisabled:e,onClear:this.handleGroupByClear,onToggle:this.handleGroupByToggle,onSelect:this.handleGroupBySelect,isOpen:r,placeholderText:t("group_by.org_unit_placeholder"),selections:n,variant:m.e.typeahead},s.map(e=>l.a.createElement(y.a,{description:e.id,key:e.id,value:e}))))}}const f=Object(c.e)()(b);var v=a(2498),O=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(a[r[s]]=e[r[s]])}return a};class S extends l.a.Component{constructor(e){super(e),this.defaultState={isGroupByOpen:!1},this.state=Object.assign({},this.defaultState),this.getGroupByItems=()=>{const{report:e}=this.props;if(!e||!e.data)return[];let t=!1;for(const a of e.data)if(a.hasOwnProperty("key")){t=!0;break}let a=[];if(t){const t=e.data.map(e=>{var{type:t}=e;return O(e,["type"])});a=Object(v.uniqBy)(t,"key")}else a=Object(v.uniq)(e.data);return a.map(e=>{const a=t?e.key:e;return l.a.createElement(y.a,{key:e.key,value:a})})},this.getCurrentGroupBy=()=>{const e=Object(i.g)(location.search),t=e&&e.group_by?Object.keys(e.group_by):[];let a;for(const e of t){if(-1!==e.indexOf(i.i)){a=e.slice(i.i.length);break}}return a},this.handleGroupByClear=()=>{this.setState({currentItem:void 0})},this.handleGroupBySelect=(e,t)=>{const{onItemClicked:a}=this.props;this.setState({currentItem:t,isGroupByOpen:!1}),a&&a(`${i.i}${t}`)},this.handleGroupByToggle=e=>{this.setState({isGroupByOpen:e})},this.handleGroupByClear=this.handleGroupByClear.bind(this),this.handleGroupBySelect=this.handleGroupBySelect.bind(this),this.handleGroupByToggle=this.handleGroupByToggle.bind(this)}componentDidMount(){this.setState({currentItem:this.getCurrentGroupBy()})}componentDidUpdate(e){const{groupBy:t}=this.props;e.groupBy!==t&&this.setState({currentItem:this.getCurrentGroupBy()})}render(){const{isDisabled:e,t:t}=this.props,{currentItem:a,isGroupByOpen:r}=this.state;return l.a.createElement("div",{style:d.groupBySelector},l.a.createElement(g.a,{"aria-label":t("group_by.tag_key_aria_label"),isDisabled:e,onClear:this.handleGroupByClear,onToggle:this.handleGroupByToggle,onSelect:this.handleGroupBySelect,isOpen:r,placeholderText:t("group_by.tag_key_placeholder"),selections:a,variant:m.e.typeahead},this.getGroupByItems()))}}const E=Object(c.e)()(S),C=[{label:i.e,value:i.e}],_=[{label:i.h,value:i.h}];class D extends l.a.Component{constructor(e,t){super(e,t),this.defaultState={defaultItem:this.props.groupBy||this.props.options[0].value,isGroupByOpen:!1,isGroupByOrgVisible:!1,isGroupByTagVisible:!1},this.state=Object.assign({},this.defaultState),this.handleGroupByClick=e=>{const{onItemClicked:t}=this.props;e===i.e||e===i.h?this.setState({currentItem:e,isGroupByOrgVisible:e===i.e,isGroupByTagVisible:e===i.h}):(this.setState({currentItem:e,isGroupByOrgVisible:!1,isGroupByTagVisible:!1}),t&&t(e))},this.getGroupByItems=()=>{const{options:e,orgReport:t,tagReport:a,t:s}=this.props,n=[...e];return t&&t.data&&t.data.length>0&&n.push(...C),a&&a.data&&a.data.length>0&&n.push(..._),n.map(e=>l.a.createElement(r.a,{component:"button",key:e.value,onClick:()=>this.handleGroupByClick(e.value)},s("group_by.values."+e.label)))},this.getCurrentGroupBy=()=>{const{getIdKeyForGroupBy:e}=this.props,{defaultItem:t}=this.state,a=Object(i.g)(location.search);if(!a||!a.group_by)return t;let r=e(a.group_by);const s=a&&a.group_by?Object.keys(a.group_by):[];for(const e of s){let t=e.indexOf(i.i);if(-1!==t){r=i.h,this.setState({isGroupByTagVisible:!0});break}if(t=e.indexOf(i.e),-1!==t){r=i.e,this.setState({isGroupByOrgVisible:!0});break}}return"date"!==r?r:t},this.handleGroupBySelect=e=>{this.setState({isGroupByOpen:!this.state.isGroupByOpen})},this.handleGroupByToggle=e=>{this.setState({isGroupByOpen:e})},this.handleGroupByClick=this.handleGroupByClick.bind(this),this.handleGroupBySelect=this.handleGroupBySelect.bind(this),this.handleGroupByToggle=this.handleGroupByToggle.bind(this)}componentDidMount(){const{fetchReport:e,queryString:t,reportPathsType:a,showOrgs:r,showTags:s}=this.props;r&&e(a,"org",t),s&&e(a,"tag",t),this.setState({currentItem:this.getCurrentGroupBy()})}componentDidUpdate(e){const{fetchReport:t,groupBy:a,queryString:r,reportPathsType:s,showOrgs:n,showTags:i}=this.props;e.groupBy!==a&&(n&&t(s,"org",r),i&&t(s,"tag",r),this.setState({currentItem:this.getCurrentGroupBy()}))}render(){const{getIdKeyForGroupBy:e,groupBy:t,isDisabled:a=!1,onItemClicked:r,orgReport:i,t:o,tagReport:c}=this.props,{currentItem:u,isGroupByOpen:p,isGroupByOrgVisible:h,isGroupByTagVisible:g}=this.state;return l.a.createElement("div",{style:d.groupBySelector},l.a.createElement("label",{style:d.groupBySelectorLabel},o("group_by.view"),":"),l.a.createElement(s.a,{onSelect:this.handleGroupBySelect,toggle:l.a.createElement(n.a,{isDisabled:a,onToggle:this.handleGroupByToggle},o("group_by.values."+u)),isOpen:p,dropdownItems:[this.getGroupByItems()]}),Boolean(h)&&l.a.createElement(f,{getIdKeyForGroupBy:e,groupBy:t,isDisabled:a,onItemClicked:r,options:C,report:i}),Boolean(g)&&l.a.createElement(E,{groupBy:t,isDisabled:a,onItemClicked:r,options:_,report:c}))}}const k=Object(p.a)((e,{reportPathsType:t})=>{const a=Object(i.c)({});return{queryString:a,orgReport:h.c.selectReport(e,t,"org",a),orgReportFetchStatus:h.c.selectReportFetchStatus(e,t,"org",a),tagReport:h.c.selectReport(e,t,"tag",a),tagReportFetchStatus:h.c.selectReportFetchStatus(e,t,"tag",a)}}),j={fetchReport:h.a.fetchReport},x=Object(c.e)()(Object(u.connect)(k,j)(D))},2596:function(e,t,a){"use strict";a.d(t,"a",(function(){return P}));var r=a(2413),s=a(2414),n=a(2314),i=a(268),o=a(2447),l=a(6),c=a(173),u=a(103),p=a(2406),h=a(18),d=a(2407),g=a(2454),m=a(2457),y=a(2453),b=a(2415),f=a(130),v=a(489),O=a(486),S=a(483),E=a(21),C=a(2498),_=a(1),D=a.n(_),k=a(123),j=a(2509),x=a(2364),T=a(2405),R=a(2357),w=a(2464);const B={export:{marginRight:x.a.value},toolbarContainer:{backgroundColor:T.a.value,paddingBottom:x.a.value,paddingTop:x.a.value,marginLeft:R.a.value,marginRight:R.a.value}},L=w.a`
  &.pf-c-select {
    min-width: 250px;
  }
`;var I=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(a[r[s]]=e[r[s]])}return a};const z={tag:{}};class q extends D.a.Component{constructor(){super(...arguments),this.defaultState={categoryInput:"",filters:Object(C.cloneDeep)(z),isCategoryDropdownOpen:!1,isOrgUnitSelectExpanded:!1,isTagValueDropdownOpen:!1,isTagKeySelectExpanded:!1,isTagValueSelectExpanded:!1,tagKeyValueInput:""},this.state=Object.assign({},this.defaultState),this.getDefaultCategory=()=>{const{categoryOptions:e,groupBy:t,query:a}=this.props;if(!e)return"name";if(a&&a.group_by&&a.group_by[E.e])return E.e;for(const a of e)if(t===a.key||t&&-1!==t.indexOf(E.i)&&a.key===E.h)return a.key;return e[0].key},this.getActiveFilters=e=>{const t=Object(C.cloneDeep)(z);return e&&e.filter_by&&Object.keys(e.filter_by).forEach(a=>{const r=Array.isArray(e.filter_by[a])?[...e.filter_by[a]]:[e.filter_by[a]];-1!==a.indexOf(E.i)?t.tag[a.substring(E.i.length)]=r:t[a]=r}),t},this.onDelete=(e,t)=>{const a=e&&e.key?e.key:e,r=t&&t.key?t.key:t;a?this.setState(e=>(e.filters.tag[a]?e.filters.tag[a]=e.filters.tag[a].filter(e=>e!==r):e.filters[a]&&(e.filters[a]=e.filters[a].filter(e=>e!==r)),{filters:e.filters}),()=>{const{filters:e}=this.state,t=e.tag[a]?`${E.i}${a}`:a;this.props.onFilterRemoved(t,r)}):this.setState({filters:Object(C.cloneDeep)(z)},()=>{this.props.onFilterRemoved(null)})},this.getCurrentCategoryOption=()=>{const{categoryOptions:e}=this.props,{currentCategory:t}=this.state;if(e){for(const a of e)if(t===a.key)return a;return e[0]}},this.onCategoryClick=e=>{this.setState({currentCategory:e})},this.onCategorySelect=e=>{this.setState({categoryInput:"",currentTagKey:void 0,isCategoryDropdownOpen:!this.state.isCategoryDropdownOpen})},this.onCategoryToggle=e=>{this.setState({isCategoryDropdownOpen:e})},this.getCategoryInput=e=>{const{t:t}=this.props,{currentCategory:a,filters:o,categoryInput:l}=this.state;return D.a.createElement(r.a,{categoryName:e,chips:o[e.key],deleteChip:this.onDelete,key:e.key,showToolbarItem:a===e.key},D.a.createElement(s.a,null,D.a.createElement(n.a,{name:e.key+"-input",id:e.key+"-input",type:"search","aria-label":t(`filter_by.${e.key}_input_aria_label`),onChange:this.onCategoryInputChange,value:l,placeholder:t(`filter_by.${e.key}_placeholder`),onKeyDown:t=>this.onCategoryInput(t,e.key)}),D.a.createElement(i.a,{variant:i.c.control,"aria-label":t(`filter_by.${e.key}_button_aria_label`),onClick:t=>this.onCategoryInput(t,e.key)},D.a.createElement(S.SearchIcon,null))))},this.getDefaultCategoryOptions=()=>{const{t:e}=this.props;return[{name:e("filter_by.values.name"),key:"name"}]},this.onCategoryInputChange=e=>{this.setState({categoryInput:e})},this.onCategoryInput=(e,t)=>{const{categoryInput:a,currentCategory:r}=this.state;e.key&&"Enter"!==e.key||""===a.trim()||this.setState(e=>{const s=e.filters[t];return{filters:Object.assign(Object.assign({},e.filters),{[r]:s&&s.includes(a)?s:s?[...s,a]:[a]}),categoryInput:""}},()=>{this.props.onFilterAdded(r,a)})},this.getOrgUnitSelect=()=>{const{t:e}=this.props,{currentCategory:t,filters:a,isOrgUnitSelectExpanded:s}=this.state,n=this.getOrgUnitOptions().map(e=>({id:e.key,toString:()=>e.name,compareTo:e=>!!a[E.e]&&a[E.e].find(t=>t===e.id)})),i=[],u=[];return a[E.e]&&Array.isArray(a[E.e])&&a[E.e].map(e=>{const t=n.find(t=>t.id===e);t&&(u.push(t),i.push({key:t.id,node:t.toString()}))}),D.a.createElement(r.a,{categoryName:{key:E.e,name:e("filter_by.values.org_unit_id")},chips:i,deleteChip:this.onDelete,key:E.e,showToolbarItem:t===E.e},D.a.createElement(o.a,{className:L,variant:l.e.checkbox,"aria-label":e("filter_by.org_unit_aria_label"),onToggle:this.onOrgUnitToggle,onSelect:this.onOrgUnitSelect,selections:u,isOpen:s,placeholderText:e("filter_by.org_unit_placeholder")},n.map(e=>D.a.createElement(c.a,{description:e.id,key:e.id,value:e}))))},this.onOrgUnitSelect=(e,t)=>{const a=e.target.checked;this.setState(e=>{const r=e.filters[E.e]?e.filters[E.e]:[];return{filters:Object.assign(Object.assign({},e.filters),{tag:Object.assign({},e.filters.tag),[E.e]:a?[...r,t.id]:r.filter(e=>e!==t.id)})}},()=>{a?this.props.onFilterAdded(E.e,t.id):this.onDelete(E.e,t.id)})},this.onOrgUnitToggle=e=>{this.setState({isOrgUnitSelectExpanded:e})},this.getTagKeySelect=()=>{const{t:e}=this.props,{currentCategory:t,currentTagKey:a,isTagKeySelectExpanded:r}=this.state;if(t!==E.h)return null;const s=this.getTagKeyOptions().map(e=>D.a.createElement(c.a,{key:e.key,value:e.key}));return D.a.createElement(u.a,null,D.a.createElement(o.a,{variant:l.e.typeahead,"aria-label":e("filter_by.tag_key_aria_label"),onClear:this.onTagKeyClear,onToggle:this.onTagKeyToggle,onSelect:this.onTagKeySelect,isOpen:r,placeholderText:e("filter_by.tag_key_placeholder"),selections:a},s))},this.onTagKeyClear=()=>{this.setState({currentTagKey:void 0,isTagKeySelectExpanded:!1})},this.onTagKeySelect=(e,t,a)=>{this.setState({currentTagKey:t,isTagKeySelectExpanded:!this.state.isTagKeySelectExpanded})},this.onTagKeyToggle=e=>{this.setState({isTagKeySelectExpanded:e})},this.getTagValueSelect=e=>{const{t:t}=this.props,{currentCategory:a,currentTagKey:u,filters:p,isTagValueSelectExpanded:h,tagKeyValueInput:d}=this.state,g=this.getTagValueOptions().map(e=>D.a.createElement(c.a,{key:e.key,value:e.key}));return D.a.createElement(r.a,{categoryName:e,chips:p.tag[e.key],deleteChip:this.onDelete,key:e.key,showToolbarItem:a===E.h&&u===e.key},Boolean(g.length<50)?D.a.createElement(o.a,{variant:l.e.checkbox,"aria-label":t("filter_by.tag_value_aria_label"),onToggle:this.onTagValueToggle,onSelect:this.onTagValueSelect,selections:p.tag[e.key]?p.tag[e.key]:[],isOpen:h,placeholderText:t("filter_by.tag_value_placeholder")},g):D.a.createElement(s.a,null,D.a.createElement(n.a,{name:"tagkeyvalue-input",id:"tagkeyvalue-input",type:"search","aria-label":t("filter_by.tag_value_aria_label"),onChange:this.onTagValueInputChange,value:d,placeholder:t("filter_by.tag_value_input_placeholder"),onKeyDown:e=>this.onTagValueInput(e)}),D.a.createElement(i.a,{variant:i.c.control,"aria-label":t("filter_by.tag_value_button_aria_label"),onClick:e=>this.onTagValueInput(e)},D.a.createElement(S.SearchIcon,null))))},this.onTagValueInputChange=e=>{this.setState({tagKeyValueInput:e})},this.onTagValueInput=e=>{const{currentTagKey:t,tagKeyValueInput:a}=this.state;e.key&&"Enter"!==e.key||""===a.trim()||this.setState(e=>{const r=e.filters.tag[t]?e.filters.tag[t]:[];return{filters:Object.assign(Object.assign({},e.filters),{tag:Object.assign(Object.assign({},e.filters.tag),{[t]:[...r,a]})}),tagKeyValueInput:""}},()=>{this.props.onFilterAdded(`${E.i}${t}`,a)})},this.onTagValueSelect=(e,t)=>{const{currentTagKey:a}=this.state,r=e.target.checked;this.setState(e=>{const s=e.filters.tag[a]?e.filters.tag[a]:[];return{filters:Object.assign(Object.assign({},e.filters),{tag:Object.assign(Object.assign({},e.filters.tag),{[a]:r?[...s,t]:s.filter(e=>e!==t)})})}},()=>{r?this.props.onFilterAdded(`${E.i}${a}`,t):this.onDelete(a,t)})},this.onTagValueToggle=e=>{this.setState({isTagValueSelectExpanded:e})},this.getExportButton=()=>{const{isExportDisabled:e}=this.props;return D.a.createElement(u.a,null,D.a.createElement(i.a,{isDisabled:e,onClick:this.handleExportClicked,variant:i.c.plain},D.a.createElement(v.ExportIcon,null)))},this.handleExportClicked=()=>{this.props.onExportClicked()}}componentDidMount(){this.setState({currentCategory:this.getDefaultCategory()})}componentDidUpdate(e,t){const{categoryOptions:a,groupBy:r,orgReport:s,query:n,tagReport:i}=this.props;(a!==e.categoryOptions||r!==e.groupBy||n&&!Object(j.a)(n,e.query)||s&&!Object(j.a)(s,e.orgReport)||i&&!Object(j.a)(i,e.tagReport))&&this.setState(()=>{const t=this.getActiveFilters(n);return a!==e.categoryOptions||e.groupBy!==r?{currentCategory:this.getDefaultCategory(),filters:t}:{filters:t}})}getCategoryDropdown(){const{categoryOptions:e}=this.props,{isCategoryDropdownOpen:t}=this.state;return e?D.a.createElement(u.a,null,D.a.createElement(p.a,{onSelect:this.onCategorySelect,position:h.d.left,toggle:D.a.createElement(d.a,{onToggle:this.onCategoryToggle,style:{width:"100%"}},D.a.createElement(O.FilterIcon,null)," ",this.getCurrentCategoryOption().name),isOpen:t,dropdownItems:e&&e.map(e=>D.a.createElement(g.a,{key:e.key,onClick:()=>this.onCategoryClick(e.key)},e.name)),style:{width:"100%"}})):null}getOrgUnitOptions(){const{orgReport:e}=this.props;let t=[];if(!e||!e.data)return t;const a=e.data.sort((e,t)=>e[E.f]<t[E.f]?-1:e[E.f]>t[E.f]?1:0),r=a.filter(e=>0===e.level),s=a.filter(e=>0!==e.level);return r.map(e=>{const t=a.find(t=>t[E.e]===e[E.e]);s.unshift(t)}),s.length>0&&(t=s.map(e=>({key:e[E.e],name:e[E.f]}))),t}getTagKeyOptions(){const{tagReport:e}=this.props;let t=[],a=[];if(!e||!e.data)return a;let r=!1;for(const t of e.data)if(t.hasOwnProperty("key")){r=!0;break}if(r){const a=e.data.map(e=>{var{type:t}=e;return I(e,["type"])});t=Object(C.uniqBy)(a,"key")}else t=Object(C.uniq)(e.data);return t.length>0&&(a=t.map(e=>{const t=r?e.key:e;return{key:t,name:t}})),a}getTagValueOptions(){const{tagReport:e}=this.props,{currentTagKey:t}=this.state;let a=[];e&&e.data&&(a=[...new Set([...e.data])]);let r=[];if(a.length>0)for(const e of a)if(t===e.key&&e.values){r=e.values.map(e=>({key:e,name:e}));break}return r}render(){const{categoryOptions:e,pagination:t,showExport:a}=this.props,r=e||this.getDefaultCategoryOptions();return D.a.createElement("div",{style:B.toolbarContainer},D.a.createElement(m.a,{id:"details-toolbar",clearAllFilters:this.onDelete,collapseListedFiltersBreakpoint:"xl"},D.a.createElement(y.a,null,D.a.createElement(b.a,{breakpoint:"xl",toggleIcon:D.a.createElement(O.FilterIcon,null)},D.a.createElement(f.a,{variant:"filter-group"},this.getCategoryDropdown(),this.getTagKeySelect(),this.getTagKeyOptions().map(e=>this.getTagValueSelect(e)),this.getOrgUnitSelect(),r&&r.filter(e=>e.key!==E.h&&e.key!==E.e).map(e=>this.getCategoryInput(e))),Boolean(a)&&D.a.createElement(f.a,null,this.getExportButton())),D.a.createElement(u.a,{alignment:{default:"alignRight"},variant:"pagination"},t))))}}const P=Object(k.e)()(q)},2820:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var r=a(2408),s=a(174),n=a(2409),i=a(1),o=a.n(i),l=a(123),c=a(492);class u extends o.a.Component{constructor(){super(...arguments),this.getAvailableNavItems=()=>[{navItem:"aws"},{navItem:"azure"}],this.getNavItemTitle=e=>{const{t:t}=this.props;return"aws"===e?t("aws_details.title"):"azure"===e?t("azure_details.title"):void 0},this.getNavItem=(e,t)=>{const{activeItem:a}=this.props,s=(e=>{switch(e){case"aws":return"aws";case"azure":return"azure"}})(e);return o.a.createElement(r.a,{key:s,itemId:s,isActive:a===e},this.getNavItemTitle(e))},this.handleOnSelect=e=>{const{history:t}=this.props,a=t.location.pathname.split("/");a[a.length-1]=void 0;let r=a[0];a[1]&&(r+="/"+a[1]),"aws"===e.itemId?t.replace(r+"/aws"):"azure"===e.itemId&&t.replace(r+"/azure")}}render(){const e=this.getAvailableNavItems();return o.a.createElement(s.a,{onSelect:this.handleOnSelect,variant:"tertiary"},o.a.createElement(n.a,null,e.map((e,t)=>this.getNavItem(e.navItem,t))))}}const p=Object(c.a)(Object(l.e)()(u))},4340:function(e,t,a){"use strict";a.r(t);var r=a(2445),s=a(135),n=a(178),i=a(21),o=a(2510),l=a(2532),c=a(2531),u=a(272),p=a(2587),h=a(1),d=a.n(h),g=a(123),m=a(132),y=a(176),b=a(34),f=a(16);function v(e={}){return e.subscription_guid?"subscription_guid":e.instance_type?"instance_type":e.resource_location?"resource_location":e.service_name?"service_name":"date"}var O=a(2467),S=a(2357),E=a(2405),C=a(2364);const _={azureDetails:{minHeight:"100%"},content:{paddingBottom:S.a.value,paddingTop:S.a.value},paginationContainer:{marginLeft:S.a.value,marginRight:S.a.value},pagination:{backgroundColor:E.a.value,padding:C.a.value},tableContainer:{marginLeft:S.a.value,marginRight:S.a.value}};var D=a(2345),k=a(2595),j=a(2820),x=a(2476),T=a(2459),R=a(2359),w=a(2377),B=a(2360),L=a(2349);const I={cost:{display:"flex",alignItems:"center"},costLabel:{},costValue:{marginTop:0,marginBottom:0,marginRight:C.a.var},costLabelUnit:{fontSize:R.a.value,color:w.a.var},costLabelDate:{fontSize:R.a.value,color:B.a.var},header:{display:"flex",justifyContent:"space-between",padding:S.a.var,backgroundColor:E.a.var},nav:{marginBottom:S.a.var},title:{paddingBottom:L.a.var}},z={delta:"cost",filter:{time_scope_units:"month",time_scope_value:-1,resolution:"monthly"}},q=[{label:"subscription_guid",value:"subscription_guid"},{label:"service_name",value:"service_name"},{label:"resource_location",value:"resource_location"}];class P extends d.a.Component{render(){const{groupBy:e,onGroupByClicked:t,providers:a,providersError:r,report:s,t:n}=this.props,i=s&&!r&&a&&a.meta&&a.meta.count>0,o=s&&s.meta&&s.meta.total&&s.meta.total.cost&&s.meta.total.cost.total;return d.a.createElement("header",{style:I.header},d.a.createElement("div",null,d.a.createElement(D.a,{headingLevel:"h2",style:I.title,size:"xl"},n("navigation.infrastructure_details")),d.a.createElement("div",{style:I.nav},d.a.createElement(j.a,{activeItem:"azure"})),d.a.createElement(k.a,{getIdKeyForGroupBy:v,groupBy:e,isDisabled:!i,onItemClicked:t,options:q,reportPathsType:"azure",showTags:!0})),Boolean(i)&&d.a.createElement("div",{style:I.cost},d.a.createElement(D.a,{headingLevel:"h2",style:I.costValue,size:"4xl"},Object(T.a)(o?s.meta.total.cost.total.value:0)),d.a.createElement("div",{style:I.costLabel},d.a.createElement("div",{style:I.costLabelUnit},n("azure_details.total_cost")),d.a.createElement("div",{style:I.costLabelDate},Object(x.c)()))))}}const M=Object(y.a)((e,t)=>{const a=Object(s.a)(z),r=Object(n.a)(b.b);return{providers:b.f.selectProviders(e,"azure",r),providersError:b.f.selectProvidersError(e,"azure",r),providersFetchStatus:b.f.selectProvidersFetchStatus(e,"azure",r),queryString:a}}),N=Object(g.e)()(Object(m.connect)(M,{})(P));var F=a(2343),G=a(2344),A=a(2346),U=a(488),V=a(319),K=a(88),$=a(2451),H=a(2446),W=a(2511),Q=a(2480),J=a(2594),Y=a(2547),X=a(2350),Z=a(2358),ee=a(2362),te=a(2363),ae=a(2382),re=a(2412),se=a(2464);const ne={emptyState:{backgroundColor:E.a.value,display:"flex",justifyContent:"center",paddingTop:X.a.value,height:"35vh",width:"100%"},infoArrow:{position:"relative"},infoArrowDesc:{bottom:Z.a.value},infoDescription:{color:ee.a.value,fontSize:te.a.value}},ie=se.a`
  div {
    display: block;
    margin-right: 0;
    margin-bottom: ${Z.a.value};
    &.iconOverride {
      &.decrease {
        color: ${ae.a.value};
      }
      &.increase {
        color: ${re.a.value};
      }
      .fa-sort-up,
      .fa-sort-down {
        margin-left: 10px;
      }
      .fa-sort-up::before {
        color: ${re.a.value};
      }
      .fa-sort-down::before {
        color: ${ae.a.value};
      }
      span {
        margin-right: -17px !important;
      }
    }
  }
`,oe=se.a`
  &.pf-c-table {
    thead th + th + th {
      .pf-c-table__button {
        margin-left: auto
      }
      text-align: right;
    }
    tbody td + td + td + td {
      text-align: right;
    }
  }
`;class le extends d.a.Component{constructor(e){super(e),this.state={columns:[],rows:[]},this.buildCostLink=e=>{const{groupBy:t,query:a}=this.props,r=Object.assign(Object.assign({},a),{group_by:{[t]:e}});return"/details/azure/breakdown?"+Object(s.b)(r)},this.initDatum=()=>{const{query:e,report:t,t:a}=this.props;if(!e||!t)return;const r=v(e.group_by),s=this.getGroupByTagKey(),n=Object(T.a)(t&&t.meta&&t.meta.total&&t.meta.total.cost&&t.meta.total.cost.total?t.meta.total.cost.total.value:0),i=s?[{title:a("ocp_details.tag_column_title")},{title:a("azure_details.change_column_title")},{orderBy:"cost",title:a("azure_details.cost_column_title",{total:n}),transforms:[V.a]},{title:""}]:[{orderBy:r,title:a("azure_details.name_column_title",{groupBy:r}),transforms:[V.a]},{title:a("azure_details.change_column_title")},{orderBy:"cost",title:a("azure_details.cost_column_title"),transforms:[V.a]},{title:""}],o=[];Object(O.b)({report:t,idKey:s||r}).map((e,t)=>{const a=e&&null!==e.label?e.label:"",n=this.getMonthOverMonthCost(e,t),i=this.getTotalCost(e,t),l=this.getActions(e,t);let c=d.a.createElement(Y.a,{to:this.buildCostLink(a.toString())},a);a!=="no-"+r&&a!=="no-"+s||(c=a),o.push({cells:[{title:d.a.createElement("div",null,c)},{title:d.a.createElement("div",null,n)},{title:d.a.createElement("div",null,i)},{title:d.a.createElement("div",null,l)}],isOpen:!1,item:e})}),this.setState({columns:i,rows:o,sortBy:{}})},this.getActions=(e,t)=>{const{groupBy:a,query:r}=this.props;return d.a.createElement(J.a,{groupBy:a,item:e,query:r,reportPathsType:"azure"})},this.getEmptyState=()=>{const{query:e,t:t}=this.props;for(const t of Object.values(e.filter_by))if("*"!==t)return d.a.createElement(W.a,{filter:t,showMargin:!1});return d.a.createElement(F.a,null,d.a.createElement(G.a,{icon:U.CalculatorIcon}),d.a.createElement(A.a,null,t("azure_details.empty_state")))},this.getGroupByTagKey=()=>{const{query:e}=this.props;let t;for(const a of Object.keys(e.group_by)){const e=a.indexOf(i.i);if(-1!==e){t=a.substring(e+i.i.length);break}}return t},this.getMonthOverMonthCost=(e,t)=>{const{t:a}=this.props,r=Object(T.a)(Math.abs(e.cost-e.deltaValue)),s=null!==e.deltaPercent?Math.abs(e.deltaPercent).toFixed(2):0,n=!(0===s||"0.00"===s),i=null!==e.deltaPercent;let o;return n&&(o="iconOverride",null!==e.deltaPercent&&e.deltaValue<0&&(o+=" decrease"),null!==e.deltaPercent&&e.deltaValue>0&&(o+=" increase")),i?d.a.createElement("div",{className:ie},d.a.createElement("div",{className:o,key:"month-over-month-cost-"+t},Boolean(n)?a("percent",{value:s}):d.a.createElement(Q.a,null),Boolean(n&&null!==e.deltaPercent&&e.deltaValue>0)&&d.a.createElement("span",{className:"fa fa-sort-up",style:ne.infoArrow,key:"month-over-month-icon-"+t}),Boolean(n&&null!==e.deltaPercent&&e.deltaValue<0)&&d.a.createElement("span",{className:"fa fa-sort-down",style:Object.assign(Object.assign({},ne.infoArrow),ne.infoArrowDesc),key:"month-over-month-icon-"+t})),d.a.createElement("div",{style:ne.infoDescription,key:"month-over-month-info-"+t},Object(x.a)(r))):Object(x.b)()},this.getSortBy=()=>{const{query:e}=this.props,{columns:t}=this.state;let a=-1,r=K.a.asc;for(const s of Object.keys(e.order_by)){let n=0;for(const i of t){if(i.orderBy===s){r="asc"===e.order_by[s]?K.a.asc:K.a.desc,a=n+1;break}n++}}return a>-1?{index:a,direction:r}:{}},this.getTotalCost=(e,t)=>{const{report:a,t:r}=this.props,s=a&&a.meta&&a.meta.total&&a.meta.total.cost&&a.meta.total.cost.total?a.meta.total.cost.total.value:0;return d.a.createElement(d.a.Fragment,null,Object(T.a)(e.cost),d.a.createElement("div",{style:ne.infoDescription,key:"total-cost-"+t},r("percent_of_cost",{value:(e.cost/s*100).toFixed(2)})))},this.handleOnSelect=(e,t,a)=>{const{onSelected:r}=this.props;let s;if(-1===a?s=this.state.rows.map(e=>(e.selected=t,e)):(s=[...this.state.rows],s[a].selected=t),r){const e=[];for(const t of s)t.selected&&t.item&&!t.parent&&e.push(t.item);r(e)}this.setState({rows:s})},this.handleOnSort=(e,t,a)=>{const{onSort:r}=this.props,{columns:s}=this.state;if(r){r(s[t-1].orderBy,a===K.a.asc)}},this.handleOnSelect=this.handleOnSelect.bind(this),this.handleOnSort=this.handleOnSort.bind(this)}componentDidMount(){this.initDatum()}componentDidUpdate(e){const{query:t,report:a}=this.props,r=a&&a.data?JSON.stringify(a.data):"",n=e.report&&e.report.data?JSON.stringify(e.report.data):"";Object(s.a)(e.query)===Object(s.a)(t)&&n===r||this.initDatum()}render(){const{columns:e,rows:t}=this.state;return d.a.createElement(d.a.Fragment,null,d.a.createElement(K.b,{"aria-label":"details-table",cells:e,className:oe,rows:t,sortBy:this.getSortBy(),onSelect:this.handleOnSelect,onSort:this.handleOnSort,gridBreakPoint:"grid-2xl"},d.a.createElement($.a,null),d.a.createElement(H.a,null)),Boolean(0===t.length)&&d.a.createElement("div",{style:ne.emptyState},this.getEmptyState()))}}const ce=Object(g.e)()(le);var ue=a(2596),pe=a(2509);class he extends d.a.Component{constructor(){super(...arguments),this.defaultState={},this.state=Object.assign({},this.defaultState),this.getCategoryOptions=()=>{const{report:e,t:t}=this.props,a=[{name:t("filter_by.values.subscription_guid"),key:"subscription_guid"},{name:t("filter_by.values.service_name"),key:"service_name"},{name:t("filter_by.values.resource_location"),key:"resource_location"},{name:t("filter_by.values.tag"),key:i.h}];return e&&e.data&&e.data.length?a:a.filter(e=>e.key!==i.h)}}componentDidMount(){const{fetchReport:e,queryString:t}=this.props;e("azure","tag",t),this.setState({categoryOptions:this.getCategoryOptions()})}componentDidUpdate(e,t){const{fetchReport:a,query:r,queryString:s,report:n}=this.props;r&&!Object(pe.a)(r,e.query)&&a("azure","tag",s),Object(pe.a)(n,e.report)||this.setState({categoryOptions:this.getCategoryOptions()})}render(){const{groupBy:e,isExportDisabled:t,onExportClicked:a,onFilterAdded:r,onFilterRemoved:s,pagination:n,query:i,report:o}=this.props,{categoryOptions:l}=this.state;return d.a.createElement(ue.a,{categoryOptions:l,groupBy:e,isExportDisabled:t,onExportClicked:a,onFilterAdded:r,onFilterRemoved:s,pagination:n,query:i,tagReport:o,showExport:!0})}}const de=Object(y.a)(e=>{const t=Object(s.a)({filter:{resolution:"monthly",time_scope_units:"month",time_scope_value:-1}});return{queryString:t,report:f.c.selectReport(e,"azure","tag",t),reportFetchStatus:f.c.selectReportFetchStatus(e,"azure","tag",t)}}),ge={fetchReport:f.a.fetchReport},me=Object(g.e)()(Object(m.connect)(de,ge)(he)),ye={delta:"cost",filter:{limit:10,offset:0,resolution:"monthly",time_scope_units:"month",time_scope_value:-1},filter_by:{},group_by:{subscription_guid:"*"},order_by:{cost:"desc"}};class be extends d.a.Component{constructor(e,t){super(e,t),this.defaultState={columns:[],isExportModalOpen:!1,rows:[],selectedItems:[]},this.state=Object.assign({},this.defaultState),this.getExportModal=e=>{const{isExportModalOpen:t,selectedItems:a}=this.state,{query:r}=this.props,s=v(r.group_by),n=this.getGroupByTagKey();return d.a.createElement(o.a,{isAllItems:a.length===e.length,groupBy:n?`${i.i}${n}`:s,isOpen:t,items:a,onClose:this.handleExportModalClose,query:r,reportPathsType:"azure"})},this.getGroupByTagKey=()=>{const{query:e}=this.props;let t;for(const a of Object.keys(e.group_by)){const e=a.indexOf(i.i);if(-1!==e){t=a.substring(e+i.i.length);break}}return t},this.getPagination=(e=!1)=>{const{report:t}=this.props,a=t&&t.meta?t.meta.count:0,s=t&&t.meta&&t.meta.filter&&t.meta.filter.limit?t.meta.filter.limit:ye.filter.limit,n=(t&&t.meta&&t.meta.filter&&t.meta.filter.offset?t.meta.filter.offset:ye.filter.offset)/s+1;return d.a.createElement(r.a,{isCompact:!0,itemCount:a,onPerPageSelect:this.handlePerPageSelect,onSetPage:this.handleSetPage,page:n,perPage:s,variant:e?r.b.bottom:r.b.top,widgetId:"`pagination${isBottom ? '-bottom' : ''}`"})},this.getTable=()=>{const{query:e,report:t}=this.props,a=v(e.group_by),r=this.getGroupByTagKey();return d.a.createElement(ce,{groupBy:r?`${i.i}${r}`:a,onSelected:this.handleSelected,onSort:this.handleSort,query:e,report:t})},this.getToolbar=()=>{const{selectedItems:e}=this.state,{query:t,report:a}=this.props,r=v(t.group_by),s=this.getGroupByTagKey();return d.a.createElement(me,{groupBy:s?`${i.i}${s}`:r,isExportDisabled:0===e.length,onExportClicked:this.handleExportModalOpen,onFilterAdded:this.handleFilterAdded,onFilterRemoved:this.handleFilterRemoved,pagination:this.getPagination(),query:t,report:a})},this.handleExportModalClose=e=>{this.setState({isExportModalOpen:e})},this.handleExportModalOpen=()=>{this.setState({isExportModalOpen:!0})},this.handleFilterAdded=(e,t)=>{const{history:a,query:r}=this.props,s=Object.assign({},JSON.parse(JSON.stringify(r))),n=this.getGroupByTagKey(),o=e===i.h?`${i.i}${n}`:e;if("*"===t&&"*"===s.group_by[o])return;if(s.filter_by[o]){let e=!1;const a=s.filter_by[o];if(Array.isArray(a)){for(const r of a)if(r===t){e=!0;break}}else e=t===s.filter_by[o];e||(s.filter_by[o]=[s.filter_by[o],t])}else s.filter_by[e]=[t];const l=this.getRouteForQuery(s,!0);a.replace(l)},this.handleFilterRemoved=(e,t)=>{const{history:a,query:r}=this.props,s=Object.assign({},JSON.parse(JSON.stringify(r)));if(null===e)s.filter_by=void 0;else if(null===t)s.filter_by[e]=void 0;else if(Array.isArray(s.filter_by[e])){const a=s.filter_by[e].indexOf(t);a>-1&&(s.filter_by[e]=[...r.filter_by[e].slice(0,a),...r.filter_by[e].slice(a+1)])}else s.filter_by[e]=void 0;const n=this.getRouteForQuery(s,!0);a.replace(n)},this.handleGroupByClick=e=>{const{history:t,query:a}=this.props,r=e,s=Object.assign(Object.assign({},JSON.parse(JSON.stringify(a))),{filter_by:void 0,group_by:{[r]:"*"},order_by:{cost:"desc"}});t.replace(this.getRouteForQuery(s,!0)),this.setState({selectedItems:[]})},this.handlePerPageSelect=(e,t)=>{const{history:a,query:r}=this.props,s=Object.assign({},JSON.parse(JSON.stringify(r)));s.filter=Object.assign(Object.assign({},r.filter),{limit:t});const n=this.getRouteForQuery(s,!0);a.replace(n)},this.handleSelected=e=>{this.setState({selectedItems:e})},this.handleSetPage=(e,t)=>{const{history:a,query:r,report:s}=this.props,n=s&&s.meta&&s.meta.filter&&s.meta.filter.limit?s.meta.filter.limit:ye.filter.limit,i=t*n-n,o=Object.assign({},JSON.parse(JSON.stringify(r)));o.filter=Object.assign(Object.assign({},r.filter),{offset:i});const l=this.getRouteForQuery(o);a.replace(l)},this.handleSort=(e,t)=>{const{history:a,query:r}=this.props,s=Object.assign({},JSON.parse(JSON.stringify(r)));s.order_by={},s.order_by[e]=t?"asc":"desc";const n=this.getRouteForQuery(s);a.replace(n)},this.updateReport=()=>{const{query:e,location:t,fetchReport:a,history:r,queryString:s}=this.props;t.search?a("azure","cost",s):r.replace(this.getRouteForQuery({filter_by:e?e.filter_by:void 0,group_by:e?e.group_by:void 0,order_by:{cost:"desc"}}))},this.handleExportModalClose=this.handleExportModalClose.bind(this),this.handleExportModalOpen=this.handleExportModalOpen.bind(this),this.handleFilterAdded=this.handleFilterAdded.bind(this),this.handleFilterRemoved=this.handleFilterRemoved.bind(this),this.handlePerPageSelect=this.handlePerPageSelect.bind(this),this.handleSelected=this.handleSelected.bind(this),this.handleSetPage=this.handleSetPage.bind(this),this.handleSort=this.handleSort.bind(this)}componentDidMount(){this.updateReport()}componentDidUpdate(e,t){const{location:a,report:r,reportError:s,queryString:n}=this.props,{selectedItems:i}=this.state,o=e.queryString!==n,l=!r&&!s,c=!a.search,u=t.selectedItems!==i;(o||l||c||u)&&this.updateReport()}getRouteForQuery(e,t=!1){const{history:a}=this.props;return t&&(e.filter=Object.assign(Object.assign({},e.filter),{offset:ye.filter.offset})),`${a.location.pathname}?${Object(s.b)(e)}`}render(){const{providers:e,providersFetchStatus:t,query:a,report:r,reportError:s,reportFetchStatus:n}=this.props,i=v(a.group_by),o=this.getGroupByTagKey(),h=Object(O.b)({report:r,idKey:o||i});if(1===t)return d.a.createElement(l.a,null);let g=null;if(s)g=!s.response||401!==s.response.status&&403!==s.response.status?d.a.createElement(p.a,null):d.a.createElement(u.a,null);else if(2===n){e&&e.meta&&0===e.meta.count&&2===t&&(g=d.a.createElement(c.a,null))}else 1===n&&(g=d.a.createElement(l.a,null));return d.a.createElement("div",{style:_.azureDetails},d.a.createElement(N,{groupBy:i,onGroupByClicked:this.handleGroupByClick,report:r}),Boolean(null!==g)?g:d.a.createElement("div",{style:_.content},this.getToolbar(),this.getExportModal(h),d.a.createElement("div",{style:_.tableContainer},this.getTable()),d.a.createElement("div",{style:_.paginationContainer},d.a.createElement("div",{style:_.pagination},this.getPagination(!0)))))}}const fe=Object(y.a)((e,t)=>{const a=Object(s.c)(location.search),r={delta:"cost",filter:Object.assign(Object.assign({},ye.filter),a.filter),filter_by:a.filter_by||ye.filter_by,group_by:a.group_by||ye.group_by,order_by:a.order_by||ye.order_by},i=Object(s.a)(r),o=f.c.selectReport(e,"azure","cost",i),l=f.c.selectReportError(e,"azure","cost",i),c=f.c.selectReportFetchStatus(e,"azure","cost",i),u=Object(n.a)(b.b);return{providers:b.f.selectProviders(e,"azure",u),providersFetchStatus:b.f.selectProvidersFetchStatus(e,"azure",u),query:r,queryString:i,report:o,reportError:l,reportFetchStatus:c}}),ve={fetchReport:f.a.fetchReport};var Oe=Object(g.e)()(Object(m.connect)(fe,ve)(be));t.default=Oe},4347:function(e,t,a){"use strict";a.r(t);var r=a(136),s=a(2593),n=a(2548),i=a(1),o=a.n(i),l=a(123),c=a(132),u=a(176),p=a(16),h=a(2591),d=a(261);const g=Object(u.a)(e=>({selectWidgets:d.b.selectWidgets(e),widgets:d.b.selectCurrentWidgets(e)})),m=Object(l.e)()(Object(c.connect)(g,{})(h.a));var y=a(2592),b=a(258);const f=Object(u.a)(e=>({selectWidgets:b.b.selectWidgets(e),widgets:b.b.selectCurrentWidgets(e)})),v=Object(l.e)()(Object(c.connect)(f,{})(y.a)),O=Object(u.a)(e=>{const t=Object(r.c)(location.search),a=Object(r.a)(t),s=p.c.selectReport(e,"azure","cost",a),i=p.c.selectReportError(e,"azure","cost",a),l=p.c.selectReportFetchStatus(e,"azure","cost",a),c=Object(n.b)(t),u=Object(n.a)(t);return{costOverviewComponent:o.a.createElement(m,{filterBy:c,groupBy:u,report:s}),detailsURL:"/details/azure",filterBy:c,groupBy:u,historicalDataComponent:o.a.createElement(v,{filterBy:c,groupBy:u}),query:t,queryString:a,report:s,reportError:i,reportFetchStatus:l,reportType:"cost",reportPathsType:"azure",title:c}}),S={fetchReport:p.a.fetchReport};var E=Object(l.e)()(Object(c.connect)(O,S)(s.a));t.default=E}}]);
//# sourceMappingURL=7f6ad8a34cbe78d810be.bundle.js.map
{"version":3,"sources":["webpack://koku-ui/./node_modules/@redhat-cloud-services/frontend-components/esm/Unavailable/Unavailable.js","webpack://koku-ui/./src/api/providers.ts","webpack://koku-ui/./src/api/queries/query.ts","webpack://koku-ui/./src/api/queries/userAccessQuery.ts","webpack://koku-ui/./src/api/reports/awsReports.ts","webpack://koku-ui/./src/api/reports/azureReports.ts","webpack://koku-ui/./src/api/reports/gcpReports.ts","webpack://koku-ui/./src/api/reports/ibmReports.ts","webpack://koku-ui/./src/api/reports/ocpCloudReports.ts","webpack://koku-ui/./src/api/reports/ocpReports.ts","webpack://koku-ui/./src/api/userAccess.ts","webpack://koku-ui/./src/components/charts/trendChart/trendChart.styles.ts","webpack://koku-ui/./src/components/charts/trendChart/trendChart.tsx","webpack://koku-ui/./src/modules/ocpOverviewWidget/ocpOverviewChart.styles.ts","webpack://koku-ui/./src/modules/ocpOverviewWidget/ocpOverviewChart.tsx","webpack://koku-ui/./src/modules/ocpOverviewWidget/ocpOverviewUtils.ts","webpack://koku-ui/./src/modules/ocpOverviewWidget/ocpOverviewWidget.styles.ts","webpack://koku-ui/./src/modules/ocpOverviewWidget/ocpOverviewWidget.tsx","webpack://koku-ui/./src/pages/state/noData/index.ts","webpack://koku-ui/./src/pages/state/notAvailable/notAvailable.tsx","webpack://koku-ui/./src/pages/state/notAvailable/index.ts","webpack://koku-ui/./src/store/common.ts","webpack://koku-ui/./src/store/providers/providersSelectors.ts","webpack://koku-ui/./src/store/providers/providersActions.ts","webpack://koku-ui/./src/store/providers/providersCommon.ts","webpack://koku-ui/./src/store/providers/providersReducer.ts","webpack://koku-ui/./src/api/reports/awsCloudReports.ts","webpack://koku-ui/./src/api/reports/azureCloudReports.ts","webpack://koku-ui/./src/api/reports/ocpUsageReports.ts","webpack://koku-ui/./src/store/reports/reportCommon.ts","webpack://koku-ui/./src/store/reports/reportSelectors.ts","webpack://koku-ui/./src/store/reports/reportActions.ts","webpack://koku-ui/./src/api/reports/reportUtils.ts","webpack://koku-ui/./src/store/reports/reportReducer.ts","webpack://koku-ui/./src/store/userAccess/userAccessSelectors.ts","webpack://koku-ui/./src/store/userAccess/userAccessActions.ts","webpack://koku-ui/./src/store/userAccess/userAccessCommon.ts","webpack://koku-ui/./src/store/userAccess/userAccessReducer.ts"],"names":["variant","className","icon","headingLevel","size","href","target","rel","fetchProviders","query","insights","window","queryString","chrome","auth","getUser","then","tagPrefix","breakdownDescKey","breakdownTitleKey","orgUnitIdKey","orgUnitNameKey","tagKey","getQueryRoute","stringify","encode","indices","getQuery","prefix","groupByOrPrefix","newQuery","filter_by","Object","assign","JSON","parse","key","keys","group_by","Array","isArray","push","convertFilterByToGroupBy","addGroupByPrefix","length","indexOf","q","addGroupByPrifix","parseQuery","index","filterByKey","substring","parseFilterByPrefix","groupByKey","parseGroupByPrefix","ignoreQueryPrefix","getUserAccessQuery","ReportTypePaths","runReport","reportType","path","fetchUserAccess","chartStyles","currentColorScale","chart_color_green_400","chart_color_green_300","chart_color_green_200","chart_color_green_100","chart_color_green_500","currentMonthData","fill","forecastConeData","strokeWidth","forecastConeDataColorScale","forecastData","forecastDataColorScale","itemsPerRow","previousColorScale","chart_color_black_200","previousMonthData","yAxis","axisLabel","padding","grid","stroke","ticks","tickLabels","fontSize","xAxis","TrendChart","super","arguments","this","containerRef","resizeObserver","noop","navToggle","state","hiddenSeries","Set","width","initDatum","currentData","previousData","showForecast","showSupplementaryLabel","showUsageLegendLabel","props","tooltipKey","series","childName","data","legendItem","name","symbol","type","tooltip","style","cursorVoronoiContainer","getCursorVoronoiContainer","setState","initResizeObserve","containerElement","current","ResizeObserver","handleResize","observe","unobserve","addEventListener","removeEventListener","on","handleNavToggle","getAdjustedContainerHeight","adjustContainerHeight","height","containerHeight","adjustedContainerHeight","getChart","ChartArea","has","y","interpolation","formatDatumValue","formatDatumOptions","CursorVoronoiContainer","createContainer","cursorDimension","labels","datum","mouseFollowTooltips","voronoiDimension","voronoiPadding","bottom","left","right","top","getLegend","legendItemsPerRow","ChartLegend","gutter","orientation","handleLegendClick","setTimeout","clientWidth","prevProps","previousDate","getDate","currentDate","forecastDate","Math","max","getInteractiveLegendEvents","chartNames","isHidden","legendName","onLegendClick","title","domain","ge","endDate","getEndDate","midDate","floor","tooltipTitle","day","x","container","disable","labelComponent","ChartLegendTooltip","legendData","undefined","Title","ref","Chart","containerComponent","events","getEvents","legendAllowWrap","legendComponent","legendPosition","theme","map","s","ChartAxis","tickValues","dependentAxis","styles","chartContainer","marginLeft","global_spacer_2xl","chartSkeleton","marginBottom","global_spacer_md","marginTop","global_spacer_3xl","costChart","global_spacer_sm","legendSkeleton","titleContainer","global_spacer_lg","computedReportItem","computedReportItemValue","reportPathsType","OcpOverviewChartBase","stateProps","dispatchProps","defaultState","currentReport","previousReport","units","getUnits","formatValue","getSkeleton","Skeleton","meta","total","updateReport","currentQueryString","fetchReport","previousQueryString","currentReportError","previousReportError","currentReportFetchStatus","previousReportFetchStatus","mapStateToProps","currentQuery","filter","time_scope_units","time_scope_value","resolution","previousQuery","mapDispatchToProps","connect","baseQuery","backgroundColor","marginRight","paddingRight","paddingBottom","paddingTop","chartContent","OcpOverviewWidgetBase","providers","providersError","providersFetchStatus","userAccessError","userAccessFetchStatus","userAccess","isLoading","noProviders","ocpProviders","ocpProvidersFetchStatus","result","find","d","access","count","isOcpAvailable","queryFromRoute","location","search","perspective","dateRange","providersQueryString","userAccessQueryString","withRouter","PageHeader","PageHeaderTitle","Main","Unavailable","createMapStateToProps","selectProvidersState","selectAddProviderFetchStatus","fetchStatus","get","selectAddProviderError","errors","selectProviders","providerType","byId","selectProvidersFetchStatus","selectProvidersError","fetchProvidersRequest","createAction","fetchProvidersSuccess","fetchProvidersFailure","dispatch","reportId","res","catch","err","stateKey","addProviderKey","awsProvidersQuery","azureProvidersQuery","ocpProvidersQuery","gcpProvidersQuery","ibmProvidersQuery","getReportId","Map","providersReducer","action","getType","set","payload","reportStateKey","selectReportState","selectReport","selectReportFetchStatus","selectReportError","fetchReportRequest","fetchReportSuccess","fetchReportFailure","getState","report","Date","now","timeRequested","isReportExpired","reportReducer","selectUserAccessState","selectUserAccess","selectUserAccessFetchStatus","selectUserAccessError","fetchUserAccessRequest","fetchUserAccessSuccess","fetchUserAccessFailure","userAccessKey","allUserAccessQuery","userAccessReducer"],"mappings":"kMAyBA,QAhBkB,WAChB,OAAoB,kBAAoB,IAAY,CAClDA,QAAS,UACTC,UAAW,mDACG,kBAAoB,IAAgB,CAClDC,KAAM,OACS,kBAAoB,IAAO,CAC1CC,aAAc,KACdC,KAAM,MACL,wCAAsD,kBAAoB,IAAgB,KAAM,yGAAuH,kBAAoB,IAAK,CACjPC,KAAM,6BACNC,OAAQ,SACRC,IAAK,uBACJ,gBAAiB,0B,qECrBf,SAASC,EAAeC,GAC3B,MAAMC,EAAWC,OAAOD,SAClBE,EAAcH,EAAQ,IAAIA,IAAU,GAC1C,OAAIC,GAAYA,EAASG,QAAUH,EAASG,OAAOC,MAAQJ,EAASG,OAAOC,KAAKC,QACrEL,EAASG,OAAOC,KAAKC,UAAUC,MAAK,IAChC,QAAU,WAAWJ,OAIzB,QAAU,WAAWA,O,qICT7B,MAEMK,EAAY,OACZC,EAAmB,iBAEnBC,EAAoB,kBACpBC,EAAe,cACfC,EAAiB,gBACjBC,EAAS,MAmCf,SAASC,EAAcd,GAC1B,OAAO,IAAAe,WAAUf,EAAO,CAAEgB,QAAQ,EAAOC,SAAS,IAG/C,SAASC,EAASlB,EAAOmB,EAASC,OACrC,MAAMC,EA3BH,SAAkCrB,GACrC,IAAMA,IAASA,EAAMsB,UACjB,OAAOtB,EAEX,MAAMqB,EAAWE,OAAOC,OAAOD,OAAOC,OAAO,GAAIC,KAAKC,MAAMD,KAAKV,UAAUf,KAAU,CAAEsB,UAAW,KAClG,IAAK,MAAMK,KAAOJ,OAAOK,KAAK5B,EAAMsB,WAC3BD,EAASQ,WACVR,EAASQ,SAAW,IAEpBR,EAASQ,SAASF,IACbG,MAAMC,QAAQV,EAASQ,SAASF,MACjCN,EAASQ,SAASF,GAAkC,MAA3BN,EAASQ,SAASF,GAAe,CAACN,EAASQ,SAASF,IAAQ,IAEzFN,EAASQ,SAASF,GAAKK,KAAKhC,EAAMsB,UAAUK,KAG5CN,EAASQ,SAASF,GAAO3B,EAAMsB,UAAUK,GAGjD,OAAON,EAQUY,CAAyBjC,GAC1C,IAAIkC,GAAmB,EAEvB,GAAIb,GAAYA,EAASQ,SAAU,CAC/B,MAAMD,EAAOL,OAAOK,KAAKP,EAASQ,UAClC,GAAID,GAAQA,EAAKO,OAAS,EACtBD,GAAmB,OAInB,IAAK,MAAMP,KAAOC,GACTE,MAAMC,QAAQV,EAASQ,SAASF,KAASN,EAASQ,SAASF,GAAKQ,OAAS,IAC9C,IAA5BR,EAAIS,QAAQ5B,MACZ0B,GAAmB,GAMnC,MAAMG,EAAIH,EAzDP,SAA0BlC,EAAOmB,EAASC,OAC7C,IAAMpB,IAASA,EAAM6B,SACjB,OAAO7B,EAEX,MAAMqB,EAAWE,OAAOC,OAAOD,OAAOC,OAAO,GAAIC,KAAKC,MAAMD,KAAKV,UAAUf,KAAU,CAAE6B,SAAU,KACjG,IAAK,MAAMF,KAAOJ,OAAOK,KAAK5B,EAAM6B,UAChCR,EAASQ,SAAS,GAAGV,IAASQ,KAAS3B,EAAM6B,SAASF,GAE1D,OAAON,EAiDsBiB,CAAiBjB,EAAUF,GAAUE,EAClE,OAAO,IAAAN,WAAUsB,EAAG,CAAErB,QAAQ,EAAOC,SAAS,IA4B3C,SAASsB,EAAWvC,GAEvB,OA3BG,SAA6BA,EAAOmB,EAASC,OAChD,IAAMpB,IAASA,EAAMsB,UACjB,OAAOtB,EAEX,MAAMqB,EAAWE,OAAOC,OAAOD,OAAOC,OAAO,GAAIC,KAAKC,MAAMD,KAAKV,UAAUf,KAAU,CAAEsB,UAAW,KAClG,IAAK,MAAMK,KAAOJ,OAAOK,KAAK5B,EAAMsB,WAAY,CAC5C,MAAMkB,EAAQb,EAAIS,QAAQjB,GACpBsB,GAAyB,IAAXD,EAAeb,EAAIe,UAAUF,EAAQrB,EAAOgB,QAAUR,EAC1EN,EAASC,UAAUmB,GAAezC,EAAMsB,UAAUK,GAEtD,OAAON,EAiBAsB,CAdJ,SAA4B3C,EAAOmB,EAASC,OAC/C,IAAMpB,IAASA,EAAM6B,SACjB,OAAO7B,EAEX,MAAMqB,EAAWE,OAAOC,OAAOD,OAAOC,OAAO,GAAIC,KAAKC,MAAMD,KAAKV,UAAUf,KAAU,CAAE6B,SAAU,KACjG,IAAK,MAAMF,KAAOJ,OAAOK,KAAK5B,EAAM6B,UAAW,CAC3C,MAAMW,EAAQb,EAAIS,QAAQjB,GACpByB,GAAwB,IAAXJ,EAAeb,EAAIe,UAAUF,EAAQrB,EAAOgB,QAAUR,EACzEN,EAASQ,SAASe,GAAc5C,EAAM6B,SAASF,GAEnD,OAAON,EAIoBwB,EADV,IAAAnB,OAAM1B,EAAO,CAAE8C,mBAAmB,Q,6DCjGhD,SAASC,EAAmB/C,GAC/B,OAAO,IAAAe,WAAUf,EAAO,CAAEgB,QAAQ,EAAOC,SAAS,M,4ECD/C,MAAM+B,EAAkB,CAC3B,KAAqB,qBACrB,SAA6B,qBAC7B,QAA2B,qBAC3B,QAA2B,uBAC3B,cAAsC,+BAEnC,SAASC,EAAUC,EAAYlD,GAClC,MAAMmD,EAAOH,EAAgBE,GAC7B,OAAO,QAAU,GAAGC,KAAQnD,O,8ECTzB,MAAMgD,EAAkB,CAC3B,KAAqB,uBACrB,SAA6B,uBAC7B,QAA2B,uBAC3B,QAA2B,yBAC3B,cAAsC,iCAEnC,SAASC,EAAUC,EAAYlD,GAClC,MAAMmD,EAAOH,EAAgBE,GAC7B,OAAO,QAAU,GAAGC,KAAQnD,O,8ECTzB,MAAMgD,EAAkB,CAC3B,KAAqB,qBACrB,SAA6B,qBAC7B,QAA2B,qBAC3B,QAA2B,uBAC3B,cAAsC,+BAEnC,SAASC,EAAUC,EAAYlD,GAClC,MAAMmD,EAAOH,EAAgBE,GAC7B,OAAO,QAAU,GAAGC,KAAQnD,O,8ECRzB,MAAMgD,EAAkB,CAC3B,KAAqB,qBACrB,SAA6B,qBAC7B,QAA2B,qBAC3B,QAA2B,uBAC3B,cAAsC,+BAEnC,SAASC,EAAUC,EAAYlD,GAClC,MAAMmD,EAAOH,EAAgBE,GAC7B,OAAO,QAAU,GAAGC,KAAQnD,O,6ECVzB,MAAMgD,EAAkB,CAC3B,KAAqB,+CACrB,IAAmB,6BACnB,SAA6B,+CAC7B,cAAsC,wDACtC,OAAyB,4BACzB,QAA2B,+CAC3B,QAA2B,iDAC3B,OAAyB,8BAEtB,SAASC,EAAUC,EAAYlD,GAClC,MAAMmD,EAAOH,EAAgBE,GAC7B,OAAO,QAAU,GAAGC,KAAQnD,O,8ECZzB,MAAMgD,EAAkB,CAC3B,KAAqB,2BACrB,IAAmB,6BACnB,OAAyB,4BACzB,OAAyB,8BAEtB,SAASC,EAAUC,EAAYlD,GAClC,MAAMmD,EAAOH,EAAgBE,GAC7B,OAAO,QAAU,GAAGC,KAAQnD,O,sECPzB,SAASoD,EAAgBpD,GAC5B,MAAMC,EAAWC,OAAOD,SAClBE,EAAcH,EAAQ,IAAIA,IAAU,GAC1C,OAAIC,GAAYA,EAASG,QAAUH,EAASG,OAAOC,MAAQJ,EAASG,OAAOC,KAAKC,QACrEL,EAASG,OAAOC,KAAKC,UAAUC,MAAK,IAChC,QAAU,eAAeJ,OAI7B,QAAU,eAAeA,O,gPCLjC,MAAMkD,EAAc,CAEvBC,kBAAmB,CACfC,EAAA,SACAC,EAAA,SACAC,EAAA,SACAC,EAAA,SACAC,EAAA,UAEJC,iBAAkB,CACdC,KAAM,QAEVC,iBAAkB,CACdD,KAAMH,EAAA,SACNK,YAAa,GAEjBC,2BAA4B,CAACN,EAAA,UAC7BO,aAAc,CACVJ,KAAM,QAEVK,uBAAwB,CAACT,EAAA,UACzBU,YAAa,EAEbC,mBAAoB,CAACC,EAAA,SAA6BA,EAAA,UAClDC,kBAAmB,CACfT,KAAM,QAEVU,MAAO,CACHC,UAAW,CACPC,QAAS,IAEbC,KAAM,CACFC,OAAQ,QAEZC,MAAO,CACHD,OAAQ,QAEZE,WAAY,CACRC,SAAU,IAGlBC,MAAO,CACHP,UAAW,CACPC,QAAS,IAEbC,KAAM,CACFC,OAAQ,QAEZC,MAAO,CACHD,OAAQ,UC5CpB,MAAMK,UAAmB,cACrB,cACIC,SAASC,WACTC,KAAKC,aAAe,gBACpBD,KAAKE,eAAiBC,EAAA,EACtBH,KAAKI,UAAYD,EAAA,EACjBH,KAAKK,MAAQ,CACTC,aAAc,IAAIC,IAClBC,MAAO,GAEXR,KAAKS,UAAY,KACb,MAAM,YAAEC,EAAW,aAAE5B,EAAY,iBAAEH,EAAgB,aAAEgC,EAAY,aAAEC,EAAY,uBAAEC,GAAyB,EAAK,qBAAEC,GAAuB,GAAWd,KAAKe,MAClJvE,EAAMsE,EACN,2BACAD,EACI,wCACA,0BACJG,EAAaF,EACb,6BACAD,EACI,0CACA,4BAEJI,EAAS,CACX,CACIC,UAAW,eACXC,KAAMR,EACNS,WAAY,CACRC,MAAM,QAAmBV,EAAcnE,GAAK,GAAM,EAAM,GACxD8E,OAAQ,CACJ5C,KAAMR,EAAYe,mBAAmB,GACrCsC,KAAM,SAEVC,SAAS,QAAmBb,EAAcK,GAAY,GAAO,EAAO,IAExES,MAAO,CACHN,KAAM/E,OAAOC,OAAOD,OAAOC,OAAO,GAAI6B,EAAYiB,mBAAoB,CAAEK,OAAQtB,EAAYe,mBAAmB,OAGvH,CACIiC,UAAW,cACXC,KAAMT,EACNU,WAAY,CACRC,MAAM,QAAmBX,EAAalE,GAAK,GAAM,GACjD8E,OAAQ,CACJ5C,KAAMR,EAAYC,kBAAkB,GACpCoD,KAAM,SAEVC,SAAS,QAAmBd,EAAaM,GAAY,GAAO,IAEhES,MAAO,CACHN,KAAM/E,OAAOC,OAAOD,OAAOC,OAAO,GAAI6B,EAAYO,kBAAmB,CAAEe,OAAQtB,EAAYC,kBAAkB,QAIrHyC,IACAK,EAAOpE,KAAK,CACRqE,UAAW,WACXC,KAAMrC,EACNsC,WAAY,CACRC,MAAM,QAAmBvC,EAAc,oCAAoC,GAAO,GAClFwC,OAAQ,CACJ5C,KAAMR,EAAYa,uBAAuB,GACzCwC,KAAM,SAEVC,SAAS,QAAmB1C,EAAc,sCAAsC,GAAO,IAE3F2C,MAAO,CACHN,KAAM/E,OAAOC,OAAOD,OAAOC,OAAO,GAAI6B,EAAYY,cAAe,CAAEU,OAAQtB,EAAYa,uBAAuB,QAGtHkC,EAAOpE,KAAK,CACRqE,UAAW,eACXC,KAAMxC,EACNyC,WAAY,CACRC,MAAM,QAAmB1C,EAAkB,yCAAyC,GAAO,GAC3F2C,OAAQ,CACJ5C,KAAMR,EAAYW,2BAA2B,GAC7C0C,KAAM,cAEVC,SAAS,QAAmB7C,EAAkB,2CAA2C,GAAO,IAEpG8C,MAAO,CACHN,KAAM/E,OAAOC,OAAOD,OAAOC,OAAO,GAAI6B,EAAYS,kBAAmB,CAAEa,OAAQtB,EAAYW,2BAA2B,SAIlI,MAAM6C,EAAyB1B,KAAK2B,4BACpC3B,KAAK4B,SAAS,CAAEF,yBAAwBT,YAE5CjB,KAAK6B,kBAAoB,KACrB,MAAMC,EAAmB9B,KAAKC,aAAa8B,SACrC,eAAEC,GAAmBjH,OAC3B,GAAI+G,GAAoBE,EAAgB,CACpC,MAAM9B,EAAiB,IAAI8B,EAAehC,KAAKiC,cAC/C/B,EAAegC,QAAQJ,GACvB9B,KAAKE,eAAiB,IAAMA,EAAeiC,UAAUL,QAGrD9B,KAAKiC,eACLlH,OAAOqH,iBAAiB,SAAUpC,KAAKiC,cACvCjC,KAAKE,eAAiB,IAAMnF,OAAOsH,oBAAoB,SAAUrC,KAAKiC,cACtEjC,KAAKI,UAAYtF,SAASG,OAAOqH,GAAG,oBAAqBtC,KAAKuC,kBAGtEvC,KAAKwC,2BAA6B,KAC9B,MAAM,sBAAEC,EAAqB,OAAEC,EAAM,gBAAEC,EAAkBD,EAAM,aAAE9B,GAAiBZ,KAAKe,OACjF,MAAEP,GAAUR,KAAKK,MACvB,IAAIuC,EAA0BD,EAQ9B,OAPIF,GACI7B,GACIJ,EAAQ,MACRoC,GAA2B,IAIhCA,GAEX5C,KAAK6C,SAAW,CAAC5B,EAAQ5D,KACrB,MAAM,aAAEiD,GAAiBN,KAAKK,MAC9B,OAAQ,kBAAoB,EAAAyC,UAAW,CAAE3B,KAAOb,EAAayC,IAAI1F,GAAuB,CAAC,CAAE2F,EAAG,OAApB/B,EAAOE,KAAsB8B,cAAe,YAAazG,IAAKyE,EAAOC,UAAWG,KAAMJ,EAAOC,UAAWO,MAAOR,EAAOQ,SAGpMzB,KAAK2B,0BAA4B,KAC7B,MAAM,iBAAEuB,EAAgB,mBAAEC,GAAuBnD,KAAKe,MAEhDqC,GAAyB,IAAAC,iBAAgB,UAAW,UAC1D,OAAQ,kBAAoBD,EAAwB,CAAEE,gBAAiB,IAAKC,OAAQ,EAAGC,YAAY,QAAgBA,EAAON,EAAkBC,GAAqBM,qBAAqB,EAAMC,iBAAkB,IAAKC,eAAgB,CAC3NC,OAAQ,GACRC,KAAM,EACNC,MAAO,EACPC,IAAK,MAGjB/D,KAAKgE,UAAY,KACb,MAAM,kBAAEC,GAAsBjE,KAAKe,OAC7B,aAAET,EAAY,OAAEW,EAAM,MAAET,GAAUR,KAAKK,MAE7C,OAAQ,kBAAoB,EAAA6D,YAAa,CAAE/C,MAAM,QAAcF,EAAQX,GAAe6D,OAAQ,GAAIzB,OAAQ,GAAI1D,YAAaiF,EAAmB5C,KAAM,SAAU+C,YAAa5D,EAAQ,IAAM,aAAe,cAG5MR,KAAKqE,kBAAqBhH,IACtB,MAAMiD,GAAe,QAAiBN,KAAKK,MAAMY,OAAQjB,KAAKK,MAAMC,aAAcjD,GAClF2C,KAAK4B,SAAS,CAAEtB,kBAEpBN,KAAKuC,gBAAkB,KACnB+B,WAAWtE,KAAKiC,aAAc,MAElCjC,KAAKiC,aAAe,KAChB,MAAM,MAAEzB,GAAUR,KAAKK,OACjB,YAAEkE,EAAc,GAAMvE,KAAKC,aAAa8B,SAAW,GACrDwC,IAAgB/D,GAChBR,KAAK4B,SAAS,CAAEpB,MAAO+D,KAInC,oBACIvE,KAAKS,YACLT,KAAK6B,oBAET,mBAAmB2C,GACXA,EAAU9D,cAAgBV,KAAKe,MAAML,aACrC8D,EAAU1F,eAAiBkB,KAAKe,MAAMjC,cACtC0F,EAAU7F,mBAAqBqB,KAAKe,MAAMpC,kBAC1C6F,EAAU7D,eAAiBX,KAAKe,MAAMJ,cACtCX,KAAKS,YAGb,uBACQT,KAAKE,gBACLF,KAAKE,iBAELF,KAAKI,WACLJ,KAAKI,YAGb,aACI,MAAM,YAAEM,EAAW,aAAE5B,EAAY,aAAE6B,GAAiBX,KAAKe,MACnD0D,EAAe9D,GAAe,IAAA+D,UAAQ,QAAa/D,GAAc,GAAM,GAAM,IAAM,EACnFgE,EAAcjE,GAAc,IAAAgE,UAAQ,QAAahE,GAAa,GAAM,GAAM,IAAM,EAChFkE,EAAe9F,GAAe,IAAA4F,UAAQ,QAAa5F,GAAc,GAAM,GAAM,IAAM,EACzF,OAAO6F,EAAc,GAAKF,EAAe,EAAII,KAAKC,IAAIH,EAAaC,EAAcH,GAAgB,GAGrG,YACI,MAAM,aAAEnE,EAAY,OAAEW,GAAWjB,KAAKK,MAOtC,OANe,IAAA0E,4BAA2B,CACtCC,YAAY,QAAc/D,GAC1BgE,SAAU5H,IAAS,QAAeiD,EAAcjD,GAChD6H,WAAY,SACZC,cAAepE,GAASf,KAAKqE,kBAAkBtD,EAAM1D,SAI7D,SACI,MAAM,OAAEqF,EAAM,QAAEpD,EAAU,CACtBsE,OAAQ,GACRC,KAAM,EACNC,MAAO,EACPC,IAAK,GACR,MAAEqB,GAAWpF,KAAKe,OACb,uBAAEW,EAAsB,aAAEpB,EAAY,OAAEW,EAAM,MAAET,GAAUR,KAAKK,MAC/DgF,GAAS,IAAAC,IAAUrE,EAAQX,GAC3BiF,EAAUvF,KAAKwF,aACfC,EAAUZ,KAAKa,MAAMH,EAAU,GAErC,IAAII,EAEAA,EADA,KAAW,MACInC,GAAS,MAAU,2BAA4B,CAAEoC,IAAKpC,EAAMqC,IAG5DrC,GAAS,OAAOA,EAAMqC,IAGzC,MAAMC,EAAYpE,EACZ,iBAAmBA,EAAwB,CACzCqE,UAAU,QAAgB9E,EAAQX,GAClC0F,eAAiB,kBAAoB,EAAAC,mBAAoB,CAAEC,YAAY,QAAcjF,EAAQX,GAAc,GAAO8E,MAAOO,WAE3HQ,EACN,OAAQ,kBAAoB,aAAgB,KACxC,kBAAoB,EAAAC,MAAO,CAAE7L,aAAc,KAAMC,KAAM,MAAQ4K,GAC/D,kBAAoB,MAAO,CAAE/K,UAAW,gBAAiBgM,IAAKrG,KAAKC,aAAcwB,MAAO,CAAEiB,OAAQ1C,KAAKwC,+BACnG,kBAAoB,MAAO,CAAEf,MAAO,CAAEiB,SAAQlC,UAC1C,kBAAoB,EAAA8F,MAAO,CAAEC,mBAAoBT,EAAWT,OAAQA,EAAQmB,OAAQxG,KAAKyG,YAAa/D,OAAQA,EAAQgE,iBAAiB,EAAMC,gBAAiB3G,KAAKgE,YAAakC,YAAY,QAAcjF,EAAQX,GAAesG,eAAgB,cAAetH,QAASA,EAASuH,MAAO,IAAYrG,MAAOA,GACxSS,GACIA,EAAO6F,KAAI,CAACC,EAAG1J,IACJ2C,KAAK6C,SAASkE,EAAG1J,KAEhC,kBAAoB,EAAA2J,UAAW,CAAEvF,MAAOvD,EAAY0B,MAAOqH,WAAY,CAAC,EAAGxB,EAASF,KACpF,kBAAoB,EAAAyB,UAAW,CAAEE,eAAe,EAAMzF,MAAOvD,EAAYkB,e,6UC5O1F,MAIM+H,EAAS,CAClBC,eAAgB,CACZC,WAAYC,EAAA,UAEhBC,cAAe,CACX7E,OAAQ,QACR8E,aAAcC,EAAA,SACdC,UAAWC,EAAA,UAEfC,UAAW,CACPJ,aAAcK,EAAA,SACdH,UAAWG,EAAA,UAEfC,eAAgB,CACZJ,UAAWD,EAAA,UAEfM,eAAgB,CACZV,WAAYW,EAAA,WCddC,EAAqB,OACrBC,EAA0B,QAC1BC,EAAkB,MAClBpK,EAAa,OACnB,MAAMqK,UAA6B,cAC/B,YAAYC,EAAYC,GACpBxI,MAAMuI,EAAYC,GAClBtI,KAAKuI,aAAe,GACpBvI,KAAKK,MAAQjE,OAAOC,OAAO,GAAI2D,KAAKuI,cACpCvI,KAAK6C,SAAW,KACZ,MAAM,cAAE2F,EAAa,eAAEC,GAAmBzI,KAAKe,MACzC2H,EAAQ1I,KAAK2I,WACbjI,GAAc,QAAgB8H,EAAe,EAAiB,OAAQP,EAAoBC,GAC1FvH,GAAe,QAAgB8H,EAAgB,EAAiB,OAAQR,EAAoBC,GAClG,OAAQ,kBAAoB,IAAY,CAAEzF,uBAAuB,EAAME,gBDnBzD,ICmB4GjC,YAAaA,EAAawC,iBAAkB0F,EAAA,GAAalG,ODpB9K,ICoB+M/B,aAAcA,EAAc+H,MAAOA,KAE3P1I,KAAK6I,YAAc,IACP,kBAAoB,aAAgB,KACxC,kBAAoBC,EAAA,EAAU,CAAErH,MAAO0F,EAAOI,cAAe/M,KAAM,OACnE,kBAAoBsO,EAAA,EAAU,CAAErH,MAAO0F,EAAOW,eAAgBtN,KAAM,QAE5EwF,KAAK2I,SAAW,KACZ,MAAM,cAAEH,GAAkBxI,KAAKe,MAK/B,OAJiByH,GAAiBA,EAAcO,MAAQP,EAAcO,KAAKC,OAEvER,EAAcO,KAAKC,MAAwB,MAC3CR,EAAcO,KAAKC,MAAwB,KAAyB,OACvD,QAAcR,EAAcO,KAAKC,MAAwB,KAAyB,MAAEN,OAAS,IAElH1I,KAAKiJ,aAAe,KAChB,MAAM,mBAAEC,EAAkB,YAAEC,EAAW,oBAAEC,GAAwBpJ,KAAKe,MACtEoI,EAAYhB,EAAiBpK,EAAYmL,GACzCC,EAAYhB,EAAiBpK,EAAYqL,IAGjD,oBACIpJ,KAAKiJ,eAET,mBAAmBzE,GACf,MAAM,cAAEgE,EAAa,mBAAEa,EAAkB,mBAAEH,EAAkB,eAAET,EAAc,oBAAEa,EAAmB,oBAAEF,GAAyBpJ,KAAKe,OACjHyD,EAAU0E,qBAAuBA,GAAsB1E,EAAU4E,sBAAwBA,KACvFZ,GAAiBC,GAAqBY,GAAsBC,KAE3EtJ,KAAKiJ,eAGb,SACI,MAAM,yBAAEM,EAAwB,0BAAEC,EAAyB,MAAEpE,GAAUpF,KAAKe,MAC5E,OAAQ,kBAAoB,aAAgB,KACxC,kBAAoB,MAAO,CAAEU,MAAO0F,EAAOY,gBACvC,kBAAoB,EAAA3B,MAAO,CAAE7L,aAAc,KAAMC,KAAM,MAAQ4K,IACnE,kBAAoB,MAAO,CAAE3D,MAAO0F,EAAOC,gBACvC,kBAAoB,MAAO,CAAE3F,MAAO0F,EAAOS,WAA0C,IAA7B2B,GAAiF,IAA9BC,EACrGxJ,KAAK6I,cACL7I,KAAK6C,eAI3B,MAAM4G,GAAkB,SAAsB,CAACpJ,EAAOU,KAClD,MAAM2I,EAAe,CACjBC,OAAQ,CACJC,iBAAkB,QAClBC,kBAAmB,EACnBC,WAAY,UAGdC,EAAgB,CAClBJ,OAAQ,CACJC,iBAAkB,QAClBC,kBAAmB,EACnBC,WAAY,UAGdZ,GAAqB,QAASQ,GAC9BN,GAAsB,QAASW,GAOrC,MAAO,CACHL,eACAR,qBACAV,cATkB,kBAA6BnI,EAAO8H,EAAiBpK,EAAYmL,GAUnFG,mBATuB,uBAAkChJ,EAAO8H,EAAiBpK,EAAYmL,GAU7FK,yBAT6B,6BAAwClJ,EAAO8H,EAAiBpK,EAAYmL,GAUzGa,gBACAX,sBACAX,eAXmB,kBAA6BpI,EAAO8H,EAAiBpK,EAAYqL,GAYpFE,oBAXwB,uBAAkCjJ,EAAO8H,EAAiBpK,EAAYqL,GAY9FI,0BAX8B,6BAAwCnJ,EAAO8H,EAAiBpK,EAAYqL,OAc5GY,EAAqB,CACvBb,YAAa,kBAEjB,GAAe,IAAAc,SAAQR,EAAiBO,EAAxC,CAA4D5B,GC5G/C8B,EACD,CACJN,iBAAkB,QAClBC,kBAAmB,EACnBC,WAAY,SCHP,EAAS,CAClB1C,eAAgB,CACZ+C,gB,SAAiB,SACjB9C,WAAYW,EAAA,SACZoC,YAAapC,EAAA,SACbqC,aAAcrC,EAAA,SACdsC,cAAetC,EAAA,SACfuC,WAAYvC,EAAA,UAEhBwC,aAAc,CACVD,WAAYvC,EAAA,WCIpB,MAAMyC,UAA8B,cAChC,YAAYpC,EAAYC,GACpBxI,MAAMuI,EAAYC,GAClBtI,KAAKuI,aAAe,GACpBvI,KAAKK,MAAQjE,OAAOC,OAAO,GAAI2D,KAAKuI,cACpCvI,KAAKiJ,aAAe,KAChB,MAAM,eAAErO,EAAc,gBAAEqD,EAAe,YAAEjD,GAAgBgF,KAAKe,MAC9DnG,EAAe,MAAiBI,GAChCiD,EAAgB,GAAcjD,IAGtC,oBACIgF,KAAKiJ,eAET,mBAAmBzE,GACf,MAAM,YAAExJ,GAAgBgF,KAAKe,MACzByD,EAAUxJ,cAAgBA,GAC1BgF,KAAKiJ,eAGb,SACI,MAAM,UAAEyB,EAAS,eAAEC,EAAc,qBAAEC,EAAoB,gBAAEC,EAAe,sBAAEC,EAAqB,WAAEC,GAAgB/K,KAAKe,MAChHiK,EAAsC,IAA1BF,GAAyE,IAAzBF,EAC5DxF,EAAQpF,KAAKe,MAAMqE,MAEnB6F,GF1BgB,EAACC,EAAcC,EAAyBJ,KAClE,IAAIK,GAAS,EACb,GAAgC,IAA5BD,EAA8C,CAC9C,MAAMhK,EAAO4J,EAAW5J,KAAKkK,MAAKC,GAAgB,QAAXA,EAAE/J,OAGzC6J,EAF4BjK,GAAQA,EAAKoK,aAIhBpF,IAAjB+E,QACsB/E,IAAtB+E,EAAanC,MACbmC,EAAanC,KAAKyC,MAAQ,EAEtC,OAAOJ,GEckBK,CAAef,EAAWE,EAAsBG,GAErE,OAAIJ,GAAkBE,EACX,kBAAoB,IAAc,CAAEzF,MAAOA,IAE7C4F,EACE,kBAAoB,IAAS,CAAE5F,MAAOA,IAExC6F,EACE,kBAAoB,IAAa,CAAE7F,MAAOA,KAE1C,QAAoBsF,KAAc,QAAqBA,GAG1D,kBAAoB,MAAO,CAAEjJ,MAAO,gBACxC,kBAAoB,MAAO,CAAEA,MAAO,kBAChC,kBAAoB,EAAkB,CAAE2D,MAAOA,MAJ5C,kBAAoB,IAAQ,CAAEA,MAAOA,KAQxD,MAAM,GAAkB,SAAsB/E,IAC1C,MAAMqL,GAAiB,QAAWC,SAASC,QACrC/Q,EAAQ,CACV8O,OAAQvN,OAAOC,OAAOD,OAAOC,OAAO,GAAI6N,GAAmBwB,EAAe/B,SAExE3O,GAAc,QAASoB,OAAOC,OAAOD,OAAOC,OAAO,GAAIxB,GAAQ,CAAEgR,iBAAa1F,EAAW2F,eAAW3F,KACpG4F,GAAuB,OAAkB,MACzCrB,EAAY,qBAAmCrK,EAAO,MAAiB0L,GACvEpB,EAAiB,0BAAwCtK,EAAO,MAAiB0L,GACjFnB,EAAuB,gCAA8CvK,EAAO,MAAiB0L,GAC7FC,GAAwB,OAAmB,MAIjD,MAAO,CACHtB,YACAC,iBACAC,uBACAmB,uBACAlR,QACAG,cACA+P,WAVe,sBAAqC1K,EAAO,GAAc2L,GAWzEnB,gBAVoB,2BAA0CxK,EAAO,GAAc2L,GAWnFlB,sBAV0B,iCAAgDzK,EAAO,GAAc2L,GAW/FA,4BAGF,EAAqB,CACvBpR,eAAgB,QAChBqD,gBAAiB,SAErB,GAAe,IAAAgM,SAAQ,EAAiB,EAAxC,CAA4DQ,I,8CC3F5D,Q,SAAqB,G,kHCIrB,MCJA,GDWe,E,SAAAwB,aAPM,EAAG7G,WACZ,kBAAoB,aAAgB,KACxCA,GAAU,kBAAoB8G,EAAA,EAAY,KACtC,kBAAoBC,EAAA,EAAiB,CAAE/G,MAAOA,KAClD,kBAAoBgH,EAAA,EAAM,KACtB,kBAAoBC,EAAA,EAAa,W,6BETtC,SAASC,EAAsB7C,GAClC,OAAOA,E,wYCDJ,MAAM8C,EAAwBlM,GAAUA,EAAM,MAExCmM,EAAgCnM,GAAUkM,EAAqBlM,GAAOoM,YAAYC,IAAI,MACtFC,EAA0BtM,GAAUkM,EAAqBlM,GAAOuM,OAAOF,IAAI,MAE3EG,EAAkB,CAACxM,EAAOyM,EAAcjS,IAAU0R,EAAqBlM,GAAO0M,KAAKL,KAAI,OAAYI,EAAcjS,IACjHmS,EAA6B,CAAC3M,EAAOyM,EAAcjS,IAAU0R,EAAqBlM,GAAOoM,YAAYC,KAAI,OAAYI,EAAcjS,IACnIoS,EAAuB,CAAC5M,EAAOyM,EAAcjS,IAAU0R,EAAqBlM,GAAOuM,OAAOF,KAAI,OAAYI,EAAcjS,K,6GCL9H,MAAMqS,GAAwB,IAAAC,cAAa,0BAAb,GACxBC,GAAwB,IAAAD,cAAa,0BAAb,GACxBE,GAAwB,IAAAF,cAAa,0BAAb,GAC9B,SAASvS,EAAemD,EAAYlD,GACvC,OAAOyS,IACH,MAAMvE,EAAO,CACTwE,UAAU,OAAYxP,EAAYlD,IAGtC,OADAyS,EAASJ,EAAsBnE,KACxB,OAAgBlO,GAClBO,MAAKoS,IACNF,EAASF,EAAsBI,EAAIrM,KAAM4H,OAExC0E,OAAMC,IACPJ,EAASD,EAAsBK,EAAK3E,SAIZ,IAAAoE,cAAa,4B,6GCrB1C,MAAMQ,EAAW,YACXC,EAAiB,eACjBC,EAAoB,CAC7BtM,KAAM,OAEGuM,EAAsB,CAC/BvM,KAAM,SAEGwM,EAAoB,CAC7BxM,KAAM,OAEGyM,EAAoB,CAC7BzM,KAAM,OAEG0M,EAAoB,CAC7B1M,KAAM,OAEH,SAAS2M,EAAY3M,EAAM1G,GAC9B,MAAO,GAAG0G,MAAS1G,M,uEChBhB,MAAM0N,EAAe,CACxBwE,KAAM,IAAIoB,IACVvB,OAAQ,IAAIuB,IACZ1B,YAAa,IAAI0B,KAEd,SAASC,EAAiB/N,EAAQkI,EAAc8F,GACnD,OAAQA,EAAO9M,MACX,KAAK,IAAA+M,SAAQ,MACT,OAAOlS,OAAOC,OAAOD,OAAOC,OAAO,GAAIgE,GAAQ,CAAEoM,YAAa,IAAI0B,IAAI9N,EAAMoM,aAAa8B,IAAIF,EAAOG,QAAQjB,SAAU,KAC1H,KAAK,IAAAe,SAAQ,MACT,OAAOlS,OAAOC,OAAOD,OAAOC,OAAO,GAAIgE,GAAQ,CAAEoM,YAAa,IAAI0B,IAAI9N,EAAMoM,aAAa8B,IAAIF,EAAOtF,KAAKwE,SAAU,GAAmBR,KAAM,IAAIoB,IAAI9N,EAAM0M,MAAMwB,IAAIF,EAAOtF,KAAKwE,SAAUnR,OAAOC,OAAO,GAAIgS,EAAOG,UAAW5B,OAAQ,IAAIuB,IAAI9N,EAAMuM,QAAQ2B,IAAIF,EAAOtF,KAAKwE,SAAU,QAC1R,KAAK,IAAAe,SAAQ,MACT,OAAOlS,OAAOC,OAAOD,OAAOC,OAAO,GAAIgE,GAAQ,CAAEoM,YAAa,IAAI0B,IAAI9N,EAAMoM,aAAa8B,IAAIF,EAAOtF,KAAKwE,SAAU,GAAmBX,OAAQ,IAAIuB,IAAI9N,EAAMuM,QAAQ2B,IAAIF,EAAOtF,KAAKwE,SAAUc,EAAOG,WACzM,QACI,OAAOnO,K,kVCfZ,MAAMxC,EAAkB,CAC3B,KAAqB,+CACrB,SAA6B,+CAC7B,QAA2B,+CAC3B,QAA2B,iDAC3B,cAAsC,yD,aCLnC,MAAM,EAAkB,CAC3B,KAAqB,iDACrB,SAA6B,iDAC7B,QAA2B,iDAC3B,QAA2B,mDAC3B,cAAsC,2D,0DCLnC,MAAM,EAAkB,CAC3B,KAAqB,2BACrB,IAAmB,6BACnB,OAAyB,4BACzB,OAAyB,8B,eCLtB,MAAM4Q,EAAiB,SACvB,SAASP,EAAY/F,EAAiBpK,EAAYlD,GACrD,MAAO,GAAGsN,MAAoBpK,MAAelD,ICD1C,MAAM6T,EAAqBrO,GAAUA,EAAMoO,GACrCE,EAAe,CAACtO,EAAO8H,EAAiBpK,EAAYlD,IAAU6T,EAAkBrO,GAAO0M,KAAKL,IAAIwB,EAAY/F,EAAiBpK,EAAYlD,IACzI+T,EAA0B,CAACvO,EAAO8H,EAAiBpK,EAAYlD,IAAU6T,EAAkBrO,GAAOoM,YAAYC,IAAIwB,EAAY/F,EAAiBpK,EAAYlD,IAC3JgU,EAAoB,CAACxO,EAAO8H,EAAiBpK,EAAYlD,IAAU6T,EAAkBrO,GAAOuM,OAAOF,IAAIwB,EAAY/F,EAAiBpK,EAAYlD,ICChJiU,GAAqB,IAAA3B,cAAa,iBAAb,GACrB4B,GAAqB,IAAA5B,cAAa,iBAAb,GACrB6B,GAAqB,IAAA7B,cAAa,iBAAb,GAC3B,SAAShE,EAAYhB,EAAiBpK,EAAYlD,GACrD,MAAO,CAACyS,EAAU2B,KACd,IAkBR,SAAyB5O,EAAO8H,EAAiBpK,EAAYlD,GACzD,MAAMqU,EAASP,EAAatO,EAAO8H,EAAiBpK,EAAYlD,GAEhE,OAAoB,IADA+T,EAAwBvO,EAAO8H,EAAiBpK,EAAYlD,MAI3EqU,GAGOC,KAAKC,MACJF,EAAOG,cAlCH,MAMRC,CAAgBL,IAAY9G,EAAiBpK,EAAYlD,GAC1D,OAEJ,MAAMkO,EAAO,CACTwE,SAAUW,EAAY/F,EAAiBpK,EAAYlD,IAEvDyS,EAASwB,EAAmB/F,ICP7B,SAAmBZ,EAAiBpK,EAAYlD,GACnD,IAAIqU,EACJ,OAAQ/G,GACJ,IAAK,MACD+G,GAAS,OAAanR,EAAYlD,GAClC,MACJ,IAAK,YACDqU,ENRL,SAAmBnR,EAAYlD,GAClC,MAAMmD,EAAOH,EAAgBE,GAC7B,OAAO,QAAU,GAAGC,KAAQnD,KMMX,CAAkBkD,EAAYlD,GACvC,MACJ,IAAK,QACDqU,GAAS,OAAenR,EAAYlD,GACpC,MACJ,IAAK,cACDqU,ELdL,SAAmBnR,EAAYlD,GAClC,MAAMmD,EAAO,EAAgBD,GAC7B,OAAO,QAAU,GAAGC,KAAQnD,KKYX,CAAoBkD,EAAYlD,GACzC,MACJ,IAAK,MACDqU,GAAS,OAAanR,EAAYlD,GAClC,MACJ,IAAK,MACDqU,GAAS,OAAanR,EAAYlD,GAClC,MACJ,IAAK,MACDqU,GAAS,OAAanR,EAAYlD,GAClC,MACJ,IAAK,YACDqU,GAAS,OAAkBnR,EAAYlD,GACvC,MACJ,IAAK,YACDqU,EJ9BL,SAAmBnR,EAAYlD,GAClC,MAAMmD,EAAO,EAAgBD,GAC7B,OAAO,QAAU,GAAGC,KAAQnD,KI4BX,CAAkBkD,EAAYlD,GAG/C,OAAOqU,EDvBH,CAAU/G,EAAiBpK,EAAYlD,GAClCO,MAAKoS,IAGNF,EAASyB,EAAmBvB,EAAIrM,KAAM4H,OAErC0E,OAAMC,IACPJ,EAAS0B,EAAmBtB,EAAK3E,QEtB7C,MAAMR,EAAe,CACjBwE,KAAM,IAAIoB,IACV1B,YAAa,IAAI0B,IACjBvB,OAAQ,IAAIuB,KAET,SAASoB,EAAclP,EAAQkI,EAAc8F,GAChD,OAAQA,EAAO9M,MACX,KAAK,IAAA+M,SAAQQ,GACT,OAAO1S,OAAOC,OAAOD,OAAOC,OAAO,GAAIgE,GAAQ,CAAEoM,YAAa,IAAI0B,IAAI9N,EAAMoM,aAAa8B,IAAIF,EAAOG,QAAQjB,SAAU,KAC1H,KAAK,IAAAe,SAAQS,GACT,OAAO3S,OAAOC,OAAOD,OAAOC,OAAO,GAAIgE,GAAQ,CAAEoM,YAAa,IAAI0B,IAAI9N,EAAMoM,aAAa8B,IAAIF,EAAOtF,KAAKwE,SAAU,GAAmBR,KAAM,IAAIoB,IAAI9N,EAAM0M,MAAMwB,IAAIF,EAAOtF,KAAKwE,SAAUnR,OAAOC,OAAOD,OAAOC,OAAO,GAAIgS,EAAOG,SAAU,CAAEa,cAAeF,KAAKC,SAAWxC,OAAQ,IAAIuB,IAAI9N,EAAMuM,QAAQ2B,IAAIF,EAAOtF,KAAKwE,SAAU,QACxU,KAAK,IAAAe,SAAQU,GACT,OAAO5S,OAAOC,OAAOD,OAAOC,OAAO,GAAIgE,GAAQ,CAAEoM,YAAa,IAAI0B,IAAI9N,EAAMoM,aAAa8B,IAAIF,EAAOtF,KAAKwE,SAAU,GAAmBX,OAAQ,IAAIuB,IAAI9N,EAAMuM,QAAQ2B,IAAIF,EAAOtF,KAAKwE,SAAUc,EAAOG,WACzM,QACI,OAAOnO,K,0UCfZ,MAAMmP,EAAyBnP,GAAUA,EAAM,MAEzCmM,EAAgCnM,GAAUmP,EAAsBnP,GAAOoM,YAAYC,IAAI,MACvFC,EAA0BtM,GAAUmP,EAAsBnP,GAAOuM,OAAOF,IAAI,MAE5E+C,EAAmB,CAACpP,EAAOyM,EAAcjS,IAAU2U,EAAsBnP,GAAO0M,KAAKL,KAAI,OAAYI,EAAcjS,IACnH6U,EAA8B,CAACrP,EAAOyM,EAAcjS,IAAU2U,EAAsBnP,GAAOoM,YAAYC,KAAI,OAAYI,EAAcjS,IACrI8U,EAAwB,CAACtP,EAAOyM,EAAcjS,IAAU2U,EAAsBnP,GAAOuM,OAAOF,KAAI,OAAYI,EAAcjS,K,+GCLhI,MAAM+U,GAAyB,IAAAzC,cAAa,2BAAb,GACzB0C,GAAyB,IAAA1C,cAAa,2BAAb,GACzB2C,GAAyB,IAAA3C,cAAa,2BAAb,GAC/B,SAASlP,EAAgBF,EAAYlD,GACxC,OAAOyS,IACH,MAAMvE,EAAO,CACTwE,UAAU,OAAYxP,EAAYlD,IAGtC,OADAyS,EAASsC,EAAuB7G,KACzB,OAAiBlO,GACnBO,MAAKoS,IACNF,EAASuC,EAAuBrC,EAAIrM,KAAM4H,OAEzC0E,OAAMC,IACPJ,EAASwC,EAAuBpC,EAAK3E,SAIX,IAAAoE,cAAa,6B,yECrB5C,MAAMQ,EAAW,aACXoC,EAAgB,cAChBC,EAAqB,CAC9BzO,KAAM,IAoBH,SAAS2M,EAAY3M,EAAM1G,GAC9B,MAAO,GAAG0G,MAAS1G,M,wECtBhB,MAAM0N,EAAe,CACxBwE,KAAM,IAAIoB,IACVvB,OAAQ,IAAIuB,IACZ1B,YAAa,IAAI0B,KAEd,SAAS8B,EAAkB5P,EAAQkI,EAAc8F,GACpD,OAAQA,EAAO9M,MACX,KAAK,IAAA+M,SAAQ,MACT,OAAOlS,OAAOC,OAAOD,OAAOC,OAAO,GAAIgE,GAAQ,CAAEoM,YAAa,IAAI0B,IAAI9N,EAAMoM,aAAa8B,IAAIF,EAAOG,QAAQjB,SAAU,KAC1H,KAAK,IAAAe,SAAQ,MACT,OAAOlS,OAAOC,OAAOD,OAAOC,OAAO,GAAIgE,GAAQ,CAAEoM,YAAa,IAAI0B,IAAI9N,EAAMoM,aAAa8B,IAAIF,EAAOtF,KAAKwE,SAAU,GAAmBR,KAAM,IAAIoB,IAAI9N,EAAM0M,MAAMwB,IAAIF,EAAOtF,KAAKwE,SAAUnR,OAAOC,OAAO,GAAIgS,EAAOG,UAAW5B,OAAQ,IAAIuB,IAAI9N,EAAMuM,QAAQ2B,IAAIF,EAAOtF,KAAKwE,SAAU,QAC1R,KAAK,IAAAe,SAAQ,MACT,OAAOlS,OAAOC,OAAOD,OAAOC,OAAO,GAAIgE,GAAQ,CAAEoM,YAAa,IAAI0B,IAAI9N,EAAMoM,aAAa8B,IAAIF,EAAOtF,KAAKwE,SAAU,GAAmBX,OAAQ,IAAIuB,IAAI9N,EAAMuM,QAAQ2B,IAAIF,EAAOtF,KAAKwE,SAAUc,EAAOG,WACzM,QACI,OAAOnO","file":"c901f48353468957c5b2.bundle.js","sourcesContent":["import React from 'react';\nimport { EmptyState } from \"@patternfly/react-core/dist/esm/components/EmptyState/EmptyState.js\";\nimport { EmptyStateIcon } from \"@patternfly/react-core/dist/esm/components/EmptyState/EmptyStateIcon.js\";\nimport { EmptyStateVariant } from \"@patternfly/react-core/dist/esm/components/EmptyState/EmptyState.js\";\nimport { EmptyStateBody } from \"@patternfly/react-core/dist/esm/components/EmptyState/EmptyStateBody.js\";\nimport { Title } from \"@patternfly/react-core/dist/esm/components/Title/Title.js\";\nimport ExclamationCircleIcon from \"@patternfly/react-icons/dist/esm/icons/exclamation-circle-icon\";\nimport \"../../Unavailable/./Unavailable.css\";\n\nvar Unavailable = function Unavailable() {\n  return /*#__PURE__*/React.createElement(EmptyState, {\n    variant: EmptyStateVariant.large,\n    className: \"ins-c-empty-state__unavailable pf-m-redhat-font\"\n  }, /*#__PURE__*/React.createElement(EmptyStateIcon, {\n    icon: ExclamationCircleIcon\n  }), /*#__PURE__*/React.createElement(Title, {\n    headingLevel: \"h5\",\n    size: \"lg\"\n  }, \"This page is temporarily unavailable\"), /*#__PURE__*/React.createElement(EmptyStateBody, null, \"Try refreshing the page. If the problem persists, contact your organization administrator or visit our\", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://status.redhat.com/\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, \" status page\"), \" for known outages.\"));\n};\n\nexport default Unavailable;","import axios from 'axios';\nexport function fetchProviders(query) {\n    const insights = window.insights;\n    const queryString = query ? `?${query}` : '';\n    if (insights && insights.chrome && insights.chrome.auth && insights.chrome.auth.getUser) {\n        return insights.chrome.auth.getUser().then(() => {\n            return axios.get(`sources/${queryString}`);\n        });\n    }\n    else {\n        return axios.get(`sources/${queryString}`);\n    }\n}\n","import { parse, stringify } from 'qs';\nexport const groupByOrPrefix = 'or:'; // logical OR prefix for group_by\nexport const groupByAndPrefix = 'and:'; // logical AND prefix for group_by\nexport const tagPrefix = 'tag:'; // Tag prefix for group_by\nexport const breakdownDescKey = 'breakdown_desc'; // Used to display a description in the breakdown header\nexport const breakdownGroupByKey = 'breakdown_group_by'; // Used to display a breadcrumb in the breakdown header\nexport const breakdownTitleKey = 'breakdown_title'; // Used to display a title in the breakdown header\nexport const orgUnitIdKey = 'org_unit_id'; // Org unit ID for group_by\nexport const orgUnitNameKey = 'org_unit_name'; // Org unit name for group_by\nexport const tagKey = 'tag'; // Tag key prefix for group_by\n// Adds group_by prefix -- https://github.com/project-koku/koku-ui/issues/704\nexport function addGroupByPrifix(query, prefix = groupByOrPrefix) {\n    if (!(query && query.group_by)) {\n        return query;\n    }\n    const newQuery = Object.assign(Object.assign({}, JSON.parse(JSON.stringify(query))), { group_by: {} });\n    for (const key of Object.keys(query.group_by)) {\n        newQuery.group_by[`${prefix}${key}`] = query.group_by[key];\n    }\n    return newQuery;\n}\n// Converts filter_by props to group_by\nexport function convertFilterByToGroupBy(query) {\n    if (!(query && query.filter_by)) {\n        return query;\n    }\n    const newQuery = Object.assign(Object.assign({}, JSON.parse(JSON.stringify(query))), { filter_by: {} });\n    for (const key of Object.keys(query.filter_by)) {\n        if (!newQuery.group_by) {\n            newQuery.group_by = {};\n        }\n        if (newQuery.group_by[key]) {\n            if (!Array.isArray(newQuery.group_by[key])) {\n                newQuery.group_by[key] = newQuery.group_by[key] !== '*' ? [newQuery.group_by[key]] : [];\n            }\n            newQuery.group_by[key].push(query.filter_by[key]);\n        }\n        else {\n            newQuery.group_by[key] = query.filter_by[key];\n        }\n    }\n    return newQuery;\n}\n// Returns query without group_by prefix\nexport function getQueryRoute(query) {\n    return stringify(query, { encode: false, indices: false });\n}\n// Returns query and adds group_by prefix\nexport function getQuery(query, prefix = groupByOrPrefix) {\n    const newQuery = convertFilterByToGroupBy(query);\n    let addGroupByPrefix = false;\n    // Workaround for https://github.com/project-koku/koku/issues/1596\n    if (newQuery && newQuery.group_by) {\n        const keys = Object.keys(newQuery.group_by);\n        if (keys && keys.length > 1) {\n            addGroupByPrefix = true;\n        }\n        else {\n            // Find a tag (#1596) or group_by with multiple keys\n            for (const key of keys) {\n                if ((Array.isArray(newQuery.group_by[key]) && newQuery.group_by[key].length > 1) ||\n                    key.indexOf(tagPrefix) !== -1) {\n                    addGroupByPrefix = true;\n                }\n            }\n        }\n    }\n    // Skip adding group_by prefix for a single group_by\n    const q = addGroupByPrefix ? addGroupByPrifix(newQuery, prefix) : newQuery;\n    return stringify(q, { encode: false, indices: false });\n}\n// Returns query without filter_by prefix\nexport function parseFilterByPrefix(query, prefix = groupByOrPrefix) {\n    if (!(query && query.filter_by)) {\n        return query;\n    }\n    const newQuery = Object.assign(Object.assign({}, JSON.parse(JSON.stringify(query))), { filter_by: {} });\n    for (const key of Object.keys(query.filter_by)) {\n        const index = key.indexOf(prefix);\n        const filterByKey = index !== -1 ? key.substring(index + prefix.length) : key;\n        newQuery.filter_by[filterByKey] = query.filter_by[key];\n    }\n    return newQuery;\n}\n// Returns query without group_by prefix -- https://github.com/project-koku/koku-ui/issues/704\nexport function parseGroupByPrefix(query, prefix = groupByOrPrefix) {\n    if (!(query && query.group_by)) {\n        return query;\n    }\n    const newQuery = Object.assign(Object.assign({}, JSON.parse(JSON.stringify(query))), { group_by: {} });\n    for (const key of Object.keys(query.group_by)) {\n        const index = key.indexOf(prefix);\n        const groupByKey = index !== -1 ? key.substring(index + prefix.length) : key;\n        newQuery.group_by[groupByKey] = query.group_by[key];\n    }\n    return newQuery;\n}\nexport function parseQuery(query) {\n    const newQuery = parse(query, { ignoreQueryPrefix: true });\n    return parseFilterByPrefix(parseGroupByPrefix(newQuery));\n}\n","import { parse, stringify } from 'qs';\nexport function getUserAccessQuery(query) {\n    return stringify(query, { encode: false, indices: false });\n}\nexport function parseUserAccessQuery(query) {\n    return parse(query, { ignoreQueryPrefix: true });\n}\n","import axios from 'axios';\nexport const ReportTypePaths = {\n    [\"cost\" /* cost */]: 'reports/aws/costs/',\n    [\"database\" /* database */]: 'reports/aws/costs/',\n    [\"network\" /* network */]: 'reports/aws/costs/',\n    [\"storage\" /* storage */]: 'reports/aws/storage/',\n    [\"instance_type\" /* instanceType */]: 'reports/aws/instance-types/',\n};\nexport function runReport(reportType, query) {\n    const path = ReportTypePaths[reportType];\n    return axios.get(`${path}?${query}`);\n}\n","import axios from 'axios';\nexport const ReportTypePaths = {\n    [\"cost\" /* cost */]: 'reports/azure/costs/',\n    [\"database\" /* database */]: 'reports/azure/costs/',\n    [\"network\" /* network */]: 'reports/azure/costs/',\n    [\"storage\" /* storage */]: 'reports/azure/storage/',\n    [\"instance_type\" /* instanceType */]: 'reports/azure/instance-types/',\n};\nexport function runReport(reportType, query) {\n    const path = ReportTypePaths[reportType];\n    return axios.get(`${path}?${query}`);\n}\n","import axios from 'axios';\nexport const ReportTypePaths = {\n    [\"cost\" /* cost */]: 'reports/gcp/costs/',\n    [\"database\" /* database */]: 'reports/gcp/costs/',\n    [\"network\" /* network */]: 'reports/gcp/costs/',\n    [\"storage\" /* storage */]: 'reports/gcp/storage/',\n    [\"instance_type\" /* instanceType */]: 'reports/gcp/instance-types/',\n};\nexport function runReport(reportType, query) {\n    const path = ReportTypePaths[reportType];\n    return axios.get(`${path}?${query}`);\n}\n","import axios from 'axios';\n// Todo: update to use ibm backend apis when they become available\nexport const ReportTypePaths = {\n    [\"cost\" /* cost */]: 'reports/gcp/costs/',\n    [\"database\" /* database */]: 'reports/gcp/costs/',\n    [\"network\" /* network */]: 'reports/gcp/costs/',\n    [\"storage\" /* storage */]: 'reports/gcp/storage/',\n    [\"instance_type\" /* instanceType */]: 'reports/gcp/instance-types/',\n};\nexport function runReport(reportType, query) {\n    const path = ReportTypePaths[reportType];\n    return axios.get(`${path}?${query}`);\n}\n","import axios from 'axios';\nexport const ReportTypePaths = {\n    [\"cost\" /* cost */]: 'reports/openshift/infrastructures/all/costs/',\n    [\"cpu\" /* cpu */]: 'reports/openshift/compute/',\n    [\"database\" /* database */]: 'reports/openshift/infrastructures/all/costs/',\n    [\"instance_type\" /* instanceType */]: 'reports/openshift/infrastructures/all/instance-types/',\n    [\"memory\" /* memory */]: 'reports/openshift/memory/',\n    [\"network\" /* network */]: 'reports/openshift/infrastructures/all/costs/',\n    [\"storage\" /* storage */]: 'reports/openshift/infrastructures/all/storage/',\n    [\"volume\" /* volume */]: 'reports/openshift/volumes/',\n};\nexport function runReport(reportType, query) {\n    const path = ReportTypePaths[reportType];\n    return axios.get(`${path}?${query}`);\n}\n","import axios from 'axios';\nexport const ReportTypePaths = {\n    [\"cost\" /* cost */]: 'reports/openshift/costs/',\n    [\"cpu\" /* cpu */]: 'reports/openshift/compute/',\n    [\"memory\" /* memory */]: 'reports/openshift/memory/',\n    [\"volume\" /* volume */]: 'reports/openshift/volumes/',\n};\nexport function runReport(reportType, query) {\n    const path = ReportTypePaths[reportType];\n    return axios.get(`${path}?${query}`);\n}\n","import axios from 'axios';\n// If the user-access API is called without a query parameter, all types are returned in the response\nexport function fetchUserAccess(query) {\n    const insights = window.insights;\n    const queryString = query ? `?${query}` : '';\n    if (insights && insights.chrome && insights.chrome.auth && insights.chrome.auth.getUser) {\n        return insights.chrome.auth.getUser().then(() => {\n            return axios.get(`user-access/${queryString}`);\n        });\n    }\n    else {\n        return axios.get(`user-access/${queryString}`);\n    }\n}\n","import chart_color_black_200 from '@patternfly/react-tokens/dist/js/chart_color_black_200';\nimport chart_color_green_100 from '@patternfly/react-tokens/dist/js/chart_color_green_100';\nimport chart_color_green_200 from '@patternfly/react-tokens/dist/js/chart_color_green_200';\nimport chart_color_green_300 from '@patternfly/react-tokens/dist/js/chart_color_green_300';\nimport chart_color_green_400 from '@patternfly/react-tokens/dist/js/chart_color_green_400';\nimport chart_color_green_500 from '@patternfly/react-tokens/dist/js/chart_color_green_500';\nexport const chartStyles = {\n    // See: https://github.com/project-koku/koku-ui/issues/241\n    currentColorScale: [\n        chart_color_green_400.value,\n        chart_color_green_300.value,\n        chart_color_green_200.value,\n        chart_color_green_100.value,\n        chart_color_green_500.value,\n    ],\n    currentMonthData: {\n        fill: 'none',\n    },\n    forecastConeData: {\n        fill: chart_color_green_100.value,\n        strokeWidth: 0,\n    },\n    forecastConeDataColorScale: [chart_color_green_100.value],\n    forecastData: {\n        fill: 'none',\n    },\n    forecastDataColorScale: [chart_color_green_200.value],\n    itemsPerRow: 4,\n    // See: https://github.com/project-koku/koku-ui/issues/241\n    previousColorScale: [chart_color_black_200.value, chart_color_black_200.value],\n    previousMonthData: {\n        fill: 'none',\n    },\n    yAxis: {\n        axisLabel: {\n            padding: 15,\n        },\n        grid: {\n            stroke: 'none',\n        },\n        ticks: {\n            stroke: 'none',\n        },\n        tickLabels: {\n            fontSize: 0,\n        },\n    },\n    xAxis: {\n        axisLabel: {\n            padding: 40,\n        },\n        grid: {\n            stroke: 'none',\n        },\n        ticks: {\n            stroke: 'none',\n        },\n    },\n};\n","import 'components/charts/common/charts-common.scss';\nimport { Chart, ChartArea, ChartAxis, ChartLegend, ChartLegendTooltip, createContainer, getInteractiveLegendEvents, } from '@patternfly/react-charts';\nimport { Title } from '@patternfly/react-core';\nimport { default as ChartTheme } from 'components/charts/chartTheme';\nimport { getCostRangeString, getDateRange } from 'components/charts/common/chartDatumUtils';\nimport { getChartNames, getDomain, getLegendData, getTooltipLabel, initHiddenSeries, isDataAvailable, isSeriesHidden, } from 'components/charts/common/chartUtils';\nimport { getDate } from 'date-fns';\nimport i18next from 'i18next';\nimport React from 'react';\nimport { noop } from 'utils/noop';\nimport { chartStyles } from './trendChart.styles';\nclass TrendChart extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.containerRef = React.createRef();\n        this.resizeObserver = noop;\n        this.navToggle = noop;\n        this.state = {\n            hiddenSeries: new Set(),\n            width: 0,\n        };\n        this.initDatum = () => {\n            const { currentData, forecastData, forecastConeData, previousData, showForecast, showSupplementaryLabel = false, showUsageLegendLabel = false, } = this.props;\n            const key = showUsageLegendLabel\n                ? 'chart.usage_legend_label'\n                : showSupplementaryLabel\n                    ? 'chart.cost_supplementary_legend_label'\n                    : 'chart.cost_legend_label';\n            const tooltipKey = showUsageLegendLabel\n                ? 'chart.usage_legend_tooltip'\n                : showSupplementaryLabel\n                    ? 'chart.cost_supplementary_legend_tooltip'\n                    : 'chart.cost_legend_tooltip';\n            // Show all legends, regardless of length -- https://github.com/project-koku/koku-ui/issues/248\n            const series = [\n                {\n                    childName: 'previousCost',\n                    data: previousData,\n                    legendItem: {\n                        name: getCostRangeString(previousData, key, true, true, 1),\n                        symbol: {\n                            fill: chartStyles.previousColorScale[0],\n                            type: 'minus',\n                        },\n                        tooltip: getCostRangeString(previousData, tooltipKey, false, false, 1),\n                    },\n                    style: {\n                        data: Object.assign(Object.assign({}, chartStyles.previousMonthData), { stroke: chartStyles.previousColorScale[0] }),\n                    },\n                },\n                {\n                    childName: 'currentCost',\n                    data: currentData,\n                    legendItem: {\n                        name: getCostRangeString(currentData, key, true, false),\n                        symbol: {\n                            fill: chartStyles.currentColorScale[0],\n                            type: 'minus',\n                        },\n                        tooltip: getCostRangeString(currentData, tooltipKey, false, false),\n                    },\n                    style: {\n                        data: Object.assign(Object.assign({}, chartStyles.currentMonthData), { stroke: chartStyles.currentColorScale[0] }),\n                    },\n                },\n            ];\n            if (showForecast) {\n                series.push({\n                    childName: 'forecast',\n                    data: forecastData,\n                    legendItem: {\n                        name: getCostRangeString(forecastData, 'chart.cost_forecast_legend_label', false, false),\n                        symbol: {\n                            fill: chartStyles.forecastDataColorScale[0],\n                            type: 'minus',\n                        },\n                        tooltip: getCostRangeString(forecastData, 'chart.cost_forecast_legend_tooltip', false, false),\n                    },\n                    style: {\n                        data: Object.assign(Object.assign({}, chartStyles.forecastData), { stroke: chartStyles.forecastDataColorScale[0] }),\n                    },\n                });\n                series.push({\n                    childName: 'forecastCone',\n                    data: forecastConeData,\n                    legendItem: {\n                        name: getCostRangeString(forecastConeData, 'chart.cost_forecast_cone_legend_label', false, false),\n                        symbol: {\n                            fill: chartStyles.forecastConeDataColorScale[0],\n                            type: 'triangleUp',\n                        },\n                        tooltip: getCostRangeString(forecastConeData, 'chart.cost_forecast_cone_legend_tooltip', false, false),\n                    },\n                    style: {\n                        data: Object.assign(Object.assign({}, chartStyles.forecastConeData), { stroke: chartStyles.forecastConeDataColorScale[0] }),\n                    },\n                });\n            }\n            const cursorVoronoiContainer = this.getCursorVoronoiContainer();\n            this.setState({ cursorVoronoiContainer, series });\n        };\n        this.initResizeObserve = () => {\n            const containerElement = this.containerRef.current;\n            const { ResizeObserver } = window;\n            if (containerElement && ResizeObserver) {\n                const resizeObserver = new ResizeObserver(this.handleResize);\n                resizeObserver.observe(containerElement);\n                this.resizeObserver = () => resizeObserver.unobserve(containerElement);\n            }\n            else {\n                this.handleResize();\n                window.addEventListener('resize', this.handleResize);\n                this.resizeObserver = () => window.removeEventListener('resize', this.handleResize);\n                this.navToggle = insights.chrome.on('NAVIGATION_TOGGLE', this.handleNavToggle);\n            }\n        };\n        this.getAdjustedContainerHeight = () => {\n            const { adjustContainerHeight, height, containerHeight = height, showForecast } = this.props;\n            const { width } = this.state;\n            let adjustedContainerHeight = containerHeight;\n            if (adjustContainerHeight) {\n                if (showForecast) {\n                    if (width < 700) {\n                        adjustedContainerHeight += 25;\n                    }\n                }\n            }\n            return adjustedContainerHeight;\n        };\n        this.getChart = (series, index) => {\n            const { hiddenSeries } = this.state;\n            return (React.createElement(ChartArea, { data: !hiddenSeries.has(index) ? series.data : [{ y: null }], interpolation: \"monotoneX\", key: series.childName, name: series.childName, style: series.style }));\n        };\n        // Returns CursorVoronoiContainer component\n        this.getCursorVoronoiContainer = () => {\n            const { formatDatumValue, formatDatumOptions } = this.props;\n            // Note: Container order is important\n            const CursorVoronoiContainer = createContainer('voronoi', 'cursor');\n            return (React.createElement(CursorVoronoiContainer, { cursorDimension: \"x\", labels: ({ datum }) => getTooltipLabel(datum, formatDatumValue, formatDatumOptions), mouseFollowTooltips: true, voronoiDimension: \"x\", voronoiPadding: {\n                    bottom: 50,\n                    left: 8,\n                    right: 8,\n                    top: 8,\n                } }));\n        };\n        this.getLegend = () => {\n            const { legendItemsPerRow } = this.props;\n            const { hiddenSeries, series, width } = this.state;\n            // Todo: use PF legendAllowWrap feature\n            return (React.createElement(ChartLegend, { data: getLegendData(series, hiddenSeries), gutter: 20, height: 25, itemsPerRow: legendItemsPerRow, name: \"legend\", orientation: width > 150 ? 'horizontal' : 'vertical' }));\n        };\n        // Hide each data series individually\n        this.handleLegendClick = (index) => {\n            const hiddenSeries = initHiddenSeries(this.state.series, this.state.hiddenSeries, index);\n            this.setState({ hiddenSeries });\n        };\n        this.handleNavToggle = () => {\n            setTimeout(this.handleResize, 500);\n        };\n        this.handleResize = () => {\n            const { width } = this.state;\n            const { clientWidth = 0 } = this.containerRef.current || {};\n            if (clientWidth !== width) {\n                this.setState({ width: clientWidth });\n            }\n        };\n    }\n    componentDidMount() {\n        this.initDatum();\n        this.initResizeObserve();\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.currentData !== this.props.currentData ||\n            prevProps.forecastData !== this.props.forecastData ||\n            prevProps.forecastConeData !== this.props.forecastConeData ||\n            prevProps.previousData !== this.props.previousData) {\n            this.initDatum();\n        }\n    }\n    componentWillUnmount() {\n        if (this.resizeObserver) {\n            this.resizeObserver();\n        }\n        if (this.navToggle) {\n            this.navToggle();\n        }\n    }\n    getEndDate() {\n        const { currentData, forecastData, previousData } = this.props;\n        const previousDate = previousData ? getDate(getDateRange(previousData, true, true)[1]) : 0;\n        const currentDate = currentData ? getDate(getDateRange(currentData, true, true)[1]) : 0;\n        const forecastDate = forecastData ? getDate(getDateRange(forecastData, true, true)[1]) : 0;\n        return currentDate > 0 || previousDate > 0 ? Math.max(currentDate, forecastDate, previousDate) : 31;\n    }\n    // Returns onMouseOver, onMouseOut, and onClick events for the interactive legend\n    getEvents() {\n        const { hiddenSeries, series } = this.state;\n        const result = getInteractiveLegendEvents({\n            chartNames: getChartNames(series),\n            isHidden: index => isSeriesHidden(hiddenSeries, index),\n            legendName: 'legend',\n            onLegendClick: props => this.handleLegendClick(props.index),\n        });\n        return result;\n    }\n    render() {\n        const { height, padding = {\n            bottom: 50,\n            left: 8,\n            right: 8,\n            top: 8,\n        }, title, } = this.props;\n        const { cursorVoronoiContainer, hiddenSeries, series, width } = this.state;\n        const domain = getDomain(series, hiddenSeries);\n        const endDate = this.getEndDate();\n        const midDate = Math.floor(endDate / 2);\n        // Federated modules may not have access to the i18next package\n        let tooltipTitle;\n        if (i18next && i18next.t) {\n            tooltipTitle = datum => i18next.t('chart.day_of_month_title', { day: datum.x });\n        }\n        else {\n            tooltipTitle = datum => `Day ${datum.x}`;\n        }\n        // Clone original container. See https://issues.redhat.com/browse/COST-762\n        const container = cursorVoronoiContainer\n            ? React.cloneElement(cursorVoronoiContainer, {\n                disable: !isDataAvailable(series, hiddenSeries),\n                labelComponent: (React.createElement(ChartLegendTooltip, { legendData: getLegendData(series, hiddenSeries, true), title: tooltipTitle })),\n            })\n            : undefined;\n        return (React.createElement(React.Fragment, null,\n            React.createElement(Title, { headingLevel: \"h3\", size: \"md\" }, title),\n            React.createElement(\"div\", { className: \"chartOverride\", ref: this.containerRef, style: { height: this.getAdjustedContainerHeight() } },\n                React.createElement(\"div\", { style: { height, width } },\n                    React.createElement(Chart, { containerComponent: container, domain: domain, events: this.getEvents(), height: height, legendAllowWrap: true, legendComponent: this.getLegend(), legendData: getLegendData(series, hiddenSeries), legendPosition: \"bottom-left\", padding: padding, theme: ChartTheme, width: width },\n                        series &&\n                            series.map((s, index) => {\n                                return this.getChart(s, index);\n                            }),\n                        React.createElement(ChartAxis, { style: chartStyles.xAxis, tickValues: [1, midDate, endDate] }),\n                        React.createElement(ChartAxis, { dependentAxis: true, style: chartStyles.yAxis }))))));\n    }\n}\nexport { TrendChart };\n","import global_spacer_2xl from '@patternfly/react-tokens/dist/js/global_spacer_2xl';\nimport global_spacer_3xl from '@patternfly/react-tokens/dist/js/global_spacer_3xl';\nimport global_spacer_lg from '@patternfly/react-tokens/dist/js/global_spacer_lg';\nimport global_spacer_md from '@patternfly/react-tokens/dist/js/global_spacer_md';\nimport global_spacer_sm from '@patternfly/react-tokens/dist/js/global_spacer_sm';\nexport const chartStyles = {\n    chartHeight: 300,\n    chartContainerHeight: 300,\n};\nexport const styles = {\n    chartContainer: {\n        marginLeft: global_spacer_2xl.value,\n    },\n    chartSkeleton: {\n        height: '125px',\n        marginBottom: global_spacer_md.value,\n        marginTop: global_spacer_3xl.value,\n    },\n    costChart: {\n        marginBottom: global_spacer_sm.value,\n        marginTop: global_spacer_sm.value,\n    },\n    legendSkeleton: {\n        marginTop: global_spacer_md.value,\n    },\n    titleContainer: {\n        marginLeft: global_spacer_lg.value,\n    },\n};\n","import { Title } from '@patternfly/react-core';\nimport Skeleton from '@redhat-cloud-services/frontend-components/Skeleton';\nimport { getQuery } from 'api/queries/query';\nimport { transformReport, } from 'components/charts/common/chartDatumUtils';\nimport { TrendChart } from 'components/charts/trendChart';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { createMapStateToProps } from 'store/common';\nimport { reportActions, reportSelectors } from 'store/reports';\nimport { unitLookupKey } from 'utils/formatValue';\nimport { formatValue } from 'utils/formatValue';\nimport { chartStyles, styles } from './ocpOverviewChart.styles';\nconst computedReportItem = \"cost\" /* cost */; // cost, supplementary cost, etc.\nconst computedReportItemValue = \"total\" /* total */; // infrastructure usage cost\nconst reportPathsType = \"ocp\" /* ocp */;\nconst reportType = \"cost\" /* cost */;\nclass OcpOverviewChartBase extends React.Component {\n    constructor(stateProps, dispatchProps) {\n        super(stateProps, dispatchProps);\n        this.defaultState = {};\n        this.state = Object.assign({}, this.defaultState);\n        this.getChart = () => {\n            const { currentReport, previousReport } = this.props;\n            const units = this.getUnits();\n            const currentData = transformReport(currentReport, 0 /* rolling */, 'date', computedReportItem, computedReportItemValue);\n            const previousData = transformReport(previousReport, 0 /* rolling */, 'date', computedReportItem, computedReportItemValue);\n            return (React.createElement(TrendChart, { adjustContainerHeight: true, containerHeight: chartStyles.chartContainerHeight, currentData: currentData, formatDatumValue: formatValue, height: chartStyles.chartHeight, previousData: previousData, units: units }));\n        };\n        this.getSkeleton = () => {\n            return (React.createElement(React.Fragment, null,\n                React.createElement(Skeleton, { style: styles.chartSkeleton, size: \"md\" }),\n                React.createElement(Skeleton, { style: styles.legendSkeleton, size: \"xs\" })));\n        };\n        this.getUnits = () => {\n            const { currentReport } = this.props;\n            const hasTotal = currentReport && currentReport.meta && currentReport.meta.total;\n            const hasCost = hasTotal &&\n                currentReport.meta.total[computedReportItem] &&\n                currentReport.meta.total[computedReportItem][computedReportItemValue];\n            return hasCost ? unitLookupKey(currentReport.meta.total[computedReportItem][computedReportItemValue].units) : '';\n        };\n        this.updateReport = () => {\n            const { currentQueryString, fetchReport, previousQueryString } = this.props;\n            fetchReport(reportPathsType, reportType, currentQueryString);\n            fetchReport(reportPathsType, reportType, previousQueryString);\n        };\n    }\n    componentDidMount() {\n        this.updateReport();\n    }\n    componentDidUpdate(prevProps) {\n        const { currentReport, currentReportError, currentQueryString, previousReport, previousReportError, previousQueryString, } = this.props;\n        const newQuery = prevProps.currentQueryString !== currentQueryString || prevProps.previousQueryString !== previousQueryString;\n        const noReport = !(currentReport || previousReport) && !(currentReportError || previousReportError);\n        if (newQuery || noReport) {\n            this.updateReport();\n        }\n    }\n    render() {\n        const { currentReportFetchStatus, previousReportFetchStatus, title } = this.props;\n        return (React.createElement(React.Fragment, null,\n            React.createElement(\"div\", { style: styles.titleContainer },\n                React.createElement(Title, { headingLevel: \"h3\", size: \"md\" }, title)),\n            React.createElement(\"div\", { style: styles.chartContainer },\n                React.createElement(\"div\", { style: styles.costChart }, currentReportFetchStatus === 1 /* inProgress */ || previousReportFetchStatus === 1 /* inProgress */\n                    ? this.getSkeleton()\n                    : this.getChart()))));\n    }\n}\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst mapStateToProps = createMapStateToProps((state, props) => {\n    const currentQuery = {\n        filter: {\n            time_scope_units: 'month',\n            time_scope_value: -1,\n            resolution: 'daily',\n        },\n    };\n    const previousQuery = {\n        filter: {\n            time_scope_units: 'month',\n            time_scope_value: -2,\n            resolution: 'daily',\n        },\n    };\n    const currentQueryString = getQuery(currentQuery);\n    const previousQueryString = getQuery(previousQuery);\n    const currentReport = reportSelectors.selectReport(state, reportPathsType, reportType, currentQueryString);\n    const currentReportError = reportSelectors.selectReportError(state, reportPathsType, reportType, currentQueryString);\n    const currentReportFetchStatus = reportSelectors.selectReportFetchStatus(state, reportPathsType, reportType, currentQueryString);\n    const previousReport = reportSelectors.selectReport(state, reportPathsType, reportType, previousQueryString);\n    const previousReportError = reportSelectors.selectReportError(state, reportPathsType, reportType, previousQueryString);\n    const previousReportFetchStatus = reportSelectors.selectReportFetchStatus(state, reportPathsType, reportType, previousQueryString);\n    return {\n        currentQuery,\n        currentQueryString,\n        currentReport,\n        currentReportError,\n        currentReportFetchStatus,\n        previousQuery,\n        previousQueryString,\n        previousReport,\n        previousReportError,\n        previousReportFetchStatus,\n    };\n});\nconst mapDispatchToProps = {\n    fetchReport: reportActions.fetchReport,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(OcpOverviewChartBase);\n","import { getQueryRoute } from 'api/queries/query';\nexport const baseQuery = {\n    filter: {\n        time_scope_units: 'month',\n        time_scope_value: -1,\n        resolution: 'daily',\n    },\n};\nexport const getRouteForQuery = (history, query, reset = false) => {\n    // Reset pagination\n    if (reset) {\n        query.filter = Object.assign(Object.assign({}, query.filter), { offset: baseQuery.filter.offset });\n    }\n    return `${history.location.pathname}?${getQueryRoute(query)}`;\n};\nexport const isOcpAvailable = (ocpProviders, ocpProvidersFetchStatus, userAccess) => {\n    let result = false;\n    if (ocpProvidersFetchStatus === 2 /* complete */) {\n        const data = userAccess.data.find(d => d.type === \"ocp\" /* ocp */);\n        const isUserAccessAllowed = data && data.access;\n        // providers API returns empty data array for no sources\n        result =\n            isUserAccessAllowed &&\n                ocpProviders !== undefined &&\n                ocpProviders.meta !== undefined &&\n                ocpProviders.meta.count > 0;\n    }\n    return result;\n};\n","import global_BackgroundColor_light_100 from '@patternfly/react-tokens/dist/js/global_BackgroundColor_light_100';\nimport global_spacer_lg from '@patternfly/react-tokens/dist/js/global_spacer_lg';\nexport const styles = {\n    chartContainer: {\n        backgroundColor: global_BackgroundColor_light_100.value,\n        marginLeft: global_spacer_lg.value,\n        marginRight: global_spacer_lg.value,\n        paddingRight: global_spacer_lg.value,\n        paddingBottom: global_spacer_lg.value,\n        paddingTop: global_spacer_lg.value,\n    },\n    chartContent: {\n        paddingTop: global_spacer_lg.value,\n    },\n};\n","import { getProvidersQuery } from 'api/queries/providersQuery';\nimport { getQuery, parseQuery } from 'api/queries/query';\nimport { getUserAccessQuery } from 'api/queries/userAccessQuery';\nimport Loading from 'pages/state/loading';\nimport NoData from 'pages/state/noData';\nimport NoProviders from 'pages/state/noProviders';\nimport NotAvailable from 'pages/state/notAvailable';\nimport { hasCurrentMonthData, hasPreviousMonthData } from 'pages/views/utils/providers';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { createMapStateToProps } from 'store/common';\nimport { ocpProvidersQuery, providersActions, providersSelectors } from 'store/providers';\nimport { allUserAccessQuery, userAccessActions, userAccessSelectors } from 'store/userAccess';\nimport OcpOverviewChart from './ocpOverviewChart';\nimport { baseQuery, isOcpAvailable } from './ocpOverviewUtils';\nimport { styles } from './ocpOverviewWidget.styles';\nclass OcpOverviewWidgetBase extends React.Component {\n    constructor(stateProps, dispatchProps) {\n        super(stateProps, dispatchProps);\n        this.defaultState = {};\n        this.state = Object.assign({}, this.defaultState);\n        this.updateReport = () => {\n            const { fetchProviders, fetchUserAccess, queryString } = this.props;\n            fetchProviders(\"ocp\" /* ocp */, queryString);\n            fetchUserAccess(\"\" /* all */, queryString);\n        };\n    }\n    componentDidMount() {\n        this.updateReport();\n    }\n    componentDidUpdate(prevProps) {\n        const { queryString } = this.props;\n        if (prevProps.queryString !== queryString) {\n            this.updateReport();\n        }\n    }\n    render() {\n        const { providers, providersError, providersFetchStatus, userAccessError, userAccessFetchStatus, userAccess, } = this.props;\n        const isLoading = userAccessFetchStatus === 1 /* inProgress */ || providersFetchStatus === 1 /* inProgress */;\n        const title = this.props.title;\n        // Test for no providers\n        const noProviders = !isOcpAvailable(providers, providersFetchStatus, userAccess);\n        // Note: Providers are fetched via the InactiveSources component used by all routes\n        if (providersError || userAccessError) {\n            return React.createElement(NotAvailable, { title: title });\n        }\n        else if (isLoading) {\n            return React.createElement(Loading, { title: title });\n        }\n        else if (noProviders) {\n            return React.createElement(NoProviders, { title: title });\n        }\n        else if (!(hasCurrentMonthData(providers) || hasPreviousMonthData(providers))) {\n            return React.createElement(NoData, { title: title });\n        }\n        return (React.createElement(\"div\", { style: styles.chartContent },\n            React.createElement(\"div\", { style: styles.chartContainer },\n                React.createElement(OcpOverviewChart, { title: title }))));\n    }\n}\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst mapStateToProps = createMapStateToProps(state => {\n    const queryFromRoute = parseQuery(location.search);\n    const query = {\n        filter: Object.assign(Object.assign({}, baseQuery.filter), queryFromRoute.filter),\n    };\n    const queryString = getQuery(Object.assign(Object.assign({}, query), { perspective: undefined, dateRange: undefined }));\n    const providersQueryString = getProvidersQuery(ocpProvidersQuery);\n    const providers = providersSelectors.selectProviders(state, \"ocp\" /* ocp */, providersQueryString);\n    const providersError = providersSelectors.selectProvidersError(state, \"ocp\" /* ocp */, providersQueryString);\n    const providersFetchStatus = providersSelectors.selectProvidersFetchStatus(state, \"ocp\" /* ocp */, providersQueryString);\n    const userAccessQueryString = getUserAccessQuery(allUserAccessQuery);\n    const userAccess = userAccessSelectors.selectUserAccess(state, \"\" /* all */, userAccessQueryString);\n    const userAccessError = userAccessSelectors.selectUserAccessError(state, \"\" /* all */, userAccessQueryString);\n    const userAccessFetchStatus = userAccessSelectors.selectUserAccessFetchStatus(state, \"\" /* all */, userAccessQueryString);\n    return {\n        providers,\n        providersError,\n        providersFetchStatus,\n        providersQueryString,\n        query,\n        queryString,\n        userAccess,\n        userAccessError,\n        userAccessFetchStatus,\n        userAccessQueryString,\n    };\n});\nconst mapDispatchToProps = {\n    fetchProviders: providersActions.fetchProviders,\n    fetchUserAccess: userAccessActions.fetchUserAccess,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(OcpOverviewWidgetBase);\n","import NoData from './noData';\nexport default NoData;\n","import Main from '@redhat-cloud-services/frontend-components/Main';\nimport PageHeader, { PageHeaderTitle } from '@redhat-cloud-services/frontend-components/PageHeader';\nimport Unavailable from '@redhat-cloud-services/frontend-components/Unavailable';\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nconst NotAvailable = ({ title }) => {\n    return (React.createElement(React.Fragment, null,\n        title && (React.createElement(PageHeader, null,\n            React.createElement(PageHeaderTitle, { title: title }))),\n        React.createElement(Main, null,\n            React.createElement(Unavailable, null))));\n};\nexport default withRouter(NotAvailable);\n","import NotAvailable from './notAvailable';\nexport default NotAvailable;\n","export const expirationMS = 30 * 60 * 1000; // 30 minutes\nexport function createMapStateToProps(mapStateToProps) {\n    return mapStateToProps;\n}\nexport function createMapDispatchToProps(mapDispatchToProps) {\n    return mapDispatchToProps;\n}\n","import { addProviderKey, getReportId, stateKey } from './providersCommon';\nexport const selectProvidersState = (state) => state[stateKey];\n// Add provider\nexport const selectAddProviderFetchStatus = (state) => selectProvidersState(state).fetchStatus.get(addProviderKey);\nexport const selectAddProviderError = (state) => selectProvidersState(state).errors.get(addProviderKey);\n// Fetch providers\nexport const selectProviders = (state, providerType, query) => selectProvidersState(state).byId.get(getReportId(providerType, query));\nexport const selectProvidersFetchStatus = (state, providerType, query) => selectProvidersState(state).fetchStatus.get(getReportId(providerType, query));\nexport const selectProvidersError = (state, providerType, query) => selectProvidersState(state).errors.get(getReportId(providerType, query));\n","import { fetchProviders as apiGetProviders } from 'api/providers';\nimport { createAction } from 'typesafe-actions';\nimport { getReportId } from './providersCommon';\nexport const fetchProvidersRequest = createAction('providers/fetch/request')();\nexport const fetchProvidersSuccess = createAction('providers/fetch/success')();\nexport const fetchProvidersFailure = createAction('providers/fetch/failure')();\nexport function fetchProviders(reportType, query) {\n    return dispatch => {\n        const meta = {\n            reportId: getReportId(reportType, query),\n        };\n        dispatch(fetchProvidersRequest(meta));\n        return apiGetProviders(query)\n            .then(res => {\n            dispatch(fetchProvidersSuccess(res.data, meta));\n        })\n            .catch(err => {\n            dispatch(fetchProvidersFailure(err, meta));\n        });\n    };\n}\nexport const clearProviderFailure = createAction('providers/clear/failure');\n","export const stateKey = 'providers';\nexport const addProviderKey = 'add-provider';\nexport const awsProvidersQuery = {\n    type: 'AWS',\n};\nexport const azureProvidersQuery = {\n    type: 'AZURE',\n};\nexport const ocpProvidersQuery = {\n    type: 'OCP',\n};\nexport const gcpProvidersQuery = {\n    type: 'GCP',\n};\nexport const ibmProvidersQuery = {\n    type: 'GCP',\n};\nexport function getReportId(type, query) {\n    return `${type}--${query}`;\n}\n","import { getType } from 'typesafe-actions';\nimport { fetchProvidersFailure, fetchProvidersRequest, fetchProvidersSuccess } from './providersActions';\nexport const defaultState = {\n    byId: new Map(),\n    errors: new Map(),\n    fetchStatus: new Map(),\n};\nexport function providersReducer(state = defaultState, action) {\n    switch (action.type) {\n        case getType(fetchProvidersRequest):\n            return Object.assign(Object.assign({}, state), { fetchStatus: new Map(state.fetchStatus).set(action.payload.reportId, 1 /* inProgress */) });\n        case getType(fetchProvidersSuccess):\n            return Object.assign(Object.assign({}, state), { fetchStatus: new Map(state.fetchStatus).set(action.meta.reportId, 2 /* complete */), byId: new Map(state.byId).set(action.meta.reportId, Object.assign({}, action.payload)), errors: new Map(state.errors).set(action.meta.reportId, null) });\n        case getType(fetchProvidersFailure):\n            return Object.assign(Object.assign({}, state), { fetchStatus: new Map(state.fetchStatus).set(action.meta.reportId, 2 /* complete */), errors: new Map(state.errors).set(action.meta.reportId, action.payload) });\n        default:\n            return state;\n    }\n}\n","import axios from 'axios';\nexport const ReportTypePaths = {\n    [\"cost\" /* cost */]: 'reports/openshift/infrastructures/aws/costs/',\n    [\"database\" /* database */]: 'reports/openshift/infrastructures/aws/costs/',\n    [\"network\" /* network */]: 'reports/openshift/infrastructures/aws/costs/',\n    [\"storage\" /* storage */]: 'reports/openshift/infrastructures/aws/storage/',\n    [\"instance_type\" /* instanceType */]: 'reports/openshift/infrastructures/aws/instance-types/',\n};\nexport function runReport(reportType, query) {\n    const path = ReportTypePaths[reportType];\n    return axios.get(`${path}?${query}`);\n}\n","import axios from 'axios';\nexport const ReportTypePaths = {\n    [\"cost\" /* cost */]: 'reports/openshift/infrastructures/azure/costs/',\n    [\"database\" /* database */]: 'reports/openshift/infrastructures/azure/costs/',\n    [\"network\" /* network */]: 'reports/openshift/infrastructures/azure/costs/',\n    [\"storage\" /* storage */]: 'reports/openshift/infrastructures/azure/storage/',\n    [\"instance_type\" /* instanceType */]: 'reports/openshift/infrastructures/azure/instance-types/',\n};\nexport function runReport(reportType, query) {\n    const path = ReportTypePaths[reportType];\n    return axios.get(`${path}?${query}`);\n}\n","import axios from 'axios';\nexport const ReportTypePaths = {\n    [\"cost\" /* cost */]: 'reports/openshift/costs/',\n    [\"cpu\" /* cpu */]: 'reports/openshift/compute/',\n    [\"memory\" /* memory */]: 'reports/openshift/memory/',\n    [\"volume\" /* volume */]: 'reports/openshift/volumes/',\n};\nexport function runReport(reportType, query) {\n    const path = ReportTypePaths[reportType];\n    return axios.get(`${path}?${query}`);\n}\n","export const reportStateKey = 'report';\nexport function getReportId(reportPathsType, reportType, query) {\n    return `${reportPathsType}--${reportType}--${query}`;\n}\n","import { getReportId, reportStateKey } from './reportCommon';\nexport const selectReportState = (state) => state[reportStateKey];\nexport const selectReport = (state, reportPathsType, reportType, query) => selectReportState(state).byId.get(getReportId(reportPathsType, reportType, query));\nexport const selectReportFetchStatus = (state, reportPathsType, reportType, query) => selectReportState(state).fetchStatus.get(getReportId(reportPathsType, reportType, query));\nexport const selectReportError = (state, reportPathsType, reportType, query) => selectReportState(state).errors.get(getReportId(reportPathsType, reportType, query));\n","import { runReport } from 'api/reports/reportUtils';\nimport { createAction } from 'typesafe-actions';\nimport { getReportId } from './reportCommon';\nimport { selectReport, selectReportFetchStatus } from './reportSelectors';\nconst expirationMS = 30 * 60 * 1000; // 30 minutes\nexport const fetchReportRequest = createAction('report/request')();\nexport const fetchReportSuccess = createAction('report/success')();\nexport const fetchReportFailure = createAction('report/failure')();\nexport function fetchReport(reportPathsType, reportType, query) {\n    return (dispatch, getState) => {\n        if (!isReportExpired(getState(), reportPathsType, reportType, query)) {\n            return;\n        }\n        const meta = {\n            reportId: getReportId(reportPathsType, reportType, query),\n        };\n        dispatch(fetchReportRequest(meta));\n        runReport(reportPathsType, reportType, query)\n            .then(res => {\n            // See https://github.com/project-koku/koku-ui/pull/580\n            // const repsonseData = dropCurrentMonthData(res, query);\n            dispatch(fetchReportSuccess(res.data, meta));\n        })\n            .catch(err => {\n            dispatch(fetchReportFailure(err, meta));\n        });\n    };\n}\nfunction isReportExpired(state, reportPathsType, reportType, query) {\n    const report = selectReport(state, reportPathsType, reportType, query);\n    const fetchStatus = selectReportFetchStatus(state, reportPathsType, reportType, query);\n    if (fetchStatus === 1 /* inProgress */) {\n        return false;\n    }\n    if (!report) {\n        return true;\n    }\n    const now = Date.now();\n    return now > report.timeRequested + expirationMS;\n}\n","import { runReport as runAwsCloudReport } from './awsCloudReports';\nimport { runReport as runAwsReport } from './awsReports';\nimport { runReport as runAzureCloudReport } from './azureCloudReports';\nimport { runReport as runAzureReport } from './azureReports';\nimport { runReport as runGcpReport } from './gcpReports';\nimport { runReport as runIbmReport } from './ibmReports';\nimport { runReport as runOcpCloudReport } from './ocpCloudReports';\nimport { runReport as runOcpReport } from './ocpReports';\nimport { runReport as runOcpUsageReport } from './ocpUsageReports';\nexport function runReport(reportPathsType, reportType, query) {\n    let report;\n    switch (reportPathsType) {\n        case \"aws\" /* aws */:\n            report = runAwsReport(reportType, query);\n            break;\n        case \"aws_cloud\" /* awsCloud */:\n            report = runAwsCloudReport(reportType, query);\n            break;\n        case \"azure\" /* azure */:\n            report = runAzureReport(reportType, query);\n            break;\n        case \"azure_cloud\" /* azureCloud */:\n            report = runAzureCloudReport(reportType, query);\n            break;\n        case \"gcp\" /* gcp */:\n            report = runGcpReport(reportType, query);\n            break;\n        case \"gcp\" /* ibm */:\n            report = runIbmReport(reportType, query);\n            break;\n        case \"ocp\" /* ocp */:\n            report = runOcpReport(reportType, query);\n            break;\n        case \"ocp_cloud\" /* ocpCloud */:\n            report = runOcpCloudReport(reportType, query);\n            break;\n        case \"ocp_usage\" /* ocpUsage */:\n            report = runOcpUsageReport(reportType, query);\n            break;\n    }\n    return report;\n}\n","import { getType } from 'typesafe-actions';\nimport { fetchReportFailure, fetchReportRequest, fetchReportSuccess } from './reportActions';\nconst defaultState = {\n    byId: new Map(),\n    fetchStatus: new Map(),\n    errors: new Map(),\n};\nexport function reportReducer(state = defaultState, action) {\n    switch (action.type) {\n        case getType(fetchReportRequest):\n            return Object.assign(Object.assign({}, state), { fetchStatus: new Map(state.fetchStatus).set(action.payload.reportId, 1 /* inProgress */) });\n        case getType(fetchReportSuccess):\n            return Object.assign(Object.assign({}, state), { fetchStatus: new Map(state.fetchStatus).set(action.meta.reportId, 2 /* complete */), byId: new Map(state.byId).set(action.meta.reportId, Object.assign(Object.assign({}, action.payload), { timeRequested: Date.now() })), errors: new Map(state.errors).set(action.meta.reportId, null) });\n        case getType(fetchReportFailure):\n            return Object.assign(Object.assign({}, state), { fetchStatus: new Map(state.fetchStatus).set(action.meta.reportId, 2 /* complete */), errors: new Map(state.errors).set(action.meta.reportId, action.payload) });\n        default:\n            return state;\n    }\n}\n","import { getReportId, stateKey, userAccessKey } from './userAccessCommon';\nexport const selectUserAccessState = (state) => state[stateKey];\n// Add provider\nexport const selectAddProviderFetchStatus = (state) => selectUserAccessState(state).fetchStatus.get(userAccessKey);\nexport const selectAddProviderError = (state) => selectUserAccessState(state).errors.get(userAccessKey);\n// Fetch userAccess\nexport const selectUserAccess = (state, providerType, query) => selectUserAccessState(state).byId.get(getReportId(providerType, query));\nexport const selectUserAccessFetchStatus = (state, providerType, query) => selectUserAccessState(state).fetchStatus.get(getReportId(providerType, query));\nexport const selectUserAccessError = (state, providerType, query) => selectUserAccessState(state).errors.get(getReportId(providerType, query));\n","import { fetchUserAccess as apiGetUserAccess } from 'api/userAccess';\nimport { createAction } from 'typesafe-actions';\nimport { getReportId } from './userAccessCommon';\nexport const fetchUserAccessRequest = createAction('userAccess/fetch/request')();\nexport const fetchUserAccessSuccess = createAction('userAccess/fetch/success')();\nexport const fetchUserAccessFailure = createAction('userAccess/fetch/failure')();\nexport function fetchUserAccess(reportType, query) {\n    return dispatch => {\n        const meta = {\n            reportId: getReportId(reportType, query),\n        };\n        dispatch(fetchUserAccessRequest(meta));\n        return apiGetUserAccess(query)\n            .then(res => {\n            dispatch(fetchUserAccessSuccess(res.data, meta));\n        })\n            .catch(err => {\n            dispatch(fetchUserAccessFailure(err, meta));\n        });\n    };\n}\nexport const clearuserAccessFailure = createAction('userAccess/clear/failure');\n","export const stateKey = 'userAccess';\nexport const userAccessKey = 'user-access';\nexport const allUserAccessQuery = {\n    type: '',\n};\nexport const awsUserAccessQuery = {\n    type: 'AWS',\n};\nexport const azureUserAccessQuery = {\n    type: 'AZURE',\n};\nexport const costModelUserAccessQuery = {\n    type: 'cost_model',\n};\nexport const ocpUserAccessQuery = {\n    type: 'OCP',\n};\nexport const gcpUserAccessQuery = {\n    type: 'GCP',\n};\nexport const ibmUserAccessQuery = {\n    type: 'GCP',\n};\nexport function getReportId(type, query) {\n    return `${type}--${query}`;\n}\n","import { getType } from 'typesafe-actions';\nimport { fetchUserAccessFailure, fetchUserAccessRequest, fetchUserAccessSuccess } from './userAccessActions';\nexport const defaultState = {\n    byId: new Map(),\n    errors: new Map(),\n    fetchStatus: new Map(),\n};\nexport function userAccessReducer(state = defaultState, action) {\n    switch (action.type) {\n        case getType(fetchUserAccessRequest):\n            return Object.assign(Object.assign({}, state), { fetchStatus: new Map(state.fetchStatus).set(action.payload.reportId, 1 /* inProgress */) });\n        case getType(fetchUserAccessSuccess):\n            return Object.assign(Object.assign({}, state), { fetchStatus: new Map(state.fetchStatus).set(action.meta.reportId, 2 /* complete */), byId: new Map(state.byId).set(action.meta.reportId, Object.assign({}, action.payload)), errors: new Map(state.errors).set(action.meta.reportId, null) });\n        case getType(fetchUserAccessFailure):\n            return Object.assign(Object.assign({}, state), { fetchStatus: new Map(state.fetchStatus).set(action.meta.reportId, 2 /* complete */), errors: new Map(state.errors).set(action.meta.reportId, action.payload) });\n        default:\n            return state;\n    }\n}\n"],"sourceRoot":""}
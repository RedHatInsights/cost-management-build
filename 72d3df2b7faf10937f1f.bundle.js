(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{115:function(t,e,a){"use strict";a.d(e,"c",function(){return r}),a.d(e,"b",function(){return n}),a.d(e,"a",function(){return o});const r=t=>t?t.split("-")[0].toLowerCase():"",n=(t,e,a={})=>{const n=r(e),c=t||0;switch(n){case"usd":return o(c,n,a);case"gb":return i(c,n,a);default:return s(c,n,a)}},s=(t,e,{fractionDigits:a}={})=>t.toFixed(a),o=(t,e,{fractionDigits:a=2}={})=>{let r=t;return t||(r=0),r.toLocaleString("en",{style:"currency",currency:"USD",minimumFractionDigits:a,maximumFractionDigits:a})},i=(t,e,{fractionDigits:a=2}={})=>t.toFixed(a)},116:function(t,e,a){"use strict";a.d(e,"a",function(){return r}),a.d(e,"b",function(){return n});const r=t=>({"data-testid":t}),n={details:{historical_data_btn:"historical-data-btn",tag_lnk:"tag-lnk",show_more_btn:"show-more-btn",view_all_btn:"view-all-btn"},export:{cancel_btn:"cancel-btn",submit_btn:"submit-btn"},login:{alert:"alert",form:"login-form",username_input:"username-input",password_input:"password-input",submit:"submit"},masthead:{masthead:"masthead",username:"username",sidebarToggle:"sidebar-toggle",logout:"logout"},onboarding:{btn_cancel:"btn-cancel",btn_back:"btn-back",btn_continue:"btn-continue",btn_close:"btn-close",type_selector:"type-selector",type_opt_aws:"type-option-aws",type_opt_ocp:"type-option-ocp",type_opt_non:"type-option-non",name_input:"name-input",check_box_1:"check-box-1",check_box_2:"check-box-2",check_box_3:"check-box-3",check_box_4:"check-box-4",check_box_5:"check-box-5",check_box_all:"check-box-all",s3_input:"s3-input",clusterid_input:"clusterid-input",arn_input:"arn-input"},providers:{add_btn:"add-btn",bucket_input:"bucket-input",cancel_btn:"cancel-btn",empty_state_add_btn:"empty_state_add-btn",name_input:"provider-name-input",resource_name_input:"provider-resource-name-input",cluster_id_input:"provider-cluster-id-input",submit_btn:"submit-btn",type_input:"provider-type-input"},sidebar:{nav:"vertical-nav",link:"vertical-nav-link",backdrop:"sidebar-backdrop"}}},121:function(t,e,a){"use strict";a.d(e,"g",function(){return v}),a.d(e,"i",function(){return y}),a.d(e,"h",function(){return _}),a.d(e,"a",function(){return E}),a.d(e,"b",function(){return j}),a.d(e,"d",function(){return T}),a.d(e,"c",function(){return D}),a.d(e,"e",function(){return w}),a.d(e,"f",function(){return k});var r=a(408),n=a.n(r),s=a(191),o=a.n(s),i=a(132),c=a.n(i),l=a(257),u=a.n(l),p=a(256),b=a.n(p),d=a(64),m=a(115),h=a(163),f=a(161),g=a(166);function v(t,e=1,a="date",r="total"){if(!t)return[];const n={report:t,idKey:a,sortKey:"id",sortDirection:1},s=Object(h.a)(n);return 1===e?s.map(t=>O(t[r],t,a)):2===e?s.map(t=>O(t[r],t,a)):s.reduce((t,e)=>{const n=t.length?t[t.length-1].y:0;return[...t,O(n+e[r],e,a)]},[])}function y(t,e=1,a="date",r="cost"){if(!t)return[];const n={report:t,idKey:a,sortKey:"id",sortDirection:1},s=Object(g.a)(n);return 1===e?s.map(t=>O(t[r],t,a)):2===e?s.map(t=>O(t[r],t,a)):s.reduce((t,e)=>{const n=t.length?t[t.length-1].y:0;return[...t,O(n+e[r],e,a)]},[])}function _(t,e=1,a="date",r="cost"){if(!t)return[];const n={report:t,idKey:a,sortKey:"id",sortDirection:1},s=Object(f.a)(n);return 1===e?s.map(t=>O(t[r],t,a)):2===e?s.map(t=>O(t[r],t,a)):s.reduce((t,e)=>{const n=t.length?t[t.length-1].y:0;return[...t,O(n+e[r],e,a)]},[])}function O(t,e,a="date"){var r;return{x:"date"===a?c()(e.id):e.label,y:(r=t,Number(r)===r&&r%1!=0?parseFloat(t.toFixed(2)):function(t){return Number(t)===t&&t%1==0}(t)?t:0),key:e.id,name:e.id,units:e.units}}function E(t,e=!0,a=!1){const[r,s]=function(t){if(!t||!t.length){const t=new Date;return[b()(t),t]}return[new Date(t[0].key+"T00:00:00"),new Date(t[t.length-1].key+"T00:00:00")]}(t);if(e&&r.setDate&&r.setDate(1),a&&r.setDate){const t=n()(r).getDate();s.setDate(t)}return[r,s]}function j(t,e=!1,a=!1){const[r,n]=E(t,e,a);return d.a.t("chart.date_range",{count:c()(n),endDate:o()(n,"DD"),month:Number(o()(r,"M"))-1,startDate:o()(r,"DD"),year:u()(n)})}function T(t,e="chart.month"){const[a,r]=E(t);return[d.a.t(e,{month:Number(o()(a,"M"))-1}),d.a.t(e,{month:Number(o()(r,"M"))-1})]}function D(t){let e=0;return t&&t.length&&t.forEach(t=>{t.y>e&&(e=t.y)}),e}function w(t){return function(e,a=null,r={}){const n=Object(m.c)(a);switch(n){case"hrs":case"gb":return d.a.t(`units.${n}`,{value:`${t(e,a,r)}`});default:return`${t(e,a,r)}`}}}function k(t,e,a,r="date"){if(!t.key)return"";if("date"===r){return`${o()(t.key,"DD MMM YYYY")}: ${e(t.y,t.units,a)}`}return t.key.toString()}},134:function(t,e,a){"use strict";function r(t,e){if("string"==typeof t)return t;return t[e.key]}function n(t,e){const{direction:a=0}=e||{};return[...t].sort((t,n)=>{const s=r(0===a?t:n,e),o=r(0===a?n:t,e);return s>o?-1:s<o?1:0})}a.d(e,"a",function(){return n})},161:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"c",function(){return s}),a.d(e,"b",function(){return o});var r=a(134);function n({report:t,idKey:e,labelKey:a=e,sortKey:n="cost",sortDirection:o=0}){return Object(r.a)(s({report:t,idKey:e,labelKey:a,sortDirection:o,sortKey:n}),{key:n,direction:o})}function s({report:t,idKey:e,labelKey:a=e}){if(!t)return[];const r=new Map,n=t=>{t.values&&t.values.forEach(t=>{const n=t.capacity?t.capacity.value:0,s=t.cluster_alias?t.cluster_alias:t.cluster,o=t.cost?t.cost.value:0,i=t.derived_cost?t.derived_cost.value:0,c=t.infrastructure_cost?t.infrastructure_cost.value:0,l=t[e];let u;u="cluster"===a&&t.cluster_alias?t.cluster_alias:t[a]instanceof Object?t[a].value:t[a],"account"===a&&t.account_alias&&(u=t.account_alias);const p=t.limit?t.limit.value:0,b=t.request?t.request.value:0,d=t.usage?t.usage.value:0,m=t.usage?t.usage.units:t.cost.units;r.get(l)?r.set(l,Object.assign({},r.get(l),{capacity:r.get(l).capacity+n,cost:r.get(l).cost+o,derivedCost:r.get(l).derivedCost+i,infrastructureCost:r.get(l).infrastructureCost+c,limit:r.get(l).limit+p,request:r.get(l).request+b,usage:r.get(l).usage+d})):r.set(l,{capacity:n,cluster:s,cost:o,deltaPercent:t.delta_percent,deltaValue:t.delta_value,derivedCost:i,id:l,infrastructureCost:c,label:u,limit:p,request:b,units:m,usage:d})});for(const e in t)if(t[e]instanceof Array)return t[e].forEach(n)};return t&&t.data&&t.data.forEach(n),Array.from(r.values())}function o(t={}){return t.project?"project":t.cluster?"cluster":t.node?"node":"date"}},163:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"c",function(){return s}),a.d(e,"b",function(){return o});var r=a(134);function n({report:t,idKey:e,labelKey:a=e,sortKey:n="cost",sortDirection:o=0}){return Object(r.a)(s({report:t,idKey:e,labelKey:a,sortDirection:o,sortKey:n}),{key:n,direction:o})}function s({report:t,idKey:e,labelKey:a=e}){if(!t)return[];const r=new Map,n=t=>{t.values&&t.values.forEach(t=>{const n=t.usage?t.usage.value:t.cost.value,s=t.derived_cost?t.derived_cost.value:0,o=t.infrastructure_cost?t.infrastructure_cost.value:0,i=t[e];let c;c=t[a]instanceof Object?t[a].value:t[a],"account"===a&&t.account_alias&&(c=t.account_alias),r.get(i)?r.set(i,Object.assign({},r.get(i),{cost:r.get(i).cost+n,derivedCost:r.get(i).derivedCost+s,infrastructureCost:r.get(i).infrastructureCost+o})):r.set(i,{cost:n,deltaPercent:t.delta_percent,deltaValue:t.delta_value,derivedCost:s,id:i,infrastructureCost:o,label:c,units:t.usage?t.usage.units:t.cost.units})});for(const e in t)if(t[e]instanceof Array)return t[e].forEach(n)};return t&&t.data&&t.data.forEach(n),Array.from(r.values())}function o(t={}){return t.account?"account":t.instance_type?"instance_type":t.region?"region":t.service?"service":"date"}},166:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"c",function(){return s}),a.d(e,"b",function(){return o});var r=a(134);function n({report:t,idKey:e,labelKey:a=e,sortKey:n="cost",sortDirection:o=0}){return Object(r.a)(s({report:t,idKey:e,labelKey:a,sortDirection:o,sortKey:n}),{key:n,direction:o})}function s({report:t,idKey:e,labelKey:a=e}){if(!t)return[];const r=new Map,n=t=>{t.values&&t.values.forEach(t=>{const n=t.capacity?t.capacity.value:0,s=t.cluster_alias?t.cluster_alias:t.cluster,o=t.cost?t.cost.value:0,i=t.derived_cost?t.derived_cost.value:0,c=t.infrastructure_cost?t.infrastructure_cost.value:0,l=t[e];let u;u="cluster"===a&&t.cluster_alias?t.cluster_alias:t[a]instanceof Object?t[a].value:t[a];const p=t.limit?t.limit.value:0,b=t.request?t.request.value:0,d=t.usage?t.usage.value:0,m=t.usage?t.usage.units:t.cost.units;r.get(l)?r.set(l,Object.assign({},r.get(l),{capacity:r.get(l).capacity+n,cost:r.get(l).cost+o,derivedCost:r.get(l).derivedCost+i,infrastructureCost:r.get(l).infrastructureCost+c,limit:r.get(l).limit+p,request:r.get(l).request+b,usage:r.get(l).usage+d})):r.set(l,{capacity:n,cluster:s,cost:o,deltaPercent:t.delta_percent,deltaValue:t.delta_value,derivedCost:i,id:l,infrastructureCost:c,label:u,limit:p,request:b,units:m,usage:d})});for(const e in t)if(t[e]instanceof Array)return t[e].forEach(n)};return t&&t.data&&t.data.forEach(n),Array.from(r.values())}function o(t={}){return t.project?"project":t.cluster?"cluster":t.node?"node":"date"}},198:function(t,e,a){"use strict";var r=a(743),n=a(742),s=a(1),o=a.n(s),i=function(t,e){var a={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(a[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&(a[r[n]]=t[r[n]])}return a};const c=t=>{var{content:e}=t,a=i(t,["content"]);return o.a.createElement(n.a,{content:e(a.datum),enableFlip:!0},o.a.createElement(r.a,Object.assign({},a)))};a.d(e,"a",function(){return c})},202:function(t,e,a){"use strict";var r=a(744),n=a(517),s=a(754),o=a(747),i=a(749),c=a(748),l=a(213),u=a(770),p=a(198),b=a(121),d=a(132),m=a.n(d),h=a(1),f=a.n(h),g=a(95);const v={colorScale:[g.D.value,"#A2DA9C","#88D080","#6EC664","#519149","#3C6C37"],legend:{labels:{fontFamily:g.o.value,fontSize:14},minWidth:175},previousMonth:{data:{fill:"none",stroke:g.D.value}},currentMonth:{data:{fill:"none",stroke:"#A2DA9C"}},yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"}}},y=u.a.create({chartContainer:{":not(foo) svg":{overflow:"visible"}},legend:{display:"inline-block",fontSize:g.r.value,marginTop:g.H.value,minWidth:"175px"}});class _ extends f.a.Component{constructor(){super(...arguments),this.containerRef=f.a.createRef(),this.state={width:0},this.initDatum=(()=>{const{currentData:t,previousData:e,title:a}=this.props,r=[];if(e){const[t]=Object(b.d)(e);r.push({name:t,symbol:{type:"minus"},tooltip:Object(b.b)(e,!0,!0)})}if(t){const[e]=Object(b.d)(t);r.push({name:e,symbol:{type:"minus"},tooltip:Object(b.b)(t,!0,!1)})}const n={charts:[{data:e,show:!0,style:v.previousMonth},{data:t,show:!0,style:v.currentMonth}],legend:{colorScale:v.colorScale,data:r,onClick:this.handleCostLegendClick,title:a}};this.setState({datum:{cost:n}})}),this.handleCostLegendClick=(t=>{const{datum:e}=this.state,a=Object.assign({},e);t.index>=0&&a.cost.charts.length&&(a.cost.charts[t.index].show=!a.cost.charts[t.index].show,this.setState({datum:a}))}),this.handleResize=(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})}),this.getChart=((t,e)=>t.data&&t.data.length&&t.show?f.a.createElement(c.a,{data:t.data,key:`trend-chart-${e}`,style:t.style}):null),this.getLegend=((t,e)=>t&&t.data&&t.data.length?f.a.createElement(i.a,{colorScale:t.colorScale,containerComponent:f.a.createElement(n.a,{responsive:!1}),data:t.data,events:[{target:"data",eventHandlers:{onClick:()=>[{target:"data",mutation:e=>(t.onClick(e),null)}]}}],gutter:20,height:25,labelComponent:f.a.createElement(p.a,{content:this.getLegendTooltip}),orientation:e>150?"horizontal":"vertical",style:v.legend,theme:l.a.light.blue,width:e}):null),this.getLegendTooltip=(t=>t.tooltip?t.tooltip:""),this.getTooltipLabel=(t=>{const{formatDatumValue:e,formatDatumOptions:a}=this.props;return Object(b.f)(t,Object(b.e)(e),a,"date")})}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize)}),this.initDatum()}componentDidUpdate(t){t.currentData===this.props.currentData&&t.previousData===this.props.previousData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}getDomain(){const{currentData:t,previousData:e}=this.props,a={x:[1,31]},r=t?Object(b.c)(t):0,n=e?Object(b.c)(e):0,s=Math.max(r,n),o=s>0?Math.ceil(s+.1*s):0;return o>0&&(a.y=[0,o]),a}getEndDate(){const{currentData:t,previousData:e}=this.props,a=e?m()(Object(b.a)(e,!0,!0)[1]):0,r=t?m()(Object(b.a)(t,!0,!0)[1]):0;return r>0||a>0?Math.max(r,a):31}isLegendVisible(){const{datum:t}=this.state;let e=!1;return t&&t.cost.legend&&t.cost.legend.data&&t.cost.legend.data.forEach(t=>{t.name&&""!==t.name.trim()&&(e=!0)}),e}render(){const{height:t}=this.props,{datum:e,width:a}=this.state,n=f.a.createElement(r.a,{labels:this.getTooltipLabel,voronoiDimension:"x"}),i=v.legend.minWidth>a/2?v.legend.minWidth:a/2,c=this.getDomain(),l=this.getEndDate(),p=Math.floor(l/2);return f.a.createElement("div",{className:Object(u.b)(y.chartContainer),ref:this.containerRef},f.a.createElement(o.a,{containerComponent:n,domain:c,height:t,width:a},Boolean(e&&e.cost)&&e.cost.charts.map((t,e)=>this.getChart(t,e)),f.a.createElement(s.a,{style:v.xAxis,tickValues:[1,p,l]}),f.a.createElement(s.a,{dependentAxis:!0,style:v.yAxis})),Boolean(this.isLegendVisible())&&f.a.createElement("div",{className:Object(u.b)(y.legend)},Boolean(e.cost.legend.title)&&f.a.createElement("div",null,e.cost.legend.title),this.getLegend(e.cost.legend,i)))}}a.d(e,"a",function(){return _})},206:function(t,e,a){"use strict";var r=a(513),n=a(764),s=a(763),o=a(765),i=a(778),c=a(770),l=a(1),u=a.n(l),p=a(46);const b=c.a.create({container:{display:"flex",justifyContent:"center",height:"100vh",marginTop:"150px"}});a.d(e,"a",function(){return d});const d=Object(p.d)()(({icon:t=i.a,t:e})=>{const a=e("loading_state.sources_title"),l=e("loading_state.sources_desc");return u.a.createElement("div",{className:Object(c.b)(b.container)},u.a.createElement(o.a,null,u.a.createElement(s.a,{icon:t}),u.a.createElement(r.b,{size:"lg"},a),u.a.createElement(n.a,null,l)))})},207:function(t,e,a){"use strict";var r=a(735),n=a(764),s=a(513),o=a(763),i=a(765),c=a(775),l=a(770),u=a(1),p=a.n(u),b=a(46),d=a(38),m=a(60),h=a(47),f=a(116);const g=l.a.create({container:{display:"flex",justifyContent:"center",height:"100vh",marginTop:"150px"}});a.d(e,"a",function(){return y});const v=Object(m.a)((t,{})=>({})),y=Object(b.d)()(Object(d.b)(v,{openProvidersModal:h.a.openModal})(class extends p.a.Component{constructor(){super(...arguments),this.getAddSourceButton=(()=>{const{openProvidersModal:t,t:e}=this.props;return p.a.createElement(r.c,Object.assign({},Object(f.a)(f.b.providers.add_btn),{onClick:t,type:r.a.submit,variant:r.b.primary}),e("providers.add_source"))})}render(){const{t:t}=this.props;return p.a.createElement("div",{className:Object(l.b)(g.container)},p.a.createElement(i.a,null,p.a.createElement(o.a,{icon:c.a}),p.a.createElement(s.b,{size:"lg"},t("providers.empty_state_title")),p.a.createElement(n.a,null,t("providers.empty_state_desc")),this.getAddSourceButton()))}}))},209:function(t,e,a){"use strict";var r=a(513),n=a(764),s=a(763),o=a(765),i=a(779),c=a(772),l=a(770),u=a(1),p=a.n(u),b=a(46);const d=l.a.create({container:{display:"flex",justifyContent:"center",height:"100vh",marginTop:"150px"}});a.d(e,"a",function(){return m});const m=Object(b.d)()(({error:t,icon:e=c.a,t:a})=>{let u=a("error_state.unexpected_title"),b=a("error_state.unexpected_desc");return t&&t.response&&401===t.response.status&&(e=i.a,u=a("error_state.unauthorized_title"),b=a("error_state.unauthorized_desc")),p.a.createElement("div",{className:Object(l.b)(d.container)},p.a.createElement(o.a,null,p.a.createElement(s.a,{icon:e}),p.a.createElement(r.b,{size:"lg"},u),p.a.createElement(n.a,null,b)))})},267:function(t,e,a){"use strict";var r=a(747),n=a(517),s=a(749),o=a(748),i=a(744),c=a(754),l=a(213),u=a(770),p=a(198),b=a(121),d=a(132),m=a.n(d),h=a(1),f=a.n(h),g=a(95);const v={currentRequestData:{data:{fill:"none",stroke:"#88D080",strokeDasharray:"3,3"}},currentUsageData:{data:{fill:"none",stroke:"#A2DA9C"}},legend:{labels:{fontFamily:g.o.value,fontSize:14},minWidth:175},previousRequestData:{data:{fill:"none",stroke:g.D.value,strokeDasharray:"3,3"}},previousUsageData:{data:{fill:"none",stroke:g.D.value}},currentColorScale:["#A2DA9C","#88D080","#6EC664","#519149","#3C6C37"],previousColorScale:[g.D.value,g.C.value],yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"}}},y=u.a.create({chartContainer:{":not(foo) svg":{overflow:"visible"},marginTop:g.H.value},chartTitle:{fontSize:g.r.value,marginTop:g.H.value},legend:{display:"inline-block",fontSize:g.r.value,minHeight:"60px",minWidth:"175px",width:"50%"}});class _ extends f.a.Component{constructor(){super(...arguments),this.containerRef=f.a.createRef(),this.state={width:0},this.initDatum=(()=>{const{currentRequestData:t,currentUsageData:e,previousRequestData:a,previousUsageData:r,title:n}=this.props,s=[];if(r){const[t]=Object(b.d)(r,"chart.usage");s.push({name:t,symbol:{type:"minus"},tooltip:Object(b.b)(r,!0,!0)})}if(a){const[t]=Object(b.d)(a,"chart.requests");s.push({name:t,symbol:{type:"dash"},tooltip:Object(b.b)(a,!0,!0)})}const o={charts:[{data:r,show:!0,style:v.previousUsageData},{data:a,show:!0,style:v.previousRequestData}],legend:{colorScale:v.previousColorScale,data:s,onClick:this.handlePreviousLegendClick,title:n}},i=[];if(e){const[t]=Object(b.d)(e,"chart.usage");i.push({name:t,symbol:{type:"minus"},tooltip:Object(b.b)(e,!0,!1)})}if(t){const[e]=Object(b.d)(t,"chart.requests");i.push({name:e,symbol:{type:"dash"},tooltip:Object(b.b)(t,!0,!1)})}const c={charts:[{data:e,show:!0,style:v.currentUsageData},{data:t,show:!0,style:v.currentRequestData}],legend:{colorScale:v.currentColorScale,data:i,gutter:55,onClick:this.handleCurrentLegendClick,title:n}};this.setState({datum:{previous:o,current:c}})}),this.handleCurrentLegendClick=(t=>{const{datum:e}=this.state,a=Object.assign({},e);t.index>=0&&a.current.charts.length&&(a.current.charts[t.index].show=!a.current.charts[t.index].show,this.setState({datum:a}))}),this.handleResize=(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})}),this.handlePreviousLegendClick=(t=>{const{datum:e}=this.state,a=Object.assign({},e);t.index>=0&&a.previous.charts.length&&(a.previous.charts[t.index].show=!a.previous.charts[t.index].show,this.setState({datum:a}))}),this.getChart=((t,e)=>t.data&&t.data.length&&t.show?f.a.createElement(o.a,{data:t.data,key:`usage-chart-${e}`,style:t.style}):null),this.getLegend=((t,e)=>t&&t.data&&t.data.length?f.a.createElement(s.a,{colorScale:t.colorScale,containerComponent:f.a.createElement(n.a,{responsive:!1}),data:t.data,events:[{target:"data",eventHandlers:{onClick:()=>[{target:"data",mutation:e=>(t.onClick(e),null)}]}}],height:25,itemsPerRow:1,labelComponent:f.a.createElement(p.a,{content:this.getLegendTooltip}),orientation:"horizontal",style:v.legend,theme:l.a.light.blue}):null),this.getLegendTooltip=(t=>t.tooltip?t.tooltip:""),this.getTooltipLabel=(t=>{const{formatDatumValue:e,formatDatumOptions:a}=this.props;return Object(b.f)(t,Object(b.e)(e),a,"date")})}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize)}),this.initDatum()}componentDidUpdate(t){t.currentRequestData===this.props.currentRequestData&&t.currentUsageData===this.props.currentUsageData&&t.previousRequestData===this.props.previousRequestData&&t.previousUsageData===this.props.previousUsageData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}getDomain(){const{currentRequestData:t,currentUsageData:e,previousRequestData:a,previousUsageData:r}=this.props,n={x:[1,31]},s=t?Object(b.c)(t):0,o=e?Object(b.c)(e):0,i=a?Object(b.c)(a):0,c=r?Object(b.c)(r):0,l=Math.max(s,o,i,c),u=l>0?Math.ceil(l+.1*l):0;return u>0&&(n.y=[0,u]),n}getEndDate(){const{currentRequestData:t,currentUsageData:e,previousRequestData:a,previousUsageData:r}=this.props,n=t?m()(Object(b.a)(t,!0,!0)[1]):0,s=e?m()(Object(b.a)(e,!0,!0)[1]):0,o=a?m()(Object(b.a)(a,!0,!0)[1]):0,i=r?m()(Object(b.a)(r,!0,!0)[1]):0;return n>0||s>0||o>0||i>0?Math.max(n,s,o,i):31}isCurrentLegendVisible(){const{datum:t}=this.state;let e=!1;return t&&t.current.legend&&t.current.legend.data&&t.current.legend.data.forEach(t=>{t.name&&""!==t.name.trim()&&(e=!0)}),e}isPreviousLegendVisible(){const{datum:t}=this.state;let e=!1;return t&&t.previous.legend&&t.previous.legend.data&&t.previous.legend.data.forEach(t=>{t.name&&""!==t.name.trim()&&(e=!0)}),e}render(){const{height:t}=this.props,{datum:e,width:a}=this.state,n=f.a.createElement(i.a,{labels:this.getTooltipLabel,voronoiDimension:"x"}),s=v.legend.minWidth>a/2?v.legend.minWidth:a/2,o=this.getDomain(),l=this.getEndDate(),p=Math.floor(l/2);return f.a.createElement("div",{className:Object(u.b)(y.chartContainer),ref:this.containerRef},f.a.createElement(r.a,{containerComponent:n,domain:o,height:t,width:a},Boolean(e&&e.previous)&&e.previous.charts.map((t,e)=>this.getChart(t,e)),Boolean(e&&e.current)&&e.current.charts.map((t,e)=>this.getChart(t,e)),f.a.createElement(c.a,{style:v.xAxis,tickValues:[1,p,l]}),f.a.createElement(c.a,{dependentAxis:!0,style:v.yAxis})),Boolean(this.isPreviousLegendVisible())&&f.a.createElement("div",{className:Object(u.b)(y.chartTitle)},e.previous.legend.title),Boolean(this.isCurrentLegendVisible()&&!this.isPreviousLegendVisible())&&f.a.createElement("div",{className:Object(u.b)(y.chartTitle)},e.current.legend.title),Boolean(this.isPreviousLegendVisible())&&f.a.createElement("div",{className:Object(u.b)(y.legend)},this.getLegend(e.previous.legend,s)),Boolean(this.isCurrentLegendVisible())&&f.a.createElement("div",{className:Object(u.b)(y.legend)},this.getLegend(e.current.legend,s)))}}a.d(e,"a",function(){return _})},406:function(t,e,a){"use strict";var r=a(767),n=a(769),s=a(768),o=a(766),i=a(513),c=a(742),l=a(770),u=a(1),p=a.n(u),b=a(46),d=a(95);const m=l.a.create({reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:d.t.value,color:d.k.var,marginBottom:"0"}}),h=Object(b.d)()(({children:t,detailsLink:e,title:a,subTitle:u,subTitleTooltip:b=u,status:d,t:h})=>p.a.createElement(n.a,{className:Object(l.b)(m.reportSummary)},p.a.createElement(o.a,null,p.a.createElement(i.b,{size:"lg"},a),Boolean(u)&&p.a.createElement(c.a,{content:b,enableFlip:!0},p.a.createElement("p",{className:Object(l.b)(m.subtitle)},u))),p.a.createElement(s.a,null,1===d?`${h("loading")}...`:t),Boolean(e)&&p.a.createElement(r.a,null,e)));var f=a(650),g=a(514);const v=l.a.create({container:{display:"flex"},cost:{flexGrow:1,minHeight:"440px"},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:d.t.value,color:d.k.var,marginBottom:"0"},tops:{flexGrow:1,marginTop:d.H.value}}),y=Object(b.d)()(({children:t,detailsLink:e,status:a,subTitle:u,subTitleTooltip:b=u,t:d,tabs:m,title:h})=>p.a.createElement(n.a,{className:Object(l.b)(v.reportSummary)},p.a.createElement(g.a,{gutter:"md"},p.a.createElement(f.a,{lg:5,xl:6},p.a.createElement("div",{className:Object(l.b)(v.container)},p.a.createElement("div",{className:Object(l.b)(v.cost)},p.a.createElement(o.a,null,p.a.createElement(i.b,{size:"lg"},h),Boolean(u)&&p.a.createElement(c.a,{content:b,enableFlip:!0},p.a.createElement("p",{className:Object(l.b)(v.subtitle)},u))),p.a.createElement(s.a,null,1===a?`${d("loading")}...`:t)))),p.a.createElement(f.a,{lg:7,xl:6},p.a.createElement("div",{className:Object(l.b)(v.container)},p.a.createElement("div",{className:Object(l.b)(v.tops)},1!==a&&p.a.createElement(p.a.Fragment,null,Boolean(m)&&p.a.createElement(s.a,null,m),Boolean(e)&&p.a.createElement(r.a,null,e)))))))),_=l.a.create({reportSummaryDetails:{marginBottom:d.I.value,display:"flex",alignItems:"flex-end"},text:{paddingBottom:14,lineHeight:d.w.value,fontSize:d.t.value},value:{color:d.j.var,marginRight:d.J.value,fontSize:d.p.value},valueContainer:{display:"inline-block",marginBottom:d.I.value,width:"50%"}}),O=({costLabel:t,formatValue:e,formatOptions:a,report:r,reportType:n="cost",unitsLabel:s,usageLabel:o})=>{let i="----",c="----";if(r&&r.meta&&r.meta.total){const t=r.meta.total.cost?r.meta.total.cost.units:"USD";i=e(r.meta.total.cost?r.meta.total.cost.value:0,t,a);const n=r.meta.total.usage?r.meta.total.usage.units:"USD";c=e(r.meta.total.usage?r.meta.total.usage.value:0,n,a)}return"cost"===n?p.a.createElement("div",{className:Object(l.b)(_.reportSummaryDetails)},p.a.createElement("div",{className:Object(l.b)(_.value)},i)):p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:Object(l.b)(_.valueContainer)},p.a.createElement("div",{className:Object(l.b)(_.value)},i),p.a.createElement("div",{className:Object(l.b)(_.text)},p.a.createElement("div",null,t))),Boolean(o)&&p.a.createElement("div",{className:Object(l.b)(_.valueContainer)},p.a.createElement("div",{className:Object(l.b)(_.value)},c," ",p.a.createElement("span",{className:Object(l.b)(_.text)},s)),p.a.createElement("div",{className:Object(l.b)(_.text)},p.a.createElement("div",null,o))))};var E=a(740);const j=l.a.create({reportSummaryItem:{":not(:last-child)":{marginBottom:d.I.value}},test:{":not(foo) svg":{overflow:"visible"}}}),T=({label:t,value:e,totalValue:a,formatValue:r,units:n,formatOptions:s})=>{const o=Number((a?e/a*100:0).toFixed(2)),i=`${r(e,n,s)} (${o}%)`;return p.a.createElement("li",{className:Object(l.b)(j.reportSummaryItem)},p.a.createElement(E.b,{label:i,value:o,title:t,size:E.a.sm}))};T.defaultProps={formatValue:t=>t};var D=a(163);const w=Object(b.d)()(class extends p.a.Component{shouldComponentUpdate(t){return t.report!==this.props.report}getItems(){const{report:t,idKey:e,labelKey:a}=this.props,r=Object(D.a)({report:t,idKey:e,labelKey:a}),n=r.findIndex(t=>{const e=t.id;if(e&&null!==e)return e.toString().includes("Other")});return-1!==n?[...r.slice(0,n),...r.slice(n+1),r[n]]:r}render(){const{report:t,children:e,t:a}=this.props;if(t){const t=this.getItems();return p.a.createElement("ul",null,e({items:t}))}return`${a("loading")}...`}});var k=a(202);const S=l.a.create({chart:{marginBottom:d.J.value}}),x=t=>p.a.createElement("div",{className:Object(l.b)(S.chart)},p.a.createElement(k.a,Object.assign({},t)));a.d(e,"a",function(){return h}),a.d(e,"b",function(){return y}),a.d(e,"c",function(){return O}),a.d(e,"d",function(){return T}),a.d(e,"e",function(){return w}),a.d(e,"f",function(){return x})},407:function(t,e,a){"use strict";var r=a(767),n=a(769),s=a(768),o=a(766),i=a(513),c=a(742),l=a(770),u=a(1),p=a.n(u),b=a(46),d=a(95);const m=l.a.create({reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:d.t.value,color:d.k.var,marginBottom:"0"}}),h=Object(b.d)()(({children:t,detailsLink:e,title:a,subTitle:u,subTitleTooltip:b=u,status:d,t:h})=>p.a.createElement(n.a,{className:Object(l.b)(m.reportSummary)},p.a.createElement(o.a,null,p.a.createElement(i.b,{size:"lg"},a),Boolean(u)&&p.a.createElement(c.a,{content:b,enableFlip:!0},p.a.createElement("p",{className:Object(l.b)(m.subtitle)},u))),p.a.createElement(s.a,null,1===d?`${h("loading")}...`:t),Boolean(e)&&p.a.createElement(r.a,null,e)));var f=a(650),g=a(514);const v=l.a.create({container:{display:"flex"},cost:{flexGrow:1,minHeight:"440px"},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:d.t.value,color:d.k.var,marginBottom:"0"},tops:{flexGrow:1,marginTop:d.H.value}}),y=Object(b.d)()(({children:t,detailsLink:e,status:a,subTitle:u,subTitleTooltip:b=u,t:d,tabs:m,title:h})=>p.a.createElement(n.a,{className:Object(l.b)(v.reportSummary)},p.a.createElement(g.a,{gutter:"md"},p.a.createElement(f.a,{lg:5,xl:6},p.a.createElement("div",{className:Object(l.b)(v.container)},p.a.createElement("div",{className:Object(l.b)(v.cost)},p.a.createElement(o.a,null,p.a.createElement(i.b,{size:"lg"},h),Boolean(u)&&p.a.createElement(c.a,{content:b,enableFlip:!0},p.a.createElement("p",{className:Object(l.b)(v.subtitle)},u))),p.a.createElement(s.a,null,1===a?`${d("loading")}...`:t)))),p.a.createElement(f.a,{lg:7,xl:6},p.a.createElement("div",{className:Object(l.b)(v.container)},p.a.createElement("div",{className:Object(l.b)(v.tops)},1!==a&&p.a.createElement(p.a.Fragment,null,Boolean(m)&&p.a.createElement(s.a,null,m),Boolean(e)&&p.a.createElement(r.a,null,e)))))))),_=l.a.create({text:{display:"flex",alignItems:"flex-end",marginLeft:d.J.value,paddingBottom:14,lineHeight:d.w.value,fontSize:d.t.value},titleContainer:{display:"inline-block",marginBottom:d.I.value,minWidth:"175px",width:"50%"},usageText:{marginRight:d.J.value},usageValue:{marginRight:d.J.value},value:{display:"flex",color:d.j.var,fontSize:d.p.value},valueContainer:{display:"inline-block",marginBottom:d.I.value,width:"50%"}}),O=({costLabel:t,formatValue:e,formatOptions:a,report:r,reportType:n="cost",requestLabel:s,unitsLabel:o,usageLabel:i})=>{let c="----",u="----",b="----";const d="database"===n||"instance_type"===n||"network"===n||"storage"===n;if(r&&r.meta&&r.meta.total){const t=r.meta.total.cost.units?r.meta.total.cost.units:"USD";if(c=e(r.meta.total.cost?r.meta.total.cost.value:0,t,a),d){const t=r.meta.total.usage?r.meta.total.usage.units:"USD";b=e(r.meta.total.usage?r.meta.total.usage.value:0,t,a)}else{const t=r.meta.total.usage?r.meta.total.usage.units:"GB";b=e(r.meta.total.usage?r.meta.total.usage.value:0,t,a),u=e(r.meta.total.request?r.meta.total.request.value:0,t,a)}}return"cost"===n?p.a.createElement("div",{className:Object(l.b)(_.titleContainer)},p.a.createElement("div",{className:Object(l.b)(_.value)},c)):d?p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:Object(l.b)(_.valueContainer)},p.a.createElement("div",{className:Object(l.b)(_.value)},c),p.a.createElement("div",{className:Object(l.b)(_.text)},p.a.createElement("div",null,t))),Boolean(i)&&p.a.createElement("div",{className:Object(l.b)(_.valueContainer)},p.a.createElement("div",{className:Object(l.b)(_.value)},b," ",p.a.createElement("span",{className:Object(l.b)(_.text)},o)),p.a.createElement("div",{className:Object(l.b)(_.text)},p.a.createElement("div",null,i)))):p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:Object(l.b)(_.titleContainer)},p.a.createElement("div",{className:Object(l.b)(_.value,_.usageValue)},b,p.a.createElement("div",{className:Object(l.b)(_.text)},p.a.createElement("div",null,i)))),p.a.createElement("div",{className:Object(l.b)(_.titleContainer)},p.a.createElement("div",{className:Object(l.b)(_.value)},u,p.a.createElement("div",{className:Object(l.b)(_.text)},s))))};var E=a(740);const j=l.a.create({reportSummaryItem:{":not(:last-child)":{marginBottom:d.I.value}},test:{":not(foo) svg":{overflow:"visible"}}}),T=({label:t,value:e,totalValue:a,formatValue:r,units:n,formatOptions:s})=>{const o=Number((a?e/a*100:0).toFixed(2)),i=`${r(e,n,s)} (${o}%)`;return p.a.createElement("li",{className:Object(l.b)(j.reportSummaryItem)},p.a.createElement(E.b,{label:i,value:o,title:t,size:E.a.sm}))};T.defaultProps={formatValue:t=>t};var D=a(161);const w=Object(b.d)()(class extends p.a.Component{shouldComponentUpdate(t){return t.report!==this.props.report}getItems(){const{report:t,idKey:e,labelKey:a}=this.props,r=Object(D.a)({report:t,idKey:e,labelKey:a}),n=r.findIndex(t=>{const e=t.id;if(e&&null!==e)return e.toString().includes("Other")});return-1!==n?[...r.slice(0,n),...r.slice(n+1),r[n]]:r}render(){const{report:t,children:e,t:a}=this.props;if(t){const t=this.getItems();return p.a.createElement("ul",null,e({items:t}))}return`${a("loading")}...`}});var k=a(202);const S=l.a.create({chart:{marginBottom:d.J.value}}),x=t=>p.a.createElement("div",{className:Object(l.b)(S.chart)},p.a.createElement(k.a,Object.assign({},t)));var C=a(267);const L=t=>p.a.createElement("div",{className:Object(l.b)(S.chart)},p.a.createElement(C.a,Object.assign({},t)));a.d(e,"a",function(){return h}),a.d(e,"b",function(){return y}),a.d(e,"c",function(){return O}),a.d(e,"d",function(){return T}),a.d(e,"e",function(){return w}),a.d(e,"f",function(){return x}),a.d(e,"g",function(){return L})},428:function(t,e,a){"use strict";var r=a(767),n=a(769),s=a(768),o=a(766),i=a(513),c=a(742),l=a(770),u=a(1),p=a.n(u),b=a(46),d=a(95);const m=l.a.create({reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:d.t.value,color:d.k.var,marginBottom:"0"}}),h=Object(b.d)()(({children:t,detailsLink:e,title:a,subTitle:u,subTitleTooltip:b=u,status:d,t:h})=>p.a.createElement(n.a,{className:Object(l.b)(m.reportSummary)},p.a.createElement(o.a,null,p.a.createElement(i.b,{size:"lg"},a),Boolean(u)&&p.a.createElement(c.a,{content:b,enableFlip:!0},p.a.createElement("p",{className:Object(l.b)(m.subtitle)},u))),p.a.createElement(s.a,null,1===d?`${h("loading")}...`:t),Boolean(e)&&p.a.createElement(r.a,null,e)));var f=a(650),g=a(514);const v=l.a.create({container:{display:"flex"},cost:{flexGrow:1,minHeight:"440px"},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:d.t.value,color:d.k.var,marginBottom:"0"},tops:{flexGrow:1,marginTop:d.H.value}}),y=Object(b.d)()(({children:t,detailsLink:e,status:a,subTitle:u,subTitleTooltip:b=u,t:d,tabs:m,title:h})=>p.a.createElement(n.a,{className:Object(l.b)(v.reportSummary)},p.a.createElement(g.a,{gutter:"md"},p.a.createElement(f.a,{lg:5,xl:6},p.a.createElement("div",{className:Object(l.b)(v.container)},p.a.createElement("div",{className:Object(l.b)(v.cost)},p.a.createElement(o.a,null,p.a.createElement(i.b,{size:"lg"},h),Boolean(u)&&p.a.createElement(c.a,{content:b,enableFlip:!0},p.a.createElement("p",{className:Object(l.b)(v.subtitle)},u))),p.a.createElement(s.a,null,1===a?`${d("loading")}...`:t)))),p.a.createElement(f.a,{lg:7,xl:6},p.a.createElement("div",{className:Object(l.b)(v.container)},p.a.createElement("div",{className:Object(l.b)(v.tops)},1!==a&&p.a.createElement(p.a.Fragment,null,Boolean(m)&&p.a.createElement(s.a,null,m),Boolean(e)&&p.a.createElement(r.a,null,e)))))))),_=l.a.create({text:{display:"flex",alignItems:"flex-end",marginLeft:d.J.value,paddingBottom:14,lineHeight:d.w.value,fontSize:d.t.value},titleContainer:{display:"inline-block",marginBottom:d.I.value,minWidth:"175px",width:"50%"},usageText:{marginRight:d.J.value},usageValue:{marginRight:d.J.value},value:{display:"flex",color:d.j.var,fontSize:d.p.value}}),O=({formatValue:t,formatOptions:e,report:a,reportType:r="cost",requestLabel:n,unitsLabel:s})=>{let o="----",i="----";if(a&&a.meta&&a.meta.total)if("cost"===r){const r=a.meta.total.cost.units?a.meta.total.cost.units:"USD";o=t(a.meta.total.cost.value?a.meta.total.cost.value:0,r,e)}else{const r=a.meta.total.usage.units?a.meta.total.usage.units:"GB";o=t(a.meta.total.usage.value?a.meta.total.usage.value:0,r,e),i=t(a.meta.total.request.value?a.meta.total.request.value:0,r,e)}return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:Object(l.b)(_.titleContainer)},p.a.createElement("div",{className:Object(l.b)(_.value,_.usageValue)},o,p.a.createElement("div",{className:Object(l.b)(_.text)},p.a.createElement("div",null,s)))),p.a.createElement("div",{className:Object(l.b)(_.titleContainer)},Boolean("cost"!==r)&&p.a.createElement("div",{className:Object(l.b)(_.value)},i,p.a.createElement("div",{className:Object(l.b)(_.text)},n))))};var E=a(740);const j=l.a.create({reportSummaryItem:{":not(:last-child)":{marginBottom:d.I.value}},test:{":not(foo) svg":{overflow:"visible"}}}),T=({label:t,value:e,totalValue:a,formatValue:r,units:n,formatOptions:s})=>{const o=Number((a?e/a*100:0).toFixed(2)),i=`${r(e,n,s)} (${o}%)`;return p.a.createElement("li",{className:Object(l.b)(j.reportSummaryItem)},p.a.createElement(E.b,{label:i,value:o,title:t,size:E.a.sm}))};T.defaultProps={formatValue:t=>t};var D=a(166);const w=Object(b.d)()(class extends p.a.Component{shouldComponentUpdate(t){return t.report!==this.props.report}getItems(){const{report:t,idKey:e,labelKey:a}=this.props,r=Object(D.a)({report:t,idKey:e,labelKey:a}),n=r.findIndex(t=>{const e=t.id;if(e&&null!==e)return e.toString().includes("Other")});return-1!==n?[...r.slice(0,n),...r.slice(n+1),r[n]]:r}render(){const{report:t,children:e,t:a}=this.props;if(t){const t=this.getItems();return p.a.createElement("ul",null,e({items:t}))}return`${a("loading")}...`}});var k=a(202);const S=l.a.create({chart:{marginBottom:d.J.value}}),x=t=>p.a.createElement("div",{className:Object(l.b)(S.chart)},p.a.createElement(k.a,Object.assign({},t)));var C=a(267);const L=t=>p.a.createElement("div",{className:Object(l.b)(S.chart)},p.a.createElement(C.a,Object.assign({},t)));a.d(e,"a",function(){return h}),a.d(e,"b",function(){return y}),a.d(e,"c",function(){return O}),a.d(e,"d",function(){return T}),a.d(e,"e",function(){return w}),a.d(e,"f",function(){return x}),a.d(e,"g",function(){return L})},431:function(t,e,a){var r=a(167);t.exports=function(t){return r(t).getMonth()}},459:function(t,e,a){"use strict";var r=a(1),n=a.n(r),s=a(770),o=s.a.parse('.pf-c-tabs{--pf-c-tabs__item--BackgroundColor:var(--pf-global--BackgroundColor--100);--pf-c-tabs__item--BorderColor:var(--pf-global--BorderColor--light-200);--pf-c-tabs__item--BorderWidth:var(--pf-global--BorderWidth--sm);--pf-c-tabs__item--m-current--ZIndex:var(--pf-global--ZIndex--sm);--pf-c-tabs__item--m-current--Color:var(--pf-global--active-color--100);--pf-c-tabs__item--m-current--BorderTopWidth:var(--pf-global--BorderWidth--md);--pf-c-tabs__item--hover--Color:var(--pf-global--Color--dark-200);--pf-c-tabs__button--Background:transparent;--pf-c-tabs__button--PaddingTop:var(--pf-global--spacer--sm);--pf-c-tabs__button--PaddingRight:var(--pf-global--spacer--sm);--pf-c-tabs__button--PaddingBottom:var(--pf-global--spacer--sm);--pf-c-tabs__button--PaddingLeft:var(--pf-global--spacer--sm);--pf-c-tabs__scroll-button--Width:var(--pf-global--spacer--xl);--pf-c-tabs__scroll-button--ZIndex:var(--pf-global--ZIndex--md);position:relative;display:flex;flex-direction:column;align-items:flex-start;}.pf-c-tabs .pf-c-tabs__scroll-button{display:none;visibility:hidden;}.pf-c-tabs.pf-m-start .pf-c-tabs__scroll-button:nth-of-type(1),.pf-c-tabs.pf-m-end .pf-c-tabs__scroll-button:nth-of-type(2){display:block;visibility:visible;}.pf-c-tabs.pf-m-start-current .pf-c-tabs__scroll-button:nth-of-type(1)::after,.pf-c-tabs.pf-m-end-current .pf-c-tabs__scroll-button:nth-of-type(2)::after{position:absolute;top:0;right:0;bottom:0;left:0;margin-left:var(--pf-c-tabs__item--BorderWidth);content:"";border-top:var(--pf-c-tabs__item--m-current--BorderTopWidth) solid var(--pf-c-tabs__item--m-current--Color);}+ .pf-c-tabs.pf-m-tabs-secondary{margin-top:calc(-1 * var(--pf-c-tabs__item--BorderWidth));border-top:var(--pf-c-tabs__item--BorderWidth) solid var(--pf-c-tabs__item--BorderColor);}+ .pf-c-tabs.pf-m-tabs-secondary .pf-c-tabs__scroll-button{margin-top:calc(-1 * var(--pf-c-tabs__item--BorderWidth));}.pf-c-tabs.pf-m-fill .pf-c-tabs__list{width:100%;}.pf-c-tabs.pf-m-fill .pf-c-tabs__item{flex:1;white-space:nowrap;}.pf-c-tabs.pf-m-fill .pf-c-tabs__item:first-of-type .pf-c-tabs__button::before{border-left:none;}.pf-c-tabs.pf-m-fill .pf-c-tabs__item:last-of-type .pf-c-tabs__button::before{border-right:none;}.pf-c-tabs.pf-m-fill .pf-c-tabs__item .pf-c-tabs__button{width:100%;}.pf-c-tabs__list{position:relative;display:flex;max-width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch;}.pf-c-tabs__list .pf-c-tabs__item:last-of-type .pf-c-tabs__button::before{border-right-width:var(--pf-c-tabs__item--BorderWidth);}.pf-c-tabs__item{flex:none;}.pf-c-tabs__item:not(.pf-m-current):hover .pf-c-tabs__button::after{position:absolute;top:0;right:0;bottom:0;left:0;margin-left:var(--pf-c-tabs__item--BorderWidth);content:"";border-top:var(--pf-c-tabs__item--m-current--BorderTopWidth) solid var(--pf-c-tabs__item--hover--Color);}.pf-c-tabs__item.pf-m-current .pf-c-tabs__button{z-index:var(--pf-c-tabs__item--m-current--ZIndex);color:var(--pf-c-tabs__item--m-current--Color);}.pf-c-tabs__item.pf-m-current .pf-c-tabs__button::before{border-bottom-color:var(--pf-c-tabs__item--BackgroundColor);}.pf-c-tabs__item.pf-m-current .pf-c-tabs__button::after{position:absolute;top:0;right:0;bottom:0;left:0;margin-left:var(--pf-c-tabs__item--BorderWidth);content:"";border-top:var(--pf-c-tabs__item--m-current--BorderTopWidth) solid var(--pf-c-tabs__item--m-current--Color);}.pf-m-tabs-secondary .pf-c-tabs__item .pf-c-tabs__button::before,.pf-m-tabs-secondary .pf-c-tabs__item .pf-c-tabs__button::after,.pf-m-tabs-secondary .pf-c-tabs__item .pf-c-tabs__button:hover::after{content:none;}.pf-m-tabs-secondary .pf-c-tabs__item:not(.pf-m-current) .pf-c-tabs__button:hover{color:var(--pf-c-tabs__item--hover--Color);}.pf-c-tabs__button{position:relative;padding:var(--pf-c-tabs__button--PaddingTop) var(--pf-c-tabs__button--PaddingRight) var(--pf-c-tabs__button--PaddingBottom) var(--pf-c-tabs__button--PaddingLeft);user-select:none;background:var(--pf-c-tabs__button--Background);border:0;}.pf-c-tabs__button::before{position:absolute;top:0;right:0;bottom:0;left:0;content:"";border:solid var(--pf-c-tabs__item--BorderColor);border-width:var(--pf-c-tabs__item--BorderWidth) 0 var(--pf-c-tabs__item--BorderWidth) var(--pf-c-tabs__item--BorderWidth);}.pf-c-tabs__scroll-item{position:absolute;top:0;bottom:0;width:var(--pf-c-tabs__scroll-button--Width);}.pf-c-tabs__scroll-item:first-of-type{left:0;}.pf-c-tabs__scroll-item:last-of-type{right:0;}.pf-c-tabs__scroll-button{position:absolute;top:0;bottom:0;z-index:var(--pf-c-tabs__scroll-button--ZIndex);width:var(--pf-c-tabs__scroll-button--Width);line-height:1;background-color:var(--pf-c-tabs__item--BackgroundColor);border:initial;}.pf-c-tabs__scroll-button:nth-of-type(2){right:0;}.pf-c-tabs__scroll-button::before{position:absolute;top:0;right:0;bottom:0;left:0;content:"";border:var(--pf-c-tabs__item--BorderWidth) solid var(--pf-c-tabs__item--BorderColor);}.pf-c-tabs__scroll-button:hover::after{position:absolute;top:0;right:0;bottom:0;left:0;content:"";border-top:var(--pf-c-tabs__item--m-current--BorderTopWidth) solid var(--pf-c-tabs__item--hover--Color);}'),i=a(2),c=a.n(i),l=a(455),u=a(780),p=a(266),b=a(150);function d(){return(d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t}).apply(this,arguments)}function m(t,e){if(null==t)return{};var a,r,n=function(t,e){if(null==t)return{};var a,r,n={},s=Object.keys(t);for(r=0;r<s.length;r++)a=s[r],e.indexOf(a)>=0||(n[a]=t[a]);return n}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)a=s[r],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}var h={activeKey:c.a.number,child:c.a.node,id:c.a.string.isRequired},f=function(t){var e=t.id,a=t.activeKey,r=t.child,o=m(t,["id","activeKey","child"]);return n.a.createElement("section",d({hidden:r.props.eventKey!==a,className:Object(s.b)("pf-c-tab-content",r.props.className),id:"pf-tab-section-".concat(r.props.eventKey,"-").concat(e),"aria-labelledby":"pf-tab-".concat(r.props.eventKey,"-").concat(e),role:"tabpanel",tabIndex:"0"},o),r.props.children)};f.propTypes=h,f.defaultProps={activeKey:0,child:null};var g=f;function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(){return(y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t}).apply(this,arguments)}function _(t,e){if(null==t)return{};var a,r,n=function(t,e){if(null==t)return{};var a,r,n={},s=Object.keys(t);for(r=0;r<s.length;r++)a=s[r],e.indexOf(a)>=0||(n[a]=t[a]);return n}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)a=s[r],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function O(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function D(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var w={children:c.a.node.isRequired,className:c.a.string,activeKey:c.a.number,onSelect:c.a.func,isFilled:c.a.bool,isSecondary:c.a.bool,leftScrollAriaLabel:c.a.string,rightScrollAriaLabel:c.a.string},k={className:"",activeKey:0,onSelect:function(){},isFilled:!1,isSecondary:!1,leftScrollAriaLabel:"Scroll left",rightScrollAriaLabel:"Scroll Right"},S=function(t){function e(){var t,a,r,s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,s=(t=E(e)).call.apply(t,[this].concat(i)),D(j(a=!s||"object"!==v(s)&&"function"!=typeof s?j(r):s),"state",{showLeftScrollButton:!1,showRightScrollButton:!1,highlightLeftScrollButton:!1,highlightRightScrollButton:!1}),D(j(a),"id",Object(p.b)()),D(j(a),"tabList",n.a.createRef()),D(j(a),"handleScrollButtons",function(){if(a.tabList.current){var t,e=a.tabList.current,r=!Object(p.c)(e,e.firstChild,!1),n=!Object(p.c)(e,e.lastChild,!1);Array.from(e.children).forEach(function(e){e.className.search("pf-m-current")>0&&(t=e)});var s=Object(p.e)(e,t);a.setState({showLeftScrollButton:r,showRightScrollButton:n,highlightLeftScrollButton:(s===b.c.LEFT||s===b.c.BOTH)&&r,highlightRightScrollButton:(s===b.c.RIGHT||s===b.c.BOTH)&&n})}}),D(j(a),"scrollLeft",function(){if(a.tabList.current){var t,e,r,n=a.tabList.current,s=Array.from(n.children);for(r=0;r<s.length&&!t;r++)Object(p.c)(n,s[r],!1)&&(t=s[r],e=s[r-1]);e&&(n.scrollLeft-=e.scrollWidth)}}),D(j(a),"scrollRight",function(){if(a.tabList.current){var t,e,r,n=a.tabList.current,s=Array.from(n.children);for(r=s.length-1;r>=0&&!t;r--)Object(p.c)(n,s[r],!1)&&(t=s[r],e=s[r+1]);e&&(n.scrollLeft+=e.scrollWidth)}}),a}var a,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T(t,e)}(e,n.a.Component),a=e,(r=[{key:"handleTabClick",value:function(t,e){this.props.onSelect(t,e)}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleScrollButtons,!1),this.handleScrollButtons()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("resize",this.handleScrollButtons,!1)}},{key:"render",value:function(){var t=this,e=this.props,a=e.className,r=e.children,i=e.activeKey,c=e.isFilled,p=e.isSecondary,b=e.leftScrollAriaLabel,d=e.rightScrollAriaLabel,m=_(e,["className","children","activeKey","isFilled","isSecondary","leftScrollAriaLabel","rightScrollAriaLabel"]),h=this.state,f=h.showLeftScrollButton,v=h.showRightScrollButton,O=h.highlightLeftScrollButton,E=h.highlightRightScrollButton;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",y({},m,{className:Object(s.b)(o.tabs,c&&o.modifiers.fill,p&&o.modifiers.tabsSecondary,f&&o.modifiers.start,v&&o.modifiers.end,O&&o.modifiers.startCurrent,E&&o.modifiers.endCurrent,a)}),!p&&n.a.createElement("button",{className:Object(s.b)(o.tabsScrollButton),variant:"plain","aria-label":b,onClick:this.scrollLeft},n.a.createElement(u.a,null)),n.a.createElement("ul",{className:Object(s.b)(o.tabsList),ref:this.tabList,onScroll:this.handleScrollButtons},r.map(function(e,r){return n.a.createElement("li",{key:r,className:Object(s.b)(o.tabsItem,e.props.eventKey===i&&o.modifiers.current,a)},n.a.createElement("button",{className:Object(s.b)(o.tabsButton),onClick:function(a){return t.handleTabClick(a,e.props.eventKey)},id:"pf-tab-".concat(e.props.eventKey,"-").concat(e.props.id||t.id),"aria-controls":"pf-tab-section-".concat(e.props.eventKey,"-").concat(e.props.id||t.id)},e.props.title))})),!p&&n.a.createElement("button",{className:Object(s.b)(o.tabsScrollButton),variant:"plain","aria-label":d,onClick:this.scrollRight},n.a.createElement(l.a,null))),r.map(function(e,a){return n.a.createElement(g,{key:a,activeKey:i,child:e,index:a,id:e.props.id||t.id})}))}}])&&O(a.prototype,r),i&&O(a,i),e}();D(S,"propTypes",w),D(S,"defaultProps",k);e.a=S},504:function(t,e,a){"use strict";var r=a(1),n=a.n(r),s=a(2),o=a.n(s);function i(t,e){if(null==t)return{};var a,r,n=function(t,e){if(null==t)return{};var a,r,n={},s=Object.keys(t);for(r=0;r<s.length;r++)a=s[r],e.indexOf(a)>=0||(n[a]=t[a]);return n}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)a=s[r],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}var c={children:o.a.node,className:o.a.string,title:o.a.string.isRequired,eventKey:o.a.number.isRequired},l=function(t){t.className;var e=t.children;t.title,t.eventKey,i(t,["className","children","title","eventKey"]);return n.a.createElement(n.a.Fragment,null,e)};l.propTypes=c,l.defaultProps={children:null,className:""},e.a=l},518:function(t,e,a){"use strict";var r=a(513),n=a(459),s=a(504),o=a(735),i=a(49),c=a(209),l=a(206),u=a(207),p=a(650),b=a(514),d=a(1),m=a.n(d),h=a(46),f=a(38),g=a(50),v=a(60),y=a(770),_=a(27),O=a(121),E=a(2),j=a.n(E),T=a(5),D=a.n(T),w=a(67),k=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t};function S(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var x=function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)},C=function(t){function e(){var a,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,s=Array(n),o=0;o<n;o++)s[o]=arguments[o];return a=r=S(this,t.call.apply(t,[this].concat(s))),r.handleClick=function(t){if(r.props.onClick&&r.props.onClick(t),!t.defaultPrevented&&0===t.button&&!r.props.target&&!x(t)){t.preventDefault();var e=r.context.router.history,a=r.props,n=a.replace,s=a.to;n?e.replace(s):e.push(s)}},S(r,a)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(){var t=this.props,e=(t.replace,t.to),a=t.innerRef,r=function(t,e){var a={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r]);return a}(t,["replace","to","innerRef"]);D()(this.context.router,"You should not use <Link> outside a <Router>"),D()(void 0!==e,'You must specify the "to" property');var n=this.context.router.history,s="string"==typeof e?Object(w.b)(e,null,null,n.location):e,o=n.createHref(s);return m.a.createElement("a",k({},r,{onClick:this.handleClick,href:o,ref:a}))},e}(m.a.Component);C.propTypes={onClick:j.a.func,target:j.a.string,replace:j.a.bool,to:j.a.oneOfType([j.a.string,j.a.object]).isRequired,innerRef:j.a.oneOfType([j.a.string,j.a.func])},C.defaultProps={replace:!1},C.contextTypes={router:j.a.shape({history:j.a.shape({push:j.a.func.isRequired,replace:j.a.func.isRequired,createHref:j.a.func.isRequired}).isRequired}).isRequired};var L=C;const R=o.c,B=t=>m.a.createElement(R,Object.assign({component:L,variant:"link"},t));var K=a(406),N=a(191),P=a.n(N),I=a(132),W=a.n(I),z=a(431),F=a.n(z),q=a(257),V=a.n(q),A=a(256),$=a.n(A),M=a(10),H=a(115),U=a(95);const Q=y.a.create({tabs:{marginTop:U.K.value},tabItems:{marginTop:U.K.value}}),J=t=>{switch(t){case"services":return"service";case"accounts":return"account";case"regions":return"region";case"instance_type":return"instance_type"}};const G=Object(v.a)((t,{widgetId:e})=>{const a=g.c.selectWidget(t,e),r=g.c.selectWidgetQueries(t,e);return Object.assign({},a,{currentQuery:r.current,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:M.c.selectReport(t,a.reportType,r.current),currentReportFetchStatus:M.c.selectReportFetchStatus(t,a.reportType,r.current),previousReport:M.c.selectReport(t,a.reportType,r.previous),tabsReport:M.c.selectReport(t,a.reportType,r.tabs)})}),Y={fetchReports:g.a.fetchWidgetReports,updateTab:g.a.changeWidgetTab},Z=Object(h.d)()(Object(f.b)(G,Y)(class extends m.a.Component{constructor(){super(...arguments),this.state={activeTabKey:0},this.buildDetailsLink=(()=>{const{currentQuery:t}=this.props,e=Object(_.b)(t).group_by;return`/aws?${Object(_.a)({group_by:e,order_by:{cost:"desc"}})}`}),this.handleTabClick=((t,e)=>{const{availableTabs:a,id:r,updateTab:n}=this.props;n(r,a[e]),this.setState({activeTabKey:e})}),this.getChart=(t=>{const{currentReport:e,previousReport:a,t:r,trend:n}=this.props,s=Object(O.g)(e,n.type),o=Object(O.g)(a,n.type);return m.a.createElement(K.f,{currentData:s,formatDatumValue:H.b,formatDatumOptions:n.formatOptions,height:t,previousData:o,title:r(n.titleKey)})}),this.getDetails=(()=>{const{currentReport:t,details:e,reportType:a}=this.props;return m.a.createElement(K.c,{costLabel:this.getDetailsLabel(e.costKey),formatOptions:e.formatOptions,formatValue:H.b,report:t,reportType:a,unitsLabel:this.getDetailsLabel(e.unitsKey),usageLabel:this.getDetailsLabel(e.usageKey)})}),this.getDetailsLabel=(t=>{const{t:e}=this.props;return t?e(t):void 0}),this.getDetailsLink=(()=>{const{currentTab:t,isDetailsLink:e}=this.props;return e&&m.a.createElement(B,{to:this.buildDetailsLink()},this.getDetailsLinkTitle(t))}),this.getDetailsLinkTitle=(t=>{const{t:e}=this.props;return e("group_by.all",{groupBy:J(t)||""})}),this.getHorizontalLayout=(()=>{const{currentReportFetchStatus:t}=this.props;return m.a.createElement(K.b,{detailsLink:this.getDetailsLink(),status:t,subTitle:this.getSubTitle(),subTitleTooltip:this.getSubTitleTooltip(),tabs:this.getTabs(),title:this.getTitle()},this.getDetails(),this.getChart(180))}),this.getSubTitle=(()=>{const{t:t}=this.props,e=new Date;return t("aws_dashboard.widget_subtitle",{month:F()(e)})}),this.getSubTitleTooltip=(()=>{const{t:t}=this.props,e=new Date,a=F()(e),r=P()(e,"DD"),n=P()($()(e),"DD"),s=V()(e);return t("aws_dashboard.widget_subtitle_tooltip",{count:W()(e),endDate:r,month:a,startDate:n,year:s})}),this.getTab=((t,e)=>{const{tabsReport:a}=this.props,r=J(t);return m.a.createElement(s.a,{eventKey:e,key:`${J(t)}-tab`,title:this.getTabTitle(t)},m.a.createElement("div",{className:Object(y.b)(Q.tabItems)},m.a.createElement(K.e,{idKey:r,key:`${r}-items`,report:a},({items:e})=>e.map(e=>this.getTabItem(t,e)))))}),this.getTabItem=((t,e)=>{const{availableTabs:a,tabsReport:r,topItems:n}=this.props,{activeTabKey:s}=this.state,o=J(t);return J(a[s])===o?m.a.createElement(K.d,{key:`${e.id}-item`,formatOptions:n.formatOptions,formatValue:H.b,label:e.label?e.label.toString():"",totalValue:r.meta.total.cost?r.meta.total.cost.value:r.meta.total.usage.value,units:e.units,value:e.total}):null}),this.getTabs=(()=>{const{availableTabs:t}=this.props;return m.a.createElement(n.a,{isFilled:!0,activeKey:this.state.activeTabKey,onSelect:this.handleTabClick},t.map((t,e)=>this.getTab(t,e)))}),this.getTabTitle=(t=>{const{t:e}=this.props;return e("group_by.top",{groupBy:J(t)||""})}),this.getTitle=(()=>{const{t:t,titleKey:e}=this.props,a=new Date,r=F()(a);return t(e,{endDate:P()(a,"Do"),month:r,startDate:P()($()(a),"Do")})}),this.getVerticalLayout=(()=>{const{currentReportFetchStatus:t}=this.props;return m.a.createElement(K.a,{detailsLink:this.getDetailsLink(),status:t,subTitle:this.getSubTitle(),subTitleTooltip:this.getSubTitleTooltip(),title:this.getTitle()},this.getDetails(),this.getChart(75),m.a.createElement("div",{className:Object(y.b)(Q.tabs)},this.getTabs()))})}componentDidMount(){const{availableTabs:t,fetchReports:e,id:a,updateTab:r,widgetId:n}=this.props;r(a,t[0]),e(n)}render(){const{isHorizontal:t=!1}=this.props;return Boolean(t)?this.getHorizontalLayout():this.getVerticalLayout()}})),X=Object(v.a)(t=>({selectWidgets:g.c.selectWidgets(t),widgets:g.c.selectCurrentWidgets(t)}));var tt=Object(h.d)()(Object(f.b)(X,{})(({selectWidgets:t,t:e,widgets:a})=>m.a.createElement("div",null,m.a.createElement(b.a,{gutter:"md"},a.map(e=>{const a=t[e];return Boolean(a.isHorizontal)?m.a.createElement(p.a,{sm:12,key:e},m.a.createElement(Z,{widgetId:e})):m.a.createElement(p.a,{xl:4,lg:6,key:e},m.a.createElement(Z,{widgetId:e}))}))))),et=a(51),at=a(48),rt=a(428),nt=a(20);const st=y.a.create({tabs:{marginTop:U.K.value},tabItems:{marginTop:U.K.value}}),ot=t=>{switch(t){case"clusters":return"cluster";case"nodes":return"node";case"projects":return"project"}};const it=Object(v.a)((t,{widgetId:e})=>{const a=et.c.selectWidget(t,e),r=et.c.selectWidgetQueries(t,e);return Object.assign({},a,{currentQuery:r.current,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:nt.c.selectReport(t,a.reportType,r.current),currentReportFetchStatus:nt.c.selectReportFetchStatus(t,a.reportType,r.current),previousReport:nt.c.selectReport(t,a.reportType,r.previous),tabsReport:nt.c.selectReport(t,a.reportType,r.tabs)})}),ct={fetchReports:et.a.fetchWidgetReports,updateTab:et.a.changeWidgetTab},lt=Object(h.d)()(Object(f.b)(it,ct)(class extends m.a.Component{constructor(){super(...arguments),this.state={activeTabKey:0},this.buildDetailsLink=(()=>{const{currentQuery:t}=this.props,e=Object(at.b)(t).group_by;return`/ocp?${Object(at.a)({group_by:e,order_by:{cost:"desc"}})}`}),this.handleTabClick=((t,e)=>{const{availableTabs:a,id:r}=this.props,n=a[e];this.props.updateTab(r,n),this.setState({activeTabKey:e})}),this.getChart=(t=>{const{currentReport:e,previousReport:a,reportType:r,t:n,trend:s}=this.props,o="cost"===r?"cost":"usage",i=Object(O.i)(e,s.type,"date",o),c=Object(O.i)(a,s.type,"date",o),l="cost"!==r?Object(O.i)(e,s.type,"date","request"):void 0,u="cost"!==r?Object(O.i)(a,s.type,"date","request"):void 0;return m.a.createElement(m.a.Fragment,null,Boolean("cost"===r)?m.a.createElement(rt.f,{currentData:i,formatDatumValue:H.b,formatDatumOptions:s.formatOptions,height:t,previousData:c,title:n(s.titleKey)}):m.a.createElement(rt.g,{currentRequestData:l,currentUsageData:i,formatDatumValue:H.b,formatDatumOptions:s.formatOptions,height:t,previousRequestData:u,previousUsageData:c,title:n(s.titleKey)}))}),this.getDetails=(()=>{const{currentReport:t,details:e,reportType:a}=this.props;return m.a.createElement(rt.c,{formatOptions:e.formatOptions,formatValue:H.b,report:t,reportType:a,requestLabel:this.getDetailsLabel(e.requestKey),unitsLabel:this.getDetailsLabel(e.unitsKey)})}),this.getDetailsLabel=(t=>{const{t:e}=this.props;return t?e(t):void 0}),this.getDetailsLink=(()=>{const{currentTab:t,isDetailsLink:e}=this.props;return e&&m.a.createElement(B,{to:this.buildDetailsLink()},this.getDetailsLinkTitle(t))}),this.getDetailsLinkTitle=(t=>{const{t:e}=this.props;return e("group_by.all",{groupBy:ot(t)||""})}),this.getHorizontalLayout=(()=>{const{currentReportFetchStatus:t}=this.props;return m.a.createElement(rt.b,{detailsLink:this.getDetailsLink(),status:t,subTitle:this.getSubTitle(),subTitleTooltip:this.getSubTitleTooltip(),tabs:this.getTabs(),title:this.getTitle()},this.getDetails(),this.getChart(180))}),this.getSubTitle=(()=>{const{t:t}=this.props,e=new Date;return t("ocp_dashboard.widget_subtitle",{month:F()(e)})}),this.getSubTitleTooltip=(()=>{const{t:t}=this.props,e=new Date,a=F()(e),r=P()(e,"DD"),n=P()($()(e),"DD"),s=V()(e);return t("ocp_dashboard.widget_subtitle_tooltip",{count:W()(e),endDate:r,month:a,startDate:n,year:s})}),this.getTab=((t,e)=>{const{tabsReport:a}=this.props,r=ot(t);return m.a.createElement(s.a,{eventKey:e,key:`${ot(t)}-tab`,title:this.getTabTitle(t)},m.a.createElement("div",{className:Object(y.b)(st.tabItems)},m.a.createElement(rt.e,{idKey:r,key:`${r}-items`,report:a},({items:e})=>e.map(e=>this.getTabItem(t,e)))))}),this.getTabItem=((t,e)=>{const{availableTabs:a,reportType:r,tabsReport:n,topItems:s}=this.props,{activeTabKey:o}=this.state,i=ot(t);return ot(a[o])===i?m.a.createElement(rt.d,{key:`${e.id}-item`,formatOptions:s.formatOptions,formatValue:H.b,label:e.label?e.label.toString():"",totalValue:"cost"===r?n.meta.total.cost.value:n.meta.total.usage.value,units:e.units,value:"cost"===r?e.cost:e.usage}):null}),this.getTabs=(()=>{const{availableTabs:t}=this.props;return m.a.createElement(n.a,{isFilled:!0,activeKey:this.state.activeTabKey,onSelect:this.handleTabClick},t.map((t,e)=>this.getTab(t,e)))}),this.getTabTitle=(t=>{const{t:e}=this.props;return e("group_by.top",{groupBy:ot(t)||""})}),this.getTitle=(()=>{const{t:t,titleKey:e}=this.props,a=new Date,r=F()(a);return t(e,{endDate:P()(a,"Do"),month:r,startDate:P()($()(a),"Do")})}),this.getVerticalLayout=(()=>{const{currentReportFetchStatus:t}=this.props;return m.a.createElement(rt.a,{detailsLink:this.getDetailsLink(),status:t,subTitle:this.getSubTitle(),subTitleTooltip:this.getSubTitleTooltip(),title:this.getTitle()},this.getDetails(),this.getChart(75),m.a.createElement("div",{className:Object(y.b)(st.tabs)},this.getTabs()))})}componentDidMount(){const{availableTabs:t,fetchReports:e,id:a,widgetId:r}=this.props;this.props.updateTab(a,t[0]),e(r)}render(){const{isHorizontal:t=!1}=this.props;return Boolean(t)?this.getHorizontalLayout():this.getVerticalLayout()}})),ut=Object(v.a)(t=>({selectWidgets:et.c.selectWidgets(t),widgets:et.c.selectCurrentWidgets(t)}));var pt=Object(h.d)()(Object(f.b)(ut,{})(({selectWidgets:t,t:e,widgets:a})=>m.a.createElement("div",null,m.a.createElement(b.a,{gutter:"md"},a.map(e=>{const a=t[e];return Boolean(a.isHorizontal)?m.a.createElement(p.a,{sm:12,key:e},m.a.createElement(lt,{widgetId:e})):m.a.createElement(p.a,{xl:4,lg:6,key:e},m.a.createElement(lt,{widgetId:e}))}))))),bt=a(31),dt=a(29),mt=a(407),ht=a(11);const ft=y.a.create({tabItems:{marginTop:U.K.value}}),gt=t=>{switch(t){case"clusters":return"cluster";case"nodes":return"node";case"projects":return"project"}};const vt=Object(v.a)((t,{widgetId:e})=>{const a=bt.c.selectWidget(t,e),r=bt.c.selectWidgetQueries(t,e);return Object.assign({},a,{currentQuery:r.current,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:ht.c.selectReport(t,a.reportType,r.current),currentReportFetchStatus:ht.c.selectReportFetchStatus(t,a.reportType,r.current),previousReport:ht.c.selectReport(t,a.reportType,r.previous),tabsReport:ht.c.selectReport(t,a.reportType,r.tabs)})}),yt={fetchReports:bt.a.fetchWidgetReports,updateTab:bt.a.changeWidgetTab},_t=Object(h.d)()(Object(f.b)(vt,yt)(class extends m.a.Component{constructor(){super(...arguments),this.state={activeTabKey:0},this.buildDetailsLink=(()=>{const{currentQuery:t}=this.props,e=Object(dt.b)(t).group_by;return`/ocp?${Object(dt.a)({group_by:e,order_by:{cost:"desc"}})}`}),this.handleTabClick=((t,e)=>{const{availableTabs:a,id:r,updateTab:n}=this.props;n(r,a[e]),this.setState({activeTabKey:e})}),this.getChart=(t=>{const{currentReport:e,previousReport:a,reportType:r,t:n,trend:s}=this.props,o="cost"===r?"cost":"usage",i=Object(O.h)(e,s.type,"date",o),c=Object(O.h)(a,s.type,"date",o),l="cost"!==r?Object(O.h)(e,s.type,"date","request"):void 0,u="cost"!==r?Object(O.h)(a,s.type,"date","request"):void 0;return m.a.createElement(m.a.Fragment,null,Boolean("cost"===r||"instance_type"===r||"storage"===r)?m.a.createElement(mt.f,{currentData:i,formatDatumValue:H.b,formatDatumOptions:s.formatOptions,height:t,previousData:c,title:n(s.titleKey)}):m.a.createElement(mt.g,{currentRequestData:l,currentUsageData:i,formatDatumValue:H.b,formatDatumOptions:s.formatOptions,height:t,previousRequestData:u,previousUsageData:c,title:n(s.titleKey)}))}),this.getDetails=(()=>{const{currentReport:t,details:e,reportType:a}=this.props;return m.a.createElement(mt.c,{costLabel:this.getDetailsLabel(e.costKey),formatOptions:e.formatOptions,formatValue:H.b,report:t,reportType:a,requestLabel:this.getDetailsLabel(e.requestKey),unitsLabel:this.getDetailsLabel(e.unitsKey),usageLabel:this.getDetailsLabel(e.usageKey)})}),this.getDetailsLabel=(t=>{const{t:e}=this.props;return t?e(t):void 0}),this.getDetailsLink=(()=>{const{currentTab:t,isDetailsLink:e}=this.props;return e&&m.a.createElement(B,{to:this.buildDetailsLink()},this.getDetailsLinkTitle(t))}),this.getDetailsLinkTitle=(t=>{const{t:e}=this.props;return e("group_by.all",{groupBy:gt(t)||""})}),this.getHorizontalLayout=(()=>{const{currentReportFetchStatus:t}=this.props;return m.a.createElement(mt.b,{detailsLink:this.getDetailsLink(),status:t,subTitle:this.getSubTitle(),subTitleTooltip:this.getSubTitleTooltip(),tabs:this.getTabs(),title:this.getTitle()},this.getDetails(),this.getChart(180))}),this.getSubTitle=(()=>{const{t:t}=this.props,e=new Date;return t("ocp_on_aws_dashboard.widget_subtitle",{month:F()(e)})}),this.getSubTitleTooltip=(()=>{const{t:t}=this.props,e=new Date,a=F()(e),r=P()(e,"DD"),n=P()($()(e),"DD"),s=V()(e);return t("ocp_on_aws_dashboard.widget_subtitle_tooltip",{count:W()(e),endDate:r,month:a,startDate:n,year:s})}),this.getTab=((t,e)=>{const{tabsReport:a}=this.props,r=gt(t);return m.a.createElement(s.a,{eventKey:e,key:`${gt(t)}-tab`,title:this.getTabTitle(t)},m.a.createElement("div",{className:Object(y.b)(ft.tabItems)},m.a.createElement(mt.e,{idKey:r,key:`${r}-items`,report:a},({items:e})=>e.map(e=>this.getTabItem(t,e)))))}),this.getTabItem=((t,e)=>{const{availableTabs:a,tabsReport:r,topItems:n}=this.props,{activeTabKey:s}=this.state,o=gt(t);return gt(a[s])===o?m.a.createElement(mt.d,{key:`${e.id}-item`,formatOptions:n.formatOptions,formatValue:H.b,label:e.label?e.label.toString():"",totalValue:r.meta.total.cost?r.meta.total.cost.value:r.meta.total.usage.value,units:e.units,value:r.meta.total.cost?e.cost:e.usage}):null}),this.getTabs=(()=>{const{availableTabs:t}=this.props;return t?m.a.createElement(n.a,{isFilled:!0,activeKey:this.state.activeTabKey,onSelect:this.handleTabClick},t.map((t,e)=>this.getTab(t,e))):null}),this.getTabTitle=(t=>{const{t:e}=this.props;return e("group_by.top",{groupBy:gt(t)||""})}),this.getTitle=(()=>{const{t:t,titleKey:e}=this.props,a=new Date,r=F()(a);return t(e,{endDate:P()(a,"Do"),month:r,startDate:P()($()(a),"Do")})}),this.getVerticalLayout=(()=>{const{currentReportFetchStatus:t}=this.props;return m.a.createElement(mt.a,{detailsLink:this.getDetailsLink(),status:t,subTitle:this.getSubTitle(),subTitleTooltip:this.getSubTitleTooltip(),title:this.getTitle()},this.getDetails(),this.getChart(75),this.getTabs())})}componentDidMount(){const{availableTabs:t,fetchReports:e,id:a,updateTab:r,widgetId:n}=this.props;t&&r(a,t[0]),e(n)}render(){const{isHorizontal:t=!1}=this.props;return Boolean(t)?this.getHorizontalLayout():this.getVerticalLayout()}})),Ot=Object(v.a)(t=>({selectWidgets:bt.c.selectWidgets(t),widgets:bt.c.selectCurrentWidgets(t)}));var Et=Object(h.d)()(Object(f.b)(Ot,{})(({selectWidgets:t,t:e,widgets:a})=>m.a.createElement("div",null,m.a.createElement(b.a,{gutter:"md"},a.map(e=>{const a=t[e];return Boolean(a.isHorizontal)?m.a.createElement(p.a,{sm:12,key:e},m.a.createElement(_t,{widgetId:e})):m.a.createElement(p.a,{xl:4,lg:6,key:e},m.a.createElement(_t,{widgetId:e}))}))))),jt=a(47),Tt=a(7),Dt=a(116);const wt=t=>{switch(t){case"aws":return"aws";case"ocp":return"ocp";case"ocpOnAws":return"ocpOnAws"}};const kt=Object(v.a)(t=>{const e=Object(i.a)(Tt.a),a=Tt.e.selectProviders(t,"aws",e),r=Tt.e.selectProvidersError(t,"aws",e),n=Tt.e.selectProvidersFetchStatus(t,"aws",e),s=Object(i.a)(Tt.b);return{awsProviders:a,awsProvidersError:r,awsProvidersFetchStatus:n,awsProvidersQueryString:e,ocpProviders:Tt.e.selectProviders(t,"ocp",s),ocpProvidersError:Tt.e.selectProvidersError(t,"ocp",s),ocpProvidersFetchStatus:Tt.e.selectProvidersFetchStatus(t,"ocp",s),ocpProvidersQueryString:s}}),St=Object(h.d)()(Object(f.b)(kt,{openProvidersModal:jt.a.openModal})(class extends m.a.Component{constructor(){super(...arguments),this.state={activeTabKey:0},this.getAddSourceButton=(()=>{const{t:t}=this.props;return m.a.createElement(L,{to:"/sources"},m.a.createElement(o.c,Object.assign({},Object(Dt.a)(Dt.b.providers.add_btn),{type:o.a.submit,variant:o.b.secondary}),t("providers.add_source")))}),this.getTab=((t,e)=>m.a.createElement(s.a,{eventKey:e,key:`${wt(t)}-tab`,title:this.getTabTitle(t)},this.getTabItem(t,e))),this.getTabItem=((t,e)=>{const{activeTabKey:a}=this.state,r=wt(t);return"ocpOnAws"===r?a===e?m.a.createElement(Et,null):null:"ocp"===r?a===e?m.a.createElement(pt,null):null:"aws"===r&&a===e?m.a.createElement(tt,null):null}),this.getTabs=(()=>{const{awsProviders:t,ocpProviders:e}=this.props,{activeTabKey:a}=this.state,r=[];return t&&t.meta&&t.meta.count&&e&&e.meta&&e.meta.count&&r.push("ocpOnAws"),e&&e.meta&&e.meta.count&&r.push("ocp"),t&&t.meta&&t.meta.count&&r.push("aws"),m.a.createElement(n.a,{activeKey:a,onSelect:this.handleTabClick},r.map((t,e)=>this.getTab(t,e)))}),this.getTabTitle=(t=>{const{t:e}=this.props;return"aws"===t?e("overview.aws"):"ocp"===t?e("overview.ocp"):"ocpOnAws"===t?e("overview.ocp_on_aws"):void 0}),this.handleTabClick=((t,e)=>{this.setState({activeTabKey:e})})}render(){const{awsProviders:t,awsProvidersError:e,awsProvidersFetchStatus:a,ocpProviders:n,ocpProvidersError:s,ocpProvidersFetchStatus:o,t:i}=this.props,p=e||s,b=1===a||1===o,d=void 0!==t&&void 0!==t.meta&&0===t.meta.count&&2===a,h=void 0!==n&&void 0!==n.meta&&0===n.meta.count&&2===o,f=d&&h;return m.a.createElement(m.a.Fragment,null,m.a.createElement("section",{className:"pf-l-page-header pf-c-page-header pf-l-page__main-section pf-c-page__main-section pf-m-light"},m.a.createElement("header",{className:"pf-u-display-flex pf-u-justify-content-space-between pf-u-align-items-center"},m.a.createElement(r.b,{size:r.a.lg},i("overview.title")),this.getAddSourceButton())),m.a.createElement("section",{className:"pf-l-page__main-section pf-c-page__main-section","page-type":"cost-management-overview"},Boolean(p)?m.a.createElement(c.a,{error:p}):Boolean(f)?m.a.createElement(u.a,null):Boolean(b)?m.a.createElement(l.a,null):this.getTabs()))}}));e.a=St},750:function(t,e,a){"use strict";a.r(e),function(t){var r=a(65),n=a(518);e.default=Object(r.hot)(t)(n.a)}.call(this,a(63)(t))}}]);
//# sourceMappingURL=72d3df2b7faf10937f1f.bundle.js.map
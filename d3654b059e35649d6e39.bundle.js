(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1149:function(e,t,a){var s=a(1150);"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(721)(s,r);s.locals&&(e.exports=s.locals)},1150:function(e,t,a){(t=a(644)(!1)).push([e.i,".headerOverride.pf-c-page__main-section{--pf-c-page__main-section--PaddingBottom: 0}",""]),e.exports=t},1179:function(e,t,a){"use strict";a.r(t);a(1149);var s=a(409),r=a(410),n=a(252),i=a(449),o=a(337),c=a(344),l=a(76),u=a(682),p=a(740),d=a(417),h=a(418),g=a(1),m=a.n(g);const b=({DashboardWidget:e,selectWidgets:t,widgets:a})=>m.a.createElement("div",null,m.a.createElement(d.a,{hasGutter:!0},a.map(a=>t[a].details.showHorizontal?m.a.createElement(h.a,{sm:12,key:a},m.a.createElement(e,{widgetId:a})):m.a.createElement(h.a,{lg:12,xl:6,xl2:4,key:a},m.a.createElement(e,{widgetId:a})))));var v=a(705),f=a(160),y=a(232),O=a(328),D=a(163),T=a(723),j=a(744),_=a(733),w=a.n(_),E=a(727),S=a.n(E),R=a(818),C=a.n(R),I=a(753),k=a.n(I),A=a(312),x=a(1001),P=a(722),F=a(673),L=a.n(F),N=a(667),z=a.n(N);const W={chartAltHeight:250,chartHeight:180,containerAltHeight:250,containerTrendHeight:180,containerUsageHeight:180},K={tabs:{marginTop:L.a.value},tabItems:{marginTop:z.a.value}};class U extends m.a.Component{constructor(){super(...arguments),this.state={activeTabKey:0},this.buildDetailsLink=e=>{const{details:t,getIdKeyForTab:a}=this.props,s=a(e);return`${t.viewAllPath}?${Object(D.a)({group_by:{[s]:"*"},order_by:{cost:"desc"}})}`},this.getChart=(e,t,a=!1)=>{const{chartType:s}=this.props;return"cost"===s?this.getCostChart(e,t,a):"supplementary"===s?this.getTrendChart(e,t,a,!0):"trend"===s?this.getTrendChart(e,t,a):"usage"===s?this.getUsageChart(t,a):null},this.getCostChart=(e,t,a=!1)=>{const{currentReport:s,previousReport:r,t:n,trend:i}=this.props,o=this.getUnits(),c=n(i.titleKey,{units:n("units."+o)}),l=i.computedReportItem||"cost",u=i.computedReportItemValue||"total",p=Object(T.h)(s,i.type,"date","infrastructure",u),d=Object(T.h)(r,i.type,"date","infrastructure",u),h=Object(T.h)(s,i.type,"date",l,u),g=Object(T.h)(r,i.type,"date",l,u);return m.a.createElement(j.c,{adjustContainerHeight:a,containerHeight:e,currentCostData:h,currentInfrastructureCostData:p,formatDatumValue:P.b,formatDatumOptions:i.formatOptions,height:t,previousCostData:g,previousInfrastructureCostData:d,title:c})},this.getTrendChart=(e,t,a=!1,s=!1)=>{const{currentReport:r,details:n,forecast:i,previousReport:o,t:c,trend:l}=this.props,u=this.getUnits(),p=c(l.titleKey,{units:c("units."+u)}),d=l.computedForecastItem,h=l.computedReportItem||"cost",g=l.computedReportItemValue||"total",b=Object(T.h)(r,l.type,"date",h,g),v=Object(T.h)(o,l.type,"date",h,g);let f,y;if(d){const e=Object(A.cloneDeep)(i);if(i&&r&&r.data){const t=r.meta&&r.meta.total&&r.meta.total.cost?r.meta.total.cost.total.value:0,a=r.data.filter(e=>e.values.length),s=a[a.length-1].date;for(const t of i.data)new Date(s)>=new Date(t.date)&&e.data.shift();e.data.unshift({date:s,values:[{date:s,cost:{confidence_max:{value:0},confidence_min:{value:0},total:{value:t,units:"USD"}}}]})}f=Object(T.f)(e,l.type,d),y=Object(T.g)(e,l.type,d)}return m.a.createElement(j.g,{adjustContainerHeight:a,containerHeight:e,currentData:b,forecastData:f,forecastConeData:y,formatDatumValue:P.b,formatDatumOptions:l.formatOptions,height:t,previousData:v,showSupplementaryLabel:s,showUsageLegendLabel:n.showUsageLegendLabel,title:p,units:u})},this.getUsageChart=(e,t=!1)=>{const{currentReport:a,previousReport:s,t:r,trend:n}=this.props,i=this.getUnits(),o=r(n.titleKey,{units:r("units."+i)}),c=Object(T.h)(a,n.type,"date","request"),l=Object(T.h)(s,n.type,"date","request"),u=Object(T.h)(a,n.type,"date","usage"),p=Object(T.h)(s,n.type,"date","usage");return m.a.createElement(j.h,{adjustContainerHeight:t,containerHeight:W.containerUsageHeight,currentRequestData:c,currentUsageData:u,formatDatumValue:P.b,formatDatumOptions:n.formatOptions,height:e,previousRequestData:l,previousUsageData:p,title:o})},this.getDetails=()=>{const{chartType:e,currentReport:t,details:a,trend:s}=this.props,r=s.computedReportItem||"cost",n=s.computedReportItemValue||"total",i=this.getUnits();return m.a.createElement(j.d,{chartType:e,computedReportItem:r,computedReportItemValue:n,costLabel:this.getDetailsLabel(a.costKey,i),formatOptions:a.formatOptions,formatValue:P.b,report:t,requestLabel:this.getDetailsLabel(a.requestKey,i),showTooltip:a.showTooltip,showUnits:a.showUnits,showUsageFirst:a.showUsageFirst,units:a.units,usageFormatOptions:a.usageFormatOptions,usageLabel:this.getDetailsLabel(a.usageKey,i)})},this.getDetailsLabel=(e,t)=>{const{t:a}=this.props;return e?a(e,{units:a("units."+t)}):void 0},this.getDetailsLink=()=>{const{currentTab:e,details:t}=this.props;return t.viewAllPath?m.a.createElement(x.a,{to:this.buildDetailsLink(e),onClick:this.handleInsightsNavClick},this.getDetailsLinkTitle(e)):null},this.getDetailsLinkTitle=e=>{const{getIdKeyForTab:t,t:a}=this.props;return a("group_by.all",{groupBy:t(e)||""})},this.getHorizontalLayout=()=>{const{containerAltHeight:e=W.containerAltHeight,chartAltHeight:t=W.chartAltHeight,currentReportFetchStatus:a,details:s}=this.props;return m.a.createElement(j.b,{detailsLink:this.getDetailsLink(),status:a,subTitle:this.getSubTitle(),tabs:this.getTabs(),title:this.getTitle()},this.getDetails(),this.getChart(e,t,s.adjustContainerHeight))},this.getSubTitle=()=>{const{t:e}=this.props,t=new Date,a=C()(t),s=w()(t,"D"),r=w()(k()(t),"D");return e("aws_dashboard.widget_subtitle",{count:S()(t),endDate:s,month:a,startDate:r})},this.getTab=(e,t)=>{const{getIdKeyForTab:a,tabsReport:n,tabsReportFetchStatus:i,trend:o}=this.props,c=a(e),l=o.computedReportItemValue||"total";return m.a.createElement(s.a,{eventKey:t,key:a(e)+"-tab",title:m.a.createElement(r.a,null,this.getTabTitle(e))},m.a.createElement("div",{style:K.tabItems},m.a.createElement(j.f,{computedReportItemValue:l,idKey:c,key:c+"-items",report:n,status:i},({items:t})=>t.map(t=>this.getTabItem(e,t)))))},this.getTabItem=(e,t)=>{const{availableTabs:a,details:s,getIdKeyForTab:r,tabsReport:n,topItems:i,trend:o}=this.props,{activeTabKey:c}=this.state,l=r(e),u=r(a[c]),p=o.computedReportItem||"cost",d=o.computedReportItemValue||"total";let h;const g=n&&n.meta&&n.meta.total;return"usage"===p?g&&n.meta.total.usage&&(h=n.meta.total.usage.value):g&&n.meta.total[p]&&n.meta.total[p][d]&&(h=n.meta.total[p][d].value),u===l?m.a.createElement(j.e,{key:t.id+"-item",formatOptions:i.formatOptions,formatValue:P.b,label:t.label?t.label.toString():"",totalValue:h,units:s.units?s.units:this.getUnits(),value:t[p]}):null},this.getTabs=()=>{const{availableTabs:e}=this.props;return m.a.createElement(i.a,{isFilled:!0,activeKey:this.state.activeTabKey,onSelect:this.handleTabClick},e.map((e,t)=>this.getTab(e,t)))},this.getTabTitle=e=>{const{getIdKeyForTab:t,t:a}=this.props;return a("group_by.top",{groupBy:t(e)||""})},this.getTitle=()=>{const{t:e,titleKey:t}=this.props,a=new Date,s=C()(a);return e(t,{endDate:w()(a,"Do"),month:s,startDate:w()(k()(a),"Do")})},this.getUnits=()=>{const{currentReport:e,details:t,trend:a}=this.props,s=a.computedReportItem||"cost",r=a.computedReportItemValue||"total";if(t.units)return t.units;let n;const i=e&&e.meta&&e.meta.total;if("usage"===s){n=i&&e.meta.total.usage?Object(P.c)(e.meta.total.usage.units):""}else{n=i&&e.meta.total[s]&&e.meta.total[s][r]?Object(P.c)(e.meta.total[s][r].units):""}return n},this.getVerticalLayout=()=>{const{availableTabs:e,currentReportFetchStatus:t,details:a}=this.props;return m.a.createElement(j.a,{detailsLink:this.getDetailsLink(),status:t,subTitle:this.getSubTitle(),title:this.getTitle()},this.getDetails(),this.getChart(W.containerTrendHeight,W.chartHeight,a.adjustContainerHeight),Boolean(e)&&m.a.createElement("div",{style:K.tabs},this.getTabs()))},this.handleInsightsNavClick=()=>{const{details:e}=this.props;e.appNavId&&insights.chrome.appNavClick({id:e.appNavId,secondaryNav:!0})},this.handleTabClick=(e,t)=>{const{availableTabs:a,id:s,updateTab:r}=this.props;r(s,a[t]),this.setState({activeTabKey:t})}}componentDidMount(){const{availableTabs:e,fetchForecasts:t,fetchReports:a,id:s,updateTab:r,widgetId:n}=this.props;e&&r(s,e[0]),t&&t(n),a&&a(n)}render(){const{details:e}=this.props;return e.showHorizontal?this.getHorizontalLayout():this.getVerticalLayout()}}var H=a(23);const q=e=>{switch(e){case"services":return"service";case"accounts":return"account";case"regions":return"region";case"instance_type":return"instance_type"}},Q=Object(y.a)((e,{widgetId:t})=>{const a=O.c.selectWidget(e,t),s=O.c.selectWidgetQueries(e,t);return Object.assign(Object.assign({},a),{getIdKeyForTab:q,currentQuery:s.current,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.current),currentReportFetchStatus:H.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,s.current),previousReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.previous),tabsReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.tabs),tabsReportFetchStatus:H.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,s.tabs)})}),V={fetchReports:O.a.fetchWidgetReports,updateTab:O.a.changeWidgetTab},M=Object(v.a)()(Object(f.connect)(Q,V)(U)),G=Object(y.a)((e,t)=>({DashboardWidget:M,selectWidgets:O.c.selectWidgets(e),widgets:O.c.selectCurrentWidgets(e)}));var B=Object(v.a)()(Object(f.connect)(G,{})(b)),Y=a(329),$=a(221);const X=e=>{switch(e){case"services":return"service";case"accounts":return"account";case"regions":return"region";case"instance_type":return"instance_type"}},J=Object(y.a)((e,{widgetId:t})=>{const a=Y.c.selectWidget(e,t),s=Y.c.selectWidgetQueries(e,t);return Object.assign(Object.assign({},a),{getIdKeyForTab:X,currentQuery:s.current,forecastQuery:s.forecast,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.current),currentReportFetchStatus:H.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,s.current),forecast:$.c.selectForecast(e,a.forecastPathsType,a.forecastType,s.forecast),forecastFetchStatus:$.c.selectForecastFetchStatus(e,a.forecastPathsType,a.forecastType,s.forecast),previousReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.previous),tabsReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.tabs),tabsReportFetchStatus:H.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,s.tabs)})}),Z={fetchForecasts:Y.a.fetchWidgetForecasts,fetchReports:Y.a.fetchWidgetReports,updateTab:Y.a.changeWidgetTab},ee=Object(v.a)()(Object(f.connect)(J,Z)(U)),te=Object(y.a)((e,t)=>({DashboardWidget:ee,selectWidgets:Y.c.selectWidgets(e),widgets:Y.c.selectCurrentWidgets(e)}));var ae=Object(v.a)()(Object(f.connect)(te,{})(b)),se=a(330);const re=e=>{switch(e){case"service_names":return"service_name";case"subscription_guids":return"subscription_guid";case"resource_locations":return"resource_location";case"instance_type":return"instance_type"}},ne=Object(y.a)((e,{widgetId:t})=>{const a=se.c.selectWidget(e,t),s=se.c.selectWidgetQueries(e,t);return Object.assign(Object.assign({},a),{getIdKeyForTab:re,currentQuery:s.current,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.current),currentReportFetchStatus:H.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,s.current),previousReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.previous),tabsReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.tabs),tabsReportFetchStatus:H.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,s.tabs)})}),ie={fetchReports:se.a.fetchWidgetReports,updateTab:se.a.changeWidgetTab},oe=Object(v.a)()(Object(f.connect)(ne,ie)(U)),ce=Object(y.a)((e,t)=>({DashboardWidget:oe,selectWidgets:se.c.selectWidgets(e),widgets:se.c.selectCurrentWidgets(e)}));var le=Object(v.a)()(Object(f.connect)(ce,{})(b)),ue=a(331);const pe=e=>{switch(e){case"service_names":return"service_name";case"subscription_guids":return"subscription_guid";case"resource_locations":return"resource_location";case"instance_type":return"instance_type"}},de=Object(y.a)((e,{widgetId:t})=>{const a=ue.c.selectWidget(e,t),s=ue.c.selectWidgetQueries(e,t);return Object.assign(Object.assign({},a),{getIdKeyForTab:pe,currentQuery:s.current,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.current),currentReportFetchStatus:H.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,s.current),previousReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.previous),tabsReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.tabs),tabsReportFetchStatus:H.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,s.tabs)})}),he={fetchReports:ue.a.fetchWidgetReports,updateTab:ue.a.changeWidgetTab},ge=Object(v.a)()(Object(f.connect)(de,he)(U)),me=Object(y.a)((e,t)=>({DashboardWidget:ge,selectWidgets:ue.c.selectWidgets(e),widgets:ue.c.selectCurrentWidgets(e)}));var be=Object(v.a)()(Object(f.connect)(me,{})(b)),ve=a(332);const fe=e=>{switch(e){case"services":return"service";case"accounts":return"account";case"regions":return"region";case"instance_type":return"instance_type"}},ye=Object(y.a)((e,{widgetId:t})=>{const a=ve.c.selectWidget(e,t),s=ve.c.selectWidgetQueries(e,t);return Object.assign(Object.assign({},a),{getIdKeyForTab:fe,currentQuery:s.current,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.current),currentReportFetchStatus:H.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,s.current),previousReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.previous),tabsReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.tabs),tabsReportFetchStatus:H.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,s.tabs)})}),Oe={fetchReports:ve.a.fetchWidgetReports,updateTab:ve.a.changeWidgetTab},De=Object(v.a)()(Object(f.connect)(ye,Oe)(U)),Te=Object(y.a)((e,t)=>({DashboardWidget:De,selectWidgets:ve.c.selectWidgets(e),widgets:ve.c.selectCurrentWidgets(e)}));var je=Object(v.a)()(Object(f.connect)(Te,{})(b)),_e=a(222);const we=e=>{switch(e){case"accounts":return"account";case"regions":return"region";case"services":return"service"}},Ee=Object(y.a)((e,{widgetId:t})=>{const a=_e.c.selectWidget(e,t),s=_e.c.selectWidgetQueries(e,t);return Object.assign(Object.assign({},a),{getIdKeyForTab:we,currentQuery:s.current,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.current),currentReportFetchStatus:H.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,s.current),previousReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.previous),tabsReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.tabs),tabsReportFetchStatus:H.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,s.tabs)})}),Se={fetchReports:_e.a.fetchWidgetReports,updateTab:_e.a.changeWidgetTab},Re=Object(v.a)()(Object(f.connect)(Ee,Se)(U)),Ce=Object(y.a)((e,t)=>({DashboardWidget:Re,selectWidgets:_e.c.selectWidgets(e),widgets:_e.c.selectCurrentWidgets(e)}));var Ie=Object(v.a)()(Object(f.connect)(Ce,{})(b)),ke=a(333);const Ae=250,xe=250,Pe=e=>{switch(e){case"clusters":return"cluster";case"nodes":return"node";case"projects":return"project"}},Fe=Object(y.a)((e,{widgetId:t})=>{const a=ke.c.selectWidget(e,t),s=ke.c.selectWidgetQueries(e,t);return Object.assign(Object.assign({},a),{getIdKeyForTab:Pe,chartAltHeight:Ae,containerAltHeight:xe,currentQuery:s.current,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.current),currentReportFetchStatus:H.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,s.current),previousReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.previous),tabsReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.tabs),tabsReportFetchStatus:H.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,s.tabs)})}),Le={fetchReports:ke.a.fetchWidgetReports,updateTab:ke.a.changeWidgetTab},Ne=Object(v.a)()(Object(f.connect)(Fe,Le)(U)),ze=Object(y.a)((e,t)=>({DashboardWidget:Ne,selectWidgets:ke.c.selectWidgets(e),widgets:ke.c.selectCurrentWidgets(e)}));var We=Object(v.a)()(Object(f.connect)(ze,{})(b)),Ke=a(334);const Ue=e=>{switch(e){case"clusters":return"cluster";case"nodes":return"node";case"projects":return"project"}},He=Object(y.a)((e,{widgetId:t})=>{const a=Ke.c.selectWidget(e,t),s=Ke.c.selectWidgetQueries(e,t);return Object.assign(Object.assign({},a),{getIdKeyForTab:Ue,currentQuery:s.current,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.current),currentReportFetchStatus:H.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,s.current),previousReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.previous),tabsReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.tabs),tabsReportFetchStatus:H.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,s.tabs)})}),qe={fetchReports:Ke.a.fetchWidgetReports,updateTab:Ke.a.changeWidgetTab},Qe=Object(v.a)()(Object(f.connect)(He,qe)(U)),Ve=Object(y.a)((e,t)=>({DashboardWidget:Qe,selectWidgets:Ke.c.selectWidgets(e),widgets:Ke.c.selectCurrentWidgets(e)}));var Me=Object(v.a)()(Object(f.connect)(Ve,{})(b)),Ge=a(335);const Be=e=>{switch(e){case"clusters":return"cluster";case"nodes":return"node";case"projects":return"project"}},Ye=Object(y.a)((e,{widgetId:t})=>{const a=Ge.c.selectWidget(e,t),s=Ge.c.selectWidgetQueries(e,t);return Object.assign(Object.assign({},a),{getIdKeyForTab:Be,currentQuery:s.current,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.current),currentReportFetchStatus:H.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,s.current),previousReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.previous),tabsReport:H.c.selectReport(e,a.reportPathsType,a.reportType,s.tabs),tabsReportFetchStatus:H.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,s.tabs)})}),$e={fetchReports:Ge.a.fetchWidgetReports,updateTab:Ge.a.changeWidgetTab},Xe=Object(v.a)()(Object(f.connect)(Ye,$e)(U)),Je=Object(y.a)((e,t)=>({DashboardWidget:Xe,selectWidgets:Ge.c.selectWidgets(e),widgets:Ge.c.selectCurrentWidgets(e)}));var Ze=Object(v.a)()(Object(f.connect)(Je,{})(b)),et=a(752),tt=a(781),at=a(314),st=a(287),rt=a(675),nt=a.n(rt),it=a(646),ot=a.n(it);const ct={infoIcon:{fontSize:nt.a.value},infoTitle:{fontWeight:"bold"},perspective:{marginTop:ot.a.value},tabs:{marginTop:ot.a.value}};var lt=a(213),ut=a(391),pt=a(376),dt=a(647);const ht={perspectiveSelector:{display:"flex",alignItems:"center"},perspectiveLabel:{marginBottom:0,marginRight:a.n(dt).a.var}};class gt extends m.a.Component{constructor(){super(...arguments),this.defaultState={isPerspectiveOpen:!1},this.state=Object.assign({},this.defaultState),this.getDropDownItems=()=>{const{options:e,t:t}=this.props;return e.map(e=>m.a.createElement(lt.a,{component:"button",key:e.value,onClick:()=>this.handleClick(e.value)},t(e.label)))},this.getCurrentLabel=()=>{const{currentItem:e,options:t,t:a}=this.props;let s="";for(const r of t)if(e===r.value){s=a(r.label);break}return s},this.handleClick=e=>{const{onItemClicked:t}=this.props;t&&t(e)},this.handleSelect=()=>{this.setState({isPerspectiveOpen:!this.state.isPerspectiveOpen})},this.handleToggle=e=>{this.setState({isPerspectiveOpen:e})}}render(){const{t:e}=this.props,{isPerspectiveOpen:t}=this.state,a=this.getDropDownItems();return m.a.createElement("div",{style:ht.perspectiveSelector},m.a.createElement("label",{style:ht.perspectiveLabel},e("overview.perspective.label")),m.a.createElement(ut.a,{onSelect:this.handleSelect,toggle:m.a.createElement(pt.a,{onToggle:this.handleToggle},this.getCurrentLabel()),isOpen:t,dropdownItems:a}))}}const mt=Object(v.a)()(gt),bt=e=>{switch(e){case"infrastructure":return"infrastructure";case"ocp":return"ocp"}},vt=[{label:"overview.perspective.all",value:"all"},{label:"overview.perspective.supplementary",value:"supplementary"}],ft=[{label:"overview.perspective.all_cloud",value:"all_cloud"}],yt=[{label:"overview.perspective.aws",value:"aws"}],Ot=[{label:"overview.perspective.aws_cloud",value:"aws_cloud"}],Dt=[{label:"overview.perspective.azure",value:"azure"}],Tt=[{label:"overview.perspective.azure_cloud",value:"azure_cloud"}],jt=[{label:"overview.perspective.gcp",value:"gcp"}],_t=[{label:"overview.perspective.ocp_usage",value:"ocp_usage"}];class wt extends m.a.Component{constructor(){super(...arguments),this.defaultState={activeTabKey:0,isAwsAccessAllowed:!1,isAzureAccessAllowed:!1,isGcpAccessAllowed:!1,isOcpAccessAllowed:!1},this.state=Object.assign({},this.defaultState),this.getAvailableTabs=()=>{const e=[],t=this.isAwsAvailable(),a=this.isAzureAvailable(),s=this.isGcpAvailable(),r=this.isOcpAvailable(),n=this.isOcpCloudAvailable();return r&&e.push({contentRef:m.a.createRef(),tab:"ocp"}),(t||a||s||n)&&e.push({contentRef:m.a.createRef(),tab:"infrastructure"}),e},this.getCurrentTab=()=>{const{activeTabKey:e}=this.state,t=this.isAwsAvailable(),a=this.isAzureAvailable(),s=this.isGcpAvailable(),r=this.isOcpAvailable(),n=this.isOcpCloudAvailable();return r&&!(t||a||s||n)?"ocp":!r&&(t||a||s||n)?"infrastructure":0===e?"ocp":"infrastructure"},this.getDefaultInfrastructurePerspective=()=>{const e=this.isAwsAvailable(),t=this.isAzureAvailable(),a=this.isGcpAvailable();return this.isOcpAvailable()?"all_cloud":e?"aws":t?"azure":a?"gcp":void 0},this.getDefaultOcpPerspective=()=>{if(this.isOcpAvailable())return"all"},this.getPerspective=()=>{const{currentInfrastructurePerspective:e,currentOcpPerspective:t}=this.state,a=this.isAwsAvailable(),s=this.isAzureAvailable(),r=this.isGcpAvailable(),n=this.isOcpAvailable();if(!(a||s||r||n))return null;const i=[];"infrastructure"===this.getCurrentTab()?(n&&i.push(...ft),a&&i.push(...yt),n&&a&&i.push(...Ot),r&&i.push(...jt),s&&i.push(...Dt),n&&s&&i.push(...Tt),n&&i.push(..._t)):i.push(...vt);const o="infrastructure"===this.getCurrentTab()?e:t;return m.a.createElement(mt,{currentItem:o||i[0].value,onItemClicked:this.handlePerspectiveClick,options:i})},this.getTab=(e,t,a)=>m.a.createElement(s.a,{eventKey:a,key:bt(e)+"-tab",tabContentId:"tab-"+a,tabContentRef:t,title:m.a.createElement(r.a,null,this.getTabTitle(e))}),this.getTabContent=e=>e.map((e,t)=>m.a.createElement(n.a,{eventKey:t,key:bt(e.tab)+"-tabContent",id:"tab-"+t,ref:e.contentRef},this.getTabItem(e.tab,t))),this.getTabItem=(e,t)=>{const{activeTabKey:a,currentInfrastructurePerspective:s,currentOcpPerspective:r}=this.state,n=m.a.createElement(m.a.Fragment,null);if(a!==t)return n;const i=bt(e);return"infrastructure"===i?"all_cloud"===s?m.a.createElement(Ie,null):"aws"===s?m.a.createElement(ae,null):"aws_cloud"===s?m.a.createElement(B,null):"gcp"===s?m.a.createElement(je,null):"azure"===s?m.a.createElement(be,null):"azure_cloud"===s?m.a.createElement(le,null):"ocp_usage"===s?m.a.createElement(Ze,null):m.a.createElement(Ie,null):"ocp"===i?"all"===r?m.a.createElement(We,null):"supplementary"===r?m.a.createElement(Me,null):m.a.createElement(We,null):n},this.getTabs=e=>{const{activeTabKey:t}=this.state;return m.a.createElement(i.a,{activeKey:t,onSelect:this.handleTabClick},e.map((e,t)=>this.getTab(e.tab,e.contentRef,t)))},this.getTabTitle=e=>{const{t:t}=this.props;return"infrastructure"===e?t("overview.infrastructure"):"ocp"===e?t("overview.ocp"):void 0},this.handlePerspectiveClick=e=>{const t=this.getCurrentTab();this.setState(Object.assign(Object.assign({},"infrastructure"===t&&{currentInfrastructurePerspective:e}),"ocp"===t&&{currentOcpPerspective:e}))},this.handleTabClick=(e,t)=>{const{activeTabKey:a}=this.state;a!==t&&this.setState({activeTabKey:t})},this.isAwsAvailable=()=>{const{awsProviders:e}=this.props,{isAwsAccessAllowed:t}=this.state;return t&&void 0!==e&&void 0!==e.meta&&e.meta.count>0},this.isAzureAvailable=()=>{const{azureProviders:e}=this.props,{isAzureAccessAllowed:t}=this.state;return t&&void 0!==e&&void 0!==e.meta&&e.meta.count>0},this.isGcpAvailable=()=>{const{gcpProviders:e}=this.props,{isGcpAccessAllowed:t}=this.state;return t&&void 0!==e&&void 0!==e.meta&&e.meta.count>0},this.isOcpAvailable=()=>{const{ocpProviders:e}=this.props,{isOcpAccessAllowed:t}=this.state;return t&&void 0!==e&&void 0!==e.meta&&e.meta.count>0},this.isOcpCloudAvailable=()=>this.isAwsAvailable()&&this.isOcpAvailable()}componentDidMount(){(async()=>{const e=await Object(st.c)(),t=await Object(st.f)();return{isAwsAccessAllowed:e&&(t||await Object(st.a)()),isAzureAccessAllowed:e&&(t||await Object(st.b)()),isGcpAccessAllowed:e&&(t||await Object(st.d)()),isOcpAccessAllowed:e&&(t||await Object(st.e)())}})().then(({isAwsAccessAllowed:e,isAzureAccessAllowed:t,isGcpAccessAllowed:a,isOcpAccessAllowed:s})=>{this.setState({currentInfrastructurePerspective:this.getDefaultInfrastructurePerspective(),currentOcpPerspective:this.getDefaultOcpPerspective(),isAwsAccessAllowed:e,isAzureAccessAllowed:t,isGcpAccessAllowed:a,isOcpAccessAllowed:s})})}componentDidUpdate(e){const{awsProviders:t,azureProviders:a,gcpProviders:s,ocpProviders:r}=this.props;e.awsProviders===t&&e.azureProviders===a&&e.gcpProviders===s&&e.ocpProviders===r||this.setState({currentInfrastructurePerspective:this.getDefaultInfrastructurePerspective(),currentOcpPerspective:this.getDefaultOcpPerspective()})}render(){const{awsProvidersFetchStatus:e,azureProvidersFetchStatus:t,gcpProvidersFetchStatus:a,ocpProvidersFetchStatus:s,t:r}=this.props,n=this.getAvailableTabs(),i=1===e||1===t||1===a||1===s,p=!this.isAwsAvailable()&&2===e,d=!this.isAzureAvailable()&&2===t,h=!this.isGcpAvailable()&&2===a,g=!this.isOcpAvailable()&&2===s,b=p&&d&&h&&g,v=r("navigation.overview");return b?m.a.createElement(tt.a,{title:v}):i?m.a.createElement(et.a,{title:v}):m.a.createElement(m.a.Fragment,null,m.a.createElement("section",{className:"pf-l-page-header pf-c-page-header pf-l-page__main-section pf-c-page__main-section pf-m-light headerOverride}"},m.a.createElement("header",{className:"pf-u-display-flex pf-u-justify-content-space-between pf-u-align-items-center"},m.a.createElement(o.a,{headingLevel:"h2",size:"2xl"},r("overview.title"),m.a.createElement("span",{style:ct.infoIcon},m.a.createElement(c.a,{"aria-label":r("ocp_details.supplementary_aria_label"),enableFlip:!0,bodyContent:m.a.createElement(m.a.Fragment,null,m.a.createElement("p",{style:ct.infoTitle},r("overview.ocp_cloud")),m.a.createElement("p",null,r("overview.ocp_cloud_desc")),m.a.createElement("br",null),m.a.createElement("p",{style:ct.infoTitle},r("overview.ocp")),m.a.createElement("p",null,r("overview.ocp_desc")),m.a.createElement("br",null),m.a.createElement("p",{style:ct.infoTitle},r("overview.gcp")),m.a.createElement("p",null,r("overview.gcp_desc")),m.a.createElement("br",null),m.a.createElement("p",{style:ct.infoTitle},r("overview.aws")),m.a.createElement("p",null,r("overview.aws_desc")),m.a.createElement("br",null),m.a.createElement("p",{style:ct.infoTitle},r("overview.azure")),m.a.createElement("p",null,r("overview.azure_desc")))},m.a.createElement(l.a,{variant:l.c.plain},m.a.createElement(u.OutlinedQuestionCircleIcon,null)))))),m.a.createElement("div",{style:ct.tabs},this.getTabs(n)),m.a.createElement("div",{style:ct.perspective},this.getPerspective())),m.a.createElement("section",{className:"pf-l-page__main-section pf-c-page__main-section","page-type":"cost-management-overview"},this.getTabContent(n)))}}const Et=Object(y.a)((e,t)=>{const a=Object(p.a)(at.a),s=at.g.selectProviders(e,"aws",a),r=at.g.selectProvidersFetchStatus(e,"aws",a),n=Object(p.a)(at.b),i=at.g.selectProviders(e,"azure",n),o=at.g.selectProvidersFetchStatus(e,"azure",n),c=Object(p.a)(at.c),l=at.g.selectProviders(e,"gcp",c),u=at.g.selectProvidersFetchStatus(e,"gcp",c),d=Object(p.a)(at.d);return{awsProviders:s,awsProvidersFetchStatus:r,awsProvidersQueryString:a,azureProviders:i,azureProvidersFetchStatus:o,azureProvidersQueryString:n,gcpProviders:l,gcpProvidersFetchStatus:u,gcpProvidersQueryString:c,ocpProviders:at.g.selectProviders(e,"ocp",d),ocpProvidersFetchStatus:at.g.selectProvidersFetchStatus(e,"ocp",d),ocpProvidersQueryString:d}});var St=Object(v.a)()(Object(f.connect)(Et)(wt));t.default=St},722:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return i}));const s=e=>{const t=e?e.toLowerCase():"";switch(t){case"usd":case"gb":case"gb-hours":case"gb-mo":case"core-hours":case"hrs":case"tag-mo":case"vm-hours":return t;default:return""}},r=(e,t,a={})=>{const r=s(t),l=e||0;switch(r){case"usd":return i(l,r,a);case"gb":case"gb-hours":case"gb-mo":case"tag-mo":case"vm-hours":return o(l,r,a);case"core-hours":case"hrs":return c(l,r,a);default:return n(l,r,a)}},n=(e,t,{fractionDigits:a=0}={})=>e.toLocaleString("en",{minimumFractionDigits:a,maximumFractionDigits:a}),i=(e,t,{fractionDigits:a=2}={})=>{let s=e;return e||(s=0),s.toLocaleString("en",{style:"currency",currency:t||"USD",minimumFractionDigits:a,maximumFractionDigits:a})},o=(e,t,{fractionDigits:a=0}={})=>e.toLocaleString("en",{minimumFractionDigits:a,maximumFractionDigits:a}),c=(e,t,{fractionDigits:a=0}={})=>e.toLocaleString("en",{minimumFractionDigits:a,maximumFractionDigits:a})},723:function(e,t,a){"use strict";a.d(t,"f",(function(){return f})),a.d(t,"g",(function(){return y})),a.d(t,"h",(function(){return O})),a.d(t,"b",(function(){return _})),a.d(t,"c",(function(){return w})),a.d(t,"d",(function(){return E})),a.d(t,"a",(function(){return S})),a.d(t,"e",(function(){return R}));var s=a(830),r=a.n(s),n=a(733),i=a.n(n),o=a(727),c=a.n(o),l=a(831),u=a.n(l),p=a(753),d=a.n(p),h=a(126),g=a(741);function m({forecast:e,idKey:t,sortDirection:a=0,sortKey:s="date"}){return Object(g.a)(function({forecast:e,idKey:t}){if(!e)return[];const a=new Map,s=e=>{e&&e.values&&e.values.forEach(e=>{const s=e[t],r=e.date,n=s.confidence_max?s.confidence_max.value:0,i=s.confidence_min?s.confidence_min.value:0,o=s.rsquared?Number(s.rsquared.value):void 0,c=s.pvalues?Number(s.pvalues.value):void 0,l=s.total?s.total.value:0,u=s.total?s.total.units:"USD",p=a.get(r);p?a.set(r,Object.assign(Object.assign({},p),{confidence_max:p.confidence_max+n,confidence_min:p.confidence_min+i,date:r,rsquared:o,pvalues:c,total:p.total+l,units:u})):a.set(r,{confidence_max:n,confidence_min:i,date:r,rsquared:o,pvalues:c,total:l,units:u})});for(const t in e)if(e[t]instanceof Array)return e[t].forEach(s)};e&&e.data&&e.data.forEach(s);return Array.from(a.values())}({forecast:e,idKey:t,sortDirection:a,sortKey:s}),{key:s,direction:a})}var b=a(730),v=a(722);function f(e,t=1,a="cost"){if(!e)return[];const s=m({idKey:a,forecast:e,sortKey:"date",sortDirection:1});let r;return r=1===t||2===t?s.map(e=>D(e.total,e)):s.reduce((e,t)=>{const a=e.length?e[e.length-1].y:0;return[...e,D(a+t.total,t)]},[]),r}function y(e,t=1,a="cost"){if(!e)return[];const s=m({idKey:a,forecast:e,sortKey:"date",sortDirection:1});let r;return r=1===t||2===t?s.map(e=>T(e.confidence_max,e.confidence_min,e)):s.reduce((e,t)=>{const a=e.length?e[e.length-1].y:t.total,s=e.length?e[e.length-1].y0:t.total;return[...e,T(a+t.confidence_max,s+t.confidence_min,t)]},[]),r}function O(e,t=1,a="date",s="cost",n="total"){if(!e)return[];const o={idKey:a,report:e,reportItemValue:n,sortKey:"id",sortDirection:1},c=Object(b.a)(o);let l;return l=1===t||2===t?c.map(e=>j(e[s],e,a,s)):c.reduce((e,t)=>{const r=e.length?e[e.length-1].y:0;return[...e,j(r+t[s],t,a,s)]},[]),"date"===a?function(e){const t=[];if(!e||0===e.length)return t;const a=new Date(e[0].key+"T00:00:00"),s=new Date(e[e.length-1].key+"T00:00:00");let n=d()(a);for(let e=n.getDate();e<a.getDate();e++){n.setDate(e);const a=i()(n,"YYYY-MM-DD");t.push(j(null,{id:a},"date",null))}t.push(...e),n=new Date(s);for(let e=n.getDate()+1;e<=r()(s).getDate();e++){n.setDate(e);const a=i()(n,"YYYY-MM-DD");t.push(j(null,{id:a},"date",null))}return t}(l):l}function D(e,t){const a=c()(t.date),s=I(e)?parseFloat(e.toFixed(2)):C(e)?e:0;return{x:a,y:null===e?null:s,key:t.date,units:t.units}}function T(e,t,a){const s=c()(a.date),r=I(e)?parseFloat(e.toFixed(2)):C(e)?e:0,n=I(t)?parseFloat(t.toFixed(2)):C(t)?t:0;return{x:s,y:null===e?null:r,y0:null===t?null:n,key:a.date,units:a.units}}function j(e,t,a="date",s="cost"){const r="date"===a?c()(t.id):t.label,n=I(e)?parseFloat(e.toFixed(2)):C(e)?e:0;return{x:r,y:null===e?null:n,key:t.id,units:t.units?t.units[s]:void 0}}function _(e,t=!0,a=!1,s=0){const[n,i]=function(e,t=0){if(!e||!e.length){const e=new Date;t&&e.setMonth(e.getMonth()-t);return[d()(e),e]}return[new Date(e[0].key+"T00:00:00"),new Date(e[e.length-1].key+"T00:00:00")]}(e,s);if(t&&n.setDate&&n.setDate(1),a&&n.setDate){const e=r()(n).getDate();i.setDate(e)}return[n,i]}function w(e){let t=0;return e&&e.length&&e.forEach(e=>{e.y>t&&(t=e.y)}),t}function E(e){return function(t,a=null,s={}){const r=Object(v.c)(a);switch(r){case"core-hours":case"hrs":case"gb":case"gb-hours":case"gb-mo":case"vm-hours":return h.a.t("unit_tooltips."+r,{value:""+e(t,a,s)});default:return""+e(t,a,s)}}}function S(e,t="chart.cost_legend_label",a=!1,s=!1,r=0){const[n,o]=_(e,a,s,r);return h.a.t(t,{count:c()(o),endDate:i()(o,"D"),month:Number(i()(n,"M"))-1,startDate:i()(n,"D"),year:u()(o)})}function R(e,t="chart.usage_legend_label",a=!1,s=!1,r=0){return S(e,t,a,s,r)}function C(e){return Number(e)===e&&e%1==0}function I(e){return Number(e)===e&&e%1!=0}},728:function(e,t,a){var s=a(773);"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(721)(s,r);s.locals&&(e.exports=s.locals)},729:function(e,t,a){"use strict";var s=a(159),r=a(21);const n={padding:8};var i={area:Object.assign({},n),axis:Object.assign({},n),bar:Object.assign({},n),boxplot:Object.assign({},n),candlestick:Object.assign({},n),chart:Object.assign({},n),errorbar:Object.assign({},n),group:Object.assign({},n),legend:{},line:Object.assign({},n),pie:Object.assign({},n),scatter:Object.assign({},n),stack:Object.assign({},n),tooltip:{},voronoi:Object.assign({},n)};const o=(()=>Object(s.k)(r.q.default,r.r.default,i))();t.a=o},730:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var s=a(741),r=a(29);function n({idKey:e,labelKey:t=e,report:a,reportItemValue:r="total",sortDirection:n=0,sortKey:o="cost"}){return Object(s.a)(i({idKey:e,labelKey:t,report:a,reportItemValue:r,sortDirection:n,sortKey:o}),{key:o,direction:n})}function i({report:e,idKey:t,labelKey:a=t,reportItemValue:s="total"}){if(!e)return[];const n=new Map,i=o=>{if(o&&o.values){const i=o.type;o.values.forEach(o=>{const c="date"!==t&&"cluster"!==t&&o.cluster?"-"+o.cluster:"";let l="org_entities"===t?o.org_unit_id:o[t];void 0===l&&(l=o.id);const u=`${l}${c}`,p=o.clusters&&o.clusters.length>0?o.clusters[0]:void 0,d=p||o.cluster,h=o.clusters?o.clusters:[],g=o.capacity?o.capacity.value:0,m=o.cost&&o.cost.total?o.cost.total.value:0,b=o.delta_percent?o.delta_percent:0,v=o.delta_value?o.delta_value:0,f=o.source_uuid?o.source_uuid:[],y=o.supplementary&&o.supplementary.total?o.supplementary.total.value:0,O=o.infrastructure&&o.infrastructure[s]?o.infrastructure[s].value:0;let D;const T=function({report:e,labelKey:t,value:a}){let s=String(t);if(e.meta&&e.meta.group_by){const n=e.meta.group_by;for(const e of Object.keys(n))if(e.indexOf(r.i)){const e=r.i+t;a.hasOwnProperty(e)&&(s=e)}}return s}({report:e,labelKey:a,value:o});D="org_entities"===T&&o.alias?o.alias:"account"===T&&o.account_alias?o.account_alias:"cluster"===T&&p?p:o[T]instanceof Object?o[T].value:o[T],void 0===D&&(D=o.alias?o.alias:o.id);const j=o.limit?o.limit.value:0,_=o.request?o.request.value:0,w=o.usage?o.usage.value:0,E=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o.capacity&&{capacity:o.capacity.units}),{cost:o.cost&&o.cost.total?o.cost.total.units:"USD"}),o.limit&&{limit:o.limit.units}),o.infrastructure&&o.infrastructure.total&&{infrastructure:o.infrastructure.total.units}),o.request&&{request:o.request.units}),o.supplementary&&o.supplementary.total&&{supplementary:o.supplementary.total.units}),o.usage&&{usage:o.usage.units}),S=n.get(u);S?n.set(u,Object.assign(Object.assign({},S),{capacity:S.capacity+g,cost:S.cost+m,supplementary:S.supplementary+y,infrastructure:S.infrastructure+O,limit:S.limit+j,request:S.request+_,usage:S.usage+w})):n.set(u,{capacity:g,cluster:d,clusters:h,cost:m,deltaPercent:b,deltaValue:v,source_uuid:f,supplementary:y,id:l,infrastructure:O,label:D,limit:j,request:_,type:i,units:E,usage:w})})}for(const e in o)if(o[e]instanceof Array)return o[e].forEach(i)};return e&&e.data&&e.data.forEach(i),Array.from(n.values())}},738:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var s=a(393),r=a(271),n=a(337),i=a(394),o=a(1),c=a.n(o),l=a(705);const u=Object(l.a)()(({t:e})=>{const t=e("loading_state.sources_title"),a=e("loading_state.sources_desc");return c.a.createElement(s.a,{variant:s.b.large,className:"pf-m-redhat-font"},c.a.createElement(r.a,{size:"lg"}),c.a.createElement(n.a,{headingLevel:"h5",size:"lg"},t),c.a.createElement(i.a,null,a))})},740:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var s=a(234);function r(e){return Object(s.stringify)(e,{encode:!1,indices:!1})}},741:function(e,t,a){"use strict";function s(e,t){if("string"==typeof e)return e;return e[t.key]}function r(e,t){const{direction:a=0}=t||{};return[...e].sort((e,r)=>{const n=s(0===a?e:r,t),i=s(0===a?r:e,t);return n>i?-1:n<i?1:0})}a.d(t,"a",(function(){return r}))},742:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a(765);var s=a(674),r=a(1),n=a.n(r);const i=()=>n.a.createElement("span",{className:"emptyValueContainer"},n.a.createElement(s.MinusIcon,null))},744:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return m})),a.d(t,"d",(function(){return y})),a.d(t,"e",(function(){return T})),a.d(t,"f",(function(){return w})),a.d(t,"c",(function(){return J})),a.d(t,"g",(function(){return te})),a.d(t,"h",(function(){return ne}));a(759);var s=a(173),r=a(382),n=a(337),i=a(380),o=a(381),c=a(726),l=a(1),u=a.n(l),p=a(705);const d=Object(p.a)()(({children:e,detailsLink:t,title:a,subTitle:l,status:p})=>u.a.createElement(s.a,{className:"reportSummary"},u.a.createElement(r.a,null,u.a.createElement(n.a,{headingLevel:"h2",size:"lg"},a),Boolean(l)&&u.a.createElement("p",{className:"subtitle"},l)),u.a.createElement(i.a,null,1===p?u.a.createElement(u.a.Fragment,null,u.a.createElement(c.Skeleton,{size:"xs"}),u.a.createElement(c.Skeleton,{className:"chartSkeleton",size:"md"}),u.a.createElement(c.Skeleton,{size:"sm"}),u.a.createElement(c.Skeleton,{className:"legendSkeleton",size:"xs"})):e),Boolean(t)&&u.a.createElement(o.a,null,t)));a(761);var h=a(417),g=a(418);const m=Object(p.a)()(({children:e,detailsLink:t,status:a,subTitle:l,tabs:p,title:d})=>u.a.createElement(s.a,{className:"reportSummary"},u.a.createElement(h.a,{hasGutter:!0},u.a.createElement(g.a,{xl:8},u.a.createElement("div",{className:"cost"},u.a.createElement(r.a,null,u.a.createElement(n.a,{headingLevel:"h2",size:"lg"},d),Boolean(l)&&u.a.createElement("p",{className:"subtitle"},l)),u.a.createElement(i.a,null,1===a?u.a.createElement(u.a.Fragment,null,u.a.createElement(c.Skeleton,{size:"xs"}),u.a.createElement(c.Skeleton,{className:"chartSkeleton",size:"md"}),u.a.createElement(c.Skeleton,{size:"sm"}),u.a.createElement(c.Skeleton,{className:"legendSkeleton",size:"xs"})):e))),u.a.createElement(g.a,{xl:4},u.a.createElement("div",{className:"tops"},1!==a&&u.a.createElement(u.a.Fragment,null,Boolean(p)&&u.a.createElement(i.a,null,p),Boolean(t)&&u.a.createElement(o.a,null,t)))))));a(763);var b=a(82),v=a(742),f=a(722);const y=Object(p.a)()(({chartType:e,computedReportItem:t="cost",computedReportItemValue:a="total",costLabel:s,formatValue:r,formatOptions:n,report:i,requestFormatOptions:o,requestLabel:c,showTooltip:l=!1,showUnits:p=!1,showUsageFirst:d=!1,t:h,units:g,usageFormatOptions:m,usageLabel:y})=>{let O=u.a.createElement(v.a,null),D=u.a.createElement(v.a,null),T=u.a.createElement(v.a,null),j=u.a.createElement(v.a,null),_=u.a.createElement(v.a,null);const w=i&&i.meta&&i.meta.total,E=w&&i.meta.total.cost&&i.meta.total.cost.total,S=w&&i.meta.total.count,R=w&&i.meta.total.supplementary&&i.meta.total.supplementary.total&&i.meta.total.supplementary.total.value,C=w&&i.meta.total.infrastructure&&i.meta.total.infrastructure[a]&&i.meta.total.infrastructure[a].value,I=w&&i.meta.total.request,k=w&&i.meta.total.usage;w&&(O=r(E?i.meta.total.cost.total.value:0,E?i.meta.total.cost.total.units:"USD",n),D=r(R?i.meta.total.supplementary.total.value:0,R?i.meta.total.supplementary.total.units:"USD",n),T=r(C?i.meta.total.infrastructure[a].value:0,C?i.meta.total.infrastructure[a].units:"USD",n),j=r(I?i.meta.total.request.value:0,I?i.meta.total.request.units:"",o?m:n),_=k&&i.meta.total.usage.value>=0?r(k?i.meta.total.usage.value:0,k?i.meta.total.usage.units:"",m||n):r(k?i.meta.total.usage:0,S?i.meta.total.count.units:"",m||n));const A=(e=!1)=>{let a=O;"infrastructure"===t?a=T:"supplementary"===t&&(a=D);const r=e?"Alt":"";return u.a.createElement("div",{className:"valueContainer"},l?u.a.createElement(b.a,{content:h("dashboard.total_cost_tooltip",{infrastructureCost:T,supplementaryCost:D}),enableFlip:!0},u.a.createElement("div",{className:"value"+r},a)):u.a.createElement("div",{className:"value"+r},a),u.a.createElement("div",{className:"text"},u.a.createElement("div",null,s)))},x=()=>{if(!y)return null;const e=I?i.meta.total.request.units:"",t=Object(f.c)(e),a=h("units."+t);return u.a.createElement("div",{className:"valueContainer"},u.a.createElement("span",{className:"value"},j),Boolean(p&&(g||I&&i.meta.total.request.value>=0))&&u.a.createElement("span",{className:"units"},a),u.a.createElement("div",{className:"text"},u.a.createElement("div",null,c)))},P=()=>{if(!y)return null;const e=k?i.meta.total.usage.units:"",t=Object(f.c)(g||e),a=h("units."+t);return u.a.createElement("div",{className:"valueContainer"},u.a.createElement("span",{className:"value"},_),Boolean(p&&(g||k&&i.meta.total.usage.value>=0))&&u.a.createElement("span",{className:"units"},a),u.a.createElement("div",{className:"text"},u.a.createElement("div",null,y)))};return"cost"===e||"supplementary"===e?u.a.createElement(u.a.Fragment,null,A(!0)):"trend"===e?d?u.a.createElement(u.a.Fragment,null,P(),A()):u.a.createElement(u.a.Fragment,null,A(),P()):"usage"===e?d?u.a.createElement(u.a.Fragment,null,P(),x()):u.a.createElement(u.a.Fragment,null,x(),P()):null});a(767);var O=a(406);const D=({label:e,formatOptions:t,formatValue:a,t:s,totalValue:r,units:n,value:i})=>{const o=Object(f.c)(n),c="usd"!==o?s("units."+o):void 0,l=Number((r?i/r*100:0).toFixed(2)),p=s("percent_of_total",{percent:l,units:c,value:a(i,n,t)});return u.a.createElement("li",{className:"reportSummaryItem"},u.a.createElement(O.a,{label:p,value:l,title:e,size:O.b.sm}))};D.defaultProps={formatValue:e=>e};const T=Object(p.a)()(D);a(769);var j=a(730);class _ extends u.a.Component{shouldComponentUpdate(e){return e.report!==this.props.report}getItems(){const{computedReportItemValue:e="total",idKey:t,labelKey:a,report:s}=this.props,r=Object(j.a)({report:s,idKey:t,labelKey:a,reportItemValue:e}),n=r.findIndex(e=>{const t=e.id;if(t&&null!==t)return t.toString().includes("Other")});return-1!==n?[...r.slice(0,n),...r.slice(n+1),r[n]]:r}render(){const{children:e,status:t}=this.props;if(1===t)return u.a.createElement(u.a.Fragment,null,u.a.createElement(c.Skeleton,{size:"md"}),u.a.createElement(c.Skeleton,{size:"md",className:"skeleton"}),u.a.createElement(c.Skeleton,{size:"md",className:"skeleton"}),u.a.createElement(c.Skeleton,{size:"md",className:"skeleton"}));{const t=this.getItems();return u.a.createElement("ul",null,e({items:t}))}}}const w=Object(p.a)()(_);a(771),a(728);var E=a(708),S=a(709),R=a(719),C=a(310),I=a(711),k=a(712),A=a(713),x=a(729),P=a(723),F=a(727),L=a.n(F),N=a(126),z=a(657),W=a.n(z),K=a(652),U=a.n(K),H=a(651),q=a.n(H),Q=a(650),V=a.n(Q),M=a(649),G=a.n(M),B=a(653),Y=a.n(B);const $={currentColorScale:[M.chart_color_green_400.value,Q.chart_color_green_300.value,H.chart_color_green_200.value,K.chart_color_green_100.value,B.chart_color_green_500.value],currentCostData:{fill:"none"},currentInfrastructureCostData:{fill:"none",strokeDasharray:"3,3"},forecastCostData:{fill:"orange"},itemsPerRow:2,previousCostData:{fill:"none"},previousInfrastructureCostData:{fill:"none",strokeDasharray:"3,3"},previousColorScale:[z.chart_color_black_200.value,z.chart_color_black_200.value],yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}};class X extends u.a.Component{constructor(){super(...arguments),this.containerRef=u.a.createRef(),this.state={hiddenSeries:new Set,width:0},this.initDatum=()=>{const{currentInfrastructureCostData:e,currentCostData:t,forecastCostData:a,previousInfrastructureCostData:s,previousCostData:r}=this.props,n="chart.cost_legend_label",i=[{childName:"previousCost",data:r,legendItem:{name:Object(P.a)(r,n,!0,!0,1),symbol:{fill:$.previousColorScale[0],type:"minus"},tooltip:Object(P.a)(r,"chart.cost_legend_tooltip",!1,!1,1)},style:{data:Object.assign(Object.assign({},$.previousCostData),{stroke:$.previousColorScale[0]})}},{childName:"currentCost",data:t,legendItem:{name:Object(P.a)(t,n,!0,!1),symbol:{fill:$.currentColorScale[0],type:"minus"},tooltip:Object(P.a)(t,"chart.cost_legend_tooltip",!1,!1)},style:{data:Object.assign(Object.assign({},$.currentCostData),{stroke:$.currentColorScale[0]})}},{childName:"previousInfrastructureCost",data:s,legendItem:{name:Object(P.a)(s,"chart.cost_infrastructure_legend_label",!0,!0,1),symbol:{fill:$.previousColorScale[1],type:"dash"},tooltip:Object(P.a)(s,"chart.cost_infrastructure_legend_tooltip",!1,!1,1)},style:{data:Object.assign(Object.assign({},$.previousInfrastructureCostData),{stroke:$.previousColorScale[1]})}},{childName:"currentInfrastructureCost",data:e,legendItem:{name:Object(P.a)(e,"chart.cost_infrastructure_legend_label",!0,!1),symbol:{fill:$.currentColorScale[1],type:"dash"},tooltip:Object(P.a)(e,"chart.cost_infrastructure_legend_tooltip",!1,!1)},style:{data:Object.assign(Object.assign({},$.currentInfrastructureCostData),{stroke:$.currentColorScale[1]})}}];a&&i.push({childName:"forecastCost",data:a,isForecast:!0,legendItem:{name:Object(P.a)(a,n,!0,!1),symbol:{fill:$.forecastCostData[0],type:"minus"},tooltip:Object(P.a)(a,"chart.cost_legend_tooltip",!1,!1)},style:{data:Object.assign(Object.assign({},$.forecastCostData),{stroke:$.currentColorScale[0]})}}),this.setState({series:i})},this.handleNavToggle=()=>{setTimeout(this.handleResize,500)},this.handleResize=()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})},this.getChart=(e,t)=>{const{hiddenSeries:a}=this.state;return e.isForecast,u.a.createElement(E.a,{data:a.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})},this.getContainer=()=>{const e=Object(S.a)("voronoi","cursor");return u.a.createElement(e,{cursorDimension:"x",labels:this.isDataAvailable()?this.getTooltipLabel:void 0,labelComponent:u.a.createElement(R.a,{legendData:this.getLegendData(!0),title:e=>N.a.t("chart.day_of_month_title",{day:e.x})}),mouseFollowTooltips:!0,voronoiDimension:"x",voronoiPadding:{bottom:75,left:8,right:8,top:8}})},this.getLegend=()=>{const{legendItemsPerRow:e}=this.props,{width:t}=this.state,a=e||(t>450?$.itemsPerRow:1);return u.a.createElement(C.a,{height:25,gutter:20,itemsPerRow:a,name:"legend",responsive:!1})},this.getTooltipLabel=({datum:e})=>{const{formatDatumValue:t,formatDatumOptions:a}=this.props,s=Object(P.d)(t);return null!==e.y?s(e.y,e.units,a):N.a.t("chart.no_data")},this.handleLegendClick=e=>{this.state.hiddenSeries.delete(e.index)||this.state.hiddenSeries.add(e.index),this.setState({hiddenSeries:new Set(this.state.hiddenSeries)})},this.isDataAvailable=()=>{const{series:e}=this.state,t=[];return e&&e.forEach((e,a)=>{(this.isSeriesHidden(a)||e.data&&0===e.data.length)&&t.push(a)}),t.length!==(e?e.length:0)},this.isSeriesHidden=e=>{const{hiddenSeries:t}=this.state;return t.has(e)},this.getChartNames=()=>{const{series:e}=this.state,t=[];return e&&e.map(e=>{t.push(e.childName)}),t},this.getEvents=()=>Object(I.a)({chartNames:this.getChartNames(),isHidden:this.isSeriesHidden,legendName:"legend",onLegendClick:this.handleLegendClick}),this.getLegendData=(e=!1)=>{const{hiddenSeries:t,series:a}=this.state;if(a){return a.map((a,s)=>Object.assign(Object.assign(Object.assign({childName:a.childName},a.legendItem),e&&{name:a.legendItem.tooltip}),Object(I.b)(t.has(s))))}}}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize),this.navToggle=insights.chrome.on("NAVIGATION_TOGGLE",this.handleNavToggle)}),this.initDatum()}componentDidUpdate(e){e.currentInfrastructureCostData===this.props.currentInfrastructureCostData&&e.currentCostData===this.props.currentCostData&&e.forecastCostData===this.props.forecastCostData&&e.previousInfrastructureCostData===this.props.previousInfrastructureCostData&&e.previousCostData===this.props.previousCostData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.navToggle&&this.navToggle()}getDomain(){const{currentInfrastructureCostData:e,currentCostData:t,forecastCostData:a,previousInfrastructureCostData:s,previousCostData:r}=this.props,n={x:[1,31]},i=e?Object(P.c)(e):0,o=t?Object(P.c)(t):0,c=a?Object(P.c)(a):0,l=s?Object(P.c)(s):0,u=r?Object(P.c)(r):0,p=Math.max(i,o,c,l,u),d=p>0?Math.ceil(p+.1*p):0;return d>0&&(n.y=[0,d]),n}getEndDate(){const{currentInfrastructureCostData:e,currentCostData:t,forecastCostData:a,previousInfrastructureCostData:s,previousCostData:r}=this.props,n=e?L()(Object(P.b)(e,!0,!0)[1]):0,i=t?L()(Object(P.b)(t,!0,!0)[1]):0,o=a?L()(Object(P.b)(a,!0,!0)[1]):0,c=s?L()(Object(P.b)(s,!0,!0)[1]):0,l=r?L()(Object(P.b)(r,!0,!0)[1]):0;return n>0||i>0||c>0||l>0?Math.max(n,i,o,c,l):31}render(){const{adjustContainerHeight:e,height:t,containerHeight:a=t,padding:s={bottom:75,left:8,right:8,top:8},title:r}=this.props,{series:i,width:o}=this.state,c=this.getDomain(),l=this.getEndDate(),p=Math.floor(l/2),d=e?o>450?a:a+75:a;return u.a.createElement(u.a.Fragment,null,u.a.createElement(n.a,{headingLevel:"h3",size:"md"},r),u.a.createElement("div",{className:"chartOverride",ref:this.containerRef,style:{height:d}},u.a.createElement("div",{style:{height:t,width:o}},u.a.createElement(k.a,{containerComponent:this.getContainer(),domain:c,events:this.getEvents(),height:t,legendComponent:this.getLegend(),legendData:this.getLegendData(),legendPosition:"bottom-left",padding:s,theme:x.a,width:o},i&&i.map((e,t)=>this.getChart(e,t)),u.a.createElement(A.a,{style:$.xAxis,tickValues:[1,p,l]}),u.a.createElement(A.a,{dependentAxis:!0,style:$.yAxis})))))}}const J=e=>u.a.createElement("div",{className:"chart"},u.a.createElement(X,Object.assign({},e)));a(774);const Z={currentColorScale:[G.a.value,V.a.value,q.a.value,U.a.value,Y.a.value],currentMonthData:{fill:"none"},forecastColorScale:[q.a.value],forecastConeColorScale:[U.a.value],forecastData:{fill:"none"},forecastConeData:{fill:U.a.value,strokeWidth:0},itemsPerRow:4,previousColorScale:[W.a.value,W.a.value],previousMonthData:{fill:"none"},yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}};class ee extends u.a.Component{constructor(){super(...arguments),this.containerRef=u.a.createRef(),this.state={hiddenSeries:new Set,width:0},this.initDatum=()=>{const{currentData:e,forecastData:t,forecastConeData:a,previousData:s,showSupplementaryLabel:r=!1,showUsageLegendLabel:n=!1}=this.props,i=n?"chart.usage_legend_label":r?"chart.cost_supplementary_legend_label":"chart.cost_legend_label",o=n?"chart.usage_legend_tooltip":r?"chart.cost_supplementary_legend_tooltip":"chart.cost_legend_tooltip",c=[{childName:"previousCost",data:s,legendItem:{name:Object(P.a)(s,i,!0,!0,1),symbol:{fill:Z.previousColorScale[0],type:"minus"},tooltip:Object(P.a)(s,o,!1,!1,1)},style:{data:Object.assign(Object.assign({},Z.previousMonthData),{stroke:Z.previousColorScale[0]})}},{childName:"currentCost",data:e,legendItem:{name:Object(P.a)(e,i,!0,!1),symbol:{fill:Z.currentColorScale[0],type:"minus"},tooltip:Object(P.a)(e,o,!1,!1)},style:{data:Object.assign(Object.assign({},Z.currentMonthData),{stroke:Z.currentColorScale[0]})}}];t&&c.push({childName:"forecast",data:t,isForecast:!0,legendItem:{name:Object(P.a)(t,"chart.cost_forecast_legend_label",!1,!1),symbol:{fill:Z.forecastColorScale[0],type:"minus"},tooltip:Object(P.a)(t,"chart.cost_forecast_legend_tooltip",!1,!1)},style:{data:Object.assign(Object.assign({},Z.forecastData),{stroke:Z.forecastColorScale[0]})}}),a&&c.push({childName:"forecastCone",data:a,isForecast:!0,legendItem:{name:Object(P.a)(a,"chart.cost_forecast_cone_legend_label",!1,!1),symbol:{fill:Z.forecastConeColorScale[0],type:"triangleUp"},tooltip:Object(P.a)(a,"chart.cost_forecast_cone_legend_tooltip",!1,!1)},style:{data:Object.assign(Object.assign({},Z.forecastConeData),{stroke:Z.forecastConeColorScale[0]})}}),this.setState({series:c})},this.handleNavToggle=()=>{setTimeout(this.handleResize,500)},this.handleResize=()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})},this.getChart=(e,t)=>{const{hiddenSeries:a}=this.state;return e.isForecast,u.a.createElement(E.a,{data:a.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})},this.getContainer=()=>{const e=Object(S.a)("voronoi","cursor");return u.a.createElement(e,{cursorDimension:"x",labels:this.isDataAvailable()?this.getTooltipLabel:void 0,labelComponent:u.a.createElement(R.a,{legendData:this.getLegendData(!0),title:e=>N.a.t("chart.day_of_month_title",{day:e.x})}),mouseFollowTooltips:!0,voronoiDimension:"x",voronoiPadding:{bottom:50,left:8,right:8,top:8}})},this.getLegend=()=>{const{legendItemsPerRow:e}=this.props,{width:t}=this.state,a=e||(t>700?Z.itemsPerRow:2);return u.a.createElement(C.a,{data:this.getLegendData(),gutter:20,height:25,itemsPerRow:a,name:"legend",orientation:t>150?"horizontal":"vertical"})},this.getTooltipLabel=({datum:e})=>{const{formatDatumValue:t,formatDatumOptions:a,units:s}=this.props,r=Object(P.d)(t),n=null!==e.y?r(e.y,s||e.units,a):void 0,i=e.y0&&null!==e.y0?r(e.y0,s||e.units,a):void 0;return n&&i?N.a.t("chart.cost_forecast_cone_tooltip",{value0:i,value1:n}):n||N.a.t("chart.no_data")},this.handleLegendClick=e=>{this.state.hiddenSeries.delete(e.index)||this.state.hiddenSeries.add(e.index),this.setState({hiddenSeries:new Set(this.state.hiddenSeries)})},this.isDataAvailable=()=>{const{series:e}=this.state,t=[];return e&&e.forEach((e,a)=>{(this.isSeriesHidden(a)||e.data&&0===e.data.length)&&t.push(a)}),t.length!==(e?e.length:0)},this.isSeriesHidden=e=>{const{hiddenSeries:t}=this.state;return t.has(e)},this.getChartNames=()=>{const{series:e}=this.state,t=[];return e&&e.map(e=>{t.push(e.childName)}),t},this.getEvents=()=>Object(I.a)({chartNames:this.getChartNames(),isHidden:this.isSeriesHidden,legendName:"legend",onLegendClick:this.handleLegendClick}),this.getLegendData=(e=!1)=>{const{hiddenSeries:t,series:a}=this.state;if(a){return a.map((a,s)=>Object.assign(Object.assign(Object.assign({childName:a.childName},a.legendItem),e&&{name:a.legendItem.tooltip}),Object(I.b)(t.has(s))))}}}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize),this.navToggle=insights.chrome.on("NAVIGATION_TOGGLE",this.handleNavToggle)}),this.initDatum()}componentDidUpdate(e){e.currentData===this.props.currentData&&e.forecastData===this.props.forecastData&&e.forecastConeData===this.props.forecastConeData&&e.previousData===this.props.previousData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.navToggle&&this.navToggle()}getDomain(){const{currentData:e,forecastData:t,previousData:a}=this.props,s={x:[1,31]},r=e?Object(P.c)(e):0,n=t?Object(P.c)(t):0,i=a?Object(P.c)(a):0,o=Math.max(r,n,i),c=o>0?Math.ceil(o+.1*o):0;return c>0&&(s.y=[0,c]),s}getEndDate(){const{currentData:e,forecastData:t,previousData:a}=this.props,s=a?L()(Object(P.b)(a,!0,!0)[1]):0,r=e?L()(Object(P.b)(e,!0,!0)[1]):0,n=t?L()(Object(P.b)(t,!0,!0)[1]):0;return r>0||s>0?Math.max(r,n,s):31}render(){const{adjustContainerHeight:e,height:t,containerHeight:a=t,padding:s={bottom:50,left:8,right:8,top:8},title:r}=this.props,{series:i,width:o}=this.state,c=this.getDomain(),l=this.getEndDate(),p=Math.floor(l/2),d=e?o>700?a:a+20:a;return u.a.createElement(u.a.Fragment,null,u.a.createElement(n.a,{headingLevel:"h3",size:"md"},r),u.a.createElement("div",{className:"chartOverride",ref:this.containerRef,style:{height:d}},u.a.createElement("div",{style:{height:t,width:o}},u.a.createElement(k.a,{containerComponent:this.getContainer(),domain:c,events:this.getEvents(),height:t,legendComponent:this.getLegend(),legendData:this.getLegendData(),legendPosition:"bottom-left",padding:s,theme:x.a,width:o},i&&i.map((e,t)=>this.getChart(e,t)),u.a.createElement(A.a,{style:Z.xAxis,tickValues:[1,p,l]}),u.a.createElement(A.a,{dependentAxis:!0,style:Z.yAxis})))))}}const te=e=>u.a.createElement("div",{className:"chart"},u.a.createElement(ee,Object.assign({},e)));a(776);var ae=a(646);const se={chartContainer:{marginTop:a.n(ae).a.value},currentRequestData:{data:{fill:"none",stroke:V.a.value,strokeDasharray:"3,3"}},currentUsageData:{data:{fill:"none",stroke:G.a.value}},itemsPerRow:2,legendColorScale:[W.a.value,G.a.value,W.a.value,V.a.value],previousRequestData:{data:{fill:"none",stroke:W.a.value,strokeDasharray:"3,3"}},previousUsageData:{data:{fill:"none",stroke:W.a.value}},currentColorScale:[G.a.value,V.a.value,q.a.value,U.a.value,Y.a.value],previousColorScale:[W.a.value,W.a.value],yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}};class re extends u.a.Component{constructor(){super(...arguments),this.containerRef=u.a.createRef(),this.state={hiddenSeries:new Set,width:0},this.initDatum=()=>{const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:s}=this.props;this.setState({series:[{childName:"previousUsage",data:s,legendItem:{name:Object(P.e)(s,"chart.usage_legend_label",!0,!0,1),symbol:{fill:se.legendColorScale[0],type:"minus"},tooltip:Object(P.e)(s,"chart.usage_legend_tooltip",!1,!1,1)},style:se.previousUsageData},{childName:"currentUsage",data:t,legendItem:{name:Object(P.e)(t,"chart.usage_legend_label",!0,!1),symbol:{fill:se.legendColorScale[1],type:"minus"},tooltip:Object(P.e)(t,"chart.usage_legend_tooltip",!1,!1)},style:se.currentUsageData},{childName:"previousRequest",data:a,legendItem:{name:Object(P.e)(a,"chart.requests_legend_label",!0,!0,1),symbol:{fill:se.legendColorScale[2],type:"dash"},tooltip:Object(P.e)(a,"chart.requests_legend_tooltip",!1,!1,1)},style:se.previousRequestData},{childName:"currentRequest",data:e,legendItem:{name:Object(P.e)(e,"chart.requests_legend_label",!0,!1),symbol:{fill:se.legendColorScale[3],type:"dash"},tooltip:Object(P.e)(e,"chart.requests_legend_tooltip",!1,!1)},style:se.currentRequestData}]})},this.handleNavToggle=()=>{setTimeout(this.handleResize,500)},this.handleResize=()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})},this.getChart=(e,t)=>{const{hiddenSeries:a}=this.state;return u.a.createElement(E.a,{data:a.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})},this.getContainer=()=>{const e=Object(S.a)("voronoi","cursor");return u.a.createElement(e,{cursorDimension:"x",labels:this.isDataAvailable()?this.getTooltipLabel:void 0,labelComponent:u.a.createElement(R.a,{legendData:this.getLegendData(!0),title:e=>N.a.t("chart.day_of_month_title",{day:e.x})}),mouseFollowTooltips:!0,voronoiDimension:"x",voronoiPadding:{bottom:75,left:8,right:8,top:8}})},this.getLegend=()=>{const{legendItemsPerRow:e}=this.props,{width:t}=this.state,a=e||(t>300?se.itemsPerRow:1);return u.a.createElement(C.a,{data:this.getLegendData(),height:25,gutter:20,itemsPerRow:a,name:"legend"})},this.getTooltipLabel=({datum:e})=>{const{formatDatumValue:t,formatDatumOptions:a}=this.props,s=Object(P.d)(t);return null!==e.y?s(e.y,e.units,a):N.a.t("chart.no_data")},this.handleLegendClick=e=>{this.state.hiddenSeries.delete(e.index)||this.state.hiddenSeries.add(e.index),this.setState({hiddenSeries:new Set(this.state.hiddenSeries)})},this.isDataAvailable=()=>{const{series:e}=this.state,t=[];return e&&e.forEach((e,a)=>{(this.isSeriesHidden(a)||e.data&&0===e.data.length)&&t.push(a)}),t.length!==(e?e.length:0)},this.isSeriesHidden=e=>{const{hiddenSeries:t}=this.state;return t.has(e)},this.getChartNames=()=>{const{series:e}=this.state,t=[];return e&&e.map(e=>{t.push(e.childName)}),t},this.getEvents=()=>Object(I.a)({chartNames:this.getChartNames(),isHidden:this.isSeriesHidden,legendName:"legend",onLegendClick:this.handleLegendClick}),this.getLegendData=(e=!1)=>{const{hiddenSeries:t,series:a}=this.state;if(a){return a.map((a,s)=>Object.assign(Object.assign(Object.assign({childName:a.childName},a.legendItem),e&&{name:a.legendItem.tooltip}),Object(I.b)(t.has(s))))}}}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize),this.navToggle=insights.chrome.on("NAVIGATION_TOGGLE",this.handleNavToggle)}),this.initDatum()}componentDidUpdate(e){e.currentRequestData===this.props.currentRequestData&&e.currentUsageData===this.props.currentUsageData&&e.previousRequestData===this.props.previousRequestData&&e.previousUsageData===this.props.previousUsageData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.navToggle&&this.navToggle()}getDomain(){const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:s}=this.props,r={x:[1,31]},n=e?Object(P.c)(e):0,i=t?Object(P.c)(t):0,o=a?Object(P.c)(a):0,c=s?Object(P.c)(s):0,l=Math.max(n,i,o,c),u=l>0?Math.ceil(l+.1*l):0;return u>0&&(r.y=[0,u]),r}getEndDate(){const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:s}=this.props,r=e?L()(Object(P.b)(e,!0,!0)[1]):0,n=t?L()(Object(P.b)(t,!0,!0)[1]):0,i=a?L()(Object(P.b)(a,!0,!0)[1]):0,o=s?L()(Object(P.b)(s,!0,!0)[1]):0;return r>0||n>0||i>0||o>0?Math.max(r,n,i,o):31}render(){const{adjustContainerHeight:e,height:t,containerHeight:a=t,padding:s={bottom:75,left:8,right:8,top:8},title:r}=this.props,{series:i,width:o}=this.state,c=this.getDomain(),l=this.getEndDate(),p=Math.floor(l/2),d=e?o>480?a:a+20:a;return u.a.createElement(u.a.Fragment,null,u.a.createElement(n.a,{headingLevel:"h3",size:"md"},r),u.a.createElement("div",{className:"chartOverride",ref:this.containerRef,style:{height:d}},u.a.createElement("div",{style:{height:t,width:o}},u.a.createElement(k.a,{containerComponent:this.getContainer(),domain:c,events:this.getEvents(),height:t,legendComponent:this.getLegend(),legendData:this.getLegendData(),legendPosition:"bottom-left",padding:s,theme:x.a,width:o},i&&i.map((e,t)=>this.getChart(e,t)),u.a.createElement(A.a,{style:se.xAxis,tickValues:[1,p,l]}),u.a.createElement(A.a,{dependentAxis:!0,style:se.yAxis})))))}}const ne=e=>u.a.createElement("div",{className:"chart"},u.a.createElement(re,Object.assign({},e)))},749:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));const s=()=>{const e=window.location.pathname.split("/");e.shift();let t="";return"beta"===e[0]&&(t="/beta"),t}},752:function(e,t,a){"use strict";var s=a(361),r=a(735),n=a(738),i=a(1),o=a.n(i),c=a(476);var l=Object(c.a)(({title:e})=>o.a.createElement(o.a.Fragment,null,e&&o.a.createElement(r.PageHeader,null,o.a.createElement(r.PageHeaderTitle,{title:e})),o.a.createElement(s.Main,null,o.a.createElement(n.a,null))));t.a=l},759:function(e,t,a){var s=a(760);"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(721)(s,r);s.locals&&(e.exports=s.locals)},760:function(e,t,a){var s=a(644),r=a(645);(t=s(!1)).i(r),t.push([e.i,".chartSkeleton{height:125px;margin-bottom:var(--pf-global--spacer--md);margin-top:var(--pf-global--spacer--md)}.legendSkeleton{margin-top:var(--pf-global--spacer--md)}.reportSummary{height:100%}.subtitle{display:inline-block;font-size:var(--pf-global--FontSize--xs);color:var(--pf-global--Color--200);margin-bottom:0}",""]),e.exports=t},761:function(e,t,a){var s=a(762);"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(721)(s,r);s.locals&&(e.exports=s.locals)},762:function(e,t,a){var s=a(644),r=a(645);(t=s(!1)).i(r),t.push([e.i,".chartSkeleton{height:175px;margin-bottom:var(--pf-global--spacer--md);margin-top:var(--pf-global--spacer--md)}.cost{flex-grow:1;min-height:470px;margin-tight:var(--pf-global--spacer--md)}.legendSkeleton{margin-top:var(--pf-global--spacer--md)}.reportSummary{height:100%}.subtitle{display:inline-block;font-size:var(--pf-global--FontSize--xs);color:var(--pf-global--Color--200);margin-bottom:0}.tops{margin-top:var(--pf-global--spacer--lg)}",""]),e.exports=t},763:function(e,t,a){var s=a(764);"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(721)(s,r);s.locals&&(e.exports=s.locals)},764:function(e,t,a){var s=a(644),r=a(645);(t=s(!1)).i(r),t.push([e.i,".reportSummaryDetails{margin-bottom:var(--pf-global--spacer--md);display:flex;align-Items:flex-end}.text{padding-bottom:var(--pf-global--spacer--sm);line-height:var(--pf-global--LineHeight--sm);font-size:var(--pf-global--FontSize--xs)}.units{padding-left:var(--pf-global--spacer--xs);padding-bottom:var(--pf-global--spacer--sm);line-height:var(--pf-global--LineHeight--sm);font-size:var(--pf-global--FontSize--xs);white-space:nowrap}.value{color:var(--pf-global--Color--100);margin-right:var(--pf-global--spacer--sm);font-size:var(--pf-global--FontSize--2xl)}.valueAlt{color:var(--pf-global--Color--100);margin-right:var(--pf-global--spacer--sm);font-size:var(--pf-global--FontSize--4xl)}.valueContainer{display:inline-block;margin-bottom:var(--pf-global--spacer--md);width:50%;word-Wrap:break-word}",""]),e.exports=t},765:function(e,t,a){var s=a(766);"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(721)(s,r);s.locals&&(e.exports=s.locals)},766:function(e,t,a){var s=a(644),r=a(645);(t=s(!1)).i(r),t.push([e.i,".emptyValueContainer{font-size:var(--pf-global--FontSize--sm)}",""]),e.exports=t},767:function(e,t,a){var s=a(768);"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(721)(s,r);s.locals&&(e.exports=s.locals)},768:function(e,t,a){var s=a(644),r=a(645);(t=s(!1)).i(r),t.push([e.i,".reportSummaryItem:not(:last-child){margin-bottom:var(--pf-global--spacer--md)}",""]),e.exports=t},769:function(e,t,a){var s=a(770);"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(721)(s,r);s.locals&&(e.exports=s.locals)},770:function(e,t,a){var s=a(644),r=a(645);(t=s(!1)).i(r),t.push([e.i,".skeleton{margin-top:var(--pf-global--spacer--md)}",""]),e.exports=t},771:function(e,t,a){var s=a(772);"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(721)(s,r);s.locals&&(e.exports=s.locals)},772:function(e,t,a){var s=a(644),r=a(645);(t=s(!1)).i(r),t.push([e.i,".chart{margin-bottom:var(--pf-global--spacer--sm)}",""]),e.exports=t},773:function(e,t,a){var s=a(644),r=a(645);(t=s(!1)).i(r),t.push([e.i,".chartOverride :not(foo) svg{overflow:visible}",""]),e.exports=t},774:function(e,t,a){var s=a(775);"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(721)(s,r);s.locals&&(e.exports=s.locals)},775:function(e,t,a){var s=a(644),r=a(645);(t=s(!1)).i(r),t.push([e.i,".chart{margin-nottom:var(--pf-global--spacer--sm)}",""]),e.exports=t},776:function(e,t,a){var s=a(777);"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(721)(s,r);s.locals&&(e.exports=s.locals)},777:function(e,t,a){var s=a(644),r=a(645);(t=s(!1)).i(r),t.push([e.i,".chart{margin-bottom:var(--pf-global--spacer--sm)}",""]),e.exports=t},778:function(e,t,a){var s=a(779);"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(721)(s,r);s.locals&&(e.exports=s.locals)},779:function(e,t,a){var s=a(644),r=a(645);(t=s(!1)).i(r),t.push([e.i,".cost-icon{height:120px}.cost-icon.st0{fill:blue !important}",""]),e.exports=t},780:function(e,t,a){e.exports=a.p+"8a2acb5e9233030023f599e0f04ebd7f.svg"},781:function(e,t,a){"use strict";var s=a(361),r=a(735),n=a(1),i=a.n(n),o=a(476),c=a(393),l=a(395),u=a(337),p=a(394),d=a(76),h=a(676),g=a(670),m=(a(778),a(705));const b=a(780);var v=Object(m.a)()(({className:e,t:t})=>i.a.createElement("img",{className:"cost-icon "+e,src:b,alt:t("cost_management"),"aria-hidden":"true"})),f=a(749),y=a(646),O=a.n(y),D=a(656);const T={iconSpacer:{marginLeft:a.n(D).a.value},viewSources:{marginTop:O.a.value}};class j extends i.a.Component{constructor(){super(...arguments),this.getDocLink=(e,t)=>{const{t:a}=this.props;return i.a.createElement("a",{href:a(t),rel:"noreferrer",target:"_blank"},a(e),i.a.createElement("span",{style:T.iconSpacer},i.a.createElement(h.ExternalLinkAltIcon,null)))},this.getRouteToSources=()=>Object(f.a)()+"/settings/sources"}render(){const{providerType:e,t:t}=this.props;let a,s,r,n="no_providers_state.overview_desc",o="no_providers_state.overview_title";switch(e){case"aws":n="no_providers_state.aws_desc",o="no_providers_state.aws_title";break;case"azure":n="no_providers_state.azure_desc",o="no_providers_state.azure_title";break;case"gcp":n="no_providers_state.gcp_desc",o="no_providers_state.gcp_title";break;case"ocp":n="no_providers_state.ocp_desc",a="docs.add_ocp_sources",r="no_providers_state.ocp_add_sources",o="no_providers_state.ocp_title";break;default:s=v}return i.a.createElement(c.a,{variant:c.b.large,className:"pf-m-redhat-font"},i.a.createElement(l.a,{icon:s||g.PlusCircleIcon}),i.a.createElement(u.a,{headingLevel:"h5",size:"lg"},t(o)),i.a.createElement(p.a,null,t(n)),a&&r?i.a.createElement("div",{style:T.viewSources},this.getDocLink(r,a)):i.a.createElement(d.a,{variant:"primary",component:"a",href:this.getRouteToSources()},t("no_providers_state.get_started")))}}const _=Object(o.a)(Object(m.a)()(j));var w=Object(o.a)(({providerType:e,title:t})=>i.a.createElement(i.a.Fragment,null,t&&i.a.createElement(r.PageHeader,null,i.a.createElement(r.PageHeaderTitle,{title:t})),i.a.createElement(s.Main,null,i.a.createElement(_,{providerType:e}))));t.a=w}}]);
//# sourceMappingURL=d3654b059e35649d6e39.bundle.js.map
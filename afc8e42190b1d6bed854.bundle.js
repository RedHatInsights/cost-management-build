(self.webpackChunkkoku_ui=self.webpackChunkkoku_ui||[]).push([[4483],{5118:()=>{},86208:(e,t,a)=>{"use strict";a.d(t,{H:()=>s});var r=a(80129);function s(e){return(0,r.stringify)(e,{encode:!1,indices:!1})}},40125:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var r=a(55255),s=a(61352);const n={padding:8},o={area:Object.assign({},n),axis:Object.assign({},n),bar:Object.assign({},n),boxplot:Object.assign({},n),candlestick:Object.assign({},n),chart:Object.assign({},n),errorbar:Object.assign({},n),group:Object.assign({},n),legend:{},line:Object.assign({},n),pie:Object.assign({},n),scatter:Object.assign({},n),stack:Object.assign({},n),tooltip:{},voronoi:Object.assign({},n)},i=(0,r.jp)(s.nz.default,s.py.default,o)},60232:(e,t,a)=>{"use strict";a.d(t,{uL:()=>N,Y_:()=>b,Dd:()=>S,MN:()=>Z,pZ:()=>E,Fs:()=>k,Q7:()=>w,GN:()=>I,nB:()=>p,Qw:()=>f,zJ:()=>C});var r=a(32004),s=a(55855),n=a(43703),o=a(17844),i=a(13604),l=a(95570),c=a(93952),u=a(60114);function d({forecast:e,sortDirection:t=0,sortKey:a="date"}){return(0,u.D)(function({forecast:e}){if(!e)return[];const t=new Map,a=e=>{e&&e.values&&e.values.forEach((e=>{const a=e.date,r=t.get(a);r?t.set(a,Object.assign(Object.assign({},r),{date:a,cost:h(e,"cost",r),infrastructure:h(e,"infrastructure",r),supplementary:h(e,"supplementary",r)})):t.set(a,{date:a,cost:h(e,"cost"),infrastructure:h(e,"infrastructure"),supplementary:h(e,"supplementary")})}));for(const t in e)if(e[t]instanceof Array)return e[t].forEach(a)};return e&&e.data&&e.data.forEach(a),Array.from(t.values())}({forecast:e,sortDirection:t,sortKey:a}),{key:a,direction:t})}function h(e,t,a){return{confidence_max:{value:a?a[t].confidence_max.value:0+e[t]&&e[t].confidence_max?e[t].confidence_max.value:0,units:e[t]&&e[t].confidence_max?e[t].confidence_max.units:"USD"},confidence_min:{value:a?a[t].confidence_min.value:0+e[t]&&e[t].confidence_min?e[t].confidence_min.value:0,units:e[t]&&e[t].confidence_min?e[t].confidence_min.units:"USD"},pvalues:{value:e[t]&&e[t].pvalues?Number(e[t].pvalues.value):0,units:e[t]&&e[t].pvalues?e[t].pvalues.units:null},rsquared:{value:e[t]&&e[t].rsquared?Number(e[t].rsquared.value):0,units:e[t]&&e[t].rsquared?e[t].rsquared.units:null},total:{value:a?a[t].total.value:0+e[t]&&e[t].total?e[t].total.value:0,units:e[t]&&e[t].total?e[t].total.units:"USD"}}}var m=a(31447),g=a(25800);function p(e,t=1,a="cost",r="total"){if(!e)return[];const s=d({forecast:e,sortKey:"date",sortDirection:1});let n;return n=1===t||2===t?s.map((e=>v(e[a][r].value,e))):s.reduce(((e,t)=>{const s=e.length?e[e.length-1].y:0;return[...e,v(s+t[a][r].value,t)]}),[]),L(n,t)}function f(e,t=1,a="cost",r="total"){if(!e)return[];const s=d({forecast:e,sortKey:"date",sortDirection:1});let n;return n=1===t||2===t?s.map((e=>D(e[a].confidence_max.value,e[a].confidence_min.value,e))):s.reduce(((e,t)=>{const s=e.length?e[e.length-1].y:t[a][r].value,n=e.length?e[e.length-1].y0:t[a][r].value;return[...e,D(s+t[a].confidence_max.value,n+t[a].confidence_min.value,t)]}),[]),L(n,t)}function C(e,t=1,a="date",r="cost",s="total"){if(!e)return[];const n={idKey:a,report:e,sortKey:"id",sortDirection:1},o=(0,m.R)(n);let i;return i=1===t||2===t?o.map((e=>y(e[r][s]?e[r][s].value:e[r].value,e,a,r,s))):o.reduce(((e,t)=>{const n=e.length?e[e.length-1].y:0,o=t[r][s]?t[r][s].value:t[r].value;return[...e,y(n+o,t,a,r,s)]}),[]),"date"===a?L(i,t):i}function v(e,t,a="cost",r="total"){const n=(0,s.Z)(new Date(t.date+"T00:00:00")),o=w(e)?parseFloat(e.toFixed(2)):I(e)?e:0;return{x:n,y:null===e?null:o,key:t.date,units:t[a]&&t[a][r]?t[a][r].units:void 0}}function D(e,t,a,r="cost",n="total"){const o=(0,s.Z)(new Date(a.date+"T00:00:00")),i=w(e)?parseFloat(e.toFixed(2)):I(e)?e:0,l=w(t)?parseFloat(t.toFixed(2)):I(t)?t:0;return{x:o,y:null===e?null:i,y0:null===t?null:l,key:a.date,units:a[r]&&a[r][n]?a[r][n].units:void 0}}function y(e,t,a="date",r="cost",n="total"){const o="date"===a?(0,s.Z)(new Date(t.id+"T00:00:00")):t.label,i=w(e)?parseFloat(e.toFixed(2)):I(e)?e:0;return{x:o,y:null===e?null:i,key:t.id,name:t.label?t.label:t.id,units:t[r]?t[r][n]?t[r][n].units:t[r].units:void 0}}function L(e,t=1){const a=[];if(!e||0===e.length)return a;const r=new Date(e[0].key+"T00:00:00"),l=new Date(e[e.length-1].key+"T00:00:00");let c=(0,n.Z)(r);for(let e=c.getDate();e<r.getDate();e++){c.setDate(e);const t=(0,i.Z)(c,"yyyy-MM-dd");a.push(y(null,{id:t},"date",null))}a.push(...e),c=new Date(l);for(let e=c.getDate()+1;e<=(0,o.Z)(l).getDate();e++){c.setDate(e);const t=(0,i.Z)(c,"yyyy-MM-dd");a.push(y(null,{id:t},"date",null))}return function(e,t=1){const a=[];if(!e||0===e.length)return a;const r=new Date(e[0].key+"T00:00:00"),l=new Date(e[e.length-1].key+"T00:00:00"),c=(0,n.Z)(r);let u;for(let r=c.getDate();r<=(0,o.Z)(l).getDate();r++){c.setDate(r);const n=(0,i.Z)(c,"yyyy-MM-dd"),o=e.find((e=>e.key===n));o?a.push(o):u&&a.push(Object.assign(Object.assign({},u),{key:n,x:(0,s.Z)(new Date(n+"T00:00:00"))})),o&&(u=1===t?{key:n,x:(0,s.Z)(new Date(n+"T00:00:00")),y:null}:o)}return a}(a,t)}function b(e,t=!0,a=!1,r=0){const[s,i]=function(e,t=0){if(!e||!e.length){const e=new Date;return t&&(e.setDate(1),e.setMonth(e.getMonth()-t)),[(0,n.Z)(e),e]}let a=0;for(let t=a;t<e.length;t++)if(e[t].y&&null!==e[t].y){a=t;break}let r=e.length-1;for(let t=r;t>=0;t--)if(e[t].y&&null!==e[t].y){r=t;break}return[new Date(e[a].key+"T00:00:00"),new Date(e[r].key+"T00:00:00")]}(e,r);if(t&&s.setDate&&s.setDate(1),a&&s.setDate){const e=(0,o.Z)(s).getDate();i.setDate(e)}return[s,i]}function Z(e){let t=0;return e&&e.length&&e.forEach((e=>{e.y>t&&(t=e.y)})),t}function S(e){let t=-1,a=-1;return e&&e.length&&e.forEach((e=>{const r=void 0!==e.y0?Math.max(e.y,e.y0):e.y,s=void 0!==e.y0?Math.min(e.y,e.y0):e.y;r>t&&(t=r),(-1===a||s<a)&&null!==s&&(a=s)})),{max:t,min:a}}function E(e){return function(t,a=null,s={}){const n=(0,g.dM)(a);return n?r.N.formatMessage(c.Z.UnitTooltips,{units:n,value:e(t,a,s)}):(0,g.xG)(t,a,s)}}function N(e,t=c.Z.ChartCostLegendLabel,a=!1,n=!1,o=0,u=c.Z.ChartNoData){if(!e||!e.length)return r.N.formatMessage(u);const[d,h]=b(e,a,n,o),m=Number((0,i.Z)(d,"M"))-1,g=(0,l.Z)(h);return r.N.formatMessage(t,{count:(0,s.Z)(h),startDate:(0,i.Z)(d,"d"),endDate:(0,i.Z)(h,"d"),month:m,year:g})}function k(e,t=c.Z.ChartUsageLegendLabel,a=!1,r=!1,s=0,n=c.Z.ChartNoData){return N(e,t,a,r,s,n)}function I(e){return Number(e)===e&&e%1==0&&e>=0}function w(e){return Number(e)===e&&e%1!=0&&e>=0}},63802:(e,t,a)=>{"use strict";a.d(t,{bC:()=>i,ge:()=>l,oX:()=>c,zj:()=>u,pP:()=>d,nV:()=>h,TW:()=>m,E0:()=>g,Yt:()=>p});var r=a(84154),s=a(32004),n=a(93952),o=a(60232);const i=e=>{const t=[];return e&&e.map((e=>{t.push(e.childName)})),t},l=(e,t)=>{const a={x:[1,31]};let r=-1,s=-1;e&&e.forEach(((e,a)=>{if(!p(t,a)&&e.data&&0!==e.data.length){const{max:t,min:a}=(0,o.Dd)(e.data);r=Math.max(r,t),s=-1===s?a:Math.min(s,a)}}));const n=.1*r,i=r>0?Math.ceil(r+n):0,l=s>0?Math.max(0,Math.floor(s-n)):0,c=l>0?l:0;return i>0&&(a.y=[c,i]),a},c=(e,t,a=!1)=>{if(e)return e.map(((e,s)=>Object.assign(Object.assign(Object.assign({childName:e.childName},e.legendItem),a&&{name:e.legendItem.tooltip}),(0,r.X)(t.has(s)))))},u=(e,t,a)=>{const r=(0,o.pZ)(t),i=void 0!==e.y&&null!==e.y?r(e.y,e.units,a):void 0,l=void 0!==e.y0&&null!==e.y0?r(e.y0,e.units,a):void 0;return void 0!==i&&void 0!==l?s.N.formatMessage(n.Z.ChartCostForecastConeTooltip,{value0:l,value1:i}):void 0!==i?i:s.N.formatMessage(n.Z.ChartNoData)},d=(e,t)=>{const a=e,{ResizeObserver:r}=window;let s,n;if(a&&r){const e=new r((e=>{window.requestAnimationFrame((()=>{Array.isArray(e)&&e.length&&t()}))}));e.observe(a),n=()=>e.unobserve(a)}else t(),window.addEventListener("resize",t),n=()=>window.removeEventListener("resize",t),s=insights.chrome.on("NAVIGATION_TOGGLE",setTimeout(t,500));return()=>{n&&n(),s&&s()}},h=(e,t,a)=>{const r=new Set(t);return r.delete(a)||r.add(a),r},m=(e,t)=>{const a=[];return e&&e.forEach(((e,r)=>{(p(t,r)||e.data&&0===e.data.length)&&a.push(r)})),a.length!==(e?e.length:0)},g=(e,t,a)=>{if(a&&a.length)for(let r,s=t.keys();!(r=s.next()).done;){let t,s;for(const e of a)if(e.childName){t=e.childName;break}for(const t of e[r.value].data)if(t.childName){s=t.childName;break}if(s&&t&&s===t)return!0}return!1},p=(e,t)=>e.has(t)},43819:(e,t,a)=>{"use strict";a.d(t,{F:()=>C});var r=a(80708),s=a(93952),n=a(97522),o=a.n(n),i=a(74806),l=a(43476),c=a(94377),u=a(50226),d=a(37530);const h={currencySelector:{display:"flex",alignItems:"center"},currencyLabel:{marginBottom:0,marginRight:a(32412).ZP.var}};class m extends o().Component{constructor(){super(...arguments),this.defaultState={currentItem:"USD",isCurrencyOpen:!1},this.state=Object.assign({},this.defaultState),this.getOptions=()=>{const{currency:e}=this.props,t=[];return e&&e.data.map((e=>{t.push({label:s.Z.CurrencyOptions,value:e.code})})),t},this.getDropDownItems=()=>{const{intl:e}=this.props;return this.getOptions().map((t=>o().createElement(r.DropdownItem,{component:"button",key:t.value,onClick:()=>this.handleClick(t.value)},e.formatMessage(t.label,{units:t.value}))))},this.getCurrentLabel=()=>{const{intl:e}=this.props,{currentItem:t}=this.state,a=(0,d.in)()||t;return e.formatMessage(s.Z.CurrencyOptions,{units:a})},this.getDropDown=()=>{const{isDisabled:e}=this.props,{isCurrencyOpen:t}=this.state,a=this.getDropDownItems();return o().createElement(r.Dropdown,{id:"currencyDropdown",onSelect:this.handleSelect,toggle:o().createElement(r.DropdownToggle,{isDisabled:e,onToggle:this.handleToggle},this.getCurrentLabel()),isOpen:t,dropdownItems:a})},this.handleClick=e=>{(0,d.hS)(e),this.setState({currentItem:e})},this.handleSelect=()=>{this.setState({isCurrencyOpen:!this.state.isCurrencyOpen})},this.handleToggle=e=>{this.setState({isCurrencyOpen:e})}}componentDidMount(){const{fetchCurrency:e}=this.props;e()}render(){const{intl:e}=this.props;return(0,d.US)(),o().createElement("div",{style:h.currencySelector},o().createElement(r.Title,{headingLevel:"h2",size:"md",style:h.currencyLabel},e.formatMessage(s.Z.Currency)),this.getDropDown())}}const g=(0,c.X1)((e=>({currency:u.eT.selectCurrency(e),currencyError:u.eT.selectCurrencyError(e),currencyFetchStatus:u.eT.selectCurrencyFetchStatus(e)}))),p={fetchCurrency:u.gC.kn},f=(0,l.connect)(g,p)(m),C=(0,i.ZP)(f)},35956:(e,t,a)=>{"use strict";a.d(t,{iu:()=>l,j0:()=>c,me:()=>H,V3:()=>J,Y0:()=>re,rN:()=>m,EH:()=>p,mZ:()=>v,Nd:()=>ie,I0:()=>de});var r=a(80708),s=a(97522),n=a.n(s),o=a(74806),i=a(57279);const l=(0,o.ZP)((({children:e,detailsLink:t,title:a,subTitle:s,status:o})=>n().createElement(r.Card,{className:"reportSummary"},n().createElement(r.CardTitle,null,n().createElement(r.Title,{headingLevel:"h2",size:r.TitleSizes.lg},a),Boolean(s)&&n().createElement("p",{className:"subtitle"},s)),n().createElement(r.CardBody,null,1===o?n().createElement(n().Fragment,null,n().createElement(r.Skeleton,{width:"16%"}),n().createElement(r.Skeleton,{className:"chartSkeleton",width:i.N.md}),n().createElement(r.Skeleton,{width:"33%"}),n().createElement(r.Skeleton,{className:"legendSkeleton",width:i.N.xs})):e),Boolean(t)&&n().createElement(r.CardFooter,null,t)))),c=(0,o.ZP)((({children:e,detailsLink:t,status:a,subTitle:s,tabs:o,title:l})=>n().createElement(r.Card,{className:"reportSummary"},n().createElement(r.Grid,{hasGutter:!0},n().createElement(r.GridItem,{xl:8},n().createElement("div",{className:"cost"},n().createElement(r.CardTitle,null,n().createElement(r.Title,{headingLevel:"h2",size:r.TitleSizes.lg},l),Boolean(s)&&n().createElement("p",{className:"subtitle"},s)),n().createElement(r.CardBody,null,1===a?n().createElement(n().Fragment,null,n().createElement(r.Skeleton,{width:"16%"}),n().createElement(r.Skeleton,{className:"chartSkeleton",width:i.N.md}),n().createElement(r.Skeleton,{width:"33%"}),n().createElement(r.Skeleton,{className:"legendSkeleton",width:i.N.xs})):e))),n().createElement(r.GridItem,{xl:4},n().createElement("div",{className:"tops"},1!==a&&n().createElement(n().Fragment,null,Boolean(o)&&n().createElement(r.CardBody,null,o),Boolean(t)&&n().createElement(r.CardFooter,null,t))))))));var u=a(99163),d=a(93952),h=a(25800);const m=(0,o.ZP)((({chartType:e,computedReportItem:t="cost",computedReportItemValue:a="total",costLabel:s,intl:o,report:i,requestValueFormatterOptions:l,requestLabel:c,reportType:m,showTooltip:g=!1,showUnits:p=!1,showUsageFirst:f=!1,units:C,usageValueFormatterOptions:v,usageLabel:D,valueFormatter:y,valueFormatterOptions:L})=>{let b=n().createElement(u.L,null),Z=n().createElement(u.L,null),S=n().createElement(u.L,null),E=n().createElement(u.L,null),N=n().createElement(u.L,null);const k=i&&i.meta&&i.meta.total,I=k&&i.meta.total.cost&&i.meta.total.cost.total,w=k&&i.meta.total.count,F=k&&i.meta.total.supplementary&&i.meta.total.supplementary.total&&i.meta.total.supplementary.total.value,x=k&&i.meta.total.infrastructure&&i.meta.total.infrastructure[a]&&i.meta.total.infrastructure[a].value,O=k&&i.meta.total.request,M=k&&i.meta.total.usage;k&&(b=y(I?i.meta.total.cost.total.value:0,I?i.meta.total.cost.total.units:"USD",L),Z=y(F?i.meta.total.supplementary.total.value:0,F?i.meta.total.supplementary.total.units:"USD",L),S=y(x?i.meta.total.infrastructure[a].value:0,x?i.meta.total.infrastructure[a].units:"USD",L),E=y(O?i.meta.total.request.value:0,O?i.meta.total.request.units:void 0,l?v:L),N=M&&i.meta.total.usage.value>=0?y(M?i.meta.total.usage.value:0,M?i.meta.total.usage.units:void 0,v||L):y(M?i.meta.total.usage:0,w?i.meta.total.count.units:void 0,v||L));const T=(e=!1)=>{let a=b;"infrastructure"===t?a=S:"supplementary"===t&&(a=Z);const i=e?"Alt":"";return n().createElement("div",{className:"valueContainer"},g?n().createElement(r.Tooltip,{content:o.formatMessage(d.Z.DashboardTotalCostTooltip,{infrastructureCost:S,supplementaryCost:Z}),enableFlip:!0},n().createElement("div",{className:`value${i}`},a)):n().createElement("div",{className:`value${i}`},a),n().createElement("div",{className:"text"},n().createElement("div",null,s)))},P=()=>{if(!D)return null;const e=O?i.meta.total.request.units:void 0,t=o.formatMessage(d.Z.Units,{units:(0,h.dM)(e)});return n().createElement("div",{className:"valueContainer"},n().createElement("span",{className:"value"},E),Boolean(p&&(C||O&&i.meta.total.request.value>=0))&&n().createElement("span",{className:"units"},t),n().createElement("div",{className:"text"},n().createElement("div",null,c)))},_=()=>{if(!D)return null;const e=M?i.meta.total.usage.units:void 0,t=(0,h.dM)(C||e),a=o.formatMessage(d.Z.Units,{units:t});return n().createElement("div",{className:"valueContainer"},n().createElement("span",{className:"value"},N),Boolean(p&&(C||M&&i.meta.total.usage.value>=0))&&n().createElement("span",{className:"units"},a),n().createElement("div",{className:"text"},n().createElement("div",null,D)))};return"dailyCost"===e||"dailyTrend"===e||"cost"===e?n().createElement(n().Fragment,null,T("cost"===m)):"trend"===e?f?n().createElement(n().Fragment,null,_(),T("cost"===m)):n().createElement(n().Fragment,null,T("cost"===m),_()):"usage"===e?f?n().createElement(n().Fragment,null,_(),P()):n().createElement(n().Fragment,null,P(),_()):null})),g=({intl:e,label:t,totalValue:a,units:s,value:o,valueFormatter:i,valueFormatterOptions:l})=>{const c=e.formatMessage(d.Z.Units,{units:(0,h.dM)(s)}),u=Number((a?o/a*100:0).toFixed(2)),m=e.formatMessage(d.Z.PercentTotalCost,{percent:u,units:c,value:i(o,s,l)});return n().createElement("li",{className:"reportSummaryItem"},n().createElement(r.Progress,{label:m,value:u,title:t,size:r.ProgressSize.sm}))};g.defaultProps={valueFormatter:e=>e};const p=(0,o.ZP)(g);var f=a(31447);class C extends n().Component{shouldComponentUpdate(e){return e.report!==this.props.report}getItems(){const{idKey:e,report:t}=this.props,a=(0,f.R)({report:t,idKey:e}),r=a.findIndex((e=>{const t=e.id;if(t&&null!==t)return"Other"===t||"Others"===t}));return-1!==r?[...a.slice(0,r),...a.slice(r+1),a[r]]:a}render(){const{children:e,status:t}=this.props;if(1===t)return n().createElement(n().Fragment,null,n().createElement(r.Skeleton,{width:i.N.md}),n().createElement(r.Skeleton,{className:"skeleton",width:i.N.md}),n().createElement(r.Skeleton,{className:"skeleton",width:i.N.md}),n().createElement(r.Skeleton,{className:"skeleton",width:i.N.md}));{const t=this.getItems();return n().createElement("ul",null,e({items:t}))}}}const v=(0,o.ZP)(C);a(5118);var D=a(94812),y=a(29296),L=a(80469),b=a(84154),Z=a(48629),S=a(52109),E=a(2370),N=a(40125),k=a(60232),I=a(63802),w=a(55855),F=a(63211),x=a(21535),O=a(27765),M=a(19960),T=a(84076),P=a(18131),_=a(24656),R=a(84615),j=a(70698),A=a(72021),U=a(21768),z=a(41534);const V={currentColorScale:[U.CH.value,A.R0.value,j.t6.value,R.S7.value,z.iM.value],currentCostData:{fill:"none"},currentInfrastructureColorScale:[P.cQ.value,T.iY.value,M.OS.value,O.O6.value,_.DD.value],currentInfrastructureCostData:{fill:"none",strokeDasharray:"3,3"},forecastConeData:{fill:R.S7.value,strokeWidth:0},forecastConeDataColorScale:[R.S7.value],forecastData:{fill:"none"},forecastDataColorScale:[j.t6.value],forecastInfrastructureConeData:{fill:O.O6.value,strokeWidth:0},forecastInfrastructureConeDataColorScale:[O.O6.value],forecastInfrastructureData:{fill:"none"},forecastInfrastructureDataColorScale:[M.OS.value],previousCostData:{fill:"none"},previousInfrastructureCostData:{fill:"none",strokeDasharray:"3,3"},previousColorScale:[x.tN.value,x.tN.value],yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}};class B extends n().Component{constructor(){super(...arguments),this.containerRef=n().createRef(),this.observer=F.Z,this.state={hiddenSeries:new Set,width:0},this.initDatum=()=>{const{currentInfrastructureCostData:e,currentCostData:t,forecastConeData:a,forecastData:r,forecastInfrastructureConeData:s,forecastInfrastructureData:n,previousInfrastructureCostData:o,previousCostData:i,showForecast:l}=this.props,c=d.Z.ChartCostLegendLabel,u=d.Z.ChartCostInfrastructureLegendLabel,h=d.Z.ChartCostInfrastructureLegendTooltip,m=d.Z.ChartCostLegendTooltip,g=[{childName:"previousCost",data:i,legendItem:{name:(0,k.uL)(i,c,!0,!0,1,d.Z.ChartCostLegendNoDataLabel),symbol:{fill:V.previousColorScale[0],type:"minus"},tooltip:(0,k.uL)(i,m,!1,!1,1)},style:{data:Object.assign(Object.assign({},V.previousCostData),{stroke:V.previousColorScale[0]})}},{childName:"currentCost",data:t,legendItem:{name:(0,k.uL)(t,c,!0,!1,0,d.Z.ChartCostLegendNoDataLabel),symbol:{fill:V.currentColorScale[0],type:"minus"},tooltip:(0,k.uL)(t,m,!1,!1)},style:{data:Object.assign(Object.assign({},V.currentCostData),{stroke:V.currentColorScale[0]})}},{childName:"previousInfrastructureCost",data:o,legendItem:{name:(0,k.uL)(o,u,!0,!0,1,d.Z.ChartCostInfrastructureLegendNoDataLabel),symbol:{fill:V.previousColorScale[1],type:"dash"},tooltip:(0,k.uL)(o,h,!1,!1,1)},style:{data:Object.assign(Object.assign({},V.previousInfrastructureCostData),{stroke:V.previousColorScale[1]})}},{childName:"currentInfrastructureCost",data:e,legendItem:{name:(0,k.uL)(e,u,!0,!1,0,d.Z.ChartCostInfrastructureLegendNoDataLabel),symbol:{fill:V.currentInfrastructureColorScale[1],type:"dash"},tooltip:(0,k.uL)(e,h,!1,!1)},style:{data:Object.assign(Object.assign({},V.currentInfrastructureCostData),{stroke:V.currentInfrastructureColorScale[1]})}}];l&&(g.push({childName:"forecast",data:r,legendItem:{name:(0,k.uL)(r,d.Z.ChartCostForecastLegendLabel,!1,!1,0,d.Z.ChartCostForecastLegendNoDataLabel),symbol:{fill:V.forecastDataColorScale[0],type:"minus"},tooltip:(0,k.uL)(r,d.Z.ChartCostForecastLegendTooltip,!1,!1)},style:{data:Object.assign(Object.assign({},V.forecastData),{stroke:V.forecastDataColorScale[0]})}}),g.push({childName:"forecastInfrastructure",data:n,legendItem:{name:(0,k.uL)(n,d.Z.ChartCostInfrastructureForecastLegendLabel,!1,!1,0,d.Z.ChartCostInfrastructureForecastLegendNoDataLabel),symbol:{fill:V.forecastInfrastructureDataColorScale[0],type:"minus"},tooltip:(0,k.uL)(n,d.Z.ChartCostInfrastructureForecastLegendTooltip,!1,!1)},style:{data:Object.assign(Object.assign({},V.forecastInfrastructureData),{stroke:V.forecastInfrastructureDataColorScale[0]})}}),g.push({childName:"forecastCone",data:a,legendItem:{name:(0,k.uL)(a,d.Z.ChartCostInfrastructureForecastConeLegendLabel,!1,!1,0,d.Z.ChartCostInfrastructureForecastConeLegendNoDataLabel),symbol:{fill:V.forecastConeDataColorScale[0],type:"triangleLeft"},tooltip:(0,k.uL)(a,d.Z.ChartCostInfrastructureForecastConeLegendTooltip,!1,!1)},style:{data:Object.assign(Object.assign({},V.forecastConeData),{stroke:V.forecastConeDataColorScale[0]})}}),g.push({childName:"forecastInfrastructureCone",data:s,legendItem:{name:(0,k.uL)(s,d.Z.ChartCostInfrastructureForecastConeLegendLabel,!1,!1,0,d.Z.ChartCostInfrastructureForecastConeLegendNoDataLabel),symbol:{fill:V.forecastInfrastructureConeDataColorScale[0],type:"triangleLeft"},tooltip:(0,k.uL)(s,d.Z.ChartCostInfrastructureForecastConeLegendTooltip,!1,!1)},style:{data:Object.assign(Object.assign({},V.forecastInfrastructureConeData),{stroke:V.forecastInfrastructureConeDataColorScale[0]})}}));const p=this.getCursorVoronoiContainer();this.setState({cursorVoronoiContainer:p,series:g})},this.getAdjustedContainerHeight=()=>{const{adjustContainerHeight:e,height:t,containerHeight:a=t,showForecast:r}=this.props,{width:s}=this.state;let n=a;return e&&(r?s>675&&s<1175?n+=25:s>450&&s<675?n+=50:s<=450&&(n+=75):s>450&&s<725?n+=25:s<=450&&(n+=50)),n},this.getChart=(e,t)=>{const{hiddenSeries:a}=this.state;return n().createElement(D.A,{data:a.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})},this.getCursorVoronoiContainer=()=>{const{valueFormatter:e,valueFormatterOptions:t}=this.props,a=(0,y.f)("voronoi","cursor");return n().createElement(a,{cursorDimension:"x",labels:({datum:a})=>(0,I.zj)(a,e,t),mouseFollowTooltips:!0,voronoiDimension:"x",voronoiPadding:{bottom:75,left:8,right:8,top:8}})},this.getLegend=()=>{const{hiddenSeries:e,series:t}=this.state;return n().createElement(L.Qk,{data:(0,I.oX)(t,e),height:25,gutter:20,name:"legend",responsive:!1})},this.handleLegendClick=e=>{const t=(0,I.nV)(this.state.series,this.state.hiddenSeries,e);this.setState({hiddenSeries:t})},this.handleResize=()=>{const{width:e}=this.state,{clientWidth:t=0}=this.containerRef.current||{};t!==e&&this.setState({width:t})}}componentDidMount(){this.initDatum(),this.observer=(0,I.pP)(this.containerRef.current,this.handleResize)}componentDidUpdate(e){e.currentInfrastructureCostData===this.props.currentInfrastructureCostData&&e.currentCostData===this.props.currentCostData&&e.forecastConeData===this.props.forecastConeData&&e.forecastData===this.props.forecastData&&e.forecastInfrastructureConeData===this.props.forecastInfrastructureConeData&&e.forecastInfrastructureData===this.props.forecastInfrastructureData&&e.previousInfrastructureCostData===this.props.previousInfrastructureCostData&&e.previousCostData===this.props.previousCostData||this.initDatum()}componentWillUnmount(){this.observer&&this.observer()}getEvents(){const{hiddenSeries:e,series:t}=this.state;return(0,b.u)({chartNames:(0,I.bC)(t),isHidden:t=>(0,I.Yt)(e,t),legendName:"legend",onLegendClick:e=>this.handleLegendClick(e.index)})}getEndDate(){const{currentInfrastructureCostData:e,currentCostData:t,forecastData:a,previousInfrastructureCostData:r,previousCostData:s}=this.props,n=e?(0,w.Z)((0,k.Y_)(e,!0,!0)[1]):0,o=t?(0,w.Z)((0,k.Y_)(t,!0,!0)[1]):0,i=a?(0,w.Z)((0,k.Y_)(a,!0,!0)[1]):0,l=r?(0,w.Z)((0,k.Y_)(r,!0,!0)[1]):0,c=s?(0,w.Z)((0,k.Y_)(s,!0,!0)[1]):0;return n>0||o>0||l>0||c>0?Math.max(n,o,i,l,c):31}render(){const{height:e,intl:t,padding:a={bottom:50,left:8,right:8,top:8},title:s}=this.props,{cursorVoronoiContainer:o,hiddenSeries:i,series:l,width:c}=this.state,u=(0,I.ge)(l,i),h=this.getEndDate(),m=Math.floor(h/2),g=1+Math.floor(m/2),p=1+m,f=h-Math.floor(m/2),C=o?n().cloneElement(o,{disable:!(0,I.TW)(l,i),labelComponent:n().createElement(Z.M,{legendData:(0,I.oX)(l,i,!0),title:e=>t.formatMessage(d.Z.ChartDayOfTheMonth,{day:e.x})})}):void 0;return n().createElement(n().Fragment,null,s&&n().createElement(r.Title,{headingLevel:"h3",size:"md"},s),n().createElement("div",{className:"chartOverride",ref:this.containerRef,style:{height:this.getAdjustedContainerHeight()}},n().createElement("div",{style:{height:e,width:c}},n().createElement(S.k,{containerComponent:C,domain:u,events:this.getEvents(),height:e,legendAllowWrap:!0,legendComponent:this.getLegend(),legendData:(0,I.oX)(l,i),legendPosition:"bottom-left",padding:a,theme:N.Z,width:c},l&&l.map(((e,t)=>this.getChart(e,t))),n().createElement(E.C,{style:V.xAxis,tickValues:[1,g,p,f,h]}),n().createElement(E.C,{dependentAxis:!0,style:V.yAxis})))))}}const q=(0,o.ZP)(B),H=e=>n().createElement("div",{className:"chart"},n().createElement(q,Object.assign({},e)));var Y=a(39727),W=a(63209),X=a(75949),G=a(82874);const K={currentColorScale:[U.CH.value,A.R0.value,j.t6.value,R.S7.value,z.iM.value],currentInfrastructureColorScale:[P.cQ.value,T.iY.value,M.OS.value,O.O6.value,_.DD.value],currentInfrastructureCostData:{strokeDasharray:"3,3"},forecastConeDataColorScale:[G.g9.value],forecastDataColorScale:[j.t6.value],forecastInfrastructureConeDataColorScale:[G.g9.value],forecastInfrastructureDataColorScale:[M.OS.value],previousInfrastructureCostData:{strokeDasharray:"3,3"},previousColorScale:[x.tN.value,x.tN.value],yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}};class Q extends n().Component{constructor(){super(...arguments),this.containerRef=n().createRef(),this.observer=F.Z,this.state={hiddenSeries:new Set,width:0},this.initDatum=()=>{const{currentInfrastructureCostData:e,currentCostData:t,forecastConeData:a,forecastData:r,forecastInfrastructureConeData:s,forecastInfrastructureData:n,previousInfrastructureCostData:o,previousCostData:i,showForecast:l}=this.props,c=d.Z.ChartCostLegendLabel,u=d.Z.ChartCostInfrastructureLegendLabel,h=d.Z.ChartCostInfrastructureLegendTooltip,m=d.Z.ChartCostLegendTooltip,g=[{childName:"previousCost",data:this.initDatumChildName(i,"previousCost"),legendItem:{name:(0,k.uL)(i,c,!0,!0,1,d.Z.ChartCostLegendNoDataLabel),symbol:{fill:K.previousColorScale[0],type:"minus"},tooltip:(0,k.uL)(i,m,!1,!1,1)},isLine:!0,style:{data:{stroke:K.previousColorScale[0]}}},{childName:"currentCost",data:this.initDatumChildName(t,"currentCost"),legendItem:{name:(0,k.uL)(t,c,!0,!1,0,d.Z.ChartCostLegendNoDataLabel),symbol:{fill:K.currentColorScale[0],type:"minus"},tooltip:(0,k.uL)(t,m,!1,!1)},isBar:!0,style:{data:{fill:K.currentColorScale[0]}}},{childName:"previousInfrastructureCost",data:this.initDatumChildName(o,"previousInfrastructureCost"),legendItem:{name:(0,k.uL)(o,u,!0,!0,1,d.Z.ChartCostInfrastructureLegendNoDataLabel),symbol:{fill:K.previousColorScale[1],type:"dash"},tooltip:(0,k.uL)(o,h,!1,!1,1)},isLine:!0,style:{data:{stroke:K.previousColorScale[1]}}},{childName:"currentInfrastructureCost",data:this.initDatumChildName(e,"currentInfrastructureCost"),legendItem:{name:(0,k.uL)(e,u,!0,!1,0,d.Z.ChartCostInfrastructureLegendNoDataLabel),symbol:{fill:K.currentInfrastructureColorScale[1],type:"dash"},tooltip:(0,k.uL)(e,h,!1,!1,0)},isBar:!0,style:{data:{fill:K.currentInfrastructureColorScale[1]}}}];l&&(g.push({childName:"forecast",data:this.initDatumChildName(r,"forecast"),legendItem:{name:(0,k.uL)(r,d.Z.ChartCostForecastLegendLabel,!1,!1,0,d.Z.ChartCostForecastLegendNoDataLabel),symbol:{fill:K.forecastDataColorScale[0],type:"minus"},tooltip:(0,k.uL)(r,d.Z.ChartCostForecastLegendTooltip,!1,!1)},isBar:!0,isForecast:!0,style:{data:{fill:K.forecastDataColorScale[0]}}}),g.push({childName:"forecastInfrastructure",data:this.initDatumChildName(n,"forecastInfrastructure"),legendItem:{name:(0,k.uL)(n,d.Z.ChartCostInfrastructureForecastLegendLabel,!1,!1,0,d.Z.ChartCostInfrastructureForecastLegendNoDataLabel),symbol:{fill:K.forecastInfrastructureDataColorScale[0],type:"minus"},tooltip:(0,k.uL)(n,d.Z.ChartCostInfrastructureForecastLegendTooltip,!1,!1)},isBar:!0,isForecast:!0,style:{data:{fill:K.forecastInfrastructureDataColorScale[0]}}}),g.push({childName:"forecastCone",data:this.initDatumChildName(a,"forecastCone"),legendItem:{name:(0,k.uL)(a,d.Z.ChartCostForecastConeLegendLabel,!1,!1,0,d.Z.ChartCostForecastConeLegendNoDataLabel),symbol:{fill:K.forecastConeDataColorScale[0],type:"triangleLeft"},tooltip:(0,k.uL)(a,d.Z.ChartCostForecastConeLegendTooltip,!1,!1)},isForecast:!0,isLine:!0,style:{data:{fill:K.forecastConeDataColorScale[0]}}}),g.push({childName:"forecastInfrastructureCone",data:this.initDatumChildName(s,"forecastInfrastructureCone"),legendItem:{name:(0,k.uL)(s,d.Z.ChartCostInfrastructureForecastConeLegendLabel,!1,!1,0,d.Z.ChartCostInfrastructureForecastConeLegendNoDataLabel),symbol:{fill:K.forecastInfrastructureConeDataColorScale[0],type:"triangleLeft"},tooltip:(0,k.uL)(s,d.Z.ChartCostInfrastructureForecastConeLegendTooltip,!1,!1)},isForecast:!0,isLine:!0,style:{data:{fill:K.forecastInfrastructureConeDataColorScale[0]}}}));const p=this.getCursorVoronoiContainer();this.setState({cursorVoronoiContainer:p,series:g})},this.initDatumChildName=(e,t)=>(e.map((e=>e.childName=t)),e),this.getAdjustedContainerHeight=()=>{const{adjustContainerHeight:e,height:t,containerHeight:a=t,showForecast:r}=this.props,{width:s}=this.state;let n=a;return e&&(r?s>675&&s<1175?n+=25:s>450&&s<675?n+=50:s<=450&&(n+=75):s>450&&s<725?n+=25:s<=450&&(n+=50)),n},this.getChart=(e,t)=>{const{hiddenSeries:a}=this.state;if(!e.isForecast){const r=a.has(t)?[{y:null}]:e.data;if(e.isBar)return n().createElement(Y.B,{alignment:"middle",data:r,key:e.childName,name:e.childName,style:e.style});if(e.isLine)return n().createElement(W.m,{data:r,key:e.childName,name:e.childName,style:e.style})}return null},this.getForecastBarChart=(e,t)=>{const{hiddenSeries:a}=this.state;if(e.isForecast&&e.isBar){const r=a.has(t)?[{y:null}]:e.data;return n().createElement(Y.B,{alignment:"middle",data:r,key:e.childName,name:e.childName,style:e.style})}return null},this.getForecastLineChart=(e,t)=>{const{hiddenSeries:a}=this.state;if(e.isForecast&&e.isLine){const r=a.has(t)?[{y:null}]:e.data;return n().createElement(Y.B,{alignment:"middle",barWidth:1,data:r,key:e.childName,name:e.childName,style:e.style})}return null},this.getCursorVoronoiContainer=()=>{const{valueFormatter:e,valueFormatterOptions:t}=this.props,a=(0,y.f)("voronoi","cursor");return n().createElement(a,{cursorDimension:"x",labels:({datum:a})=>(0,I.zj)(a,e,t),mouseFollowTooltips:!0,voronoiDimension:"x",voronoiPadding:{bottom:75,left:8,right:8,top:8}})},this.getLegend=()=>{const{hiddenSeries:e,series:t}=this.state;return n().createElement(L.Qk,{data:(0,I.oX)(t,e),height:25,gutter:20,name:"legend",responsive:!1})},this.handleLegendClick=e=>{const t=(0,I.nV)(this.state.series,this.state.hiddenSeries,e);this.setState({hiddenSeries:t})},this.handleResize=()=>{const{width:e}=this.state,{clientWidth:t=0}=this.containerRef.current||{};t!==e&&this.setState({width:t})}}componentDidMount(){this.initDatum(),this.observer=(0,I.pP)(this.containerRef.current,this.handleResize)}componentDidUpdate(e){e.currentInfrastructureCostData===this.props.currentInfrastructureCostData&&e.currentCostData===this.props.currentCostData&&e.forecastConeData===this.props.forecastConeData&&e.forecastData===this.props.forecastData&&e.forecastInfrastructureConeData===this.props.forecastInfrastructureConeData&&e.forecastInfrastructureData===this.props.forecastInfrastructureData&&e.previousInfrastructureCostData===this.props.previousInfrastructureCostData&&e.previousCostData===this.props.previousCostData||this.initDatum()}componentWillUnmount(){this.observer&&this.observer()}getEndDate(){const{currentInfrastructureCostData:e,currentCostData:t,forecastData:a,previousInfrastructureCostData:r,previousCostData:s}=this.props,n=e?(0,w.Z)((0,k.Y_)(e,!0,!0)[1]):0,o=t?(0,w.Z)((0,k.Y_)(t,!0,!0)[1]):0,i=a?(0,w.Z)((0,k.Y_)(a,!0,!0)[1]):0,l=r?(0,w.Z)((0,k.Y_)(r,!0,!0)[1]):0,c=s?(0,w.Z)((0,k.Y_)(s,!0,!0)[1]):0;return n>0||o>0||l>0||c>0?Math.max(n,o,i,l,c):31}getEvents(){const{hiddenSeries:e,series:t}=this.state;return(0,b.u)({chartNames:(0,I.bC)(t),isDataHidden:a=>(0,I.E0)(t,e,a),isHidden:t=>(0,I.Yt)(e,t),legendName:"legend",onLegendClick:e=>this.handleLegendClick(e.index)})}render(){const{height:e,intl:t,padding:a={bottom:50,left:8,right:8,top:8},title:s}=this.props,{cursorVoronoiContainer:o,hiddenSeries:i,series:l,width:c}=this.state,u=(0,I.ge)(l,i),h=this.getEndDate(),m=Math.floor(h/2),g=1+Math.floor(m/2),p=1+m,f=h-Math.floor(m/2),C=o?n().cloneElement(o,{disable:!(0,I.TW)(l,i),labelComponent:n().createElement(Z.M,{legendData:(0,I.oX)(l,i,!0),title:e=>t.formatMessage(d.Z.ChartDayOfTheMonth,{day:e.x})})}):void 0;return n().createElement(n().Fragment,null,s&&n().createElement(r.Title,{headingLevel:"h3",size:"md"},s),n().createElement("div",{className:"chartOverride",ref:this.containerRef,style:{height:this.getAdjustedContainerHeight()}},n().createElement("div",{style:{height:e,width:c}},n().createElement(S.k,{containerComponent:C,domain:u,events:this.getEvents(),height:e,legendAllowWrap:!0,legendComponent:this.getLegend(),legendData:(0,I.oX)(l,i),legendPosition:"bottom-left",padding:a,theme:N.Z,width:c},l&&l.length>0&&n().createElement(X.G,{offset:5.5},l.map(((e,t)=>this.getChart(e,t)))),l&&l.length>0&&n().createElement(X.G,{offset:5.5},l.map(((e,t)=>this.getForecastBarChart(e,t)))),l&&l.length>0&&n().createElement(X.G,{offset:5.5},l.map(((e,t)=>this.getForecastLineChart(e,t)))),n().createElement(E.C,{style:K.xAxis,tickValues:[1,g,p,f,h]}),n().createElement(E.C,{dependentAxis:!0,style:K.yAxis})))))}}const $=(0,o.ZP)(Q),J=e=>n().createElement("div",{className:"chart"},n().createElement($,Object.assign({},e))),ee={currentColorScale:[U.CH.value,A.R0.value,j.t6.value,R.S7.value,z.iM.value],forecastConeDataColorScale:[G.g9.value],forecastDataColorScale:[j.t6.value],itemsPerRow:4,previousColorScale:[x.tN.value,x.tN.value],yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}};class te extends n().Component{constructor(){super(...arguments),this.containerRef=n().createRef(),this.observer=F.Z,this.state={hiddenSeries:new Set,width:0},this.initDatum=()=>{const{currentData:e,forecastData:t,forecastConeData:a,previousData:r,showForecast:s,showInfrastructureLabel:n=!1,showSupplementaryLabel:o=!1,showUsageLegendLabel:i=!1}=this.props,l=i?d.Z.ChartUsageLegendLabel:o?d.Z.ChartCostSupplementaryLegendLabel:n?d.Z.ChartCostInfrastructureLegendLabel:d.Z.ChartCostLegendLabel,c=i?d.Z.ChartUsageLegendTooltip:o?d.Z.ChartCostSupplementaryLegendTooltip:n?d.Z.ChartCostInfrastructureLegendTooltip:d.Z.ChartCostLegendTooltip,u=i?d.Z.ChartUsageLegendNoDataLabel:o?d.Z.ChartCostSupplementaryLegendNoDataLabel:n?d.Z.ChartCostInfrastructureLegendNoDataLabel:d.Z.ChartCostLegendNoDataLabel,h=[{childName:"previousCost",data:this.initDatumChildName(r,"previousCost"),legendItem:{name:(0,k.uL)(r,l,!0,!0,1,u),symbol:{fill:ee.previousColorScale[0],type:"minus"},tooltip:(0,k.uL)(r,c,!1,!1,1)},isBar:!0,style:{data:{fill:ee.previousColorScale[0]}}},{childName:"currentCost",data:this.initDatumChildName(e,"currentCost"),legendItem:{name:(0,k.uL)(e,l,!0,!1,0,u),symbol:{fill:ee.currentColorScale[0],type:"minus"},tooltip:(0,k.uL)(e,c,!1,!1)},isBar:!0,style:{data:{fill:ee.currentColorScale[0]}}}];s&&(h.push({childName:"forecast",data:this.initDatumChildName(t,"forecast"),legendItem:{name:(0,k.uL)(t,d.Z.ChartCostForecastLegendTooltip,!1,!1,0,d.Z.ChartCostForecastLegendNoDataLabel),symbol:{fill:ee.forecastDataColorScale[0],type:"minus"},tooltip:(0,k.uL)(t,d.Z.ChartCostForecastConeLegendTooltip,!1,!1)},isBar:!0,isForecast:!0,style:{data:{fill:ee.forecastDataColorScale[0]}}}),h.push({childName:"forecastCone",data:this.initDatumChildName(a,"forecastCone"),legendItem:{name:(0,k.uL)(a,d.Z.ChartCostForecastConeLegendLabel,!1,!1,0,d.Z.ChartCostForecastConeLegendNoDataLabel),symbol:{fill:ee.forecastConeDataColorScale[0],type:"minus"},tooltip:(0,k.uL)(a,d.Z.ChartCostForecastConeLegendTooltip,!1,!1)},isForecast:!0,isLine:!0,style:{data:{fill:ee.forecastConeDataColorScale[0]}}}));const m=this.getCursorVoronoiContainer();this.setState({cursorVoronoiContainer:m,series:h})},this.initDatumChildName=(e,t)=>(e.map((e=>e.childName=t)),e),this.getAdjustedContainerHeight=()=>{const{adjustContainerHeight:e,height:t,containerHeight:a=t,showForecast:r,showInfrastructureLabel:s,showSupplementaryLabel:n}=this.props,{width:o}=this.state;let i=a;return e&&r&&o<(n||s?850:700)&&(i+=25),i},this.getChart=(e,t)=>{const{hiddenSeries:a}=this.state;if(!e.isForecast){const r=a.has(t)?[{y:null}]:e.data;if(e.isBar)return n().createElement(Y.B,{alignment:"middle",data:r,key:e.childName,name:e.childName,style:e.style});if(e.isLine)return n().createElement(W.m,{data:r,key:e.childName,name:e.childName,style:e.style})}return null},this.getForecastBarChart=(e,t)=>{const{hiddenSeries:a}=this.state;if(e.isForecast&&e.isBar){const r=a.has(t)?[{y:null}]:e.data;return n().createElement(Y.B,{alignment:"middle",data:r,key:e.childName,name:e.childName,style:e.style})}return null},this.getForecastLineChart=(e,t)=>{const{hiddenSeries:a}=this.state;if(e.isForecast&&e.isLine){const r=a.has(t)?[{y:null}]:e.data;return n().createElement(Y.B,{alignment:"middle",barWidth:1,data:r,key:e.childName,name:e.childName,style:e.style})}return null},this.getCursorVoronoiContainer=()=>{const{valueFormatter:e,valueFormatterOptions:t}=this.props,a=(0,y.f)("voronoi","cursor");return n().createElement(a,{cursorDimension:"x",labels:({datum:a})=>(0,I.zj)(a,e,t),mouseFollowTooltips:!0,voronoiDimension:"x",voronoiPadding:{bottom:50,left:8,right:8,top:8}})},this.getLegend=()=>{const{legendItemsPerRow:e}=this.props,{hiddenSeries:t,series:a,width:r}=this.state;return n().createElement(L.Qk,{data:(0,I.oX)(a,t),gutter:20,height:25,itemsPerRow:e,name:"legend",orientation:r>150?"horizontal":"vertical"})},this.handleLegendClick=e=>{const t=(0,I.nV)(this.state.series,this.state.hiddenSeries,e);this.setState({hiddenSeries:t})},this.handleResize=()=>{const{width:e}=this.state,{clientWidth:t=0}=this.containerRef.current||{};t!==e&&this.setState({width:t})}}componentDidMount(){this.initDatum(),this.observer=(0,I.pP)(this.containerRef.current,this.handleResize)}componentDidUpdate(e){e.currentData===this.props.currentData&&e.forecastData===this.props.forecastData&&e.forecastConeData===this.props.forecastConeData&&e.previousData===this.props.previousData||this.initDatum()}componentWillUnmount(){this.observer&&this.observer()}getEndDate(){const{currentData:e,forecastData:t,previousData:a}=this.props,r=a?(0,w.Z)((0,k.Y_)(a,!0,!0)[1]):0,s=e?(0,w.Z)((0,k.Y_)(e,!0,!0)[1]):0,n=t?(0,w.Z)((0,k.Y_)(t,!0,!0)[1]):0;return s>0||r>0?Math.max(s,n,r):31}getEvents(){const{hiddenSeries:e,series:t}=this.state;return(0,b.u)({chartNames:(0,I.bC)(t),isDataHidden:a=>(0,I.E0)(t,e,a),isHidden:t=>(0,I.Yt)(e,t),legendName:"legend",onLegendClick:e=>this.handleLegendClick(e.index)})}render(){const{height:e,intl:t,padding:a={bottom:50,left:8,right:8,top:8},title:s}=this.props,{cursorVoronoiContainer:o,hiddenSeries:i,series:l,width:c}=this.state,u=(0,I.ge)(l,i),h=this.getEndDate(),m=Math.floor(h/2),g=1+Math.floor(m/2),p=1+m,f=h-Math.floor(m/2),C=o?n().cloneElement(o,{disable:!(0,I.TW)(l,i),labelComponent:n().createElement(Z.M,{legendData:(0,I.oX)(l,i,!0),title:e=>t.formatMessage(d.Z.ChartDayOfTheMonth,{day:e.x})})}):void 0;return n().createElement(n().Fragment,null,s&&n().createElement(r.Title,{headingLevel:"h3",size:"md"},s),n().createElement("div",{className:"chartOverride",ref:this.containerRef,style:{height:this.getAdjustedContainerHeight()}},n().createElement("div",{style:{height:e,width:c}},n().createElement(S.k,{containerComponent:C,domain:u,events:this.getEvents(),height:e,legendAllowWrap:!0,legendComponent:this.getLegend(),legendData:(0,I.oX)(l,i),legendPosition:"bottom-left",padding:a,theme:N.Z,width:c},l&&l.length>0&&n().createElement(X.G,{offset:11},l.map(((e,t)=>this.getChart(e,t)))),l&&l.length>0&&n().createElement(X.G,{offset:11},n().createElement(Y.B,{data:[{y:null}],name:"forcast_spacer"}),l.map(((e,t)=>this.getForecastBarChart(e,t)))),l&&l.length>0&&n().createElement(X.G,{offset:11},n().createElement(Y.B,{data:[{y:null}],name:"forcast_cone_spacer"}),l.map(((e,t)=>this.getForecastLineChart(e,t)))),n().createElement(E.C,{style:ee.xAxis,tickValues:[1,g,p,f,h]}),n().createElement(E.C,{dependentAxis:!0,style:ee.yAxis})))))}}const ae=(0,o.ZP)(te),re=e=>n().createElement("div",{className:"chart"},n().createElement(ae,Object.assign({},e))),se={currentColorScale:[U.ZP.value,A.ZP.value,j.ZP.value,R.ZP.value,z.ZP.value],currentMonthData:{fill:"none"},forecastConeData:{fill:R.ZP.value,strokeWidth:0},forecastConeDataColorScale:[R.ZP.value],forecastData:{fill:"none"},forecastDataColorScale:[j.ZP.value],itemsPerRow:4,previousColorScale:[x.ZP.value,x.ZP.value],previousMonthData:{fill:"none"},yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}};class ne extends n().Component{constructor(){super(...arguments),this.containerRef=n().createRef(),this.observer=F.Z,this.state={hiddenSeries:new Set,width:0},this.initDatum=()=>{const{currentData:e,forecastData:t,forecastConeData:a,previousData:r,showForecast:s,showInfrastructureLabel:n=!1,showSupplementaryLabel:o=!1,showUsageLegendLabel:i=!1}=this.props,l=i?d.Z.ChartUsageLegendLabel:o?d.Z.ChartCostSupplementaryLegendLabel:n?d.Z.ChartCostInfrastructureLegendLabel:d.Z.ChartCostLegendLabel,c=i?d.Z.ChartUsageLegendTooltip:o?d.Z.ChartCostSupplementaryLegendTooltip:n?d.Z.ChartCostInfrastructureLegendTooltip:d.Z.ChartCostLegendTooltip,u=i?d.Z.ChartUsageLegendNoDataLabel:o?d.Z.ChartCostSupplementaryLegendNoDataLabel:n?d.Z.ChartCostInfrastructureLegendNoDataLabel:d.Z.ChartCostLegendNoDataLabel,h=[{childName:"previousCost",data:r,legendItem:{name:(0,k.uL)(r,l,!0,!0,1,u),symbol:{fill:se.previousColorScale[0],type:"minus"},tooltip:(0,k.uL)(r,c,!1,!1,1)},style:{data:Object.assign(Object.assign({},se.previousMonthData),{stroke:se.previousColorScale[0]})}},{childName:"currentCost",data:e,legendItem:{name:(0,k.uL)(e,l,!0,!1,0,u),symbol:{fill:se.currentColorScale[0],type:"minus"},tooltip:(0,k.uL)(e,c,!1,!1)},style:{data:Object.assign(Object.assign({},se.currentMonthData),{stroke:se.currentColorScale[0]})}}];s&&(h.push({childName:"forecast",data:t,legendItem:{name:(0,k.uL)(t,d.Z.ChartCostForecastLegendLabel,!1,!1,0,d.Z.ChartCostForecastLegendNoDataLabel),symbol:{fill:se.forecastDataColorScale[0],type:"minus"},tooltip:(0,k.uL)(t,d.Z.ChartCostForecastLegendTooltip,!1,!1)},style:{data:Object.assign(Object.assign({},se.forecastData),{stroke:se.forecastDataColorScale[0]})}}),h.push({childName:"forecastCone",data:a,legendItem:{name:(0,k.uL)(a,d.Z.ChartCostForecastConeLegendLabel,!1,!1,0,d.Z.ChartCostForecastConeLegendNoDataLabel),symbol:{fill:se.forecastConeDataColorScale[0],type:"triangleLeft"},tooltip:(0,k.uL)(a,d.Z.ChartCostForecastConeLegendTooltip,!1,!1)},style:{data:Object.assign(Object.assign({},se.forecastConeData),{stroke:se.forecastConeDataColorScale[0]})}}));const m=this.getCursorVoronoiContainer();this.setState({cursorVoronoiContainer:m,series:h})},this.getAdjustedContainerHeight=()=>{const{adjustContainerHeight:e,height:t,containerHeight:a=t,showForecast:r,showInfrastructureLabel:s,showSupplementaryLabel:n}=this.props,{width:o}=this.state;let i=a;return e&&r&&o<(n||s?900:700)&&(i+=25),i},this.getChart=(e,t)=>{const{hiddenSeries:a}=this.state;return n().createElement(D.A,{data:a.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})},this.getCursorVoronoiContainer=()=>{const{valueFormatter:e,valueFormatterOptions:t}=this.props,a=(0,y.f)("voronoi","cursor");return n().createElement(a,{cursorDimension:"x",labels:({datum:a})=>(0,I.zj)(a,e,t),mouseFollowTooltips:!0,voronoiDimension:"x",voronoiPadding:{bottom:50,left:8,right:8,top:8}})},this.getLegend=()=>{const{legendItemsPerRow:e}=this.props,{hiddenSeries:t,series:a,width:r}=this.state;return n().createElement(L.Qk,{data:(0,I.oX)(a,t),gutter:20,height:25,itemsPerRow:e,name:"legend",orientation:r>150?"horizontal":"vertical"})},this.handleLegendClick=e=>{const t=(0,I.nV)(this.state.series,this.state.hiddenSeries,e);this.setState({hiddenSeries:t})},this.handleResize=()=>{const{width:e}=this.state,{clientWidth:t=0}=this.containerRef.current||{};t!==e&&this.setState({width:t})}}componentDidMount(){this.initDatum(),this.observer=(0,I.pP)(this.containerRef.current,this.handleResize)}componentDidUpdate(e){e.currentData===this.props.currentData&&e.forecastData===this.props.forecastData&&e.forecastConeData===this.props.forecastConeData&&e.previousData===this.props.previousData||this.initDatum()}componentWillUnmount(){this.observer&&this.observer()}getEndDate(){const{currentData:e,forecastData:t,forecastConeData:a,previousData:r}=this.props,s=r?(0,w.Z)((0,k.Y_)(r,!0,!0)[1]):0,n=e?(0,w.Z)((0,k.Y_)(e,!0,!0)[1]):0,o=t?(0,w.Z)((0,k.Y_)(t,!0,!0)[1]):0,i=a?(0,w.Z)((0,k.Y_)(a,!0,!0)[1]):0;return n>0||s>0?Math.max(n,o,i,s):31}getEvents(){const{hiddenSeries:e,series:t}=this.state;return(0,b.u)({chartNames:(0,I.bC)(t),isHidden:t=>(0,I.Yt)(e,t),legendName:"legend",onLegendClick:e=>this.handleLegendClick(e.index)})}render(){const{height:e,intl:t,padding:a={bottom:50,left:8,right:8,top:8},title:s}=this.props,{cursorVoronoiContainer:o,hiddenSeries:i,series:l,width:c}=this.state,u=(0,I.ge)(l,i),h=this.getEndDate(),m=Math.floor(h/2),g=o?n().cloneElement(o,{disable:!(0,I.TW)(l,i),labelComponent:n().createElement(Z.M,{legendData:(0,I.oX)(l,i,!0),title:e=>t.formatMessage(d.Z.ChartDayOfTheMonth,{day:e.x})})}):void 0;return n().createElement(n().Fragment,null,n().createElement(r.Title,{headingLevel:"h3",size:"md"},s),n().createElement("div",{className:"chartOverride",ref:this.containerRef,style:{height:this.getAdjustedContainerHeight()}},n().createElement("div",{style:{height:e,width:c}},n().createElement(S.k,{containerComponent:g,domain:u,events:this.getEvents(),height:e,legendAllowWrap:!0,legendComponent:this.getLegend(),legendData:(0,I.oX)(l,i),legendPosition:"bottom-left",padding:a,theme:N.Z,width:c},l&&l.map(((e,t)=>this.getChart(e,t))),n().createElement(E.C,{style:se.xAxis,tickValues:[1,m,h]}),n().createElement(E.C,{dependentAxis:!0,style:se.yAxis})))))}}const oe=(0,o.ZP)(ne),ie=e=>n().createElement("div",{className:"chart"},n().createElement(oe,Object.assign({},e))),le={chartContainer:{marginTop:a(98499).ZP.value},currentRequestData:{data:{fill:"none",stroke:A.ZP.value,strokeDasharray:"3,3"}},currentUsageData:{data:{fill:"none",stroke:U.ZP.value}},itemsPerRow:2,legendColorScale:[x.ZP.value,U.ZP.value,x.ZP.value,A.ZP.value],previousRequestData:{data:{fill:"none",stroke:x.ZP.value,strokeDasharray:"3,3"}},previousUsageData:{data:{fill:"none",stroke:x.ZP.value}},currentColorScale:[U.ZP.value,A.ZP.value,j.ZP.value,R.ZP.value,z.ZP.value],previousColorScale:[x.ZP.value,x.ZP.value],yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}};class ce extends n().Component{constructor(){super(...arguments),this.containerRef=n().createRef(),this.observer=F.Z,this.state={hiddenSeries:new Set,width:0},this.initDatum=()=>{const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:r}=this.props,s=d.Z.ChartUsageLegendLabel,n=d.Z.ChartUsageLegendTooltip,o=d.Z.ChartRequestsLegendLabel,i=d.Z.ChartRequestsLegendTooltip,l=[{childName:"previousUsage",data:r,legendItem:{name:(0,k.Fs)(r,s,!0,!0,1,d.Z.ChartUsageLegendNoDataLabel),symbol:{fill:le.legendColorScale[0],type:"minus"},tooltip:(0,k.Fs)(r,n,!1,!1,1)},style:le.previousUsageData},{childName:"currentUsage",data:t,legendItem:{name:(0,k.Fs)(t,s,!0,!1,0,d.Z.ChartUsageLegendNoDataLabel),symbol:{fill:le.legendColorScale[1],type:"minus"},tooltip:(0,k.Fs)(t,n,!1,!1)},style:le.currentUsageData},{childName:"previousRequest",data:a,legendItem:{name:(0,k.Fs)(a,o,!0,!0,1,d.Z.ChartRequestsLegendNoDataLabel),symbol:{fill:le.legendColorScale[2],type:"dash"},tooltip:(0,k.Fs)(a,i,!1,!1,1)},style:le.previousRequestData},{childName:"currentRequest",data:e,legendItem:{name:(0,k.Fs)(e,o,!0,!1,0,d.Z.ChartRequestsLegendNoDataLabel),symbol:{fill:le.legendColorScale[3],type:"dash"},tooltip:(0,k.Fs)(e,i,!1,!1)},style:le.currentRequestData}],c=this.getCursorVoronoiContainer();this.setState({cursorVoronoiContainer:c,series:l})},this.getAdjustedContainerHeight=()=>{const{adjustContainerHeight:e,height:t,containerHeight:a=t}=this.props,{width:r}=this.state;let s=a;return e&&r<480&&(s+=20),s},this.getChart=(e,t)=>{const{hiddenSeries:a}=this.state;return n().createElement(D.A,{data:a.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})},this.getCursorVoronoiContainer=()=>{const{valueFormatter:e,valueFormatterOptions:t}=this.props,a=(0,y.f)("voronoi","cursor");return n().createElement(a,{cursorDimension:"x",labels:({datum:a})=>(0,I.zj)(a,e,t),mouseFollowTooltips:!0,voronoiDimension:"x",voronoiPadding:{bottom:75,left:8,right:8,top:8}})},this.getLegend=()=>{const{legendItemsPerRow:e}=this.props,{hiddenSeries:t,series:a,width:r}=this.state,s=e||(r>300?le.itemsPerRow:1);return n().createElement(L.Qk,{data:(0,I.oX)(a,t),height:25,gutter:20,itemsPerRow:s,name:"legend"})},this.handleLegendClick=e=>{const t=(0,I.nV)(this.state.series,this.state.hiddenSeries,e);this.setState({hiddenSeries:t})},this.handleResize=()=>{const{width:e}=this.state,{clientWidth:t=0}=this.containerRef.current||{};t!==e&&this.setState({width:t})}}componentDidMount(){this.initDatum(),this.observer=(0,I.pP)(this.containerRef.current,this.handleResize)}componentDidUpdate(e){e.currentRequestData===this.props.currentRequestData&&e.currentUsageData===this.props.currentUsageData&&e.previousRequestData===this.props.previousRequestData&&e.previousUsageData===this.props.previousUsageData||this.initDatum()}componentWillUnmount(){this.observer&&this.observer()}getEndDate(){const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:r}=this.props,s=e?(0,w.Z)((0,k.Y_)(e,!0,!0)[1]):0,n=t?(0,w.Z)((0,k.Y_)(t,!0,!0)[1]):0,o=a?(0,w.Z)((0,k.Y_)(a,!0,!0)[1]):0,i=r?(0,w.Z)((0,k.Y_)(r,!0,!0)[1]):0;return s>0||n>0||o>0||i>0?Math.max(s,n,o,i):31}getEvents(){const{hiddenSeries:e,series:t}=this.state;return(0,b.u)({chartNames:(0,I.bC)(t),isHidden:t=>(0,I.Yt)(e,t),legendName:"legend",onLegendClick:e=>this.handleLegendClick(e.index)})}render(){const{height:e,intl:t,padding:a={bottom:75,left:8,right:8,top:8},title:s}=this.props,{cursorVoronoiContainer:o,hiddenSeries:i,series:l,width:c}=this.state,u=(0,I.ge)(l,i),h=this.getEndDate(),m=Math.floor(h/2),g=o?n().cloneElement(o,{disable:!(0,I.TW)(l,i),labelComponent:n().createElement(Z.M,{legendData:(0,I.oX)(l,i,!0),title:e=>t.formatMessage(d.Z.ChartDayOfTheMonth,{day:e.x})})}):void 0;return n().createElement(n().Fragment,null,n().createElement(r.Title,{headingLevel:"h3",size:"md"},s),n().createElement("div",{className:"chartOverride",ref:this.containerRef,style:{height:this.getAdjustedContainerHeight()}},n().createElement("div",{style:{height:e,width:c}},n().createElement(S.k,{containerComponent:g,domain:u,events:this.getEvents(),height:e,legendComponent:this.getLegend(),legendData:(0,I.oX)(l,i),legendPosition:"bottom-left",padding:a,theme:N.Z,width:c},l&&l.map(((e,t)=>this.getChart(e,t))),n().createElement(E.C,{style:le.xAxis,tickValues:[1,m,h]}),n().createElement(E.C,{dependentAxis:!0,style:le.yAxis})))))}}const ue=(0,o.ZP)(ce),de=e=>n().createElement("div",{className:"chart"},n().createElement(ue,Object.assign({},e)))},99163:(e,t,a)=>{"use strict";a.d(t,{L:()=>o});var r=a(80965),s=a(97522),n=a.n(s);const o=()=>n().createElement("span",{className:"emptyValueContainer"},n().createElement(r.V_,null))},73466:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var r=a(38291),s=a(48716),n=a(39173),o=a(52413),i=a(97522),l=a.n(i);const c=(0,a(16530).withRouter)((({title:e})=>l().createElement(l().Fragment,null,e&&l().createElement(s.Z,null,l().createElement(n.Z,{title:e})),l().createElement(r.Z,null,l().createElement(o.G,null)))))},64146:(e,t,a)=>{"use strict";a.d(t,{Z:()=>p});var r=a(38291),s=a(48716),n=a(39173),o=a(97522),i=a.n(o),l=a(16530),c=a(80708),u=a(66646),d=a(93952),h=a(74806);class m extends i().Component{render(){const{intl:e,showReload:t=!0}=this.props;return i().createElement(c.EmptyState,{variant:c.EmptyStateVariant.large,className:"pf-m-redhat-font"},i().createElement(c.EmptyStateIcon,{icon:u.Yw}),i().createElement(c.Title,{headingLevel:"h5",size:"lg"},e.formatMessage(d.Z.NoDataStateTitle)),i().createElement(c.EmptyStateBody,null,e.formatMessage(d.Z.NoDataStateDesc)),t&&i().createElement(c.Button,{variant:"primary",onClick:()=>window.location.reload()},e.formatMessage(d.Z.NoDataStateRefresh)))}}const g=(0,h.ZP)((0,l.withRouter)(m)),p=(0,l.withRouter)((({showReload:e,title:t})=>i().createElement(i().Fragment,null,t&&i().createElement(s.Z,null,i().createElement(n.Z,{title:t})),i().createElement(r.Z,null,i().createElement(g,{showReload:e})))))},13883:(e,t,a)=>{"use strict";a.d(t,{Z:()=>L});var r=a(38291),s=a(48716),n=a(39173),o=a(97522),i=a.n(o),l=a(16530),c=a(80708),u=a(15265),d=a(7081),h=a(93952),m=a(74806);const g=a(55572),p=(0,m.ZP)((({className:e,intl:t})=>i().createElement("img",{className:`cost-icon ${e}`,src:g,alt:t.formatMessage(h.Z.CostManagement),"aria-hidden":"true"})));var f=a(17386),C=a(98499);const v={iconSpacer:{marginLeft:a(73861).ZP.value},viewSources:{marginTop:C.ZP.value}};class D extends i().Component{constructor(){super(...arguments),this.getDocLink=(e,t)=>{const{intl:a}=this.props;return i().createElement("a",{href:a.formatMessage(t),rel:"noreferrer",target:"_blank"},a.formatMessage(e),i().createElement("span",{style:v.iconSpacer},i().createElement(u.LA,null)))},this.getRouteToSources=()=>`${(0,f.I)()}/settings/sources`}render(){const{intl:e,providerType:t}=this.props;let a,r,s,n=h.Z.NoProvidersStateOverviewDesc,o=h.Z.NoProvidersStateOverviewTitle;switch(t){case"aws":n=h.Z.NoProvidersStateAwsDesc,o=h.Z.NoProvidersStateAwsTitle;break;case"azure":n=h.Z.NoProvidersStateAzureDesc,o=h.Z.NoProvidersStateAzureTitle;break;case"gcp":n=h.Z.NoProvidersStateGcpDesc,o=h.Z.NoProvidersStateGcpTitle;break;case"ibm":n=h.Z.NoProvidersStateIbmDesc,o=h.Z.NoProvidersStateIbmTitle;break;case"ocp":n=h.Z.NoProvidersStateOcpDesc,a=h.Z.DocsAddOcpSources,s=h.Z.NoProvidersStateOcpAddSources,o=h.Z.NoProvidersStateOcpTitle;break;default:r=p}return i().createElement(c.EmptyState,{variant:c.EmptyStateVariant.large,className:"pf-m-redhat-font"},i().createElement(c.EmptyStateIcon,{icon:r||d.wl}),i().createElement(c.Title,{headingLevel:"h5",size:"lg"},e.formatMessage(o)),i().createElement(c.EmptyStateBody,null,e.formatMessage(n)),a&&s?i().createElement("div",{style:v.viewSources},this.getDocLink(s,a)):i().createElement(c.Button,{variant:"primary",component:"a",href:this.getRouteToSources()},e.formatMessage(h.Z.NoProvidersStateGetStarted)))}}const y=(0,m.ZP)((0,l.withRouter)(D)),L=(0,l.withRouter)((({providerType:e,title:t})=>i().createElement(i().Fragment,null,t&&i().createElement(s.Z,null,i().createElement(n.Z,{title:t})),i().createElement(r.Z,null,i().createElement(y,{providerType:e})))))},94329:(e,t,a)=>{"use strict";a.d(t,{at:()=>o,D2:()=>i,g8:()=>l,Mg:()=>c,rL:()=>u});const r=(e,t)=>{let a;if(e&&e.data)for(const r of e.data)if(r.infrastructure&&r.infrastructure.uuid===t){a=r;break}return a},s=(e,t)=>{let a=!1;if(e&&e.data)for(const r of e.data)if(r[t]){a=!0;break}return a},n=(e,t,a)=>{let s=!1;if(e&&e.data)for(const n of e.data){const e=r(t,n.uuid);if(e&&e[a]){s=!0;break}}return s},o=(e,t)=>n(e,t,"current_month_data"),i=(e,t)=>n(e,t,"previous_month_data"),l=e=>s(e,"current_month_data"),c=e=>s(e,"has_data"),u=e=>s(e,"previous_month_data")},31447:(e,t,a)=>{"use strict";a.d(t,{R:()=>i,c:()=>u});var r=a(32004),s=a(93952),n=a(60114),o=a(45997);function i({daily:e,idKey:t,report:a,sortDirection:r=0,sortKey:s="date"}){return(0,n.D)(u({daily:e,idKey:t,report:a,sortDirection:r,sortKey:s}),{key:s,direction:r})}function l(e,t,a){return{markup:{value:(a&&a[t]&&a[t].markup?a[t].markup.value:0)+(e[t]&&e[t].markup?e[t].markup.value:0),units:e&&e[t]&&e[t].markup?e[t].markup.units:"USD"},raw:{value:(a&&a[t]&&a[t].raw?a[t].raw.value:0)+(e[t]&&e[t].raw?e[t].raw.value:0),units:e&&e[t]&&e[t].raw?e[t].raw.units:"USD"},total:{value:(a&&a[t]&&a[t].total?a[t].total.value:0)+(e[t]&&e[t].total?Number(e[t].total.value):0),units:e&&e[t]&&e[t].total?e[t].total.units:null},usage:{value:(a&&a[t]&&a[t].usage?a[t].usage.value:0)+(e[t]&&e[t].usage?Number(e[t].usage.value):0),units:e&&e[t]&&e[t].usage?e[t].usage.units:null}}}function c(e,t){return{capacity:{value:(t&&t.capacity?t.capacity.value:0)+(e.capacity?e.capacity.value:0),units:e&&e.capacity?e.capacity.units:"Core-Hours"},limit:{value:(t&&t.limit?t.limit.value:0)+(e.limit?e.limit.value:0),units:e&&e.limit?e.limit.units:"Core-Hours"},request:{value:(t&&t.request?t.request.value:0)+(e.request?e.request.value:0),units:e&&e.request?e.request.units:"Core-Hours"},usage:{value:(t&&t.usage?t.usage.value:0)+(e.usage?e.usage.value:0),units:e&&e.usage?e.usage.units:"Core-Hours"}}}function u({daily:e=!1,report:t,idKey:a}){if(!t)return[];const n=new Map,i=u=>{const d=u.type;u&&u.values&&u.values.forEach((i=>{let u=i.id?i.id:i[a];u||(u=i.date);const h=`${u}${"date"!==a&&"cluster"!==a&&i.cluster?`-${i.cluster}`:""}`,m=i.clusters&&i.clusters.length>0?i.clusters[0]:void 0,g=m||i.cluster,p=i.clusters?i.clusters:[],f=i.date,C=i.delta_percent?i.delta_percent:0,v=i.delta_value?i.delta_value:0,D=i.source_uuid?i.source_uuid:[];let y;if(t.meta&&t.meta.others&&("Other"===u||"Others"===u))y=r.N.formatMessage(s.Z.ChartOthers,{count:t.meta.others});else{const e=function({idKey:e,report:t,value:a}){let r=String(e);if(t.meta&&t.meta.group_by){const s=t.meta.group_by;for(const t of Object.keys(s))if(t.indexOf(o.P)){const t=o.P+e;a.hasOwnProperty(t)&&(r=t)}}return r}({report:t,idKey:a,value:i});y="org_entities"===e&&i.alias?i.alias:"account"===e&&i.account_alias?i.account_alias:"cluster"===e&&m?m:i[e]instanceof Object?i[e].value:i[e],void 0!==y&&0!==y.trim().length||(y=i.alias&&i.alias.trim().length>0?i.alias:i[a])}if(e){const e=Object.assign(Object.assign({},c(i)),{cluster:g,clusters:p,cost:l(i,"cost"),date:f,delta_percent:C,delta_value:v,id:u,infrastructure:l(i,"infrastructure"),label:y,source_uuid:D,supplementary:l(i,"supplementary"),type:d}),t=n.get(h);if(t)t.set(f,e);else{const t=new Map;t.set(f,e),n.set(h,t)}}else{const e=n.get(h);e?n.set(h,Object.assign(Object.assign(Object.assign({},e),c(i,e)),{cluster:g,clusters:p,date:f,delta_percent:C,delta_value:v,cost:l(i,"cost",e),id:u,infrastructure:l(i,"infrastructure",e),label:y,source_uuid:D,supplementary:l(i,"supplementary",e),type:d})):n.set(h,Object.assign(Object.assign({},c(i)),{cluster:g,clusters:p,cost:l(i,"cost"),date:f,delta_percent:C,delta_value:v,id:u,infrastructure:l(i,"infrastructure"),label:y,source_uuid:D,supplementary:l(i,"supplementary"),type:d}))}}));for(const e in u)if(u[e]instanceof Array)return u[e].forEach(i)};return t&&t.data&&t.data.forEach(i),Array.from(n.values())}},33307:(e,t,a)=>{"use strict";a.d(t,{Tf:()=>d,Y:()=>h,J4:()=>m,tw:()=>g,Gg:()=>f,vI:()=>C});var r=a(32004),s=a(78966),n=a(13604),o=a(43703),i=a(55855),l=a(17844),c=a(93952);function u(e=0,t=0,a=0){const r=new Date;return r.setHours(e),r.setMinutes(t),r.setSeconds(a),r}function d(e=c.Z.NoDataForDate,t=1){const a=u();t&&a.setMonth(a.getMonth()-t);const l=(0,s.Z)(a),d=(0,n.Z)(a,"d"),h=(0,n.Z)((0,o.Z)(a),"d");return r.N.formatMessage(e,{count:(0,i.Z)(a),startDate:h,endDate:d,month:l})}function h(e,t=c.Z.ForDate,a=1){const l=u();a&&l.setMonth(l.getMonth()-a);const d=(0,s.Z)(l),h=(0,n.Z)(l,"d"),m=(0,n.Z)((0,o.Z)(l),"d");return r.N.formatMessage(t,{value:e,count:(0,i.Z)(l),startDate:m,endDate:h,month:d})}function m(e=c.Z.SinceDate){const t=u(),a=(0,s.Z)(t),l=(0,n.Z)(t,"d"),d=(0,n.Z)((0,o.Z)(t),"d");return r.N.formatMessage(e,{count:(0,i.Z)(t),startDate:d,endDate:l,month:a})}function g(){return function(e){const t=u();return e&&(t.setDate(1),t.setMonth(t.getMonth()-e)),{start_date:(0,n.Z)((0,o.Z)(t),"yyyy-MM-dd"),end_date:(0,n.Z)(e?(0,l.Z)(t):t,"yyyy-MM-dd")}}(0)}function p(e){const t=new Date,a=new Date;return a.setDate(a.getDate()-e),{end_date:(0,n.Z)(t,"yyyy-MM-dd"),start_date:(0,n.Z)(a,"yyyy-MM-dd")}}function f(){return p(30)}function C(){return p(60)}},37530:(e,t,a)=>{"use strict";a.d(t,{XA:()=>i,in:()=>l,vu:()=>d,US:()=>c,BK:()=>h,hS:()=>m});const r="cost_currency_token",s="cost_currency_units",n="cost_inactive_sources",o=()=>{const e=(e=>{const t=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():""})("cs_jwt");return e.substring(e.length-40,e.length)},i=()=>{localStorage.removeItem(n)},l=()=>localStorage.getItem(s)||"USD",c=()=>{u()||(localStorage.removeItem(s),localStorage.removeItem(r))},u=()=>localStorage.getItem(r)===o(),d=()=>{g(o())},h=()=>localStorage.getItem(n)===o(),m=e=>{localStorage.setItem(s,e),(e=>{localStorage.setItem(r,e)})(o())},g=e=>{localStorage.setItem(n,e)}},63211:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});const r=()=>{}},17386:(e,t,a)=>{"use strict";a.d(t,{I:()=>r});const r=()=>{const e=window.location.pathname.split("/");e.shift();let t="";return"beta"===e[0]&&(t="/beta"),t}},57279:(e,t,a)=>{"use strict";a.d(t,{N:()=>r});const r={xs:"16%",sm:"33%",md:"66%",lg:"100%"}},60114:(e,t,a)=>{"use strict";function r(e,t){return"string"==typeof e?e:e[t.key]}function s(e,t){const{direction:a=0}=t||{};return[...e].sort(((e,s)=>{const n=r(0===a?e:s,t),o=r(0===a?s:e,t);return n>o?-1:n<o?1:0}))}a.d(t,{D:()=>s})},55572:(e,t,a)=>{"use strict";e.exports=a.p+"6c64594e3aaa32a18532.svg"}}]);
//# sourceMappingURL=afc8e42190b1d6bed854.bundle.js.map
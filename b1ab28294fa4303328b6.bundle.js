(self.webpackChunkkoku_ui=self.webpackChunkkoku_ui||[]).push([[7855],{65734:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>x});var o=r(90392),s=r(86208),l=r(45997),a=r(19078),i=r(23246),n=r(97522),c=r.n(n),p=r(79878),d=r(86588),u=r(57954),h=r(94377),m=r(79910),y=r(90203),g=r(44696),f=r(64764);const v=(0,h.X1)(((t,e)=>({selectWidgets:f.cm.selectWidgets(t),widgets:f.cm.selectCurrentWidgets(t)}))),S=(0,p.withTranslation)()((0,d.connect)(v,{})(g.X));var b=r(45572),_=r(82462);const E=(0,h.X1)(((t,e)=>({selectWidgets:_.P2.selectWidgets(t),widgets:_.P2.selectCurrentWidgets(t)}))),O=(0,p.withTranslation)()((0,d.connect)(E,{})(b.f)),B=u.Hb.ocpDetails,P="cost",C="ocp",F=(0,h.X1)(((t,e)=>{const r=(0,o.mB)(location.search),a=(0,i.VL)(r),n=(0,i.pe)(r),p=Object.assign({filter:Object.assign({resolution:"monthly",time_scope_units:"month",time_scope_value:-1},a&&{[a]:n})},r&&r.filter_by&&{filter_by:r.filter_by}),d=(0,o.pm)(p),u=y.ZV.selectReport(t,C,P,d),h=y.ZV.selectReportError(t,C,P,d),g=y.ZV.selectReportFetchStatus(t,C,P,d),f=(0,s.H)(m.Vp),v=m.aX.selectProviders(t,"ocp",f),b=m.aX.selectProvidersFetchStatus(t,"ocp",f);return{costOverviewComponent:c().createElement(S,{groupBy:a,groupByValue:n,report:u}),description:r[l.eG],detailsURL:B,emptyStateTitle:e.t("navigation.ocp_details"),groupBy:a,groupByValue:n,historicalDataComponent:c().createElement(O,null),providers:v,providersFetchStatus:b,providerType:"ocp",query:r,queryString:d,report:u,reportError:h,reportFetchStatus:g,reportType:P,reportPathsType:C,tagReportPathsType:"ocp",title:n}})),k={fetchReport:y.nx.fetchReport},x=(0,p.withTranslation)()((0,d.connect)(F,k)(a.Z))},58988:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>ht});var o=r(11762),s=r(90392),l=r(86208),a=r(45997),i=r(73466),n=r(16679),c=r(13883),p=r(81787),d=r(46774),u=r(23246),h=r(8091),m=r(97522),y=r.n(m),g=r(79878),f=r(86588),v=r(94377),S=r(79910),b=r(90203);function _(t={}){return t.project?"project":t.cluster?"cluster":t.node?"node":"date"}var E=r(31447),O=r(55795),B=r(99163),P=r(2088),C=r(33307),F=r(901),k=r(57116);const x={delta:"cost",filter:{time_scope_units:"month",time_scope_value:-1,resolution:"monthly"}},T=[{label:"cluster",value:"cluster"},{label:"node",value:"node"},{label:"project",value:"project"}];class q extends y().Component{constructor(){super(...arguments),this.defaultState={},this.state=Object.assign({},this.defaultState)}render(){const{groupBy:t,onGroupByClicked:e,providers:r,providersError:s,report:l,t:a}=this.props,i=l&&!s&&r&&r.meta&&r.meta.count>0;let n=y().createElement(B.L,null),c=y().createElement(B.L,null),p=y().createElement(B.L,null);if(l&&l.meta&&l.meta.total){const t=l.meta.total.cost&&l.meta.total.cost.total,e=l.meta.total.supplementary&&l.meta.total.supplementary.total,r=l.meta.total.infrastructure&&l.meta.total.infrastructure.total;n=(0,F.Bw)(t?l.meta.total.cost.total.value:0,t?l.meta.total.cost.total.units:"USD"),c=(0,F.Bw)(e?l.meta.total.supplementary.total.value:0,e?l.meta.total.supplementary.total.units:"USD"),p=(0,F.Bw)(r?l.meta.total.infrastructure.total.value:0,r?l.meta.total.infrastructure.total.units:"USD")}return y().createElement("header",{style:k.W.header},y().createElement("div",null,y().createElement(o.Title,{headingLevel:"h2",style:k.W.title,size:"2xl"},a("ocp_details.title")),y().createElement(P.X,{getIdKeyForGroupBy:_,groupBy:t,isDisabled:!i,onItemClicked:e,options:T,showTags:!0,tagReportPathsType:"ocp"})),Boolean(i)&&y().createElement("div",{style:k.W.cost},y().createElement(o.Title,{headingLevel:"h2",style:k.W.costValue,size:"4xl"},y().createElement(o.Tooltip,{content:a("details.total_cost_tooltip",{supplementaryCost:c,infrastructureCost:p}),enableFlip:!0},y().createElement("span",null,n))),y().createElement("div",{style:k.W.costLabel},y().createElement("div",{style:k.W.costLabelUnit},a("cost"),y().createElement("span",{style:k.W.infoIcon},y().createElement(o.Popover,{"aria-label":a("ocp_details.supplementary_aria_label"),enableFlip:!0,bodyContent:y().createElement(y().Fragment,null,y().createElement("p",{style:k.W.infoTitle},a("ocp_details.supplementary_cost")),y().createElement("p",null,a("ocp_details.supplementary_cost_desc")),y().createElement("br",null),y().createElement("p",{style:k.W.infoTitle},a("ocp_details.infrastructure_cost")),y().createElement("p",null,a("ocp_details.infrastructure_cost_desc")))},y().createElement(o.Button,{variant:o.ButtonVariant.plain},y().createElement(O.iC,{style:k.W.info}))))),y().createElement("div",{style:k.W.costLabelDate},(0,C.J4)()))))}}const R=(0,v.X1)(((t,e)=>{const r=(0,s.pm)(x),o=(0,l.H)(S.Vp);return{providers:S.aX.selectProviders(t,"ocp",o),providersError:S.aX.selectProvidersError(t,"ocp",o),providersFetchStatus:S.aX.selectProvidersFetchStatus(t,"ocp",o),queryString:r}})),w=(0,g.withTranslation)()((0,f.connect)(R,{})(q));var D=r(54390),j=r(1244),A=r(55483),I=r(80878),M=r(55399),Z=r(57954),V=r(49382),$=r(12289),X=r(40794),L=r(11331),W=r(73861);const N={emptyState:{backgroundColor:V.ZP.value,display:"flex",justifyContent:"center",paddingTop:L.ZP.value,height:"35vh",width:"100%"},infoArrow:{position:"relative"},infoArrowDesc:{bottom:W.ZP.value},infoDescription:{color:$.ZP.value,fontSize:X.ZP.value}};class G extends y().Component{constructor(t){super(t),this.state={columns:[],rows:[]},this.buildCostLink=(t,e)=>{const{groupBy:r,query:o}=this.props,l=Object.assign(Object.assign(Object.assign({},o),e&&e!==t&&{[a.eG]:e}),{group_by:{[r]:t}});return`${Z.Hb.ocpDetailsBreakdown}?${(0,s.IV)(l)}`},this.initDatum=()=>{const{isAllSelected:t,query:e,report:r,selectedItems:s,t:l}=this.props;if(!e||!r)return;const a=_(e.group_by),i=this.getGroupByTagKey(),n=(0,F.xG)(r&&r.meta&&r.meta.total&&r.meta.total.cost&&r.meta.total.cost.total?r.meta.total.cost.total.value:0),c=i?[{title:l("details.tag_names")},{title:l("details.month_over_month_change")},{title:l("ocp_details.infrastructure_cost")},{title:l("ocp_details.supplementary_cost")},{orderBy:"cost",title:l("cost",{total:n}),transforms:[j.sortable]},{title:""}]:[{orderBy:a,title:l("details.resource_names",{groupBy:a}),transforms:[j.sortable]},{title:l("details.month_over_month_change")},{orderBy:"infrastructure_cost",title:l("ocp_details.infrastructure_cost")},{orderBy:"supplementary_cost",title:l("ocp_details.supplementary_cost")},{orderBy:"cost",title:l("cost"),transforms:[j.sortable]},{title:""}],p=[];(0,E.c)({report:r,idKey:i||a}).map(((e,r)=>{const o=e&&null!==e.label?e.label:"",l=this.getMonthOverMonthCost(e,r),n=this.getInfrastructureCost(e,r),c=this.getSupplementaryCost(e,r),d=this.getTotalCost(e,r),u=this.getActions(e);let h=y().createElement(M.Link,{to:this.buildCostLink(o.toString(),e.id)},o);o!==`no-${a}`&&o!==`no-${i}`||(h=o);const m=e.id&&e.id!==e.label?y().createElement("div",{style:N.infoDescription},e.id):null;p.push({cells:[{title:y().createElement("div",null,h,m)},{title:y().createElement("div",null,l)},{title:y().createElement("div",null,n)},{title:y().createElement("div",null,c)},{title:y().createElement("div",null,d)},{title:y().createElement("div",null,u)}],disableSelection:e.label===`no-${a}`||e.label===`no-${i}`,isOpen:!1,item:e,selected:t||s&&void 0!==s.find((t=>t.id===e.id))})}));const d=[{heightAuto:!0,cells:[{props:{colSpan:7},title:y().createElement(o.Bullseye,null,y().createElement("div",{style:{textAlign:"center"}},y().createElement(o.Spinner,{size:"xl"})))}]}];this.setState({columns:c,loadingRows:d,rows:p,sortBy:{}})},this.getActions=t=>{const{groupBy:e,query:r}=this.props;return y().createElement(I.e,{groupBy:e,item:t,providerType:"ocp",query:r,reportPathsType:"ocp",showPriceListOption:"cluster"===e})},this.getEmptyState=()=>{const{query:t,t:e}=this.props;for(const e of Object.values(t.filter_by))if("*"!==e)return y().createElement(A.c,{filter:e,showMargin:!1});return y().createElement(o.EmptyState,null,y().createElement(o.EmptyStateIcon,{icon:D.Xk}),y().createElement(o.EmptyStateBody,null,e("details.empty_state")))},this.getSupplementaryCost=(t,e)=>{const{report:r,t:o}=this.props,s=r&&r.meta&&r.meta.total&&r.meta.total.cost&&r.meta.total.cost.total?r.meta.total.cost.total.value:0,l=0===s?s.toFixed(2):(t.supplementary.total.value/s*100).toFixed(2);return y().createElement(y().Fragment,null,(0,F.xG)(t.supplementary.total.value),y().createElement("div",{style:N.infoDescription,key:`total-cost-${e}`},o("percent_of_cost",{value:l})))},this.getGroupByTagKey=()=>{const{query:t}=this.props;let e;for(const r of Object.keys(t.group_by)){const t=r.indexOf(a.P);if(-1!==t){e=r.substring(t+a.P.length);break}}return e},this.getInfrastructureCost=(t,e)=>{const{report:r,t:o}=this.props,s=r&&r.meta&&r.meta.total&&r.meta.total.cost&&r.meta.total.cost.total?r.meta.total.cost.total.value:0,l=0===s?s.toFixed(2):(t.infrastructure.total.value/s*100).toFixed(2);return y().createElement(y().Fragment,null,(0,F.xG)(t.infrastructure.total.value),y().createElement("div",{style:N.infoDescription,key:`total-cost-${e}`},o("percent_of_cost",{value:l})))},this.getMonthOverMonthCost=(t,e)=>{const{t:r}=this.props,o=(0,F.xG)(Math.abs(t.cost.total.value-t.delta_value)),s=null!==t.delta_percent?Math.abs(t.delta_percent).toFixed(2):0,l=!(0===s||"0.00"===s),a=null!==t.delta_percent;let i;return l&&(i="iconOverride",null!==t.delta_percent&&t.delta_value<0&&(i+=" decrease"),null!==t.delta_percent&&t.delta_value>0&&(i+=" increase")),a?y().createElement("div",{className:"monthOverMonthOverride"},y().createElement("div",{className:i,key:`month-over-month-cost-${e}`},l?r("percent",{value:s}):y().createElement(B.L,null),Boolean(l&&null!==t.delta_percent&&t.delta_value>0)&&y().createElement("span",{className:"fa fa-sort-up",style:N.infoArrow,key:`month-over-month-icon-${e}`}),Boolean(l&&null!==t.delta_percent&&t.delta_value<0)&&y().createElement("span",{className:"fa fa-sort-down",style:Object.assign(Object.assign({},N.ininfoArrow),N.infoArrowDesc),key:`month-over-month-icon-${e}`})),y().createElement("div",{style:N.infoDescription,key:`month-over-month-info-${e}`},(0,C.Y)(o))):(0,C.Tf)()},this.getSortBy=()=>{const{query:t}=this.props,{columns:e}=this.state;let r=-1,o=j.SortByDirection.asc;for(const s of Object.keys(t.order_by)){let l=0;for(const a of e){if(a.orderBy===s){o="asc"===t.order_by[s]?j.SortByDirection.asc:j.SortByDirection.desc,r=l+1;break}l++}}return r>-1?{index:r,direction:o}:{}},this.getTotalCost=(t,e)=>{const{report:r,t:o}=this.props,s=r&&r.meta&&r.meta.total&&r.meta.total.cost&&r.meta.total.cost.total?r.meta.total.cost.total.value:0,l=0===s?s.toFixed(2):(t.cost.total.value/s*100).toFixed(2);return y().createElement(y().Fragment,null,(0,F.xG)(t.cost.total.value),y().createElement("div",{style:N.infoDescription,key:`total-cost-${e}`},o("percent_of_cost",{value:l})))},this.handleOnSelect=(t,e,r)=>{const{onSelected:o}=this.props;let s,l=[];-1===r?s=this.state.rows.map((t=>(t.selected=e,t))):(s=[...this.state.rows],s[r].selected=e,l=[s[r].item]),this.setState({rows:s},(()=>{o&&o(l,e)}))},this.handleOnSort=(t,e,r)=>{const{onSort:o}=this.props,{columns:s}=this.state;o&&o(s[e-1].orderBy,r===j.SortByDirection.asc)},this.handleOnSelect=this.handleOnSelect.bind(this),this.handleOnSort=this.handleOnSort.bind(this)}componentDidMount(){this.initDatum()}componentDidUpdate(t){const{query:e,report:r,selectedItems:o}=this.props,l=r&&r.data?JSON.stringify(r.data):"",a=t.report&&t.report.data?JSON.stringify(t.report.data):"";(0,s.pm)(t.query)===(0,s.pm)(e)&&a===l&&t.selectedItems===o||this.initDatum()}render(){const{isLoading:t}=this.props,{columns:e,loadingRows:r,rows:o}=this.state;return y().createElement(y().Fragment,null,y().createElement(j.Table,{"aria-label":"details-table",canSelectAll:!1,cells:e,className:"tableOverride",rows:t?r:o,sortBy:this.getSortBy(),onSelect:t?void 0:this.handleOnSelect,onSort:this.handleOnSort,gridBreakPoint:"grid-2xl"},y().createElement(j.TableHeader,null),y().createElement(j.TableBody,null)),Boolean(0===o.length)&&y().createElement("div",{style:N.emptyState},this.getEmptyState()))}}const J=(0,g.withTranslation)()(G);var U=r(17824),Q=r(66558),H=r(19853);const K="tag",z="ocp";class Y extends y().Component{constructor(){super(...arguments),this.defaultState={},this.state=Object.assign({},this.defaultState),this.getCategoryOptions=()=>{const{tagReport:t,t:e}=this.props,r=[{name:e("filter_by.values.cluster"),key:"cluster"},{name:e("filter_by.values.node"),key:"node"},{name:e("filter_by.values.project"),key:"project"},{name:e("filter_by.values.tag"),key:a.up}];return t&&t.data&&t.data.length?r:r.filter((t=>t.key!==a.up))}}componentDidMount(){const{fetchTag:t,queryString:e}=this.props;t(z,K,e),this.setState({categoryOptions:this.getCategoryOptions()})}componentDidUpdate(t){const{fetchTag:e,query:r,queryString:o,tagReport:s}=this.props;r&&!(0,H.X)(r,t.query)&&e(z,K,o),(0,H.X)(s,t.tagReport)||this.setState({categoryOptions:this.getCategoryOptions()})}render(){const{groupBy:t,isAllSelected:e,isExportDisabled:r,itemsPerPage:o,itemsTotal:s,onBulkSelected:l,onExportClicked:a,onFilterAdded:i,onFilterRemoved:n,pagination:c,query:p,selectedItems:d,tagReport:u}=this.props,{categoryOptions:h}=this.state;return y().createElement(U.k,{categoryOptions:h,groupBy:t,isAllSelected:e,isExportDisabled:r,itemsPerPage:o,itemsTotal:s,onBulkSelected:l,onExportClicked:a,onFilterAdded:i,onFilterRemoved:n,pagination:c,query:p,selectedItems:d,showBulkSelect:!0,showExport:!0,showFilter:!0,tagReport:u})}}const tt=(0,v.X1)(((t,e)=>{const r=(0,s.pm)({filter:{resolution:"monthly",time_scope_units:"month",time_scope_value:-1}});return{queryString:r,tagReport:Q.ux.selectTag(t,z,K,r),tagReportFetchStatus:Q.ux.selectTagFetchStatus(t,z,K,r)}})),et={fetchTag:Q.xr.Xt},rt=(0,f.connect)(tt,et)(Y),ot=(0,g.withTranslation)()(rt);var st=r(98499),lt=r(32412);const at={content:{paddingBottom:st.ZP.value,paddingTop:st.ZP.value},ocpDetails:{minHeight:"100%"},paginationContainer:{marginLeft:st.ZP.value,marginRight:st.ZP.value},pagination:{backgroundColor:V.ZP.value,padding:lt.ZP.value},tableContainer:{marginLeft:st.ZP.value,marginRight:st.ZP.value}},it={delta:"cost",filter:{limit:10,offset:0,resolution:"monthly",time_scope_units:"month",time_scope_value:-1},filter_by:{},group_by:{project:"*"},order_by:{cost:"desc"}},nt="cost",ct="ocp";class pt extends y().Component{constructor(t,e){super(t,e),this.defaultState={columns:[],isAllSelected:!1,isExportModalOpen:!1,rows:[],selectedItems:[]},this.state=Object.assign({},this.defaultState),this.getComputedItems=()=>{const{query:t,report:e}=this.props,r=_(t.group_by),o=(0,u.qV)(t);return(0,E.c)({report:e,idKey:o||r})},this.getExportModal=t=>{const{isAllSelected:e,isExportModalOpen:r,selectedItems:o}=this.state,{query:s,report:l}=this.props,i=_(s.group_by),n=(0,u.qV)(s),c=l&&l.meta?l.meta.count:0;return y().createElement(d.X,{isAllItems:(e||o.length===c)&&t.length>0,groupBy:n?`${a.P}${n}`:i,isOpen:r,items:o,onClose:this.handleExportModalClose,query:s,reportPathsType:ct,showTimeScope:!0})},this.getPagination=(t=!1)=>{const{report:e}=this.props,r=e&&e.meta?e.meta.count:0,s=e&&e.meta&&e.meta.filter&&e.meta.filter.limit?e.meta.filter.limit:it.filter.limit,l=(e&&e.meta&&e.meta.filter&&e.meta.filter.offset?e.meta.filter.offset:it.filter.offset)/s+1;return y().createElement(o.Pagination,{isCompact:!t,itemCount:r,onPerPageSelect:this.handlePerPageSelect,onSetPage:this.handleSetPage,page:l,perPage:s,variant:t?o.PaginationVariant.bottom:o.PaginationVariant.top,widgetId:"`pagination${isBottom ? '-bottom' : ''}`"})},this.getTable=()=>{const{query:t,report:e,reportFetchStatus:r}=this.props,{isAllSelected:o,selectedItems:s}=this.state,l=_(t.group_by),i=(0,u.qV)(t);return y().createElement(J,{groupBy:i?`${a.P}${i}`:l,isAllSelected:o,isLoading:1===r,onSelected:this.handleSelected,onSort:this.handleSort,query:t,report:e,selectedItems:s})},this.getToolbar=t=>{const{query:e,report:r}=this.props,{isAllSelected:o,selectedItems:s}=this.state,l=_(e.group_by),i=(0,u.qV)(e),n=r&&r.meta?r.meta.count:0;return y().createElement(ot,{groupBy:i?`${a.P}${i}`:l,isAllSelected:o,isExportDisabled:0===t.length||!o&&0===s.length,itemsPerPage:t.length,itemsTotal:n,onBulkSelected:this.handleBulkSelected,onExportClicked:this.handleExportModalOpen,onFilterAdded:this.handleFilterAdded,onFilterRemoved:this.handleFilterRemoved,pagination:this.getPagination(),query:e,selectedItems:s})},this.handleBulkSelected=t=>{const{isAllSelected:e}=this.state;"none"===t?this.setState({isAllSelected:!1,selectedItems:[]}):"page"===t?this.setState({isAllSelected:!1,selectedItems:this.getComputedItems()}):"all"===t&&this.setState({isAllSelected:!e,selectedItems:[]})},this.handleExportModalClose=t=>{this.setState({isExportModalOpen:t})},this.handleExportModalOpen=()=>{this.setState({isExportModalOpen:!0})},this.handleFilterAdded=(t,e)=>{const{history:r,query:o}=this.props,s=(0,h.W)(o,t,e);r.replace(this.getRouteForQuery(s,!0))},this.handleFilterRemoved=(t,e)=>{const{history:r,query:o}=this.props,s=(0,h.U)(o,t,e);r.replace(this.getRouteForQuery(s,!0))},this.handleGroupByClick=t=>{const{history:e,query:r}=this.props,o=t,s=Object.assign(Object.assign({},JSON.parse(JSON.stringify(r))),{group_by:{[o]:"*"},order_by:{cost:"desc"}});e.replace(this.getRouteForQuery(s,!0)),this.setState({isAllSelected:!1,selectedItems:[]})},this.handlePerPageSelect=(t,e)=>{const{history:r,query:o}=this.props,s=Object.assign({},JSON.parse(JSON.stringify(o)));s.filter=Object.assign(Object.assign({},o.filter),{limit:e});const l=this.getRouteForQuery(s,!0);r.replace(l)},this.handleSelected=(t,e=!1)=>{const{isAllSelected:r,selectedItems:o}=this.state;let s=[...r?this.getComputedItems():o];t&&t.length>0&&(e?t.map((t=>s.push(t))):t.map((t=>{s=s.filter((e=>e.id!==t.id))}))),this.setState({isAllSelected:!1,selectedItems:s})},this.handleSetPage=(t,e)=>{const{history:r,query:o,report:s}=this.props,l=s&&s.meta&&s.meta.filter&&s.meta.filter.limit?s.meta.filter.limit:it.filter.limit,a=e*l-l,i=Object.assign({},JSON.parse(JSON.stringify(o)));i.filter=Object.assign(Object.assign({},o.filter),{offset:a});const n=this.getRouteForQuery(i);r.replace(n)},this.handleSort=(t,e)=>{const{history:r,query:o}=this.props,s=Object.assign({},JSON.parse(JSON.stringify(o)));s.order_by={},s.order_by[t]=e?"asc":"desc";const l=this.getRouteForQuery(s);r.replace(l)},this.hasCurrentMonthData=()=>{const{providers:t}=this.props;let e=!1;if(t&&t.data)for(const r of t.data)if(r.current_month_data){e=!0;break}return e},this.updateReport=()=>{const{query:t,location:e,fetchReport:r,history:o,queryString:s}=this.props;e.search?r(ct,nt,s):o.replace(this.getRouteForQuery({filter_by:t?t.filter_by:void 0,group_by:t?t.group_by:void 0,order_by:{cost:"desc"}}))},this.handleBulkSelected=this.handleBulkSelected.bind(this),this.handleExportModalClose=this.handleExportModalClose.bind(this),this.handleExportModalOpen=this.handleExportModalOpen.bind(this),this.handleFilterAdded=this.handleFilterAdded.bind(this),this.handleFilterRemoved=this.handleFilterRemoved.bind(this),this.handlePerPageSelect=this.handlePerPageSelect.bind(this),this.handleSelected=this.handleSelected.bind(this),this.handleSetPage=this.handleSetPage.bind(this),this.handleSort=this.handleSort.bind(this)}componentDidMount(){this.updateReport()}componentDidUpdate(t,e){const{location:r,report:o,reportError:s,queryString:l}=this.props,{selectedItems:a}=this.state,i=t.queryString!==l,n=!o&&!s,c=!r.search,p=e.selectedItems!==a;(i||n||c||p)&&this.updateReport()}getRouteForQuery(t,e=!1){const{history:r}=this.props;return e&&(t.filter=Object.assign(Object.assign({},t.filter),{offset:it.filter.offset})),`${r.location.pathname}?${(0,s.IV)(t)}`}render(){const{providers:t,providersFetchStatus:e,query:r,report:o,reportError:s,reportFetchStatus:l,t:a}=this.props,d=_(r.group_by),u=this.getComputedItems(),h=a("navigation.ocp_details");if(s)return y().createElement(p.Z,{title:h});if(1===e&&1===l)return y().createElement(i.Z,{title:h});if(2===e&&2===l){if(t&&t.meta&&0===t.meta.count&&2===e)return y().createElement(c.Z,{providerType:"ocp",title:h});if(!this.hasCurrentMonthData())return y().createElement(n.Z,{title:h})}return y().createElement("div",{style:at.ocpDetails},y().createElement(w,{groupBy:d,onGroupByClicked:this.handleGroupByClick,report:o}),y().createElement("div",{style:at.content},this.getToolbar(u),this.getExportModal(u),1===l?y().createElement(i.Z,null):y().createElement(y().Fragment,null,y().createElement("div",{style:at.tableContainer},this.getTable()),y().createElement("div",{style:at.paginationContainer},y().createElement("div",{style:at.pagination},this.getPagination(!0))))))}}const dt=(0,v.X1)(((t,e)=>{const r=(0,s.mB)(location.search),o={delta:"cost",filter:Object.assign(Object.assign({},it.filter),r.filter),filter_by:r.filter_by||it.filter_by,group_by:r.group_by||it.group_by,order_by:r.order_by||it.order_by},a=(0,s.pm)(o),i=b.ZV.selectReport(t,ct,nt,a),n=b.ZV.selectReportError(t,ct,nt,a),c=b.ZV.selectReportFetchStatus(t,ct,nt,a),p=(0,l.H)(S.Vp);return{providers:S.aX.selectProviders(t,"ocp",p),providersFetchStatus:S.aX.selectProvidersFetchStatus(t,"ocp",p),query:o,queryString:a,report:i,reportError:n,reportFetchStatus:c}})),ut={fetchReport:b.nx.fetchReport},ht=(0,g.withTranslation)()((0,f.connect)(dt,ut)(pt))}}]);
//# sourceMappingURL=b1ab28294fa4303328b6.bundle.js.map
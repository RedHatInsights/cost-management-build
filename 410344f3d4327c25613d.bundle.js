(self.webpackChunkkoku_ui=self.webpackChunkkoku_ui||[]).push([[7855],{27910:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>x});var r=o(90392),s=o(86208),l=o(45997),a=o(27166),i=o(60635),n=o(97522),c=o.n(n),p=o(79878),d=o(86588),u=o(57954),h=o(94377),m=o(45235),y=o(90203),g=o(26872),f=o(90771);const v=(0,h.X1)(((t,e)=>({selectWidgets:f.cm.selectWidgets(t),widgets:f.cm.selectCurrentWidgets(t)}))),_=(0,p.withTranslation)()((0,d.connect)(v,{})(g.X));var S=o(98648),b=o(20007);const E=(0,h.X1)(((t,e)=>({selectWidgets:b.P2.selectWidgets(t),widgets:b.P2.selectCurrentWidgets(t)}))),O=(0,p.withTranslation)()((0,d.connect)(E,{})(S.f)),B=u.Hb.ocpDetails,P="cost",C="ocp",F=(0,h.X1)(((t,e)=>{const o=(0,r.mB)(location.search),a=(0,i.p)(o),n=(0,i.V)(o),p=Object.assign(Object.assign({},o),{[l.eG]:void 0}),d=(0,r.pm)(p),u=y.ZV.selectReport(t,C,P,d),h=y.ZV.selectReportError(t,C,P,d),g=y.ZV.selectReportFetchStatus(t,C,P,d),f=(0,s.H)(m.Vp),v=m.aX.selectProviders(t,"ocp",f),S=m.aX.selectProvidersFetchStatus(t,"ocp",f);return{costOverviewComponent:c().createElement(_,{filterBy:a,groupBy:n,report:u}),description:o[l.eG],detailsURL:B,emptyStateTitle:e.t("navigation.ocp_details"),filterBy:a,groupBy:n,historicalDataComponent:c().createElement(O,{filterBy:a,groupBy:n}),providers:v,providersFetchStatus:S,providerType:"ocp",query:o,queryString:d,report:u,reportError:h,reportFetchStatus:g,reportType:P,reportPathsType:C,tagReportPathsType:"ocp",title:a}})),k={fetchReport:y.nx.fetchReport},x=(0,p.withTranslation)()((0,d.connect)(F,k)(a.Z))},83804:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>ut});var r=o(48927),s=o(90392),l=o(86208),a=o(45997),i=o(95371),n=o(38850),c=o(73466),p=o(13883),d=o(81787),u=o(97522),h=o.n(u),m=o(79878),y=o(86588),g=o(94377),f=o(45235),v=o(90203);function _(t={}){return t.project?"project":t.cluster?"cluster":t.node?"node":"date"}var S=o(31447),b=o(16679),E=o(55795),O=o(99163),B=o(64418),P=o(33307),C=o(901),F=o(2646);const k={delta:"cost",filter:{time_scope_units:"month",time_scope_value:-1,resolution:"monthly"}},x=[{label:"cluster",value:"cluster"},{label:"node",value:"node"},{label:"project",value:"project"}];class T extends h().Component{constructor(){super(...arguments),this.defaultState={},this.state=Object.assign({},this.defaultState)}render(){const{groupBy:t,onGroupByClicked:e,providers:o,providersError:s,report:l,t:a}=this.props,i=l&&!s&&o&&o.meta&&o.meta.count>0;let n=h().createElement(O.L,null),c=h().createElement(O.L,null),p=h().createElement(O.L,null);if(l&&l.meta&&l.meta.total){const t=l.meta.total.cost&&l.meta.total.cost.total,e=l.meta.total.supplementary&&l.meta.total.supplementary.total,o=l.meta.total.infrastructure&&l.meta.total.infrastructure.total;n=(0,C.Bw)(t?l.meta.total.cost.total.value:0,t?l.meta.total.cost.total.units:"USD"),c=(0,C.Bw)(e?l.meta.total.supplementary.total.value:0,e?l.meta.total.supplementary.total.units:"USD"),p=(0,C.Bw)(o?l.meta.total.infrastructure.total.value:0,o?l.meta.total.infrastructure.total.units:"USD")}return h().createElement("header",{style:F.W.header},h().createElement("div",null,h().createElement(r.Title,{headingLevel:"h2",style:F.W.title,size:"2xl"},a("ocp_details.title")),h().createElement(B.X,{getIdKeyForGroupBy:_,groupBy:t,isDisabled:!i,onItemClicked:e,options:x,showTags:!0,tagReportPathsType:"ocp"})),Boolean(i)&&h().createElement("div",{style:F.W.cost},h().createElement(r.Title,{headingLevel:"h2",style:F.W.costValue,size:"4xl"},h().createElement(r.Tooltip,{content:a("ocp_details.total_cost_tooltip",{supplementaryCost:c,infrastructureCost:p}),enableFlip:!0},h().createElement("span",null,n))),h().createElement("div",{style:F.W.costLabel},h().createElement("div",{style:F.W.costLabelUnit},a("ocp_details.total_cost"),h().createElement("span",{style:F.W.infoIcon},h().createElement(r.Popover,{"aria-label":a("ocp_details.supplementary_aria_label"),enableFlip:!0,bodyContent:h().createElement(h().Fragment,null,h().createElement("p",{style:F.W.infoTitle},a("ocp_details.supplementary_cost_title")),h().createElement("p",null,a("ocp_details.supplementary_cost_desc")),h().createElement("br",null),h().createElement("p",{style:F.W.infoTitle},a("ocp_details.infrastructure_cost_title")),h().createElement("p",null,a("ocp_details.infrastructure_cost_desc")))},h().createElement(r.Button,{variant:r.ButtonVariant.plain},h().createElement(E.iC,{style:F.W.info}))))),h().createElement("div",{style:F.W.costLabelDate},(0,P.J4)()))))}}const q=(0,g.X1)(((t,e)=>{const o=(0,s.pm)(k),r=(0,l.H)(f.Vp);return{providers:f.aX.selectProviders(t,"ocp",r),providersError:f.aX.selectProvidersError(t,"ocp",r),providersFetchStatus:f.aX.selectProvidersFetchStatus(t,"ocp",r),queryString:o}})),R=(0,m.withTranslation)()((0,y.connect)(q,{})(T));var w=o(54390),D=o(8812),j=o(55483),A=o(44633),I=o(55399),M=o(57954),Z=o(49382),V=o(12289),X=o(40794),$=o(11331),W=o(73861);const L={emptyState:{backgroundColor:Z.ZP.value,display:"flex",justifyContent:"center",paddingTop:$.ZP.value,height:"35vh",width:"100%"},infoArrow:{position:"relative"},infoArrowDesc:{bottom:W.ZP.value},infoDescription:{color:V.ZP.value,fontSize:X.ZP.value}};class G extends h().Component{constructor(t){super(t),this.state={columns:[],rows:[]},this.buildCostLink=(t,e)=>{const{groupBy:o,query:r}=this.props,l=Object.assign(Object.assign(Object.assign({},r),e&&e!==t&&{[a.eG]:e}),{group_by:{[o]:t}});return`${M.Hb.ocpDetailsBreakdown}?${(0,s.IV)(l)}`},this.initDatum=()=>{const{isAllSelected:t,query:e,report:o,selectedItems:s,t:l}=this.props;if(!e||!o)return;const a=_(e.group_by),i=this.getGroupByTagKey(),n=(0,C.xG)(o&&o.meta&&o.meta.total&&o.meta.total.cost&&o.meta.total.cost.total?o.meta.total.cost.total.value:0),c=i?[{title:l("ocp_details.tag_column_title")},{title:l("ocp_details.change_column_title")},{title:l("ocp_details.infrastructure_cost_column_title")},{title:l("ocp_details.supplementary_cost_column_title")},{orderBy:"cost",title:l("ocp_details.cost_column_title",{total:n}),transforms:[D.sortable]},{title:""}]:[{orderBy:a,title:l("ocp_details.name_column_title",{groupBy:a}),transforms:[D.sortable]},{title:l("ocp_details.change_column_title")},{orderBy:"infrastructure_cost",title:l("ocp_details.infrastructure_cost_column_title")},{orderBy:"supplementary_cost",title:l("ocp_details.supplementary_cost_column_title")},{orderBy:"cost",title:l("ocp_details.cost_column_title"),transforms:[D.sortable]},{title:""}],p=[];(0,S.c)({report:o,idKey:i||a}).map(((e,o)=>{const r=e&&null!==e.label?e.label:"",l=this.getMonthOverMonthCost(e,o),n=this.getInfrastructureCost(e,o),c=this.getSupplementaryCost(e,o),d=this.getTotalCost(e,o),u=this.getActions(e);let m=h().createElement(I.Link,{to:this.buildCostLink(r.toString(),e.id)},r);r!==`no-${a}`&&r!==`no-${i}`||(m=r);const y=e.id&&e.id!==e.label?h().createElement("div",{style:L.infoDescription},e.id):null;p.push({cells:[{title:h().createElement("div",null,m,y)},{title:h().createElement("div",null,l)},{title:h().createElement("div",null,n)},{title:h().createElement("div",null,c)},{title:h().createElement("div",null,d)},{title:h().createElement("div",null,u)}],isOpen:!1,item:e,selected:t||s&&void 0!==s.find((t=>t.id===e.id))})}));const d=[{heightAuto:!0,cells:[{props:{colSpan:7},title:h().createElement(r.Bullseye,null,h().createElement("div",{style:{textAlign:"center"}},h().createElement(r.Spinner,{size:"xl"})))}]}];this.setState({columns:c,loadingRows:d,rows:p,sortBy:{}})},this.getActions=t=>{const{groupBy:e,query:o}=this.props;return h().createElement(A.e,{groupBy:e,item:t,providerType:"ocp",query:o,reportPathsType:"ocp",showPriceListOption:"cluster"===e})},this.getEmptyState=()=>{const{query:t,t:e}=this.props;for(const e of Object.values(t.filter_by))if("*"!==e)return h().createElement(j.c,{filter:e,showMargin:!1});return h().createElement(r.EmptyState,null,h().createElement(r.EmptyStateIcon,{icon:w.Xk}),h().createElement(r.EmptyStateBody,null,e("ocp_details.empty_state")))},this.getSupplementaryCost=(t,e)=>{const{report:o,t:r}=this.props,s=o&&o.meta&&o.meta.total&&o.meta.total.cost&&o.meta.total.cost.total?o.meta.total.cost.total.value:0,l=0===s?s.toFixed(2):(t.supplementary.total.value/s*100).toFixed(2);return h().createElement(h().Fragment,null,(0,C.xG)(t.supplementary.total.value),h().createElement("div",{style:L.infoDescription,key:`total-cost-${e}`},r("percent_of_cost",{value:l})))},this.getGroupByTagKey=()=>{const{query:t}=this.props;let e;for(const o of Object.keys(t.group_by)){const t=o.indexOf(a.P);if(-1!==t){e=o.substring(t+a.P.length);break}}return e},this.getInfrastructureCost=(t,e)=>{const{report:o,t:r}=this.props,s=o&&o.meta&&o.meta.total&&o.meta.total.cost&&o.meta.total.cost.total?o.meta.total.cost.total.value:0,l=0===s?s.toFixed(2):(t.infrastructure.total.value/s*100).toFixed(2);return h().createElement(h().Fragment,null,(0,C.xG)(t.infrastructure.total.value),h().createElement("div",{style:L.infoDescription,key:`total-cost-${e}`},r("percent_of_cost",{value:l})))},this.getMonthOverMonthCost=(t,e)=>{const{t:o}=this.props,r=(0,C.xG)(Math.abs(t.cost.total.value-t.delta_value)),s=null!==t.delta_percent?Math.abs(t.delta_percent).toFixed(2):0,l=!(0===s||"0.00"===s),a=null!==t.delta_percent;let i;return l&&(i="iconOverride",null!==t.delta_percent&&t.delta_value<0&&(i+=" decrease"),null!==t.delta_percent&&t.delta_value>0&&(i+=" increase")),a?h().createElement("div",{className:"monthOverMonthOverride"},h().createElement("div",{className:i,key:`month-over-month-cost-${e}`},l?o("percent",{value:s}):h().createElement(O.L,null),Boolean(l&&null!==t.delta_percent&&t.delta_value>0)&&h().createElement("span",{className:"fa fa-sort-up",style:L.infoArrow,key:`month-over-month-icon-${e}`}),Boolean(l&&null!==t.delta_percent&&t.delta_value<0)&&h().createElement("span",{className:"fa fa-sort-down",style:Object.assign(Object.assign({},L.ininfoArrow),L.infoArrowDesc),key:`month-over-month-icon-${e}`})),h().createElement("div",{style:L.infoDescription,key:`month-over-month-info-${e}`},(0,P.Y)(r))):(0,P.Tf)()},this.getSortBy=()=>{const{query:t}=this.props,{columns:e}=this.state;let o=-1,r=D.SortByDirection.asc;for(const s of Object.keys(t.order_by)){let l=0;for(const a of e){if(a.orderBy===s){r="asc"===t.order_by[s]?D.SortByDirection.asc:D.SortByDirection.desc,o=l+1;break}l++}}return o>-1?{index:o,direction:r}:{}},this.getTotalCost=(t,e)=>{const{report:o,t:r}=this.props,s=o&&o.meta&&o.meta.total&&o.meta.total.cost&&o.meta.total.cost.total?o.meta.total.cost.total.value:0,l=0===s?s.toFixed(2):(t.cost.total.value/s*100).toFixed(2);return h().createElement(h().Fragment,null,(0,C.xG)(t.cost.total.value),h().createElement("div",{style:L.infoDescription,key:`total-cost-${e}`},r("percent_of_cost",{value:l})))},this.handleOnSelect=(t,e,o)=>{const{onSelected:r}=this.props;let s,l=[];-1===o?s=this.state.rows.map((t=>(t.selected=e,t))):(s=[...this.state.rows],s[o].selected=e,l=[s[o].item]),this.setState({rows:s},(()=>{r&&r(l,e)}))},this.handleOnSort=(t,e,o)=>{const{onSort:r}=this.props,{columns:s}=this.state;r&&r(s[e-1].orderBy,o===D.SortByDirection.asc)},this.handleOnSelect=this.handleOnSelect.bind(this),this.handleOnSort=this.handleOnSort.bind(this)}componentDidMount(){this.initDatum()}componentDidUpdate(t){const{query:e,report:o,selectedItems:r}=this.props,l=o&&o.data?JSON.stringify(o.data):"",a=t.report&&t.report.data?JSON.stringify(t.report.data):"";(0,s.pm)(t.query)===(0,s.pm)(e)&&a===l&&t.selectedItems===r||this.initDatum()}render(){const{isLoading:t}=this.props,{columns:e,loadingRows:o,rows:r}=this.state;return h().createElement(h().Fragment,null,h().createElement(D.Table,{"aria-label":"details-table",canSelectAll:!1,cells:e,className:"tableOverride",rows:t?o:r,sortBy:this.getSortBy(),onSelect:t?void 0:this.handleOnSelect,onSort:this.handleOnSort,gridBreakPoint:"grid-2xl"},h().createElement(D.TableHeader,null),h().createElement(D.TableBody,null)),Boolean(0===r.length)&&h().createElement("div",{style:L.emptyState},this.getEmptyState()))}}const N=(0,m.withTranslation)()(G);var J=o(87614),Q=o(5754),U=o(19853);const H="tag",K="ocp";class z extends h().Component{constructor(){super(...arguments),this.defaultState={},this.state=Object.assign({},this.defaultState),this.getCategoryOptions=()=>{const{tagReport:t,t:e}=this.props,o=[{name:e("filter_by.values.cluster"),key:"cluster"},{name:e("filter_by.values.node"),key:"node"},{name:e("filter_by.values.project"),key:"project"},{name:e("filter_by.values.tag"),key:a.up}];return t&&t.data&&t.data.length?o:o.filter((t=>t.key!==a.up))}}componentDidMount(){const{fetchTag:t,queryString:e}=this.props;t(K,H,e),this.setState({categoryOptions:this.getCategoryOptions()})}componentDidUpdate(t){const{fetchTag:e,query:o,queryString:r,tagReport:s}=this.props;o&&!(0,U.X)(o,t.query)&&e(K,H,r),(0,U.X)(s,t.tagReport)||this.setState({categoryOptions:this.getCategoryOptions()})}render(){const{groupBy:t,isAllSelected:e,isExportDisabled:o,itemsPerPage:r,itemsTotal:s,onBulkSelected:l,onExportClicked:a,onFilterAdded:i,onFilterRemoved:n,pagination:c,query:p,selectedItems:d,tagReport:u}=this.props,{categoryOptions:m}=this.state;return h().createElement(J.k,{categoryOptions:m,groupBy:t,isAllSelected:e,isExportDisabled:o,itemsPerPage:r,itemsTotal:s,onBulkSelected:l,onExportClicked:a,onFilterAdded:i,onFilterRemoved:n,pagination:c,query:p,selectedItems:d,showBulkSelect:!0,showExport:!0,showFilter:!0,tagReport:u})}}const Y=(0,g.X1)(((t,e)=>{const o=(0,s.pm)({filter:{resolution:"monthly",time_scope_units:"month",time_scope_value:-1}});return{queryString:o,tagReport:Q.ux.selectTag(t,K,H,o),tagReportFetchStatus:Q.ux.selectTagFetchStatus(t,K,H,o)}})),tt={fetchTag:Q.xr.Xt},et=(0,y.connect)(Y,tt)(z),ot=(0,m.withTranslation)()(et);var rt=o(98499),st=o(32412);const lt={content:{paddingBottom:rt.ZP.value,paddingTop:rt.ZP.value},ocpDetails:{minHeight:"100%"},paginationContainer:{marginLeft:rt.ZP.value,marginRight:rt.ZP.value},pagination:{backgroundColor:Z.ZP.value,padding:st.ZP.value},tableContainer:{marginLeft:rt.ZP.value,marginRight:rt.ZP.value}},at={delta:"cost",filter:{limit:10,offset:0,resolution:"monthly",time_scope_units:"month",time_scope_value:-1},filter_by:{},group_by:{project:"*"},order_by:{cost:"desc"}},it="cost",nt="ocp";class ct extends h().Component{constructor(t,e){super(t,e),this.defaultState={columns:[],isAllSelected:!1,isExportModalOpen:!1,rows:[],selectedItems:[]},this.state=Object.assign({},this.defaultState),this.getComputedItems=()=>{const{query:t,report:e}=this.props,o=_(t.group_by),r=(0,i.qV)(t);return(0,S.c)({report:e,idKey:r||o})},this.getExportModal=t=>{const{isAllSelected:e,isExportModalOpen:o,selectedItems:r}=this.state,{query:s,report:l}=this.props,c=_(s.group_by),p=(0,i.qV)(s),d=l&&l.meta?l.meta.count:0;return h().createElement(n.X,{isAllItems:(e||r.length===d)&&t.length>0,groupBy:p?`${a.P}${p}`:c,isOpen:o,items:r,onClose:this.handleExportModalClose,query:s,reportPathsType:nt})},this.getPagination=(t=!1)=>{const{report:e}=this.props,o=e&&e.meta?e.meta.count:0,s=e&&e.meta&&e.meta.filter&&e.meta.filter.limit?e.meta.filter.limit:at.filter.limit,l=(e&&e.meta&&e.meta.filter&&e.meta.filter.offset?e.meta.filter.offset:at.filter.offset)/s+1;return h().createElement(r.Pagination,{isCompact:!t,itemCount:o,onPerPageSelect:this.handlePerPageSelect,onSetPage:this.handleSetPage,page:l,perPage:s,variant:t?r.PaginationVariant.bottom:r.PaginationVariant.top,widgetId:"`pagination${isBottom ? '-bottom' : ''}`"})},this.getTable=()=>{const{query:t,report:e,reportFetchStatus:o}=this.props,{isAllSelected:r,selectedItems:s}=this.state,l=_(t.group_by),n=(0,i.qV)(t);return h().createElement(N,{groupBy:n?`${a.P}${n}`:l,isAllSelected:r,isLoading:1===o,onSelected:this.handleSelected,onSort:this.handleSort,query:t,report:e,selectedItems:s})},this.getToolbar=t=>{const{query:e,report:o}=this.props,{isAllSelected:r,selectedItems:s}=this.state,l=_(e.group_by),n=(0,i.qV)(e),c=o&&o.meta?o.meta.count:0;return h().createElement(ot,{groupBy:n?`${a.P}${n}`:l,isAllSelected:r,isExportDisabled:0===t.length||!r&&0===s.length,itemsPerPage:t.length,itemsTotal:c,onBulkSelected:this.handleBulkSelected,onExportClicked:this.handleExportModalOpen,onFilterAdded:this.handleFilterAdded,onFilterRemoved:this.handleFilterRemoved,pagination:this.getPagination(),query:e,selectedItems:s})},this.handleBulkSelected=t=>{const{isAllSelected:e}=this.state;"none"===t?this.setState({isAllSelected:!1,selectedItems:[]}):"page"===t?this.setState({isAllSelected:!1,selectedItems:this.getComputedItems()}):"all"===t&&this.setState({isAllSelected:!e,selectedItems:[]})},this.handleExportModalClose=t=>{this.setState({isExportModalOpen:t})},this.handleExportModalOpen=()=>{this.setState({isExportModalOpen:!0})},this.handleFilterAdded=(t,e)=>{const{history:o,query:r}=this.props,s=(0,i.WB)(r,t,e);o.replace(this.getRouteForQuery(s,!0))},this.handleFilterRemoved=(t,e)=>{const{history:o,query:r}=this.props,s=(0,i.WK)(r,t,e);o.replace(this.getRouteForQuery(s,!0))},this.handleGroupByClick=t=>{const{history:e,query:o}=this.props,r=t,s=Object.assign(Object.assign({},JSON.parse(JSON.stringify(o))),{filter_by:void 0,group_by:{[r]:"*"},order_by:{cost:"desc"}});e.replace(this.getRouteForQuery(s,!0)),this.setState({isAllSelected:!1,selectedItems:[]})},this.handlePerPageSelect=(t,e)=>{const{history:o,query:r}=this.props,s=Object.assign({},JSON.parse(JSON.stringify(r)));s.filter=Object.assign(Object.assign({},r.filter),{limit:e});const l=this.getRouteForQuery(s,!0);o.replace(l)},this.handleSelected=(t,e=!1)=>{const{isAllSelected:o,selectedItems:r}=this.state;let s=[...o?this.getComputedItems():r];t&&t.length>0&&(e?t.map((t=>s.push(t))):t.map((t=>{s=s.filter((e=>e.id!==t.id))}))),this.setState({isAllSelected:!1,selectedItems:s})},this.handleSetPage=(t,e)=>{const{history:o,query:r,report:s}=this.props,l=s&&s.meta&&s.meta.filter&&s.meta.filter.limit?s.meta.filter.limit:at.filter.limit,a=e*l-l,i=Object.assign({},JSON.parse(JSON.stringify(r)));i.filter=Object.assign(Object.assign({},r.filter),{offset:a});const n=this.getRouteForQuery(i);o.replace(n)},this.handleSort=(t,e)=>{const{history:o,query:r}=this.props,s=Object.assign({},JSON.parse(JSON.stringify(r)));s.order_by={},s.order_by[t]=e?"asc":"desc";const l=this.getRouteForQuery(s);o.replace(l)},this.hasCurrentMonthData=()=>{const{providers:t}=this.props;let e=!1;if(t&&t.data)for(const o of t.data)if(o.current_month_data){e=!0;break}return e},this.updateReport=()=>{const{query:t,location:e,fetchReport:o,history:r,queryString:s}=this.props;e.search?o(nt,it,s):r.replace(this.getRouteForQuery({filter_by:t?t.filter_by:void 0,group_by:t?t.group_by:void 0,order_by:{cost:"desc"}}))},this.handleBulkSelected=this.handleBulkSelected.bind(this),this.handleExportModalClose=this.handleExportModalClose.bind(this),this.handleExportModalOpen=this.handleExportModalOpen.bind(this),this.handleFilterAdded=this.handleFilterAdded.bind(this),this.handleFilterRemoved=this.handleFilterRemoved.bind(this),this.handlePerPageSelect=this.handlePerPageSelect.bind(this),this.handleSelected=this.handleSelected.bind(this),this.handleSetPage=this.handleSetPage.bind(this),this.handleSort=this.handleSort.bind(this)}componentDidMount(){this.updateReport()}componentDidUpdate(t,e){const{location:o,report:r,reportError:s,queryString:l}=this.props,{selectedItems:a}=this.state,i=t.queryString!==l,n=!r&&!s,c=!o.search,p=e.selectedItems!==a;(i||n||c||p)&&this.updateReport()}getRouteForQuery(t,e=!1){const{history:o}=this.props;return e&&(t.filter=Object.assign(Object.assign({},t.filter),{offset:at.filter.offset})),`${o.location.pathname}?${(0,s.IV)(t)}`}render(){const{providers:t,providersFetchStatus:e,query:o,report:r,reportError:s,reportFetchStatus:l,t:a}=this.props,i=_(o.group_by),n=this.getComputedItems(),u=a("navigation.ocp_details");if(s)return h().createElement(d.Z,{title:u});if(1===e&&1===l)return h().createElement(c.Z,{title:u});if(2===e&&2===l){if(t&&t.meta&&0===t.meta.count&&2===e)return h().createElement(p.Z,{providerType:"ocp",title:u});if(!this.hasCurrentMonthData())return h().createElement(b.Z,{title:u})}return h().createElement("div",{style:lt.ocpDetails},h().createElement(R,{groupBy:i,onGroupByClicked:this.handleGroupByClick,report:r}),h().createElement("div",{style:lt.content},this.getToolbar(n),this.getExportModal(n),1===l?h().createElement(c.Z,null):h().createElement(h().Fragment,null,h().createElement("div",{style:lt.tableContainer},this.getTable()),h().createElement("div",{style:lt.paginationContainer},h().createElement("div",{style:lt.pagination},this.getPagination(!0))))))}}const pt=(0,g.X1)(((t,e)=>{const o=(0,s.mB)(location.search),r={delta:"cost",filter:Object.assign(Object.assign({},at.filter),o.filter),filter_by:o.filter_by||at.filter_by,group_by:o.group_by||at.group_by,order_by:o.order_by||at.order_by},a=(0,s.pm)(r),i=v.ZV.selectReport(t,nt,it,a),n=v.ZV.selectReportError(t,nt,it,a),c=v.ZV.selectReportFetchStatus(t,nt,it,a),p=(0,l.H)(f.Vp);return{providers:f.aX.selectProviders(t,"ocp",p),providersFetchStatus:f.aX.selectProvidersFetchStatus(t,"ocp",p),query:r,queryString:a,report:i,reportError:n,reportFetchStatus:c}})),dt={fetchReport:v.nx.fetchReport},ut=(0,m.withTranslation)()((0,y.connect)(pt,dt)(ct))}}]);
//# sourceMappingURL=410344f3d4327c25613d.bundle.js.map
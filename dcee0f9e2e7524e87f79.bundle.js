(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1116:function(e,t,a){"use strict";a.r(t),function(e){var s=a(198),r=a(854);t.default=Object(s.hot)(e)(r.a)}.call(this,a(197)(e))},677:function(e,t,a){"use strict";a.d(t,"c",function(){return s}),a.d(t,"b",function(){return r}),a.d(t,"a",function(){return i});const s=e=>{const t=e?e.toLowerCase():"";switch(t){case"usd":case"gb":case"gb-hours":case"gb-mo":case"core-hours":case"hrs":case"tag-mo":case"vm-hours":return t;default:return""}},r=(e,t,a={})=>{const r=s(t),c=e||0;switch(r){case"usd":return i(c,r,a);case"gb":case"gb-hours":case"gb-mo":case"tag-mo":case"vm-hours":return o(c,r,a);case"core-hours":case"hrs":return l(c,r,a);default:return n(c,r,a)}},n=(e,t,{fractionDigits:a=0}={})=>e.toLocaleString("en",{minimumFractionDigits:a,maximumFractionDigits:a}),i=(e,t,{fractionDigits:a=2}={})=>{let s=e;return e||(s=0),s.toLocaleString("en",{style:"currency",currency:t||"USD",minimumFractionDigits:a,maximumFractionDigits:a})},o=(e,t,{fractionDigits:a=0}={})=>e.toLocaleString("en",{minimumFractionDigits:a,maximumFractionDigits:a}),l=(e,t,{fractionDigits:a=0}={})=>e.toLocaleString("en",{minimumFractionDigits:a,maximumFractionDigits:a})},679:function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"b",function(){return r});const s=e=>({"data-testid":e}),r={details:{historical_data_btn:"historical-data-btn",tag_lnk:"tag-lnk",show_more_btn:"show-more-btn",view_all_btn:"view-all-btn"},export:{cancel_btn:"cancel-btn",submit_btn:"submit-btn"},login:{alert:"alert",form:"login-form",username_input:"username-input",password_input:"password-input",submit:"submit"},masthead:{masthead:"masthead",username:"username",sidebarToggle:"sidebar-toggle",logout:"logout"},onboarding:{btn_cancel:"btn-cancel",btn_back:"btn-back",btn_continue:"btn-continue",btn_close:"btn-close",type_selector:"type-selector",type_opt_aws:"type-option-aws",type_opt_ocp:"type-option-ocp",type_opt_non:"type-option-non",name_input:"name-input",check_box_1:"check-box-1",check_box_2:"check-box-2",s3_input:"s3-input",clusterid_input:"clusterid-input",arn_input:"arn-input"},providers:{add_btn:"add-btn",bucket_input:"bucket-input",cancel_btn:"cancel-btn",empty_state_add_btn:"empty_state_add-btn",name_input:"provider-name-input",resource_name_input:"provider-resource-name-input",cluster_id_input:"provider-cluster-id-input",submit_btn:"submit-btn",type_input:"provider-type-input",view_all_link:"view-all-lnk"},sidebar:{nav:"vertical-nav",link:"vertical-nav-link",backdrop:"sidebar-backdrop"}}},680:function(e,t,a){"use strict";a.d(t,"g",function(){return y}),a.d(t,"h",function(){return E}),a.d(t,"j",function(){return O}),a.d(t,"i",function(){return j}),a.d(t,"b",function(){return S}),a.d(t,"c",function(){return D}),a.d(t,"d",function(){return T}),a.d(t,"e",function(){return w}),a.d(t,"a",function(){return _}),a.d(t,"f",function(){return C});var s=a(724),r=a.n(s),n=a(691),i=a.n(n),o=a(682),l=a.n(o),c=a(723),u=a.n(c),m=a(705),d=a.n(m),p=a(115),b=a(677),h=a(690),g=a(688),v=a(687),f=a(686);function y(e,t=1,a="date",s="cost"){if(!e)return[];const r={report:e,idKey:a,sortKey:"id",sortDirection:1},n=Object(h.a)(r);return 1===t?n.map(e=>k(e[s],e,a)):2===t?n.map(e=>k(e[s],e,a)):n.reduce((e,t)=>{const r=e.length?e[e.length-1].y:0;return[...e,k(r+t[s],t,a)]},[])}function E(e,t=1,a="date",s="cost"){if(!e)return[];const r={report:e,idKey:a,sortKey:"id",sortDirection:1},n=Object(g.a)(r);return 1===t?n.map(e=>k(e[s],e,a)):2===t?n.map(e=>k(e[s],e,a)):n.reduce((e,t)=>{const r=e.length?e[e.length-1].y:0;return[...e,k(r+t[s],t,a)]},[])}function O(e,t=1,a="date",s="cost"){if(!e)return[];const r={report:e,idKey:a,sortKey:"id",sortDirection:1},n=Object(f.a)(r);return 1===t?n.map(e=>k(e[s],e,a)):2===t?n.map(e=>k(e[s],e,a)):n.reduce((e,t)=>{const r=e.length?e[e.length-1].y:0;return[...e,k(r+t[s],t,a)]},[])}function j(e,t=1,a="date",s="infrastructureCost"){if(!e)return[];const r={report:e,idKey:a,sortKey:"id",sortDirection:1},n=Object(v.a)(r);return 1===t?n.map(e=>k(e[s],e,a)):2===t?n.map(e=>k(e[s],e,a)):n.reduce((e,t)=>{const r=e.length?e[e.length-1].y:0;return[...e,k(r+t[s],t,a)]},[])}function k(e,t,a="date"){var s;return{x:"date"===a?l()(t.id):t.label,y:(s=e,Number(s)===s&&s%1!=0?parseFloat(e.toFixed(2)):function(e){return Number(e)===e&&e%1==0}(e)?e:0),key:t.id,name:t.id,units:t.units}}function S(e,t=!0,a=!1,s=0){const[n,i]=function(e,t=0){if(!e||!e.length){const e=new Date;return t&&e.setMonth(e.getMonth()-t),[d()(e),e]}return[new Date(e[0].key+"T00:00:00"),new Date(e[e.length-1].key+"T00:00:00")]}(e,s);if(t&&n.setDate&&n.setDate(1),a&&n.setDate){const e=r()(n).getDate();i.setDate(e)}return[n,i]}function D(e){let t=0;return e&&e.length&&e.forEach(e=>{e.y>t&&(t=e.y)}),t}function T(e){return function(t,a=null,s={}){const r=Object(b.c)(a);switch(r){case"core-hours":case"hrs":case"gb":case"gb-hours":case"gb-mo":case"vm-hours":return p.a.t(`unit_tooltips.${r}`,{value:`${e(t,a,s)}`});default:return`${e(t,a,s)}`}}}function w(e,t,a,s="date",r){if(!e.key)return"";if("date"===s){return`${i()(e.key,"DD MMM YYYY")} ${t(e.y,r||e.units,a)}`}return e.key.toString()}function _(e,t="chart.cost_legend_label",a=!1,s=!1,r=0){const[n,o]=S(e,a,s,r);return p.a.t(t,{count:l()(o),endDate:i()(o,"D"),month:Number(i()(n,"M"))-1,startDate:i()(n,"D"),year:u()(o)})}function C(e,t="chart.usage_legend_label",a=!1,s=!1,r=0){return _(e,t,a,s,r)}},681:function(e,t,a){"use strict";function s(e,t){if("string"==typeof e)return e;return e[t.key]}function r(e,t){const{direction:a=0}=t||{};return[...e].sort((e,r)=>{const n=s(0===a?e:r,t),i=s(0===a?r:e,t);return n>i?-1:n<i?1:0})}a.d(t,"a",function(){return r})},684:function(e,t,a){"use strict";var s=a(1113),r=a(404);const n={padding:8};var i={area:Object.assign({},n),axis:Object.assign({},n),bar:Object.assign({},n),boxplot:Object.assign({},n),candlestick:Object.assign({},n),chart:Object.assign({},n),errorbar:Object.assign({},n),group:Object.assign({},n),legend:{},line:Object.assign({},n),pie:Object.assign({},n),scatter:Object.assign({},n),stack:Object.assign({},n),tooltip:{},voronoi:Object.assign({},n)};const o=(()=>Object(s.k)(r.q.default,r.r.default,i))();t.a=o},686:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"c",function(){return n}),a.d(t,"b",function(){return i});var s=a(681);function r({report:e,idKey:t,labelKey:a=t,sortKey:r="cost",sortDirection:i=0}){return Object(s.a)(n({report:e,idKey:t,labelKey:a,sortDirection:i,sortKey:r}),{key:r,direction:i})}function n({report:e,idKey:t,labelKey:a=t}){if(!e)return[];const s=new Map,r=e=>{e.values&&e.values.forEach(e=>{const r=e.capacity?e.capacity.value:0,n=e.cluster_alias?e.cluster_alias:e.cluster,i=e.cost?e.cost.value:0,o=e.derived_cost?e.derived_cost.value:0,l=e.infrastructure_cost?e.infrastructure_cost.value:0,c="date"!==t&&"cluster"!==t&&e.cluster?`-${e.cluster}`:"",u=`${e[t]}${c}`;let m;m="cluster"===a&&e.cluster_alias?e.cluster_alias:e[a]instanceof Object?e[a].value:e[a];const d=e.limit?e.limit.value:0,p=e.request?e.request.value:0,b=e.usage?e.usage.value:0,h=e.usage?e.usage.units:e.cost?e.cost.units:"USD";s.get(u)?s.set(u,Object.assign({},s.get(u),{capacity:s.get(u).capacity+r,cost:s.get(u).cost+i,derivedCost:s.get(u).derivedCost+o,infrastructureCost:s.get(u).infrastructureCost+l,limit:s.get(u).limit+d,request:s.get(u).request+p,usage:s.get(u).usage+b})):s.set(u,{capacity:r,cluster:n,cost:i,deltaPercent:e.delta_percent,deltaValue:e.delta_value,derivedCost:o,id:u,infrastructureCost:l,label:m,limit:d,request:p,units:h,usage:b})});for(const t in e)if(e[t]instanceof Array)return e[t].forEach(r)};return e&&e.data&&e.data.forEach(r),Array.from(s.values())}function i(e={}){return e.project?"project":e.cluster?"cluster":e.node?"node":"date"}},687:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"c",function(){return n}),a.d(t,"b",function(){return i});var s=a(681);function r({report:e,idKey:t,labelKey:a=t,sortKey:r="cost",sortDirection:i=0}){return Object(s.a)(n({report:e,idKey:t,labelKey:a,sortDirection:i,sortKey:r}),{key:r,direction:i})}function n({report:e,idKey:t,labelKey:a=t}){if(!e)return[];const s=new Map,r=e=>{e.values&&e.values.forEach(e=>{const r=e.capacity?e.capacity.value:0,n=e.cluster_alias?e.cluster_alias:e.cluster,i=e.cost?e.cost.value:0,o=e.derived_cost?e.derived_cost.value:0,l=e.infrastructure_cost?e.infrastructure_cost.value:0,c="date"!==t&&"cluster"!==t&&e.cluster?`-${e.cluster}`:"",u=`${e[t]}${c}`;let m;m="cluster"===a&&e.cluster_alias?e.cluster_alias:e[a]instanceof Object?e[a].value:e[a],"account"===a&&e.account_alias&&(m=e.account_alias);const d=e.limit?e.limit.value:0,p=e.request?e.request.value:0,b=e.usage?e.usage.value:0,h=e.usage?e.usage.units:e.cost?e.cost.units:"USD";s.get(u)?s.set(u,Object.assign({},s.get(u),{capacity:s.get(u).capacity+r,cost:s.get(u).cost+i,derivedCost:s.get(u).derivedCost+o,infrastructureCost:s.get(u).infrastructureCost+l,limit:s.get(u).limit+d,request:s.get(u).request+p,usage:s.get(u).usage+b})):s.set(u,{capacity:r,cluster:n,cost:i,deltaPercent:e.delta_percent,deltaValue:e.delta_value,derivedCost:o,id:u,infrastructureCost:l,label:m,limit:d,request:p,units:h,usage:b})});for(const t in e)if(e[t]instanceof Array)return e[t].forEach(r)};return e&&e.data&&e.data.forEach(r),Array.from(s.values())}function i(e={}){return e.project?"project":e.cluster?"cluster":e.node?"node":"date"}},688:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"c",function(){return n}),a.d(t,"b",function(){return i});var s=a(681);function r({report:e,idKey:t,labelKey:a=t,sortKey:r="cost",sortDirection:i=0}){return Object(s.a)(n({report:e,idKey:t,labelKey:a,sortDirection:i,sortKey:r}),{key:r,direction:i})}function n({report:e,idKey:t,labelKey:a=t}){if(!e)return[];const s=new Map,r=e=>{e.values&&e.values.forEach(e=>{const r=e.usage?e.usage.value:e.cost.value,n=e.derived_cost?e.derived_cost.value:0,i=e.infrastructure_cost?e.infrastructure_cost.value:0,o=e[t];let l;l=e[a]instanceof Object?e[a].value:e[a],s.get(o)?s.set(o,Object.assign({},s.get(o),{cost:s.get(o).cost+r,derivedCost:s.get(o).derivedCost+n,infrastructureCost:s.get(o).infrastructureCost+i})):s.set(o,{cost:r,deltaPercent:e.delta_percent,deltaValue:e.delta_value,derivedCost:n,id:o,infrastructureCost:i,label:l,units:e.usage?e.usage.units:e.cost?e.cost.units:"USD"})});for(const t in e)if(e[t]instanceof Array)return e[t].forEach(r)};return e&&e.data&&e.data.forEach(r),Array.from(s.values())}function i(e={}){return e.subscription_guid?"subscription_guid":e.instance_type?"instance_type":e.resource_location?"resource_location":e.service_name?"service_name":"date"}},690:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"c",function(){return n}),a.d(t,"b",function(){return i});var s=a(681);function r({report:e,idKey:t,labelKey:a=t,sortKey:r="cost",sortDirection:i=0}){return Object(s.a)(n({report:e,idKey:t,labelKey:a,sortDirection:i,sortKey:r}),{key:r,direction:i})}function n({report:e,idKey:t,labelKey:a=t}){if(!e)return[];const s=new Map,r=e=>{e.values&&e.values.forEach(e=>{const r=e.usage?e.usage.value:e.cost.value,n=e.derived_cost?e.derived_cost.value:0,i=e.infrastructure_cost?e.infrastructure_cost.value:0,o=e[t];let l;l=e[a]instanceof Object?e[a].value:e[a],"account"===a&&e.account_alias&&(l=e.account_alias),s.get(o)?s.set(o,Object.assign({},s.get(o),{cost:s.get(o).cost+r,derivedCost:s.get(o).derivedCost+n,infrastructureCost:s.get(o).infrastructureCost+i})):s.set(o,{cost:r,deltaPercent:e.delta_percent,deltaValue:e.delta_value,derivedCost:n,id:o,infrastructureCost:i,label:l,units:e.usage?e.usage.units:e.cost?e.cost.units:"USD"})});for(const t in e)if(e[t]instanceof Array)return e[t].forEach(r)};return e&&e.data&&e.data.forEach(r),Array.from(s.values())}function i(e={}){return e.account?"account":e.instance_type?"instance_type":e.region?"region":e.service?"service":"date"}},693:function(e,t,a){"use strict";a(13);var s=a(216),r=a(1136),n=a(2),i=a.n(n),o=a(3);const l=r.a.create({container:{fontSize:o.Yd.value}});a.d(t,"a",function(){return c});const c=()=>i.a.createElement("span",{className:Object(r.b)(l.container)},i.a.createElement(s.b,null))},694:function(e,t,a){"use strict";var s=a(387),r=a(352),n=a(351),i=a(353),o=(a(13),a(231)),l=a(1136),c=a(2),u=a.n(c),m=a(162);const d=l.a.create({container:{display:"flex",justifyContent:"center",height:"100vh",marginTop:"150px"}});a.d(t,"a",function(){return p});const p=Object(m.d)()(({icon:e=o.b,t:t})=>{const a=t("loading_state.sources_title"),c=t("loading_state.sources_desc");return u.a.createElement("div",{className:Object(l.b)(d.container)},u.a.createElement(i.a,null,u.a.createElement(n.a,{icon:e}),u.a.createElement(s.a,{size:"lg"},a),u.a.createElement(r.a,null,c)))})},697:function(e,t,a){"use strict";var s=a(387),r=a(352),n=a(351),i=a(353),o=a(234),l=(a(13),a(203)),c=a(1136),u=a(2),m=a.n(u),d=a(162);const p=c.a.create({container:{display:"flex",justifyContent:"center",height:"100vh",marginTop:"150px"}});a.d(t,"a",function(){return b});const b=Object(d.d)()(({error:e,icon:t=l.b,t:a})=>{let u=a("error_state.unexpected_title"),d=a("error_state.unexpected_desc");return e&&e.response&&401===e.response.status&&(t=o.b,u=a("error_state.unauthorized_title"),d=a("error_state.unauthorized_desc")),m.a.createElement("div",{className:Object(c.b)(p.container)},m.a.createElement(i.a,null,m.a.createElement(n.a,{icon:t}),m.a.createElement(s.a,{size:"lg"},u),m.a.createElement(r.a,null,d)))})},703:function(e,t,a){"use strict";var s=a(352),r=a(387),n=a(351),i=a(353),o=a(225),l=(a(13),a(1136)),c=a(2),u=a.n(c),m=a(162),d=a(114),p=a(1135),b=a(98),h=a(163),g=a(679),v=a(3);const f=l.a.create({container:{display:"flex",justifyContent:"center",height:"100vh",marginTop:"150px"},viewSources:{marginTop:v.ie.value}});a.d(t,"a",function(){return E});const y=Object(b.a)((e,{})=>({})),E=Object(m.d)()(Object(d.connect)(y,{openProvidersModal:h.a.openModal})(class extends u.a.Component{constructor(){super(...arguments),this.getViewSources=(()=>{const{t:e}=this.props;return u.a.createElement(p.a,Object.assign({to:"/sources"},Object(g.a)(g.b.providers.view_all_link)),e("providers.view_sources"))})}render(){const{t:e}=this.props;return u.a.createElement("div",{className:Object(l.b)(f.container)},u.a.createElement(i.a,null,u.a.createElement(n.a,{icon:o.b}),u.a.createElement(r.a,{size:"lg"},e("providers.empty_state_title")),u.a.createElement(s.a,null,e("providers.empty_state_desc")),u.a.createElement("div",{className:Object(l.b)(f.viewSources)},this.getViewSources())))}}))},704:function(e,t,a){"use strict";var s=a(1103),r=a(1121),n=a(1105),i=a(1107),o=a(1101),l=a(1136),c=a(684),u=a(680),m=a(682),d=a.n(m),p=a(2),b=a.n(p),h=a(3);const g={colorScale:[h.fe.value,h.Kb.value,h.Lb.value,h.Mb.value,h.Nb.value,h.Ob.value],legend:{labels:{fontFamily:h.Vd.value,fontSize:14},minWidth:175},previousMonth:{data:{fill:"none",stroke:h.fe.value}},currentMonth:{data:{fill:"none",stroke:"#A2DA9C"}},yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}},v=l.a.create({chartContainer:{":not(foo) svg":{overflow:"visible"}}});class f extends b.a.Component{constructor(){super(...arguments),this.containerRef=b.a.createRef(),this.state={width:0},this.initDatum=(()=>{const{currentData:e,previousData:t,showUsageLegendLabel:a=!1}=this.props,s=[],r=a?"chart.usage_legend_label":"chart.cost_legend_label";if(t){const e=Object(u.a)(t,r,!0,!0,1);s.push({name:e,symbol:{type:"minus"}})}if(e){const t=Object(u.a)(e,r,!0,!0,1);s.push({name:t,symbol:{type:"minus"}})}this.setState({chartDatum:{charts:[{data:t,name:"previous",show:!0,style:g.previousMonth},{data:e,name:"current",show:!0,style:g.currentMonth}],legend:{colorScale:g.colorScale,data:s,onClick:this.handleCostLegendClick}}})}),this.handleCostLegendClick=(e=>{const{chartDatum:t}=this.state,a=Object.assign({},t);e.index>=0&&a.charts.length&&(a.charts[e.index].show=!a.charts[e.index].show,this.setState({chartDatum:a}))}),this.handleResize=(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})}),this.getChart=((e,t)=>e.data&&e.data.length&&e.show?b.a.createElement(i.a,{data:e.data,interpolation:"basis",name:e.name,key:`trend-chart-${e.name}-${t}`,style:e.style}):null),this.getLegend=((e,t)=>{if(!(e&&e.data&&e.data.length))return null;const{title:a}=this.props,s={onClick:()=>[{target:"data",mutation:t=>(e.onClick(t),null)}]};return b.a.createElement(n.a,{colorScale:e.colorScale,data:e.data,events:[{target:"data",eventHandlers:s},{target:"labels",eventHandlers:s}],gutter:20,height:25,orientation:t>150?"horizontal":"vertical",style:g.legend,title:a})}),this.getTooltipLabel=(({datum:e})=>{const{formatDatumValue:t,formatDatumOptions:a,units:s}=this.props;return Object(u.e)(e,Object(u.d)(t),a,"date",s)})}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize)}),this.initDatum()}componentDidUpdate(e){e.currentData===this.props.currentData&&e.previousData===this.props.previousData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}getDomain(){const{currentData:e,previousData:t}=this.props,a={x:[1,31]},s=e?Object(u.c)(e):0,r=t?Object(u.c)(t):0,n=Math.max(s,r),i=n>0?Math.ceil(n+.1*n):0;return i>0&&(a.y=[0,i]),a}getEndDate(){const{currentData:e,previousData:t}=this.props,a=t?d()(Object(u.b)(t,!0,!0)[1]):0,s=e?d()(Object(u.b)(e,!0,!0)[1]):0;return s>0||a>0?Math.max(s,a):31}isLegendVisible(){const{chartDatum:e}=this.state;let t=!1;return e&&e.legend&&e.legend.data&&e.legend.data.forEach(e=>{e.name&&""!==e.name.trim()&&(t=!0)}),t}render(){const{height:e,containerHeight:t=e,padding:a}=this.props,{chartDatum:n,width:i}=this.state,u=b.a.createElement(o.a,{constrainToVisibleArea:!0,labels:this.getTooltipLabel,voronoiDimension:"x"}),m=this.getDomain(),d=this.getEndDate(),p=Math.floor(d/2),h=this.isLegendVisible();return b.a.createElement("div",{className:Object(l.b)(v.chartContainer),ref:this.containerRef,style:{height:t}},b.a.createElement(s.a,{containerComponent:u,domain:m,height:e,legendComponent:h?this.getLegend(n.legend,i):void 0,legendData:h?n.legend.data:void 0,legendPosition:"bottom-left",padding:a,theme:c.a,width:i},Boolean(n)&&n.charts.map((e,t)=>this.getChart(e,t)),b.a.createElement(r.a,{style:g.xAxis,tickValues:[1,p,d]}),b.a.createElement(r.a,{dependentAxis:!0,style:g.yAxis})))}}a.d(t,"a",function(){return f})},718:function(e,t,a){"use strict";var s=a(1103),r=a(1121),n=a(1107),i=a(1101),o=a(1105),l=a(1136),c=a(684),u=a(680),m=a(682),d=a.n(m),p=a(115),b=a(2),h=a.n(b),g=a(3);const v={currentRequestData:{data:{fill:"none",stroke:"#88D080",strokeDasharray:"3,3"}},currentUsageData:{data:{fill:"none",stroke:"#A2DA9C"}},itemsPerRow:2,legend:{labels:{fontFamily:g.Vd.value,fontSize:14},minWidth:380},previousRequestData:{data:{fill:"none",stroke:g.fe.value,strokeDasharray:"3,3"}},previousUsageData:{data:{fill:"none",stroke:g.fe.value}},currentColorScale:[g.Kb.value,g.Lb.value,g.Mb.value,g.Nb.value,g.Ob.value],previousColorScale:[g.fe.value,g.fe.value],yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}},f=l.a.create({chartContainer:{":not(foo) svg":{overflow:"visible"},marginTop:g.ie.value}});class y extends h.a.Component{constructor(){super(...arguments),this.containerRef=h.a.createRef(),this.state={width:0},this.initDatum=(()=>{const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:s}=this.props,r=[],n=[];if(s){const e=Object(u.f)(s,"chart.usage_legend_label",!0,!0,1);r.push({name:e,symbol:{type:"minus"}}),n.push(v.previousColorScale[0])}if(t){const e=Object(u.f)(t,"chart.usage_legend_label",!0,!1);r.push({name:e,symbol:{type:"minus"}}),n.push(v.currentColorScale[0])}if(a){const e=Object(u.f)(a,"chart.requests_legend_label",!0,!0,1);r.push({name:e,symbol:{type:"dash"}}),n.push(v.previousColorScale[1])}if(e){const t=Object(u.f)(e,"chart.requests_legend_label",!0,!1);r.push({name:t,symbol:{type:"dash"}}),n.push(v.currentColorScale[1])}this.setState({chartDatum:{charts:[{data:s,name:"previousUsage",show:!0,style:v.previousUsageData},{data:t,name:"currentUsage",show:!0,style:v.currentUsageData},{data:a,name:"previousRequest",show:!0,style:v.previousRequestData},{data:e,name:"currentRequest",show:!0,style:v.currentRequestData}],legend:{colorScale:n,data:r,gutter:55,onClick:this.handleLegendClick}}})}),this.handleLegendClick=(e=>{const{chartDatum:t}=this.state,a=Object.assign({},t);e.index>=0&&a.charts.length&&(a.charts[e.index].show=!a.charts[e.index].show,this.setState({chartDatum:a}))}),this.handleResize=(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})}),this.getChart=((e,t)=>e.data&&e.data.length&&e.show?h.a.createElement(n.a,{data:e.data,interpolation:"basis",name:e.name,key:`usage-chart-${t}`,style:e.style}):null),this.getLegend=((e,t)=>{if(!(e&&e.data&&e.data.length))return null;const{legendItemsPerRow:a,title:s}=this.props,r=a||(t>300?v.itemsPerRow:1),n={onClick:()=>[{target:"data",mutation:t=>(e.onClick(t),null)}]};return h.a.createElement(o.a,{colorScale:e.colorScale,data:e.data,events:[{target:"data",eventHandlers:n},{target:"labels",eventHandlers:n}],height:25,itemsPerRow:r,responsive:!0,style:v.legend,title:s})}),this.getTooltipLabel=(({datum:e})=>{const{formatDatumValue:t,formatDatumOptions:a}=this.props,s=Object(u.e)(e,Object(u.d)(t),a,"date");return"currentRequest"===e.childName||"previousRequest"===e.childName?p.a.t("chart.requests_tooltip",{value:s}):"currentUsage"===e.childName||"previousUsage"===e.childName?p.a.t("chart.usage_tooltip",{value:s}):s})}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize)}),this.initDatum()}componentDidUpdate(e){e.currentRequestData===this.props.currentRequestData&&e.currentUsageData===this.props.currentUsageData&&e.previousRequestData===this.props.previousRequestData&&e.previousUsageData===this.props.previousUsageData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}getDomain(){const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:s}=this.props,r={x:[1,31]},n=e?Object(u.c)(e):0,i=t?Object(u.c)(t):0,o=a?Object(u.c)(a):0,l=s?Object(u.c)(s):0,c=Math.max(n,i,o,l),m=c>0?Math.ceil(c+.1*c):0;return m>0&&(r.y=[0,m]),r}getEndDate(){const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:s}=this.props,r=e?d()(Object(u.b)(e,!0,!0)[1]):0,n=t?d()(Object(u.b)(t,!0,!0)[1]):0,i=a?d()(Object(u.b)(a,!0,!0)[1]):0,o=s?d()(Object(u.b)(s,!0,!0)[1]):0;return r>0||n>0||i>0||o>0?Math.max(r,n,i,o):31}isLegendVisible(){const{chartDatum:e}=this.state;let t=!1;return e&&e.legend&&e.legend.data&&e.legend.data.forEach(e=>{e.name&&""!==e.name.trim()&&(t=!0)}),t}render(){const{height:e,containerHeight:t=e,padding:a}=this.props,{chartDatum:n,width:o}=this.state,u=h.a.createElement(i.a,{constrainToVisibleArea:!0,labels:this.getTooltipLabel,voronoiDimension:"x"}),m=this.getDomain(),d=this.getEndDate(),p=Math.floor(d/2),b=this.isLegendVisible();return h.a.createElement("div",{className:Object(l.b)(f.chartContainer),ref:this.containerRef,style:{height:t}},h.a.createElement(s.a,{containerComponent:u,domain:m,height:e,legendComponent:b?this.getLegend(n.legend,o):void 0,legendData:b?n.legend.data:void 0,legendPosition:"bottom-left",padding:a,theme:c.a,width:o},Boolean(n)&&n.charts.map((e,t)=>this.getChart(e,t)),h.a.createElement(r.a,{style:v.xAxis,tickValues:[1,p,d]}),h.a.createElement(r.a,{dependentAxis:!0,style:v.yAxis})))}}a.d(t,"a",function(){return y})},736:function(e,t,a){"use strict";var s=a(372),r=a(375),n=a(371),i=a(387),o=a(134),l=a(373),c=a(1136),u=a(678),m=a(2),d=a.n(m),p=a(162),b=a(3);const h=c.a.create({chartSkeleton:{height:"125px",marginBottom:b.je.value,marginTop:b.je.value},legendSkeleton:{marginTop:b.je.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:b.ae.value,color:b.Ud.var,marginBottom:"0"}}),g=Object(p.d)()(({children:e,detailsLink:t,title:a,subTitle:m,subTitleTooltip:p=m,status:b,t:g})=>d.a.createElement(r.a,{className:Object(c.b)(h.reportSummary)},d.a.createElement(n.a,null,d.a.createElement(i.a,{size:"lg"},a),Boolean(m)&&d.a.createElement(o.a,{content:p,enableFlip:!0},d.a.createElement("p",{className:Object(c.b)(h.subtitle)},m))),d.a.createElement(l.a,null,1===b?d.a.createElement(d.a.Fragment,null,d.a.createElement(u.Skeleton,{size:u.SkeletonSize.xs}),d.a.createElement(u.Skeleton,{className:Object(c.b)(h.chartSkeleton),size:u.SkeletonSize.md}),d.a.createElement(u.Skeleton,{size:u.SkeletonSize.sm}),d.a.createElement(u.Skeleton,{className:Object(c.b)(h.legendSkeleton),size:u.SkeletonSize.xs})):e),Boolean(t)&&d.a.createElement(s.a,null,t)));var v=a(331),f=a(332);const y=c.a.create({chartSkeleton:{height:"175px",marginBottom:b.je.value,marginTop:b.je.value},container:{display:"flex"},cost:{flexGrow:1,minHeight:"470px",marginRight:b.je.value},legendSkeleton:{marginTop:b.je.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:b.ae.value,color:b.Ud.var,marginBottom:"0"},tops:{flexGrow:1,marginTop:b.ie.value}}),E=Object(p.d)()(({children:e,detailsLink:t,status:a,subTitle:m,subTitleTooltip:p=m,t:b,tabs:h,title:g})=>d.a.createElement(r.a,{className:Object(c.b)(y.reportSummary)},d.a.createElement(f.a,{gutter:"md"},d.a.createElement(v.a,{lg:5,xl:6},d.a.createElement("div",{className:Object(c.b)(y.cost)},d.a.createElement(n.a,null,d.a.createElement(i.a,{size:"lg"},g),Boolean(m)&&d.a.createElement(o.a,{content:p,enableFlip:!0},d.a.createElement("p",{className:Object(c.b)(y.subtitle)},m))),d.a.createElement(l.a,null,1===a?d.a.createElement(d.a.Fragment,null,d.a.createElement(u.Skeleton,{size:u.SkeletonSize.xs}),d.a.createElement(u.Skeleton,{className:Object(c.b)(y.chartSkeleton),size:u.SkeletonSize.md}),d.a.createElement(u.Skeleton,{size:u.SkeletonSize.sm}),d.a.createElement(u.Skeleton,{className:Object(c.b)(y.legendSkeleton),size:u.SkeletonSize.xs})):e))),d.a.createElement(v.a,{lg:7,xl:6},d.a.createElement("div",{className:Object(c.b)(y.container)},d.a.createElement("div",{className:Object(c.b)(y.tops)},1!==a&&d.a.createElement(d.a.Fragment,null,Boolean(h)&&d.a.createElement(l.a,null,h),Boolean(t)&&d.a.createElement(s.a,null,t))))))));var O=a(693),j=a(677);const k=c.a.create({reportSummaryDetails:{marginBottom:b.je.value,display:"flex",alignItems:"flex-end"},text:{paddingBottom:14,lineHeight:b.be.value,fontSize:b.ae.value},value:{color:b.Td.var,marginRight:b.ke.value,fontSize:b.Wd.value},valueContainer:{display:"inline-block",marginBottom:b.je.value,width:"50%",wordWrap:"break-word"}}),S=Object(p.d)()(({costLabel:e,formatValue:t,formatOptions:a,report:s,reportType:r="cost",showUnits:n=!1,showUsageFirst:i=!1,t:o,usageFormatOptions:l,usageLabel:u})=>{let m=d.a.createElement(O.a,null),p=d.a.createElement(O.a,null);s&&s.meta&&s.meta.total&&(m=t(s.meta.total.cost?s.meta.total.cost.value:0,s.meta.total.cost?s.meta.total.cost.units:"USD",a),p=t(s.meta.total.usage?s.meta.total.usage.value:0,s.meta.total.usage?s.meta.total.usage.units:"",l||a));const b=()=>d.a.createElement("div",{className:Object(c.b)(k.valueContainer)},d.a.createElement("div",{className:Object(c.b)(k.value)},m),d.a.createElement("div",{className:Object(c.b)(k.text)},d.a.createElement("div",null,e))),h=()=>{if(!u)return null;const e=s&&s.meta&&s.meta.total&&s.meta.total.usage?s.meta.total.usage.units:"",t=Object(j.c)(e),a=o(`units.${t}`);return d.a.createElement("div",{className:Object(c.b)(k.valueContainer)},d.a.createElement("div",{className:Object(c.b)(k.value)},p,Boolean(n&&s&&s.meta&&s.meta.total.usage&&s.meta.total.usage.value>=0)&&d.a.createElement("span",{className:Object(c.b)(k.text)},a)),d.a.createElement("div",{className:Object(c.b)(k.text)},d.a.createElement("div",null,u)))};return"cost"===r?d.a.createElement(d.a.Fragment,null,b()):i?d.a.createElement(d.a.Fragment,null,h(),b()):d.a.createElement(d.a.Fragment,null,b(),h())});var D=a(342);const T=c.a.create({reportSummaryItem:{":not(:last-child)":{marginBottom:b.je.value}},test:{":not(foo) svg":{overflow:"visible"}}}),w=({label:e,formatOptions:t,formatValue:a,t:s,totalValue:r,units:n,value:i})=>{const o=Object(j.c)(n),l="usd"!==o?s(`units.${o}`):void 0,u=Number((r?i/r*100:0).toFixed(2)),m=s("percent_of_total",{percent:u,units:l,value:a(i,n,t)});return d.a.createElement("li",{className:Object(c.b)(T.reportSummaryItem)},d.a.createElement(D.a,{label:m,value:u,title:e,size:D.b.sm}))};w.defaultProps={formatValue:e=>e};const _=Object(p.d)()(w);var C=a(690);const z=c.a.create({skeleton:{marginTop:b.je.value}});const x=Object(p.d)()(class extends d.a.Component{shouldComponentUpdate(e){return e.report!==this.props.report}getItems(){const{report:e,idKey:t,labelKey:a}=this.props,s=Object(C.a)({report:e,idKey:t,labelKey:a}),r=s.findIndex(e=>{const t=e.id;if(t&&null!==t)return t.toString().includes("Other")});return-1!==r?[...s.slice(0,r),...s.slice(r+1),s[r]]:s}render(){const{children:e,status:t}=this.props;if(1===t)return d.a.createElement(d.a.Fragment,null,d.a.createElement(u.Skeleton,{size:u.SkeletonSize.md}),d.a.createElement(u.Skeleton,{size:u.SkeletonSize.md,className:Object(c.b)(z.skeleton)}),d.a.createElement(u.Skeleton,{size:u.SkeletonSize.md,className:Object(c.b)(z.skeleton)}),d.a.createElement(u.Skeleton,{size:u.SkeletonSize.md,className:Object(c.b)(z.skeleton)}));{const t=this.getItems();return d.a.createElement("ul",null,e({items:t}))}}});var R=a(704);const N=c.a.create({chart:{marginBottom:b.ke.value}}),L=e=>d.a.createElement("div",{className:Object(c.b)(N.chart)},d.a.createElement(R.a,Object.assign({},e)));a.d(t,"a",function(){return g}),a.d(t,"b",function(){return E}),a.d(t,"c",function(){return S}),a.d(t,"d",function(){return _}),a.d(t,"e",function(){return x}),a.d(t,"f",function(){return L})},737:function(e,t,a){"use strict";var s=a(372),r=a(375),n=a(371),i=a(387),o=a(134),l=a(373),c=a(1136),u=a(678),m=a(2),d=a.n(m),p=a(162),b=a(3);const h=c.a.create({chartSkeleton:{height:"125px",marginBottom:b.je.value,marginTop:b.je.value},legendSkeleton:{marginTop:b.je.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:b.ae.value,color:b.Ud.var,marginBottom:"0"}}),g=Object(p.d)()(({children:e,detailsLink:t,title:a,subTitle:m,subTitleTooltip:p=m,status:b,t:g})=>d.a.createElement(r.a,{className:Object(c.b)(h.reportSummary)},d.a.createElement(n.a,null,d.a.createElement(i.a,{size:"lg"},a),Boolean(m)&&d.a.createElement(o.a,{content:p,enableFlip:!0},d.a.createElement("p",{className:Object(c.b)(h.subtitle)},m))),d.a.createElement(l.a,null,1===b?d.a.createElement(d.a.Fragment,null,d.a.createElement(u.Skeleton,{size:u.SkeletonSize.xs}),d.a.createElement(u.Skeleton,{className:Object(c.b)(h.chartSkeleton),size:u.SkeletonSize.md}),d.a.createElement(u.Skeleton,{size:u.SkeletonSize.sm}),d.a.createElement(u.Skeleton,{className:Object(c.b)(h.legendSkeleton),size:u.SkeletonSize.xs})):e),Boolean(t)&&d.a.createElement(s.a,null,t)));var v=a(331),f=a(332);const y=c.a.create({chartSkeleton:{height:"175px",marginBottom:b.je.value,marginTop:b.je.value},container:{display:"flex"},cost:{flexGrow:1,minHeight:"470px",marginRight:b.je.value},legendSkeleton:{marginTop:b.je.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:b.ae.value,color:b.Ud.var,marginBottom:"0"},tops:{flexGrow:1,marginTop:b.ie.value}}),E=Object(p.d)()(({children:e,detailsLink:t,status:a,subTitle:m,subTitleTooltip:p=m,t:b,tabs:h,title:g})=>d.a.createElement(r.a,{className:Object(c.b)(y.reportSummary)},d.a.createElement(f.a,{gutter:"md"},d.a.createElement(v.a,{lg:5,xl:6},d.a.createElement("div",{className:Object(c.b)(y.cost)},d.a.createElement(n.a,null,d.a.createElement(i.a,{size:"lg"},g),Boolean(m)&&d.a.createElement(o.a,{content:p,enableFlip:!0},d.a.createElement("p",{className:Object(c.b)(y.subtitle)},m))),d.a.createElement(l.a,null,1===a?d.a.createElement(d.a.Fragment,null,d.a.createElement(u.Skeleton,{size:u.SkeletonSize.xs}),d.a.createElement(u.Skeleton,{className:Object(c.b)(y.chartSkeleton),size:u.SkeletonSize.md}),d.a.createElement(u.Skeleton,{size:u.SkeletonSize.sm}),d.a.createElement(u.Skeleton,{className:Object(c.b)(y.legendSkeleton),size:u.SkeletonSize.xs})):e))),d.a.createElement(v.a,{lg:7,xl:6},d.a.createElement("div",{className:Object(c.b)(y.container)},d.a.createElement("div",{className:Object(c.b)(y.tops)},1!==a&&d.a.createElement(d.a.Fragment,null,Boolean(h)&&d.a.createElement(l.a,null,h),Boolean(t)&&d.a.createElement(s.a,null,t))))))));var O=a(693),j=a(677);const k=c.a.create({reportSummaryDetails:{marginBottom:b.je.value,display:"flex",alignItems:"flex-end"},text:{paddingBottom:14,lineHeight:b.be.value,fontSize:b.ae.value},value:{color:b.Td.var,marginRight:b.ke.value,fontSize:b.Wd.value},valueContainer:{display:"inline-block",marginBottom:b.je.value,width:"50%",wordWrap:"break-word"}}),S=Object(p.d)()(({costLabel:e,formatValue:t,formatOptions:a,report:s,reportType:r="cost",showUnits:n=!1,showUsageFirst:i=!1,t:o,units:l,usageFormatOptions:u,usageLabel:m})=>{let p=d.a.createElement(O.a,null),b=d.a.createElement(O.a,null);s&&s.meta&&s.meta.total&&(p=t(s.meta.total.cost?s.meta.total.cost.value:0,s.meta.total.cost?s.meta.total.cost.units:"USD",a),b=s.meta.total.usage&&s.meta.total.usage.value?t(s.meta.total.usage?s.meta.total.usage.value:0,s.meta.total.usage?s.meta.total.usage.units:"",u||a):t(s.meta.total.usage?s.meta.total.usage:0,s.meta.total.count?s.meta.total.count.units:"",u||a));const h=()=>d.a.createElement("div",{className:Object(c.b)(k.valueContainer)},d.a.createElement("div",{className:Object(c.b)(k.value)},p),d.a.createElement("div",{className:Object(c.b)(k.text)},d.a.createElement("div",null,e))),g=()=>{if(!m)return null;const e=s&&s.meta&&s.meta.total&&s.meta.total.usage?s.meta.total.usage.units:"",t=Object(j.c)(l||e),a=o(`units.${t}`);return d.a.createElement("div",{className:Object(c.b)(k.valueContainer)},d.a.createElement("div",{className:Object(c.b)(k.value)},b,Boolean(n&&(l||s&&s.meta&&s.meta.total.usage&&s.meta.total.usage.value>=0))&&d.a.createElement("span",{className:Object(c.b)(k.text)},a)),d.a.createElement("div",{className:Object(c.b)(k.text)},d.a.createElement("div",null,m)))};return"cost"===r?d.a.createElement(d.a.Fragment,null,h()):i?d.a.createElement(d.a.Fragment,null,g(),h()):d.a.createElement(d.a.Fragment,null,h(),g())});var D=a(342);const T=c.a.create({reportSummaryItem:{":not(:last-child)":{marginBottom:b.je.value}},test:{":not(foo) svg":{overflow:"visible"}}}),w=({label:e,formatOptions:t,formatValue:a,t:s,totalValue:r,units:n,value:i})=>{const o=Object(j.c)(n),l="usd"!==o?s(`units.${o}`):void 0,u=Number((r?i/r*100:0).toFixed(2)),m=s("percent_of_total",{percent:u,units:l,value:a(i,n,t)});return d.a.createElement("li",{className:Object(c.b)(T.reportSummaryItem)},d.a.createElement(D.a,{label:m,value:u,title:e,size:D.b.sm}))};w.defaultProps={formatValue:e=>e};const _=Object(p.d)()(w);var C=a(688);const z=c.a.create({skeleton:{marginTop:b.je.value}});const x=Object(p.d)()(class extends d.a.Component{shouldComponentUpdate(e){return e.report!==this.props.report}getItems(){const{report:e,idKey:t,labelKey:a}=this.props,s=Object(C.a)({report:e,idKey:t,labelKey:a}),r=s.findIndex(e=>{const t=e.id;if(t&&null!==t)return t.toString().includes("Other")});return-1!==r?[...s.slice(0,r),...s.slice(r+1),s[r]]:s}render(){const{children:e,status:t}=this.props;if(1===t)return d.a.createElement(d.a.Fragment,null,d.a.createElement(u.Skeleton,{size:u.SkeletonSize.md}),d.a.createElement(u.Skeleton,{size:u.SkeletonSize.md,className:Object(c.b)(z.skeleton)}),d.a.createElement(u.Skeleton,{size:u.SkeletonSize.md,className:Object(c.b)(z.skeleton)}),d.a.createElement(u.Skeleton,{size:u.SkeletonSize.md,className:Object(c.b)(z.skeleton)}));{const t=this.getItems();return d.a.createElement("ul",null,e({items:t}))}}});var R=a(704);const N=c.a.create({chart:{marginBottom:b.ke.value}}),L=e=>d.a.createElement("div",{className:Object(c.b)(N.chart)},d.a.createElement(R.a,Object.assign({},e)));a.d(t,"a",function(){return g}),a.d(t,"b",function(){return E}),a.d(t,"c",function(){return S}),a.d(t,"d",function(){return _}),a.d(t,"e",function(){return x}),a.d(t,"f",function(){return L})},738:function(e,t,a){"use strict";var s=a(372),r=a(375),n=a(371),i=a(387),o=a(134),l=a(373),c=a(1136),u=a(678),m=a(2),d=a.n(m),p=a(162),b=a(3);const h=c.a.create({chartSkeleton:{height:"125px",marginBottom:b.je.value,marginTop:b.je.value},legendSkeleton:{marginTop:b.je.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:b.ae.value,color:b.Ud.var,marginBottom:"0"}}),g=Object(p.d)()(({children:e,detailsLink:t,title:a,subTitle:m,subTitleTooltip:p=m,status:b,t:g})=>d.a.createElement(r.a,{className:Object(c.b)(h.reportSummary)},d.a.createElement(n.a,null,d.a.createElement(i.a,{size:"lg"},a),Boolean(m)&&d.a.createElement(o.a,{content:p,enableFlip:!0},d.a.createElement("p",{className:Object(c.b)(h.subtitle)},m))),d.a.createElement(l.a,null,1===b?d.a.createElement(d.a.Fragment,null,d.a.createElement(u.Skeleton,{size:u.SkeletonSize.xs}),d.a.createElement(u.Skeleton,{className:Object(c.b)(h.chartSkeleton),size:u.SkeletonSize.md}),d.a.createElement(u.Skeleton,{size:u.SkeletonSize.sm}),d.a.createElement(u.Skeleton,{className:Object(c.b)(h.legendSkeleton),size:u.SkeletonSize.xs})):e),Boolean(t)&&d.a.createElement(s.a,null,t)));var v=a(331),f=a(332);const y=c.a.create({chartSkeleton:{height:"175px",marginBottom:b.je.value,marginTop:b.je.value},container:{display:"flex"},cost:{flexGrow:1,minHeight:"470px",marginRight:b.je.value},legendSkeleton:{marginTop:b.je.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:b.ae.value,color:b.Ud.var,marginBottom:"0"},tops:{flexGrow:1,marginTop:b.ie.value}}),E=Object(p.d)()(({children:e,detailsLink:t,status:a,subTitle:m,subTitleTooltip:p=m,t:b,tabs:h,title:g})=>d.a.createElement(r.a,{className:Object(c.b)(y.reportSummary)},d.a.createElement(f.a,{gutter:"md"},d.a.createElement(v.a,{lg:5,xl:6},d.a.createElement("div",{className:Object(c.b)(y.cost)},d.a.createElement(n.a,null,d.a.createElement(i.a,{size:"lg"},g),Boolean(m)&&d.a.createElement(o.a,{content:p,enableFlip:!0},d.a.createElement("p",{className:Object(c.b)(y.subtitle)},m))),d.a.createElement(l.a,null,1===a?d.a.createElement(d.a.Fragment,null,d.a.createElement(u.Skeleton,{size:u.SkeletonSize.xs}),d.a.createElement(u.Skeleton,{className:Object(c.b)(y.chartSkeleton),size:u.SkeletonSize.md}),d.a.createElement(u.Skeleton,{size:u.SkeletonSize.sm}),d.a.createElement(u.Skeleton,{className:Object(c.b)(y.legendSkeleton),size:u.SkeletonSize.xs})):e))),d.a.createElement(v.a,{lg:7,xl:6},d.a.createElement("div",{className:Object(c.b)(y.container)},d.a.createElement("div",{className:Object(c.b)(y.tops)},1!==a&&d.a.createElement(d.a.Fragment,null,Boolean(h)&&d.a.createElement(l.a,null,h),Boolean(t)&&d.a.createElement(s.a,null,t))))))));var O=a(693),j=a(677);const k=c.a.create({reportSummaryDetails:{marginBottom:b.je.value,display:"flex",alignItems:"flex-end"},text:{paddingBottom:14,lineHeight:b.be.value,fontSize:b.ae.value},value:{color:b.Td.var,marginRight:b.ke.value,fontSize:b.Wd.value},valueContainer:{display:"inline-block",marginBottom:b.je.value,width:"50%",wordWrap:"break-word"}}),S=Object(p.d)()(({costLabel:e,formatValue:t,formatOptions:a,report:s,reportType:r="cost",requestFormatOptions:n,requestLabel:i,showUnits:o=!1,showUsageFirst:l=!1,t:u,usageFormatOptions:m,usageLabel:p})=>{let b=d.a.createElement(O.a,null),h=d.a.createElement(O.a,null),g=d.a.createElement(O.a,null);const v="database"===r||"instance_type"===r||"network"===r||"storage"===r;s&&s.meta&&s.meta.total&&(b=t(s.meta.total.cost?s.meta.total.cost.value:0,s.meta.total.cost?s.meta.total.cost.units:"USD",a),v?g=t(s.meta.total.usage?s.meta.total.usage.value:0,s.meta.total.usage?s.meta.total.usage.units:"",m||a):(g=t(s.meta.total.usage?s.meta.total.usage.value:0,s.meta.total.usage?s.meta.total.usage.units:"",m||a),h=t(s.meta.total.request?s.meta.total.request.value:0,s.meta.total.request?s.meta.total.request.units:"",n?m:a)));const f=()=>d.a.createElement("div",{className:Object(c.b)(k.valueContainer)},d.a.createElement("div",{className:Object(c.b)(k.value)},b),d.a.createElement("div",{className:Object(c.b)(k.text)},d.a.createElement("div",null,e))),y=()=>{if(!p)return null;const e=s&&s.meta&&s.meta.total&&s.meta.total.request?s.meta.total.request.units:"",t=Object(j.c)(e),a=u(`units.${t}`);return d.a.createElement("div",{className:Object(c.b)(k.valueContainer)},d.a.createElement("div",{className:Object(c.b)(k.value)},h,Boolean(o&&s&&s.meta&&s.meta.total.request&&s.meta.total.request.value>=0)&&d.a.createElement("span",{className:Object(c.b)(k.text)},a)),d.a.createElement("div",{className:Object(c.b)(k.text)},d.a.createElement("div",null,i)))},E=()=>{if(!p)return null;const e=s&&s.meta&&s.meta.total&&s.meta.total.usage?s.meta.total.usage.units:"",t=Object(j.c)(e),a=u(`units.${t}`);return d.a.createElement("div",{className:Object(c.b)(k.valueContainer)},d.a.createElement("div",{className:Object(c.b)(k.value)},g,Boolean(o&&s&&s.meta&&s.meta.total.usage&&s.meta.total.usage.value>=0)&&d.a.createElement("span",{className:Object(c.b)(k.text)},a)),d.a.createElement("div",{className:Object(c.b)(k.text)},d.a.createElement("div",null,p)))};return"cost"===r?d.a.createElement(d.a.Fragment,null,f()):v?l?d.a.createElement(d.a.Fragment,null,E(),f()):d.a.createElement(d.a.Fragment,null,f(),E()):l?d.a.createElement(d.a.Fragment,null,E(),y()):d.a.createElement(d.a.Fragment,null,y(),E())});var D=a(342);const T=c.a.create({reportSummaryItem:{":not(:last-child)":{marginBottom:b.je.value}},test:{":not(foo) svg":{overflow:"visible"}}}),w=({label:e,formatOptions:t,formatValue:a,t:s,totalValue:r,units:n,value:i})=>{const o=Object(j.c)(n),l="usd"!==o?s(`units.${o}`):void 0,u=Number((r?i/r*100:0).toFixed(2)),m=s("percent_of_total",{percent:u,units:l,value:a(i,n,t)});return d.a.createElement("li",{className:Object(c.b)(T.reportSummaryItem)},d.a.createElement(D.a,{label:m,value:u,title:e,size:D.b.sm}))};w.defaultProps={formatValue:e=>e};const _=Object(p.d)()(w);var C=a(687);const z=c.a.create({skeleton:{marginTop:b.je.value}});const x=Object(p.d)()(class extends d.a.Component{shouldComponentUpdate(e){return e.report!==this.props.report}getItems(){const{report:e,idKey:t,labelKey:a}=this.props,s=Object(C.a)({report:e,idKey:t,labelKey:a}),r=s.findIndex(e=>{const t=e.id;if(t&&null!==t)return t.toString().includes("Other")});return-1!==r?[...s.slice(0,r),...s.slice(r+1),s[r]]:s}render(){const{children:e,status:t}=this.props;if(1===t)return d.a.createElement(d.a.Fragment,null,d.a.createElement(u.Skeleton,{size:u.SkeletonSize.md}),d.a.createElement(u.Skeleton,{size:u.SkeletonSize.md,className:Object(c.b)(z.skeleton)}),d.a.createElement(u.Skeleton,{size:u.SkeletonSize.md,className:Object(c.b)(z.skeleton)}),d.a.createElement(u.Skeleton,{size:u.SkeletonSize.md,className:Object(c.b)(z.skeleton)}));{const t=this.getItems();return d.a.createElement("ul",null,e({items:t}))}}});var R=a(704);const N=c.a.create({chart:{marginBottom:b.ke.value}}),L=e=>d.a.createElement("div",{className:Object(c.b)(N.chart)},d.a.createElement(R.a,Object.assign({},e)));var F=a(718);const K=e=>d.a.createElement("div",{className:Object(c.b)(N.chart)},d.a.createElement(F.a,Object.assign({},e)));a.d(t,"a",function(){return g}),a.d(t,"b",function(){return E}),a.d(t,"c",function(){return S}),a.d(t,"d",function(){return _}),a.d(t,"e",function(){return x}),a.d(t,"f",function(){return L}),a.d(t,"g",function(){return K})},739:function(e,t,a){"use strict";var s=a(372),r=a(375),n=a(371),i=a(387),o=a(134),l=a(373),c=a(1136),u=a(678),m=a(2),d=a.n(m),p=a(162),b=a(3);const h=c.a.create({chartSkeleton:{height:"125px",marginBottom:b.je.value,marginTop:b.je.value},legendSkeleton:{marginTop:b.je.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:b.ae.value,color:b.Ud.var,marginBottom:"0"}}),g=Object(p.d)()(({children:e,detailsLink:t,title:a,subTitle:m,subTitleTooltip:p=m,status:b,t:g})=>d.a.createElement(r.a,{className:Object(c.b)(h.reportSummary)},d.a.createElement(n.a,null,d.a.createElement(i.a,{size:"lg"},a),Boolean(m)&&d.a.createElement(o.a,{content:p,enableFlip:!0},d.a.createElement("p",{className:Object(c.b)(h.subtitle)},m))),d.a.createElement(l.a,null,1===b?d.a.createElement(d.a.Fragment,null,d.a.createElement(u.Skeleton,{size:u.SkeletonSize.xs}),d.a.createElement(u.Skeleton,{className:Object(c.b)(h.chartSkeleton),size:u.SkeletonSize.md}),d.a.createElement(u.Skeleton,{size:u.SkeletonSize.sm}),d.a.createElement(u.Skeleton,{className:Object(c.b)(h.legendSkeleton),size:u.SkeletonSize.xs})):e),Boolean(t)&&d.a.createElement(s.a,null,t)));var v=a(331),f=a(332);const y=c.a.create({chartSkeleton:{height:"175px",marginBottom:b.je.value,marginTop:b.je.value},container:{display:"flex"},cost:{flexGrow:1,minHeight:"440px",marginRight:b.je.value},legendSkeleton:{marginTop:b.je.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:b.ae.value,color:b.Ud.var,marginBottom:"0"},tops:{flexGrow:1,marginTop:b.ie.value}}),E=Object(p.d)()(({children:e,detailsLink:t,status:a,subTitle:m,subTitleTooltip:p=m,t:b,tabs:h,title:g})=>d.a.createElement(r.a,{className:Object(c.b)(y.reportSummary)},d.a.createElement(f.a,{gutter:"md"},d.a.createElement(v.a,{lg:5,xl:6},d.a.createElement("div",{className:Object(c.b)(y.cost)},d.a.createElement(n.a,null,d.a.createElement(i.a,{size:"lg"},g),Boolean(m)&&d.a.createElement(o.a,{content:p,enableFlip:!0},d.a.createElement("p",{className:Object(c.b)(y.subtitle)},m))),d.a.createElement(l.a,null,1===a?d.a.createElement(d.a.Fragment,null,d.a.createElement(u.Skeleton,{size:u.SkeletonSize.xs}),d.a.createElement(u.Skeleton,{size:u.SkeletonSize.md,className:Object(c.b)(y.chartSkeleton)}),d.a.createElement(u.Skeleton,{size:u.SkeletonSize.sm}),d.a.createElement(u.Skeleton,{size:u.SkeletonSize.xs,className:Object(c.b)(y.legendSkeleton)})):e))),d.a.createElement(v.a,{lg:7,xl:6},d.a.createElement("div",{className:Object(c.b)(y.container)},d.a.createElement("div",{className:Object(c.b)(y.tops)},1!==a&&d.a.createElement(d.a.Fragment,null,Boolean(h)&&d.a.createElement(l.a,null,h),Boolean(t)&&d.a.createElement(s.a,null,t))))))));var O=a(693),j=a(677);const k=c.a.create({reportSummaryDetails:{marginBottom:b.je.value,display:"flex",alignItems:"flex-end"},text:{paddingBottom:14,lineHeight:b.be.value,fontSize:b.ae.value},value:{color:b.Td.var,marginRight:b.ke.value,fontSize:b.Wd.value},valueContainer:{display:"inline-block",marginBottom:b.je.value,width:"50%",wordWrap:"break-word"}}),S=Object(p.d)()(({costLabel:e,formatValue:t,formatOptions:a,report:s,reportType:r="cost",requestFormatOptions:n,requestLabel:i,showUnits:l=!1,showUsageFirst:u=!1,t:m,usageFormatOptions:p,usageLabel:b})=>{let h=d.a.createElement(O.a,null),g=d.a.createElement(O.a,null),v=d.a.createElement(O.a,null),f=d.a.createElement(O.a,null),y=d.a.createElement(O.a,null);s&&s.meta&&s.meta.total&&(h=t(s.meta.total.cost?s.meta.total.cost.value:0,s.meta.total.cost?s.meta.total.cost.units:"USD",a),v=t(s.meta.total.derived_cost?s.meta.total.derived_cost.value:0,s.meta.total.derived_cost?s.meta.total.derived_cost.units:"USD",a),f=t(s.meta.total.infrastructure_cost?s.meta.total.infrastructure_cost.value:0,s.meta.total.infrastructure_cost?s.meta.total.infrastructure_cost.units:"USD",a),"cost"!==r&&(g=t(s.meta.total.usage?s.meta.total.usage.value:0,s.meta.total.usage?s.meta.total.usage.units:"",p||a),y=t(s.meta.total.request?s.meta.total.request.value:0,s.meta.total.request?s.meta.total.request.units:"",n?p:a)));const E=()=>{if(!b)return null;const e=s&&s.meta&&s.meta.total&&s.meta.total.request?s.meta.total.request.units:"",t=Object(j.c)(e),a=m(`units.${t}`);return d.a.createElement("div",{className:Object(c.b)(k.valueContainer)},d.a.createElement("div",{className:Object(c.b)(k.value)},y,Boolean(l&&s&&s.meta&&s.meta.total.request&&s.meta.total.request.value>=0)&&d.a.createElement("span",{className:Object(c.b)(k.text)},a)),d.a.createElement("div",{className:Object(c.b)(k.text)},d.a.createElement("div",null,i)))},S=()=>{if(!b)return null;const e=s&&s.meta&&s.meta.total&&s.meta.total.usage?s.meta.total.usage.units:"",t=Object(j.c)(e),a=m(`units.${t}`);return d.a.createElement("div",{className:Object(c.b)(k.valueContainer)},d.a.createElement("div",{className:Object(c.b)(k.value)},g,Boolean(l&&s&&s.meta&&s.meta.total.usage&&s.meta.total.usage.value>=0)&&d.a.createElement("span",{className:Object(c.b)(k.text)},a)),d.a.createElement("div",{className:Object(c.b)(k.text)},d.a.createElement("div",null,b)))};return"cost"===r?d.a.createElement(d.a.Fragment,null,(()=>d.a.createElement("div",{className:Object(c.b)(k.valueContainer)},d.a.createElement(o.a,{content:m("ocp_dashboard.total_cost_tooltip",{derivedCost:v,infrastructureCost:f}),enableFlip:!0},d.a.createElement("div",{className:Object(c.b)(k.value)},h)),d.a.createElement("div",{className:Object(c.b)(k.text)},d.a.createElement("div",null,e))))()):u?d.a.createElement(d.a.Fragment,null,S(),E()):d.a.createElement(d.a.Fragment,null,E(),S())});var D=a(342);const T=c.a.create({reportSummaryItem:{":not(:last-child)":{marginBottom:b.je.value}},test:{":not(foo) svg":{overflow:"visible"}}}),w=({formatOptions:e,formatValue:t,label:a,t:s,totalValue:r,units:n,value:i})=>{const o=Object(j.c)(n),l="usd"!==o?s(`units.${o}`):void 0,u=Number((r?i/r*100:0).toFixed(2)),m=s("percent_of_total",{percent:u,units:l,value:t(i,n,e)});return d.a.createElement("li",{className:Object(c.b)(T.reportSummaryItem)},d.a.createElement(D.a,{label:m,value:u,title:a,size:D.b.sm}))};w.defaultProps={formatValue:e=>e};const _=Object(p.d)()(w);var C=a(686);const z=c.a.create({skeleton:{marginTop:b.je.value}});const x=Object(p.d)()(class extends d.a.Component{shouldComponentUpdate(e){return e.report!==this.props.report}getItems(){const{report:e,idKey:t,labelKey:a}=this.props,s=Object(C.a)({report:e,idKey:t,labelKey:a}),r=s.findIndex(e=>{const t=e.id;if(t&&null!==t)return t.toString().includes("Other")});return-1!==r?[...s.slice(0,r),...s.slice(r+1),s[r]]:s}render(){const{children:e,status:t}=this.props;if(1===t)return d.a.createElement(d.a.Fragment,null,d.a.createElement(u.Skeleton,{size:u.SkeletonSize.md}),d.a.createElement(u.Skeleton,{size:u.SkeletonSize.md,className:Object(c.b)(z.skeleton)}),d.a.createElement(u.Skeleton,{size:u.SkeletonSize.md,className:Object(c.b)(z.skeleton)}),d.a.createElement(u.Skeleton,{size:u.SkeletonSize.md,className:Object(c.b)(z.skeleton)}));{const t=this.getItems();return d.a.createElement("ul",null,e({items:t}))}}});var R=a(1103),N=a(1121),L=a(1107),F=a(1101),K=a(1105),U=a(684),I=a(680),B=a(682),H=a.n(B),q=a(115);const V={currentCostData:{data:{fill:"none",stroke:"#A2DA9C"}},currentInfrastructureCostData:{data:{fill:"none",stroke:"#88D080",strokeDasharray:"3,3"}},itemsPerRow:2,legend:{labels:{fontFamily:b.Vd.value,fontSize:14},minWidth:200},previousCostData:{data:{fill:"none",stroke:b.fe.value}},previousInfrastructureCostData:{data:{fill:"none",stroke:b.fe.value,strokeDasharray:"3,3"}},currentColorScale:[b.Kb.value,b.Lb.value,b.Mb.value,b.Nb.value,b.Ob.value],previousColorScale:[b.fe.value,b.fe.value],yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}},P=c.a.create({chartContainer:{":not(foo) svg":{overflow:"visible"}}});class $ extends d.a.Component{constructor(){super(...arguments),this.containerRef=d.a.createRef(),this.state={width:0},this.initDatum=(()=>{const{currentInfrastructureCostData:e,currentCostData:t,previousInfrastructureCostData:a,previousCostData:s}=this.props,r=[],n=[],i="chart.cost_legend_label";if(s){const e=Object(I.a)(s,i,!0,!0,1);r.push({name:e,symbol:{type:"minus"}}),n.push(V.previousColorScale[0])}if(t){const e=Object(I.a)(t,i,!0,!1);r.push({name:e,symbol:{type:"minus"}}),n.push(V.currentColorScale[0])}if(a){const e=Object(I.a)(a,"chart.cost_infrastructure_legend_label",!0,!0,1);r.push({name:e,symbol:{type:"dash"}}),n.push(V.previousColorScale[1])}if(e){const t=Object(I.a)(e,"chart.cost_infrastructure_legend_label",!0,!1);r.push({name:t,symbol:{type:"dash"}}),n.push(V.currentColorScale[1])}this.setState({chartDatum:{charts:[{data:s,name:"previousCost",show:!0,style:V.previousCostData},{data:t,name:"currentCost",show:!0,style:V.currentCostData},{data:a,name:"previousInfrastructureCost",show:!0,style:V.previousInfrastructureCostData},{data:e,name:"currentInfrastructureCost",show:!0,style:V.currentInfrastructureCostData}],legend:{colorScale:n,data:r,gutter:55,onClick:this.handleLegendClick}}})}),this.handleLegendClick=(e=>{const{chartDatum:t}=this.state,a=Object.assign({},t);e.index>=0&&a.charts.length&&(a.charts[e.index].show=!a.charts[e.index].show,this.setState({chartDatum:a}))}),this.handleResize=(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})}),this.getChart=((e,t)=>e.data&&e.data.length&&e.show?d.a.createElement(L.a,{data:e.data,interpolation:"basis",name:e.name,key:`usage-chart-${e.name}-${t}`,style:e.style}):null),this.getLegend=((e,t)=>{if(!(e&&e.data&&e.data.length))return null;const{legendItemsPerRow:a,title:s}=this.props,r=a||(t>400?V.itemsPerRow:1),n={onClick:()=>[{target:"data",mutation:t=>(e.onClick(t),null)}]};return d.a.createElement(K.a,{colorScale:e.colorScale,data:e.data,events:[{target:"data",eventHandlers:n},{target:"labels",eventHandlers:n}],height:25,itemsPerRow:r,responsive:!1,style:V.legend,title:s})}),this.getTooltipLabel=(({datum:e})=>{const{formatDatumValue:t,formatDatumOptions:a}=this.props,s=Object(I.e)(e,Object(I.d)(t),a,"date");return"currentCost"===e.childName||"previousCost"===e.childName?q.a.t("chart.cost_tooltip",{value:s}):"currentInfrastructureCost"===e.childName||"previousInfrastructureCost"===e.childName?q.a.t("chart.cost_infrastructure_tooltip",{value:s}):s})}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize)}),this.initDatum()}componentDidUpdate(e){e.currentInfrastructureCostData===this.props.currentInfrastructureCostData&&e.currentCostData===this.props.currentCostData&&e.previousInfrastructureCostData===this.props.previousInfrastructureCostData&&e.previousCostData===this.props.previousCostData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}getDomain(){const{currentInfrastructureCostData:e,currentCostData:t,previousInfrastructureCostData:a,previousCostData:s}=this.props,r={x:[1,31]},n=e?Object(I.c)(e):0,i=t?Object(I.c)(t):0,o=a?Object(I.c)(a):0,l=s?Object(I.c)(s):0,c=Math.max(n,i,o,l),u=c>0?Math.ceil(c+.1*c):0;return u>0&&(r.y=[0,u]),r}getEndDate(){const{currentInfrastructureCostData:e,currentCostData:t,previousInfrastructureCostData:a,previousCostData:s}=this.props,r=e?H()(Object(I.b)(e,!0,!0)[1]):0,n=t?H()(Object(I.b)(t,!0,!0)[1]):0,i=a?H()(Object(I.b)(a,!0,!0)[1]):0,o=s?H()(Object(I.b)(s,!0,!0)[1]):0;return r>0||n>0||i>0||o>0?Math.max(r,n,i,o):31}isLegendVisible(){const{chartDatum:e}=this.state;let t=!1;return e&&e.legend&&e.legend.data&&e.legend.data.forEach(e=>{e.name&&""!==e.name.trim()&&(t=!0)}),t}render(){const{height:e,containerHeight:t=e,padding:a}=this.props,{chartDatum:s,width:r}=this.state,n=d.a.createElement(F.a,{constrainToVisibleArea:!0,labels:this.getTooltipLabel,voronoiDimension:"x"}),i=this.getDomain(),o=this.getEndDate(),l=Math.floor(o/2),u=this.isLegendVisible();return d.a.createElement("div",{className:Object(c.b)(P.chartContainer),ref:this.containerRef,style:{height:r>400?t:t+75}},d.a.createElement(R.a,{containerComponent:n,domain:i,height:e,legendComponent:u?this.getLegend(s.legend,r):void 0,legendData:u?s.legend.data:void 0,legendPosition:"bottom-left",padding:a,theme:U.a,width:r},Boolean(s&&s)&&s.charts.map((e,t)=>this.getChart(e,t)),d.a.createElement(N.a,{style:V.xAxis,tickValues:[1,l,o]}),d.a.createElement(N.a,{dependentAxis:!0,style:V.yAxis})))}}const W=c.a.create({chart:{marginBottom:b.ke.value}}),A=e=>d.a.createElement("div",{className:Object(c.b)(W.chart)},d.a.createElement($,Object.assign({},e)));var M=a(718);const Q=e=>d.a.createElement("div",{className:Object(c.b)(W.chart)},d.a.createElement(M.a,Object.assign({},e)));a.d(t,"a",function(){return g}),a.d(t,"b",function(){return E}),a.d(t,"c",function(){return S}),a.d(t,"d",function(){return _}),a.d(t,"e",function(){return x}),a.d(t,"f",function(){return A}),a.d(t,"g",function(){return Q})},740:function(e,t,a){var s=a(695);e.exports=function(e){return s(e).getMonth()}},854:function(e,t,a){"use strict";var s=a(177),r=a(21),n=a(387),i=a(243),o=a(340),l=a(199),c=a(219),u=(a(13),a(1136)),m=a(169),d=a(697),p=a(694),b=a(703),h=a(331),g=a(332),v=a(2),f=a.n(v),y=a(162),E=a(114),O=a(171),j=a(98),k=a(167),S=a(680),D=a(736),T=a(691),w=a.n(T),_=a(682),C=a.n(_),z=a(740),x=a.n(z),R=a(705),N=a.n(R),L=a(1135),F=a(94),K=a(677),U=a(3);const I={chartAltHeight:180,chartHeight:80,containerAltHeight:200,containerTrendHeight:150},B=u.a.create({tabs:{marginTop:U.ge.value},tabItems:{marginTop:U.le.value}}),H=e=>{switch(e){case"services":return"service";case"accounts":return"account";case"regions":return"region";case"instance_type":return"instance_type"}};const q=Object(j.a)((e,{widgetId:t})=>{const a=O.c.selectWidget(e,t),s=O.c.selectWidgetQueries(e,t);return Object.assign({},a,{currentQuery:s.current,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:F.c.selectReport(e,a.reportType,s.current),currentReportFetchStatus:F.c.selectReportFetchStatus(e,a.reportType,s.current),previousReport:F.c.selectReport(e,a.reportType,s.previous),tabsReport:F.c.selectReport(e,a.reportType,s.tabs),tabsReportFetchStatus:F.c.selectReportFetchStatus(e,a.reportType,s.tabs)})}),V={fetchReports:O.a.fetchWidgetReports,updateTab:O.a.changeWidgetTab},P=Object(y.d)()(Object(E.connect)(q,V)(class extends f.a.Component{constructor(){super(...arguments),this.state={activeTabKey:0},this.buildDetailsLink=(e=>{const t=H(e);return`/aws?${Object(k.a)({group_by:{[t]:"*"},order_by:{cost:"desc"}})}`}),this.getChart=((e,t)=>{const{currentReport:a,details:s,previousReport:r,t:n,trend:i}=this.props,o=Object(S.g)(a,i.type),l=Object(S.g)(r,i.type),c=this.getUnits();return f.a.createElement(D.f,{containerHeight:e,currentData:o,formatDatumValue:K.b,formatDatumOptions:i.formatOptions,height:t,previousData:l,showUsageLegendLabel:s.showUsageLegendLabel,title:n(i.titleKey,{units:n(`units.${c}`)})})}),this.getDetails=(()=>{const{currentReport:e,details:t,isUsageFirst:a,reportType:s}=this.props,r=this.getUnits();return f.a.createElement(D.c,{costLabel:this.getDetailsLabel(t.costKey,r),formatOptions:t.formatOptions,formatValue:K.b,report:e,reportType:s,showUnits:t.showUnits,showUsageFirst:a,usageFormatOptions:t.usageFormatOptions,usageLabel:this.getDetailsLabel(t.usageKey,r)})}),this.getDetailsLabel=((e,t)=>{const{t:a}=this.props;return e?a(e,{units:a(`units.${t}`)}):void 0}),this.getDetailsLink=(()=>{const{currentTab:e,isDetailsLink:t}=this.props;return t&&f.a.createElement(L.a,{to:this.buildDetailsLink(e),onClick:this.handleInsightsNavClick},this.getDetailsLinkTitle(e))}),this.getDetailsLinkTitle=(e=>{const{t:t}=this.props;return t("group_by.all",{groupBy:H(e)||""})}),this.getHorizontalLayout=(()=>{const{currentReportFetchStatus:e}=this.props;return f.a.createElement(D.b,{detailsLink:this.getDetailsLink(),status:e,subTitle:this.getSubTitle(),tabs:this.getTabs(),title:this.getTitle()},this.getDetails(),this.getChart(I.containerAltHeight,I.chartAltHeight))}),this.getSubTitle=(()=>{const{t:e}=this.props,t=new Date,a=x()(t),s=w()(t,"D"),r=w()(N()(t),"D");return e("aws_dashboard.widget_subtitle",{count:C()(t),endDate:s,month:a,startDate:r})}),this.getTab=((e,t)=>{const{tabsReport:a,tabsReportFetchStatus:s}=this.props,r=H(e);return f.a.createElement(o.a,{eventKey:t,key:`${H(e)}-tab`,title:this.getTabTitle(e)},f.a.createElement("div",{className:Object(u.b)(B.tabItems)},f.a.createElement(D.e,{idKey:r,key:`${r}-items`,report:a,status:s},({items:t})=>t.map(t=>this.getTabItem(e,t)))))}),this.getTabItem=((e,t)=>{const{availableTabs:a,reportType:s,tabsReport:r,topItems:n}=this.props,{activeTabKey:i}=this.state,o=H(e),l=H(a[i]),c="cost"===s||"database"===s||"network"===s;return l===o?f.a.createElement(D.d,{key:`${t.id}-item`,formatOptions:n.formatOptions,formatValue:K.b,label:t.label?t.label.toString():"",totalValue:c?r.meta.total.cost.value:r.meta.total.usage.value,units:t.units,value:t.cost}):null}),this.getTabs=(()=>{const{availableTabs:e}=this.props;return f.a.createElement(i.a,{isFilled:!0,activeKey:this.state.activeTabKey,onSelect:this.handleTabClick},e.map((e,t)=>this.getTab(e,t)))}),this.getTabTitle=(e=>{const{t:t}=this.props;return t("group_by.top",{groupBy:H(e)||""})}),this.getTitle=(()=>{const{t:e,titleKey:t}=this.props,a=new Date,s=x()(a);return e(t,{endDate:w()(a,"Do"),month:s,startDate:w()(N()(a),"Do")})}),this.getUnits=(()=>{const{currentReport:e,reportType:t}=this.props;let a="";return e&&e.meta&&e.meta.total&&(a="cost"===t||"database"===t||"network"===t?e.meta.total.cost?Object(K.c)(e.meta.total.cost.units):"":e.meta.total.usage?Object(K.c)(e.meta.total.usage.units):""),a}),this.getVerticalLayout=(()=>{const{availableTabs:e,currentReportFetchStatus:t}=this.props;return f.a.createElement(D.a,{detailsLink:this.getDetailsLink(),status:t,subTitle:this.getSubTitle(),title:this.getTitle()},this.getDetails(),this.getChart(I.containerTrendHeight,I.chartHeight),Boolean(e)&&f.a.createElement("div",{className:Object(u.b)(B.tabs)},this.getTabs()))}),this.handleInsightsNavClick=(()=>{insights.chrome.appNavClick({id:"aws",secondaryNav:!0})}),this.handleTabClick=((e,t)=>{const{availableTabs:a,id:s,updateTab:r}=this.props;r(s,a[t]),this.setState({activeTabKey:t})})}componentDidMount(){const{availableTabs:e,fetchReports:t,id:a,updateTab:s,widgetId:r}=this.props;s(a,e[0]),t(r)}render(){const{isHorizontal:e=!1}=this.props;return Boolean(e)?this.getHorizontalLayout():this.getVerticalLayout()}})),$=Object(j.a)(e=>({selectWidgets:O.c.selectWidgets(e),widgets:O.c.selectCurrentWidgets(e)}));var W=Object(y.d)()(Object(E.connect)($,{})(({selectWidgets:e,t:t,widgets:a})=>f.a.createElement("div",null,f.a.createElement(g.a,{gutter:"md"},a.map(t=>{const a=e[t];return Boolean(a.isHorizontal)?f.a.createElement(h.a,{sm:12,key:t},f.a.createElement(P,{widgetId:t})):f.a.createElement(h.a,{lg:12,xl:6,xl2:4,key:t},f.a.createElement(P,{widgetId:t}))}))))),A=a(170),M=a(166),Q=a(737),G=a(93);const Y={chartAltHeight:180,chartHeight:80,containerAltHeight:200,containerTrendHeight:150},J=u.a.create({tabs:{marginTop:U.ge.value},tabItems:{marginTop:U.le.value}}),X=e=>{switch(e){case"service_names":return"service_name";case"subscription_guids":return"subscription_guid";case"resource_locations":return"resource_location";case"instance_type":return"instance_type"}};const Z=Object(j.a)((e,{widgetId:t})=>{const a=A.c.selectWidget(e,t),s=A.c.selectWidgetQueries(e,t);return Object.assign({},a,{currentQuery:s.current,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:G.c.selectReport(e,a.reportType,s.current),currentReportFetchStatus:G.c.selectReportFetchStatus(e,a.reportType,s.current),previousReport:G.c.selectReport(e,a.reportType,s.previous),tabsReport:G.c.selectReport(e,a.reportType,s.tabs),tabsReportFetchStatus:G.c.selectReportFetchStatus(e,a.reportType,s.tabs)})}),ee={fetchReports:A.a.fetchWidgetReports,updateTab:A.a.changeWidgetTab},te=Object(y.d)()(Object(E.connect)(Z,ee)(class extends f.a.Component{constructor(){super(...arguments),this.state={activeTabKey:0},this.buildDetailsLink=(e=>{const t=X(e);return`/azure?${Object(M.a)({group_by:{[t]:"*"},order_by:{cost:"desc"}})}`}),this.getChart=((e,t)=>{const{currentReport:a,details:s,previousReport:r,t:n,trend:i}=this.props,o=Object(S.h)(a,i.type),l=Object(S.h)(r,i.type),c=this.getUnits();return f.a.createElement(Q.f,{containerHeight:e,currentData:o,formatDatumValue:K.b,formatDatumOptions:i.formatOptions,height:t,previousData:l,showUsageLegendLabel:s.showUsageLegendLabel,title:n(i.titleKey,{units:n(`units.${c}`)}),units:c})}),this.getDetails=(()=>{const{currentReport:e,details:t,isUsageFirst:a,reportType:s}=this.props,r=this.getUnits();return f.a.createElement(Q.c,{costLabel:this.getDetailsLabel(t.costKey,r),formatOptions:t.formatOptions,formatValue:K.b,report:e,reportType:s,showUnits:t.showUnits,showUsageFirst:a,usageFormatOptions:t.usageFormatOptions,units:r,usageLabel:this.getDetailsLabel(t.usageKey,r)})}),this.getDetailsLabel=((e,t)=>{const{t:a}=this.props;return e?a(e,{units:a(`units.${t}`)}):void 0}),this.getDetailsLink=(()=>{const{currentTab:e,isDetailsLink:t}=this.props;return t&&f.a.createElement(L.a,{to:this.buildDetailsLink(e),onClick:this.handleInsightsNavClick},this.getDetailsLinkTitle(e))}),this.getDetailsLinkTitle=(e=>{const{t:t}=this.props;return t("group_by.all",{groupBy:X(e)||""})}),this.getHorizontalLayout=(()=>{const{currentReportFetchStatus:e}=this.props;return f.a.createElement(Q.b,{detailsLink:this.getDetailsLink(),status:e,subTitle:this.getSubTitle(),tabs:this.getTabs(),title:this.getTitle()},this.getDetails(),this.getChart(Y.containerAltHeight,Y.chartAltHeight))}),this.getSubTitle=(()=>{const{t:e}=this.props,t=new Date,a=x()(t),s=w()(t,"D"),r=w()(N()(t),"D");return e("azure_dashboard.widget_subtitle",{count:C()(t),endDate:s,month:a,startDate:r})}),this.getTab=((e,t)=>{const{tabsReport:a,tabsReportFetchStatus:s}=this.props,r=X(e);return f.a.createElement(o.a,{eventKey:t,key:`${X(e)}-tab`,title:this.getTabTitle(e)},f.a.createElement("div",{className:Object(u.b)(J.tabItems)},f.a.createElement(Q.e,{idKey:r,key:`${r}-items`,report:a,status:s},({items:t})=>t.map(t=>this.getTabItem(e,t)))))}),this.getTabItem=((e,t)=>{const{availableTabs:a,details:s,reportType:r,tabsReport:n,topItems:i}=this.props,{activeTabKey:o}=this.state,l=X(e),c=X(a[o]),u="cost"===r||"database"===r||"network"===r;return c===l?f.a.createElement(Q.d,{key:`${t.id}-item`,formatOptions:i.formatOptions,formatValue:K.b,label:t.label?t.label.toString():"",totalValue:u?n.meta.total.cost.value:n.meta.total.usage.value?n.meta.total.usage.value:n.meta.total.usage,units:s.units?s.units:t.units,value:t.cost}):null}),this.getTabs=(()=>{const{availableTabs:e}=this.props;return f.a.createElement(i.a,{isFilled:!0,activeKey:this.state.activeTabKey,onSelect:this.handleTabClick},e.map((e,t)=>this.getTab(e,t)))}),this.getTabTitle=(e=>{const{t:t}=this.props;return t("group_by.top",{groupBy:X(e)||""})}),this.getTitle=(()=>{const{t:e,titleKey:t}=this.props,a=new Date,s=x()(a);return e(t,{endDate:w()(a,"Do"),month:s,startDate:w()(N()(a),"Do")})}),this.getUnits=(()=>{const{currentReport:e,details:t,reportType:a}=this.props;if(t.units)return t.units;let s="";return e&&e.meta&&e.meta.total&&(s="cost"===a||"database"===a||"network"===a?e.meta.total.cost?Object(K.c)(e.meta.total.cost.units):"":e.meta.total.usage?Object(K.c)(e.meta.total.usage.units):""),s}),this.getVerticalLayout=(()=>{const{availableTabs:e,currentReportFetchStatus:t}=this.props;return f.a.createElement(Q.a,{detailsLink:this.getDetailsLink(),status:t,subTitle:this.getSubTitle(),title:this.getTitle()},this.getDetails(),this.getChart(Y.containerTrendHeight,Y.chartHeight),Boolean(e)&&f.a.createElement("div",{className:Object(u.b)(J.tabs)},this.getTabs()))}),this.handleInsightsNavClick=(()=>{insights.chrome.appNavClick({id:"azure",secondaryNav:!0})}),this.handleTabClick=((e,t)=>{const{availableTabs:a,id:s,updateTab:r}=this.props;r(s,a[t]),this.setState({activeTabKey:t})})}componentDidMount(){const{availableTabs:e,fetchReports:t,id:a,updateTab:s,widgetId:r}=this.props;s(a,e[0]),t(r)}render(){const{isHorizontal:e=!1}=this.props;return Boolean(e)?this.getHorizontalLayout():this.getVerticalLayout()}})),ae=Object(j.a)(e=>({selectWidgets:A.c.selectWidgets(e),widgets:A.c.selectCurrentWidgets(e)}));var se=Object(y.d)()(Object(E.connect)(ae,{})(({selectWidgets:e,t:t,widgets:a})=>f.a.createElement("div",null,f.a.createElement(g.a,{gutter:"md"},a.map(t=>{const a=e[t];return Boolean(a.isHorizontal)?f.a.createElement(h.a,{sm:12,key:t},f.a.createElement(te,{widgetId:t})):f.a.createElement(h.a,{lg:12,xl:6,xl2:4,key:t},f.a.createElement(te,{widgetId:t}))}))))),re=a(125),ne=a(164),ie=a(738),oe=a(91);const le={chartAltHeight:180,chartHeight:80,containerAltHeight:200,containerTrendHeight:150,containerUsageHeight:180},ce=u.a.create({tabs:{marginTop:U.ge.value},tabItems:{marginTop:U.le.value}}),ue=e=>{switch(e){case"clusters":return"cluster";case"nodes":return"node";case"projects":return"project"}};const me=Object(j.a)((e,{widgetId:t})=>{const a=re.c.selectWidget(e,t),s=re.c.selectWidgetQueries(e,t);return Object.assign({},a,{currentQuery:s.current,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:oe.c.selectReport(e,a.reportType,s.current),currentReportFetchStatus:oe.c.selectReportFetchStatus(e,a.reportType,s.current),previousReport:oe.c.selectReport(e,a.reportType,s.previous),tabsReport:oe.c.selectReport(e,a.reportType,s.tabs),tabsReportFetchStatus:oe.c.selectReportFetchStatus(e,a.reportType,s.tabs)})}),de={fetchReports:re.a.fetchWidgetReports,updateTab:re.a.changeWidgetTab},pe=Object(y.d)()(Object(E.connect)(me,de)(class extends f.a.Component{constructor(){super(...arguments),this.state={activeTabKey:0},this.buildDetailsLink=(e=>{const t=ue(e);return`/ocp-on-aws?${Object(ne.a)({group_by:{[t]:"*"},order_by:{cost:"desc"}})}`}),this.getChart=((e,t)=>{const{currentReport:a,details:s,previousReport:r,reportType:n,t:i,trend:o}=this.props,l="cost"===n||"database"===n||"network"===n?"infrastructureCost":"usage",c=Object(S.i)(a,o.type,"date",l),u=Object(S.i)(r,o.type,"date",l),m="cost"!==n?Object(S.i)(a,o.type,"date","request"):void 0,d="cost"!==n?Object(S.i)(r,o.type,"date","request"):void 0,p=this.getUnits();return f.a.createElement(f.a.Fragment,null,Boolean("cost"===n||"database"===n||"instance_type"===n||"network"===n||"storage"===n)?f.a.createElement(ie.f,{containerHeight:e,currentData:c,formatDatumValue:K.b,formatDatumOptions:o.formatOptions,height:t,previousData:u,showUsageLegendLabel:s.showUsageLegendLabel,title:i(o.titleKey,{units:i(`units.${p}`)})}):f.a.createElement(ie.g,{containerHeight:le.containerUsageHeight,currentRequestData:m,currentUsageData:c,formatDatumValue:K.b,formatDatumOptions:o.formatOptions,height:t,previousRequestData:d,previousUsageData:u,title:i(o.titleKey,{units:i(`units.${p}`)})}))}),this.getDetails=(()=>{const{currentReport:e,details:t,isUsageFirst:a,reportType:s}=this.props,r=this.getUnits();return f.a.createElement(ie.c,{costLabel:this.getDetailsLabel(t.costKey,r),formatOptions:t.formatOptions,formatValue:K.b,report:e,reportType:s,requestFormatOptions:t.requestFormatOptions,requestLabel:this.getDetailsLabel(t.requestKey,r),showUnits:t.showUnits,showUsageFirst:a,usageFormatOptions:t.usageFormatOptions,usageLabel:this.getDetailsLabel(t.usageKey,r)})}),this.getDetailsLabel=((e,t)=>{const{t:a}=this.props;return e?a(e,{units:a(`units.${t}`)}):void 0}),this.getDetailsLink=(()=>{const{currentTab:e,isDetailsLink:t}=this.props;return t&&f.a.createElement(L.a,{to:this.buildDetailsLink(e),onClick:this.handleInsightsNavClick},this.getDetailsLinkTitle(e))}),this.getDetailsLinkTitle=(e=>{const{t:t}=this.props;return t("group_by.all",{groupBy:ue(e)||""})}),this.getHorizontalLayout=(()=>{const{currentReportFetchStatus:e}=this.props;return f.a.createElement(ie.b,{detailsLink:this.getDetailsLink(),status:e,subTitle:this.getSubTitle(),tabs:this.getTabs(),title:this.getTitle()},this.getDetails(),this.getChart(le.containerAltHeight,le.chartAltHeight))}),this.getSubTitle=(()=>{const{t:e}=this.props,t=new Date,a=x()(t),s=w()(t,"D"),r=w()(N()(t),"D");return e("ocp_on_cloud_dashboard.widget_subtitle",{count:C()(t),endDate:s,month:a,startDate:r})}),this.getTab=((e,t)=>{const{tabsReport:a,tabsReportFetchStatus:s}=this.props,r=ue(e);return f.a.createElement(o.a,{eventKey:t,key:`${ue(e)}-tab`,title:this.getTabTitle(e)},f.a.createElement("div",{className:Object(u.b)(ce.tabItems)},f.a.createElement(ie.e,{idKey:r,key:`${r}-items`,report:a,status:s},({items:t})=>t.map(t=>this.getTabItem(e,t)))))}),this.getTabItem=((e,t)=>{const{availableTabs:a,reportType:s,tabsReport:r,topItems:n}=this.props,{activeTabKey:i}=this.state,o=ue(e),l=ue(a[i]),c="cost"===s||"database"===s||"network"===s;return l===o?f.a.createElement(ie.d,{key:`${t.id}-item`,formatOptions:n.formatOptions,formatValue:K.b,label:t.label?t.label.toString():"",totalValue:c?r.meta.total.infrastructure_cost.value:r.meta.total.usage.value,units:t.units,value:c?t.infrastructureCost:t.usage}):null}),this.getTabs=(()=>{const{availableTabs:e}=this.props;return e?f.a.createElement(i.a,{isFilled:!0,activeKey:this.state.activeTabKey,onSelect:this.handleTabClick},e.map((e,t)=>this.getTab(e,t))):null}),this.getTabTitle=(e=>{const{t:t}=this.props;return t("group_by.top",{groupBy:ue(e)||""})}),this.getTitle=(()=>{const{t:e,titleKey:t}=this.props,a=new Date,s=x()(a);return e(t,{endDate:w()(a,"Do"),month:s,startDate:w()(N()(a),"Do")})}),this.getUnits=(()=>{const{currentReport:e,reportType:t}=this.props;let a="";return e&&e.meta&&e.meta.total&&(a="cost"===t||"database"===t||"network"===t?e.meta.total.infrastructure_cost?Object(K.c)(e.meta.total.infrastructure_cost.units):"":e.meta.total.usage?Object(K.c)(e.meta.total.usage.units):""),a}),this.getVerticalLayout=(()=>{const{availableTabs:e,currentReportFetchStatus:t}=this.props;return f.a.createElement(ie.a,{detailsLink:this.getDetailsLink(),status:t,subTitle:this.getSubTitle(),title:this.getTitle()},this.getDetails(),this.getChart(le.containerTrendHeight,le.chartHeight),Boolean(e)&&f.a.createElement("div",{className:Object(u.b)(ce.tabs)},this.getTabs()))}),this.handleInsightsNavClick=(()=>{insights.chrome.appNavClick({id:"ocp-on-aws",secondaryNav:!0})}),this.handleTabClick=((e,t)=>{const{availableTabs:a,id:s,updateTab:r}=this.props;r(s,a[t]),this.setState({activeTabKey:t})})}componentDidMount(){const{availableTabs:e,fetchReports:t,id:a,updateTab:s,widgetId:r}=this.props;e&&s(a,e[0]),t(r)}render(){const{isHorizontal:e=!1}=this.props;return Boolean(e)?this.getHorizontalLayout():this.getVerticalLayout()}})),be=Object(j.a)(e=>({selectWidgets:re.c.selectWidgets(e),widgets:re.c.selectCurrentWidgets(e)}));var he=Object(y.d)()(Object(E.connect)(be,{})(({selectWidgets:e,t:t,widgets:a})=>f.a.createElement("div",null,f.a.createElement(g.a,{gutter:"md"},a.map(t=>{const a=e[t];return Boolean(a.isHorizontal)?f.a.createElement(h.a,{sm:12,key:t},f.a.createElement(pe,{widgetId:t})):f.a.createElement(h.a,{lg:12,xl:6,xl2:4,key:t},f.a.createElement(pe,{widgetId:t}))}))))),ge=a(172),ve=a(165),fe=a(739),ye=a(92);const Ee={chartAltHeight:180,chartHeight:80,containerAltHeight:275,containerTrendHeight:150,containerUsageHeight:180},Oe=u.a.create({tabs:{marginTop:U.ge.value},tabItems:{marginTop:U.le.value}}),je=e=>{switch(e){case"clusters":return"cluster";case"nodes":return"node";case"projects":return"project"}};const ke=Object(j.a)((e,{widgetId:t})=>{const a=ge.c.selectWidget(e,t),s=ge.c.selectWidgetQueries(e,t);return Object.assign({},a,{currentQuery:s.current,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:ye.c.selectReport(e,a.reportType,s.current),currentReportFetchStatus:ye.c.selectReportFetchStatus(e,a.reportType,s.current),previousReport:ye.c.selectReport(e,a.reportType,s.previous),tabsReport:ye.c.selectReport(e,a.reportType,s.tabs),tabsReportFetchStatus:ye.c.selectReportFetchStatus(e,a.reportType,s.tabs)})}),Se={fetchReports:ge.a.fetchWidgetReports,updateTab:ge.a.changeWidgetTab},De=Object(y.d)()(Object(E.connect)(ke,Se)(class extends f.a.Component{constructor(){super(...arguments),this.state={activeTabKey:0},this.buildDetailsLink=(e=>{const t=je(e);return`/ocp?${Object(ve.a)({group_by:{[t]:"*"},order_by:{cost:"desc"}})}`}),this.getChart=((e,t)=>{const{currentReport:a,previousReport:s,reportType:r,t:n,trend:i}=this.props,o="cost"===r?"cost":"usage",l=Object(S.j)(a,i.type,"date",o),c=Object(S.j)(s,i.type,"date",o),u="cost"!==r?Object(S.j)(a,i.type,"date","request"):void 0,m="cost"!==r?Object(S.j)(s,i.type,"date","request"):void 0,d="cost"===r?Object(S.j)(a,i.type,"date","infrastructureCost"):void 0,p="cost"===r?Object(S.j)(s,i.type,"date","infrastructureCost"):void 0,b=this.getUnits(),h=n(i.titleKey,{units:n(`units.${b}`)});return f.a.createElement(f.a.Fragment,null,Boolean("cost"===r)?f.a.createElement(fe.f,{containerHeight:e,currentCostData:l,currentInfrastructureCostData:d,formatDatumValue:K.b,formatDatumOptions:i.formatOptions,height:t,previousCostData:c,previousInfrastructureCostData:p,title:h}):f.a.createElement(fe.g,{containerHeight:Ee.containerUsageHeight,currentRequestData:u,currentUsageData:l,formatDatumValue:K.b,formatDatumOptions:i.formatOptions,height:t,previousRequestData:m,previousUsageData:c,title:h}))}),this.getDetails=(()=>{const{currentReport:e,details:t,isUsageFirst:a,reportType:s}=this.props,r=this.getUnits();return f.a.createElement(fe.c,{costLabel:this.getDetailsLabel(t.costKey,r),formatOptions:t.formatOptions,formatValue:K.b,report:e,reportType:s,requestFormatOptions:t.requestFormatOptions,requestLabel:this.getDetailsLabel(t.requestKey,r),showUnits:t.showUnits,showUsageFirst:a,usageFormatOptions:t.usageFormatOptions,usageLabel:this.getDetailsLabel(t.usageKey,r)})}),this.getDetailsLabel=((e,t)=>{const{t:a}=this.props;return e?a(e,{units:a(`units.${t}`)}):void 0}),this.getDetailsLink=(()=>{const{currentTab:e,isDetailsLink:t}=this.props;return t&&f.a.createElement(L.a,{to:this.buildDetailsLink(e),onClick:this.handleInsightsNavClick},this.getDetailsLinkTitle(e))}),this.getDetailsLinkTitle=(e=>{const{t:t}=this.props;return t("group_by.all",{groupBy:je(e)||""})}),this.getHorizontalLayout=(()=>{const{currentReportFetchStatus:e}=this.props;return f.a.createElement(fe.b,{detailsLink:this.getDetailsLink(),status:e,subTitle:this.getSubTitle(),tabs:this.getTabs(),title:this.getTitle()},this.getDetails(),this.getChart(Ee.containerAltHeight,Ee.chartAltHeight))}),this.getSubTitle=(()=>{const{t:e}=this.props,t=new Date,a=x()(t),s=w()(t,"D"),r=w()(N()(t),"D");return e("ocp_dashboard.widget_subtitle",{count:C()(t),endDate:s,month:a,startDate:r})}),this.getTab=((e,t)=>{const{tabsReport:a,tabsReportFetchStatus:s}=this.props,r=je(e);return f.a.createElement(o.a,{eventKey:t,key:`${je(e)}-tab`,title:this.getTabTitle(e)},f.a.createElement("div",{className:Object(u.b)(Oe.tabItems)},f.a.createElement(fe.e,{idKey:r,key:`${r}-items`,report:a,status:s},({items:t})=>t.map(t=>this.getTabItem(e,t)))))}),this.getTabItem=((e,t)=>{const{availableTabs:a,reportType:s,tabsReport:r,topItems:n}=this.props,{activeTabKey:i}=this.state,o=je(e);return je(a[i])===o?f.a.createElement(fe.d,{key:`${t.id}-item`,formatOptions:n.formatOptions,formatValue:K.b,label:t.label?t.label.toString():"",totalValue:"cost"===s?r.meta.total.cost.value:r.meta.total.usage.value,units:t.units,value:"cost"===s?t.cost:t.usage}):null}),this.getTabs=(()=>{const{availableTabs:e}=this.props;return f.a.createElement(i.a,{isFilled:!0,activeKey:this.state.activeTabKey,onSelect:this.handleTabClick},e.map((e,t)=>this.getTab(e,t)))}),this.getTabTitle=(e=>{const{t:t}=this.props;return t("group_by.top",{groupBy:je(e)||""})}),this.getTitle=(()=>{const{t:e,titleKey:t}=this.props,a=new Date,s=x()(a);return e(t,{endDate:w()(a,"Do"),month:s,startDate:w()(N()(a),"Do")})}),this.getUnits=(()=>{const{currentReport:e,reportType:t}=this.props;let a="";return e&&e.meta&&e.meta.total&&(a="cost"===t?e.meta.total.cost?Object(K.c)(e.meta.total.cost.units):"":e.meta.total.usage?Object(K.c)(e.meta.total.usage.units):""),a}),this.getVerticalLayout=(()=>{const{availableTabs:e,currentReportFetchStatus:t}=this.props;return f.a.createElement(fe.a,{detailsLink:this.getDetailsLink(),status:t,subTitle:this.getSubTitle(),title:this.getTitle()},this.getDetails(),this.getChart(Ee.containerTrendHeight,Ee.chartHeight),Boolean(e)&&f.a.createElement("div",{className:Object(u.b)(Oe.tabs)},this.getTabs()))}),this.handleInsightsNavClick=(()=>{insights.chrome.appNavClick({id:"ocp",secondaryNav:!0})}),this.handleTabClick=((e,t)=>{const{availableTabs:a,id:s}=this.props,r=a[t];this.props.updateTab(s,r),this.setState({activeTabKey:t})})}componentDidMount(){const{availableTabs:e,fetchReports:t,id:a,widgetId:s}=this.props;this.props.updateTab(a,e[0]),t(s)}render(){const{isHorizontal:e=!1}=this.props;return Boolean(e)?this.getHorizontalLayout():this.getVerticalLayout()}})),Te=Object(j.a)(e=>({selectWidgets:ge.c.selectWidgets(e),widgets:ge.c.selectCurrentWidgets(e)}));var we=Object(y.d)()(Object(E.connect)(Te,{})(({selectWidgets:e,t:t,widgets:a})=>f.a.createElement("div",null,f.a.createElement(g.a,{gutter:"md"},a.map(t=>{const a=e[t];return Boolean(a.isHorizontal)?f.a.createElement(h.a,{sm:12,key:t},f.a.createElement(De,{widgetId:t})):f.a.createElement(h.a,{lg:12,xl:6,xl2:4,key:t},f.a.createElement(De,{widgetId:t}))}))))),_e=a(163),Ce=a(51),ze=a(685);const xe=u.a.create({info:{marginLeft:U.ke.value,verticalAlign:"middle"},infoIcon:{fontSize:U.Xd.value},infoTitle:{fontWeight:"bold"},tabs:{marginTop:U.ie.value}}),Re=ze["a"]`
  &.pf-c-page__main-section {
    --pf-c-page__main-section--PaddingBottom: 0;
  }
`,Ne=e=>{switch(e){case"aws":return"aws";case"azure":return"azure";case"ocp":return"ocp";case"ocpCloud":return"ocpCloud"}};const Le=Object(j.a)(e=>{const t=Object(m.a)(Ce.a),a=Ce.f.selectProviders(e,"aws",t),s=Ce.f.selectProvidersError(e,"aws",t),r=Ce.f.selectProvidersFetchStatus(e,"aws",t),n=Object(m.a)(Ce.b),i=Ce.f.selectProviders(e,"aws",n),o=Ce.f.selectProvidersError(e,"aws",n),l=Ce.f.selectProvidersFetchStatus(e,"aws",n),c=Object(m.a)(Ce.c);return{awsProviders:a,awsProvidersError:s,awsProvidersFetchStatus:r,awsProvidersQueryString:t,azureProviders:i,azureProvidersError:o,azureProvidersFetchStatus:l,azureProvidersQueryString:n,ocpProviders:Ce.f.selectProviders(e,"ocp",c),ocpProvidersError:Ce.f.selectProvidersError(e,"ocp",c),ocpProvidersFetchStatus:Ce.f.selectProvidersFetchStatus(e,"ocp",c),ocpProvidersQueryString:c}}),Fe=Object(y.d)()(Object(E.connect)(Le,{openProvidersModal:_e.a.openModal})(class extends f.a.Component{constructor(){super(...arguments),this.state={activeTabKey:0,showPopover:!1},this.getAvailableTabs=(()=>{const{awsProviders:e,azureProviders:t,ocpProviders:a}=this.props,s=[];return e&&e.meta&&e.meta.count&&a&&a.meta&&a.meta.count&&s.push({contentRef:f.a.createRef(),tab:"ocpCloud"}),a&&a.meta&&a.meta.count&&s.push({contentRef:f.a.createRef(),tab:"ocp"}),e&&e.meta&&e.meta.count&&s.push({contentRef:f.a.createRef(),tab:"aws"}),t&&t.meta&&t.meta.count&&s.push({contentRef:f.a.createRef(),tab:"azure"}),s}),this.getTab=((e,t,a)=>f.a.createElement(o.a,{eventKey:a,key:`${Ne(e)}-tab`,tabContentId:`tab-${a}`,tabContentRef:t,title:this.getTabTitle(e)})),this.getTabContent=(e=>e.map((e,t)=>f.a.createElement(l.a,{eventKey:t,key:`${Ne(e.tab)}-tabContent`,id:`tab-${t}`,ref:e.contentRef},this.getTabItem(e.tab,t)))),this.getTabItem=((e,t)=>{const{activeTabKey:a}=this.state,s=Ne(e);return"ocpCloud"===s?a===t?f.a.createElement(he,null):null:"ocp"===s?a===t?f.a.createElement(we,null):null:"aws"===s?a===t?f.a.createElement(W,null):null:"azure"===s&&a===t?f.a.createElement(se,null):null}),this.getTabs=(e=>{const{activeTabKey:t}=this.state;return f.a.createElement(i.a,{activeKey:t,onSelect:this.handleTabClick},e.map((e,t)=>this.getTab(e.tab,e.contentRef,t)))}),this.getTabTitle=(e=>{const{t:t}=this.props;return"aws"===e?t("overview.aws"):"azure"===e?t("overview.azure"):"ocp"===e?t("overview.ocp"):"ocpCloud"===e?t("overview.ocp_on_cloud"):void 0}),this.handlePopoverClick=(()=>{this.setState({show:!this.state.showPopover})}),this.handleTabClick=((e,t)=>{this.setState({activeTabKey:t})})}render(){const{awsProviders:e,awsProvidersError:t,awsProvidersFetchStatus:a,azureProviders:i,azureProvidersError:o,azureProvidersFetchStatus:l,ocpProviders:m,ocpProvidersError:h,ocpProvidersFetchStatus:g,t:v}=this.props,y=this.getAvailableTabs(),E=t||o||h,O=1===l||1===a||1===g,j=void 0!==e&&void 0!==e.meta&&0===e.meta.count&&2===a,k=void 0!==i&&void 0!==i.meta&&0===i.meta.count&&2===l,S=void 0!==m&&void 0!==m.meta&&0===m.meta.count&&2===g,D=j&&k&&S,T=!(E||D||O);return f.a.createElement(f.a.Fragment,null,f.a.createElement("section",{className:`pf-l-page-header pf-c-page-header pf-l-page__main-section pf-c-page__main-section pf-m-light ${T?Re:""}`},f.a.createElement("header",{className:"pf-u-display-flex pf-u-justify-content-space-between pf-u-align-items-center"},f.a.createElement(n.a,{size:r.a["2xl"]},v("overview.title"),Boolean(T)&&f.a.createElement("span",{className:Object(u.b)(xe.infoIcon)},f.a.createElement(s.a,{"aria-label":"t('ocp_details.derived_aria_label')",enableFlip:!0,bodyContent:f.a.createElement(f.a.Fragment,null,f.a.createElement("p",{className:Object(u.b)(xe.infoTitle)},v("overview.ocp_on_cloud")),f.a.createElement("p",null,v("overview.ocp_on_cloud_desc")),f.a.createElement("br",null),f.a.createElement("p",{className:Object(u.b)(xe.infoTitle)},v("overview.ocp")),f.a.createElement("p",null,v("overview.ocp_desc")),f.a.createElement("br",null),f.a.createElement("p",{className:Object(u.b)(xe.infoTitle)},v("overview.aws")),f.a.createElement("p",null,v("overview.aws_desc")),f.a.createElement("br",null),f.a.createElement("p",{className:Object(u.b)(xe.infoTitle)},v("overview.azure")),f.a.createElement("p",null,v("overview.azure_desc")))},f.a.createElement(c.b,{className:Object(u.b)(xe.info),onClick:this.handlePopoverClick}))))),Boolean(T)&&f.a.createElement("div",{className:Object(u.b)(xe.tabs)},this.getTabs(y))),f.a.createElement("section",{className:"pf-l-page__main-section pf-c-page__main-section","page-type":"cost-management-overview"},Boolean(E)?f.a.createElement(d.a,{error:E}):Boolean(D)?f.a.createElement(b.a,null):Boolean(O)?f.a.createElement(p.a,null):this.getTabContent(y)))}}));t.a=Fe}}]);
//# sourceMappingURL=dcee0f9e2e7524e87f79.bundle.js.map
(self.webpackChunkkoku_ui=self.webpackChunkkoku_ui||[]).push([[8769],{84049:function(e,t,a){!function(e,t,a,r,n){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,a=a&&a.hasOwnProperty("default")?a.default:a,r=r&&r.hasOwnProperty("default")?r.default:r;var s=function(e,t){return function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},t.apply(this,arguments)}e.exports=t}(t={exports:{}}),t.exports}(),o=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e},i=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n},l=t.createContext("light"),c=function(e){var a=e.className,n=e.children,c=i(e,["className","children"]),u=r(a,"pf-l-page-header","pf-c-page-header","pf-l-page__main-section","pf-c-page__main-section");return t.createElement(l.Consumer,null,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light",a=r(o({},"pf-m-".concat(e,"-200"),"dark"===e),o({},"pf-m-light","light"===e));return t.createElement("section",s({},c,{className:"".concat(u," ").concat(a),"widget-type":"InsightsPageHeader"}),n)}))};c.propTypes={children:a.any.isRequired,className:a.string};var u=function(e){var a=e.className,s=e.title,o=r(a);return t.createElement(n.Title,{headingLevel:"h1",size:"2xl",className:o,"widget-type":"InsightsPageHeaderTitle"}," ",s," ")};u.propTypes={title:a.node.isRequired,className:a.string},e.PageHeader=c,e.PageHeaderTitle=u,e.default=c,Object.defineProperty(e,"__esModule",{value:!0})}(t,a(97522),a(45697),a(94184),a(48927))},86411:function(e,t,a){!function(e,t,a,r){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,a=a&&a.hasOwnProperty("default")?a.default:a,r=r&&r.hasOwnProperty("default")?r.default:r;var n=function(e,t){return function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},t.apply(this,arguments)}e.exports=t}(t={exports:{}}),t.exports}(),s=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n},o={xs:"xs",sm:"sm",md:"md",lg:"lg"},i=function(e){var a=e.size,o=e.isDark,i=e.className,l=s(e,["size","isDark","className"]),c=r("ins-c-skeleton","ins-c-skeleton__".concat(a),function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},"ins-m-dark",o),i);return t.createElement("div",n({className:c},l),"Â ")};i.propTypes={className:a.string,size:a.oneOf(Object.values(o)),isDark:a.bool},i.defaultProps={size:o.md,isDark:!1},e.Skeleton=i,e.SkeletonSize=o,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t,a(97522),a(45697),a(94184))},8447:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});const r=a.p+"6c64594e3aaa32a18532d72ff14cc82e.svg"},5118:()=>{},86208:(e,t,a)=>{"use strict";a.d(t,{H:()=>n});var r=a(43702);function n(e){return(0,r.stringify)(e,{encode:!1,indices:!1})}},40125:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(88970);const n={padding:8},s={area:Object.assign({},n),axis:Object.assign({},n),bar:Object.assign({},n),boxplot:Object.assign({},n),candlestick:Object.assign({},n),chart:Object.assign({},n),errorbar:Object.assign({},n),group:Object.assign({},n),legend:{},line:Object.assign({},n),pie:Object.assign({},n),scatter:Object.assign({},n),stack:Object.assign({},n),tooltip:{},voronoi:Object.assign({},n)},o=(0,r.getCustomTheme)(r.ChartThemeColor.default,r.ChartThemeVariant.default,s)},60232:(e,t,a)=>{"use strict";a.d(t,{uL:()=>E,Y_:()=>C,Dd:()=>D,MN:()=>y,pZ:()=>_,Fs:()=>b,Q7:()=>N,GN:()=>S,nB:()=>d,Qw:()=>h,zJ:()=>m});var r=a(36234),n=a(30136),s=a.n(n),o=a(60114);function i({forecast:e,sortDirection:t=0,sortKey:a="date"}){return(0,o.D)(function({forecast:e}){if(!e)return[];const t=new Map,a=e=>{e&&e.values&&e.values.forEach((e=>{const a=e.date,r=t.get(a);r?t.set(a,Object.assign(Object.assign({},r),{date:a,cost:l(e,"cost",r),infrastructure:l(e,"infrastructure",r),supplementary:l(e,"supplementary",r)})):t.set(a,{date:a,cost:l(e,"cost"),infrastructure:l(e,"infrastructure"),supplementary:l(e,"supplementary")})}));for(const t in e)if(e[t]instanceof Array)return e[t].forEach(a)};return e&&e.data&&e.data.forEach(a),Array.from(t.values())}({forecast:e,sortDirection:t,sortKey:a}),{key:a,direction:t})}function l(e,t,a){return{confidence_max:{value:a?a[t].confidence_max.value:0+e[t]&&e[t].confidence_max?e[t].confidence_max.value:0,units:e[t]&&e[t].confidence_max?e[t].confidence_max.units:"USD"},confidence_min:{value:a?a[t].confidence_min.value:0+e[t]&&e[t].confidence_min?e[t].confidence_min.value:0,units:e[t]&&e[t].confidence_min?e[t].confidence_min.units:"USD"},pvalues:{value:e[t]&&e[t].pvalues?Number(e[t].pvalues.value):0,units:e[t]&&e[t].pvalues?e[t].pvalues.units:null},rsquared:{value:e[t]&&e[t].rsquared?Number(e[t].rsquared.value):0,units:e[t]&&e[t].rsquared?e[t].rsquared.units:null},total:{value:a?a[t].total.value:0+e[t]&&e[t].total?e[t].total.value:0,units:e[t]&&e[t].total?e[t].total.units:"USD"}}}var c=a(31447),u=a(901);function d(e,t=1,a="cost",r="total"){if(!e)return[];const n=i({forecast:e,sortKey:"date",sortDirection:1});let s;return s=1===t||2===t?n.map((e=>g(e[a][r].value,e))):n.reduce(((e,t)=>{const n=e.length?e[e.length-1].y:0;return[...e,g(n+t[a][r].value,t)]}),[]),v(s,t)}function h(e,t=1,a="cost",r="total"){if(!e)return[];const n=i({forecast:e,sortKey:"date",sortDirection:1});let s;return s=1===t||2===t?n.map((e=>p(e[a].confidence_max.value,e[a].confidence_min.value,e))):n.reduce(((e,t)=>{const n=e.length?e[e.length-1].y:t[a][r].value,s=e.length?e[e.length-1].y0:t[a][r].value;return[...e,p(n+t[a].confidence_max.value,s+t[a].confidence_min.value,t)]}),[]),v(s,t)}function m(e,t=1,a="date",r="cost",n="total"){if(!e)return[];const s={idKey:a,report:e,sortKey:"id",sortDirection:1},o=(0,c.R)(s);let i;return i=1===t||2===t?o.map((e=>f(e[r][n]?e[r][n].value:e[r].value,e,a,r,n))):o.reduce(((e,t)=>{const s=e.length?e[e.length-1].y:0,o=t[r][n]?t[r][n].value:t[r].value;return[...e,f(s+o,t,a,r,n)]}),[]),"date"===a?v(i,t):i}function g(e,t,a="cost",n="total"){const s=(0,r.getDate)(new Date(t.date)),o=N(e)?parseFloat(e.toFixed(2)):S(e)?e:0;return{x:s,y:null===e?null:o,key:t.date,units:t[a]&&t[a][n]?t[a][n].units:void 0}}function p(e,t,a,n="cost",s="total"){const o=(0,r.getDate)(new Date(a.date)),i=N(e)?parseFloat(e.toFixed(2)):S(e)?e:0,l=N(t)?parseFloat(t.toFixed(2)):S(t)?t:0;return{x:o,y:null===e?null:i,y0:null===t?null:l,key:a.date,units:a[n]&&a[n][s]?a[n][s].units:void 0}}function f(e,t,a="date",n="cost",s="total"){const o="date"===a?(0,r.getDate)(new Date(t.id)):t.label,i=N(e)?parseFloat(e.toFixed(2)):S(e)?e:0;return{x:o,y:null===e?null:i,key:t.id,units:t[n]?t[n][s]?t[n][s].units:t[n].units:void 0}}function v(e,t=1){const a=[];if(!e||0===e.length)return a;const n=new Date(e[0].key+"T00:00:00"),s=new Date(e[e.length-1].key+"T00:00:00");let o=(0,r.startOfMonth)(n);for(let e=o.getDate();e<n.getDate();e++){o.setDate(e);const t=(0,r.format)(o,"yyyy-MM-dd");a.push(f(null,{id:t},"date",null))}a.push(...e),o=new Date(s);for(let e=o.getDate()+1;e<=(0,r.endOfMonth)(s).getDate();e++){o.setDate(e);const t=(0,r.format)(o,"yyyy-MM-dd");a.push(f(null,{id:t},"date",null))}return function(e,t=1){const a=[];if(!e||0===e.length)return a;const n=new Date(e[0].key+"T00:00:00"),s=new Date(e[e.length-1].key+"T00:00:00"),o=(0,r.startOfMonth)(n);let i;for(let n=o.getDate();n<=(0,r.endOfMonth)(s).getDate();n++){o.setDate(n);const s=(0,r.format)(o,"yyyy-MM-dd"),l=e.find((e=>e.key===s));l?a.push(l):i&&a.push(Object.assign(Object.assign({},i),{key:s,x:(0,r.getDate)(new Date(s))})),l&&(i=1===t?{key:s,x:(0,r.getDate)(new Date(s)),y:null}:l)}return a}(a,t)}function C(e,t=!0,a=!1,n=0){const[s,o]=function(e,t=0){if(!e||!e.length){const e=new Date;return t&&e.setMonth(e.getMonth()-t),[(0,r.startOfMonth)(e),e]}let a=0;for(let t=a;t<e.length;t++)if(e[t].y&&null!==e[t].y){a=t;break}let n=e.length-1;for(let t=n;t>=0;t--)if(e[t].y&&null!==e[t].y){n=t;break}return[new Date(e[a].key+"T00:00:00"),new Date(e[n].key+"T00:00:00")]}(e,n);if(t&&s.setDate&&s.setDate(1),a&&s.setDate){const e=(0,r.endOfMonth)(s).getDate();o.setDate(e)}return[s,o]}function y(e){let t=0;return e&&e.length&&e.forEach((e=>{e.y>t&&(t=e.y)})),t}function D(e){let t=-1,a=-1;return e&&e.length&&e.forEach((e=>{const r=void 0!==e.y0?Math.max(e.y,e.y0):e.y,n=void 0!==e.y0?Math.min(e.y,e.y0):e.y;r>t&&(t=r),(-1===a||n<a)&&null!==n&&(a=n)})),{max:t,min:a}}function _(e){return function(t,a=null,r={}){const n=(0,u.dM)(a);switch(n){case"core-hours":case"hrs":case"gb":case"gb-hours":case"gb-mo":case"vm-hours":return s().t(`unit_tooltips.${n}`,{value:`${e(t,a,r)}`});default:return`${e(t,a,r)}`}}}function E(e,t="chart.cost_legend_label",a=!1,n=!1,o=0){if(!e||!e.length)return s().t(`${t}_no_data`);const[i,l]=C(e,a,n,o);return s().t(t,{count:(0,r.getDate)(l),endDate:(0,r.format)(l,"d"),month:Number((0,r.format)(i,"M"))-1,startDate:(0,r.format)(i,"d"),year:(0,r.getYear)(l)})}function b(e,t="chart.usage_legend_label",a=!1,r=!1,n=0){return E(e,t,a,r,n)}function S(e){return Number(e)===e&&e%1==0}function N(e){return Number(e)===e&&e%1!=0}},63802:(e,t,a)=>{"use strict";a.d(t,{bC:()=>i,ge:()=>l,oX:()=>c,zj:()=>u,nV:()=>d,TW:()=>h,E0:()=>m,Yt:()=>g});var r=a(88970),n=a(30136),s=a.n(n),o=a(60232);const i=e=>{const t=[];return e&&e.map((e=>{t.push(e.childName)})),t},l=(e,t)=>{const a={x:[1,31]};let r=-1,n=-1;e&&e.forEach(((e,a)=>{if(!g(t,a)&&e.data&&0!==e.data.length){const{max:t,min:a}=(0,o.Dd)(e.data);r=Math.max(r,t),n=-1===n?a:Math.min(n,a)}}));const s=.1*r,i=r>0?Math.ceil(r+s):0,l=n>0?Math.max(0,Math.floor(n-s)):0,c=l>0?l:0;return i>0&&(a.y=[c,i]),a},c=(e,t,a=!1)=>{if(!e)return;const n=e.map(((e,n)=>Object.assign(Object.assign(Object.assign({childName:e.childName},e.legendItem),a&&{name:e.legendItem.tooltip}),(0,r.getInteractiveLegendItemStyles)(t.has(n)))));return a?n:n.filter((e=>-1===e.childName.indexOf("Cone")))},u=(e,t,a)=>{const r=(0,o.pZ)(t),n=void 0!==e.y&&null!==e.y?r(e.y,e.units,a):void 0,i=void 0!==e.y0&&null!==e.y0?r(e.y0,e.units,a):void 0;return void 0!==n&&void 0!==i?s().t("chart.cost_forecast_cone_tooltip",{value0:i,value1:n}):void 0!==n?n:s().t("chart.no_data")},d=(e,t,a)=>{const r=new Set(t);r.delete(a)||r.add(a);const n=e[a].childName;if(-1!==n.indexOf("forecast")){let t;for(let a=0;a<e.length;a++)if(e[a].childName===`${n}Cone`){t=a;break}void 0===a||r.delete(t)||r.add(t)}return r},h=(e,t)=>{const a=[];return e&&e.forEach(((e,r)=>{(g(t,r)||e.data&&0===e.data.length)&&a.push(r)})),a.length!==(e?e.length:0)},m=(e,t,a)=>{if(a&&a.length)for(let r,n=t.keys();!(r=n.next()).done;){let t,n;for(const e of a)if(e.childName){t=e.childName;break}for(const t of e[r.value].data)if(t.childName){n=t.childName;break}if(n&&t&&n===t)return!0}return!1},g=(e,t)=>e.has(t)},35956:(e,t,a)=>{"use strict";a.d(t,{iu:()=>l,j0:()=>c,me:()=>A,V3:()=>U,Y0:()=>q,rN:()=>h,EH:()=>g,mZ:()=>v,Nd:()=>G,I0:()=>$});var r=a(48927),n=a(86411),s=a(97522),o=a.n(s),i=a(79878);const l=(0,i.withTranslation)()((({children:e,detailsLink:t,title:a,subTitle:s,status:i})=>o().createElement(r.Card,{className:"reportSummary"},o().createElement(r.CardTitle,null,o().createElement(r.Title,{headingLevel:"h2",size:"lg"},a),Boolean(s)&&o().createElement("p",{className:"subtitle"},s)),o().createElement(r.CardBody,null,1===i?o().createElement(o().Fragment,null,o().createElement(n.Skeleton,{size:"xs"}),o().createElement(n.Skeleton,{className:"chartSkeleton",size:"md"}),o().createElement(n.Skeleton,{size:"sm"}),o().createElement(n.Skeleton,{className:"legendSkeleton",size:"xs"})):e),Boolean(t)&&o().createElement(r.CardFooter,null,t)))),c=(0,i.withTranslation)()((({children:e,detailsLink:t,status:a,subTitle:s,tabs:i,title:l})=>o().createElement(r.Card,{className:"reportSummary"},o().createElement(r.Grid,{hasGutter:!0},o().createElement(r.GridItem,{xl:8},o().createElement("div",{className:"cost"},o().createElement(r.CardTitle,null,o().createElement(r.Title,{headingLevel:"h2",size:"lg"},l),Boolean(s)&&o().createElement("p",{className:"subtitle"},s)),o().createElement(r.CardBody,null,1===a?o().createElement(o().Fragment,null,o().createElement(n.Skeleton,{size:"xs"}),o().createElement(n.Skeleton,{className:"chartSkeleton",size:"md"}),o().createElement(n.Skeleton,{size:"sm"}),o().createElement(n.Skeleton,{className:"legendSkeleton",size:"xs"})):e))),o().createElement(r.GridItem,{xl:4},o().createElement("div",{className:"tops"},1!==a&&o().createElement(o().Fragment,null,Boolean(i)&&o().createElement(r.CardBody,null,i),Boolean(t)&&o().createElement(r.CardFooter,null,t))))))));var u=a(99163),d=a(901);const h=(0,i.withTranslation)()((({chartType:e,computedReportItem:t="cost",computedReportItemValue:a="total",costLabel:n,formatValue:s,formatOptions:i,report:l,requestFormatOptions:c,requestLabel:h,reportType:m,showTooltip:g=!1,showUnits:p=!1,showUsageFirst:f=!1,t:v,units:C,usageFormatOptions:y,usageLabel:D})=>{let _=o().createElement(u.L,null),E=o().createElement(u.L,null),b=o().createElement(u.L,null),S=o().createElement(u.L,null),N=o().createElement(u.L,null);const k=l&&l.meta&&l.meta.total,w=k&&l.meta.total.cost&&l.meta.total.cost.total,L=k&&l.meta.total.count,x=k&&l.meta.total.supplementary&&l.meta.total.supplementary.total&&l.meta.total.supplementary.total.value,I=k&&l.meta.total.infrastructure&&l.meta.total.infrastructure[a]&&l.meta.total.infrastructure[a].value,O=k&&l.meta.total.request,T=k&&l.meta.total.usage;k&&(_=s(w?l.meta.total.cost.total.value:0,w?l.meta.total.cost.total.units:"USD",i),E=s(x?l.meta.total.supplementary.total.value:0,x?l.meta.total.supplementary.total.units:"USD",i),b=s(I?l.meta.total.infrastructure[a].value:0,I?l.meta.total.infrastructure[a].units:"USD",i),S=s(O?l.meta.total.request.value:0,O?l.meta.total.request.units:"",c?y:i),N=T&&l.meta.total.usage.value>=0?s(T?l.meta.total.usage.value:0,T?l.meta.total.usage.units:"",y||i):s(T?l.meta.total.usage:0,L?l.meta.total.count.units:"",y||i));const R=(e=!1)=>{let a=_;"infrastructure"===t?a=b:"supplementary"===t&&(a=E);const s=e?"Alt":"";return o().createElement("div",{className:"valueContainer"},g?o().createElement(r.Tooltip,{content:v("dashboard.total_cost_tooltip",{infrastructureCost:b,supplementaryCost:E}),enableFlip:!0},o().createElement("div",{className:`value${s}`},a)):o().createElement("div",{className:`value${s}`},a),o().createElement("div",{className:"text"},o().createElement("div",null,n)))},j=()=>{if(!D)return null;const e=O?l.meta.total.request.units:"",t=(0,d.dM)(e),a=v(`units.${t}`);return o().createElement("div",{className:"valueContainer"},o().createElement("span",{className:"value"},S),Boolean(p&&(C||O&&l.meta.total.request.value>=0))&&o().createElement("span",{className:"units"},a),o().createElement("div",{className:"text"},o().createElement("div",null,h)))},P=()=>{if(!D)return null;const e=T?l.meta.total.usage.units:"",t=(0,d.dM)(C||e),a=v(`units.${t}`);return o().createElement("div",{className:"valueContainer"},o().createElement("span",{className:"value"},N),Boolean(p&&(C||T&&l.meta.total.usage.value>=0))&&o().createElement("span",{className:"units"},a),o().createElement("div",{className:"text"},o().createElement("div",null,D)))};return"dailyCost"===e||"dailyTrend"===e||"cost"===e?o().createElement(o().Fragment,null,R("cost"===m)):"trend"===e?f?o().createElement(o().Fragment,null,P(),R("cost"===m)):o().createElement(o().Fragment,null,R("cost"===m),P()):"usage"===e?f?o().createElement(o().Fragment,null,P(),j()):o().createElement(o().Fragment,null,j(),P()):null})),m=({label:e,formatOptions:t,formatValue:a,t:n,totalValue:s,units:i,value:l})=>{const c=(0,d.dM)(i),u="usd"!==c?n(`units.${c}`):void 0,h=Number((s?l/s*100:0).toFixed(2)),m=n("percent_of_total",{percent:h,units:u,value:a(l,i,t)});return o().createElement("li",{className:"reportSummaryItem"},o().createElement(r.Progress,{label:m,value:h,title:e,size:r.ProgressSize.sm}))};m.defaultProps={formatValue:e=>e};const g=(0,i.withTranslation)()(m);var p=a(31447);class f extends o().Component{shouldComponentUpdate(e){return e.report!==this.props.report}getItems(){const{idKey:e,report:t}=this.props,a=(0,p.R)({report:t,idKey:e}),r=a.findIndex((e=>{const t=e.id;if(t&&null!==t)return t.toString().includes("Other")}));return-1!==r?[...a.slice(0,r),...a.slice(r+1),a[r]]:a}render(){const{children:e,status:t}=this.props;if(1===t)return o().createElement(o().Fragment,null,o().createElement(n.Skeleton,{size:"md"}),o().createElement(n.Skeleton,{size:"md",className:"skeleton"}),o().createElement(n.Skeleton,{size:"md",className:"skeleton"}),o().createElement(n.Skeleton,{size:"md",className:"skeleton"}));{const t=this.getItems();return o().createElement("ul",null,e({items:t}))}}}const v=(0,i.withTranslation)()(f);a(5118);var C=a(88970),y=a(40125),D=a(60232),_=a(63802),E=a(36234),b=a(30136),S=a.n(b),N=a(21535),k=a(27765),w=a(19960),L=a(84076),x=a(18131),I=a(24656),O=a(84615),T=a(70698),R=a(72021),j=a(21768),P=a(41534);const z={currentColorScale:[j.CH.value,R.R0.value,T.t6.value,O.S7.value,P.iM.value],currentCostData:{fill:"none"},currentInfrastructureColorScale:[x.cQ.value,L.iY.value,w.OS.value,k.O6.value,I.DD.value],currentInfrastructureCostData:{fill:"none",strokeDasharray:"3,3"},forecastConeData:{fill:O.S7.value,strokeWidth:0},forecastConeDataColorScale:[O.S7.value],forecastData:{fill:"none"},forecastDataColorScale:[T.t6.value],forecastInfrastructureConeData:{fill:k.O6.value,strokeWidth:0},forecastInfrastructureConeDataColorScale:[k.O6.value],forecastInfrastructureData:{fill:"none"},forecastInfrastructureDataColorScale:[w.OS.value],previousCostData:{fill:"none"},previousInfrastructureCostData:{fill:"none",strokeDasharray:"3,3"},previousColorScale:[N.tN.value,N.tN.value],yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}};class F extends o().Component{constructor(){super(...arguments),this.containerRef=o().createRef(),this.state={hiddenSeries:new Set,width:0},this.initDatum=()=>{const{currentInfrastructureCostData:e,currentCostData:t,forecastConeData:a,forecastData:r,forecastInfrastructureConeData:n,forecastInfrastructureData:s,previousInfrastructureCostData:o,previousCostData:i,showForecast:l}=this.props,c="chart.cost_legend_label",u="chart.cost_infrastructure_legend_label",d="chart.cost_infrastructure_legend_tooltip",h="chart.cost_legend_tooltip",m=[{childName:"previousCost",data:i,legendItem:{name:(0,D.uL)(i,c,!0,!0,1),symbol:{fill:z.previousColorScale[0],type:"minus"},tooltip:(0,D.uL)(i,h,!1,!1,1)},style:{data:Object.assign(Object.assign({},z.previousCostData),{stroke:z.previousColorScale[0]})}},{childName:"currentCost",data:t,legendItem:{name:(0,D.uL)(t,c,!0,!1),symbol:{fill:z.currentColorScale[0],type:"minus"},tooltip:(0,D.uL)(t,h,!1,!1)},style:{data:Object.assign(Object.assign({},z.currentCostData),{stroke:z.currentColorScale[0]})}},{childName:"previousInfrastructureCost",data:o,legendItem:{name:(0,D.uL)(o,u,!0,!0,1),symbol:{fill:z.previousColorScale[1],type:"dash"},tooltip:(0,D.uL)(o,d,!1,!1,1)},style:{data:Object.assign(Object.assign({},z.previousInfrastructureCostData),{stroke:z.previousColorScale[1]})}},{childName:"currentInfrastructureCost",data:e,legendItem:{name:(0,D.uL)(e,u,!0,!1),symbol:{fill:z.currentInfrastructureColorScale[1],type:"dash"},tooltip:(0,D.uL)(e,d,!1,!1)},style:{data:Object.assign(Object.assign({},z.currentInfrastructureCostData),{stroke:z.currentInfrastructureColorScale[1]})}}];l&&(m.push({childName:"forecast",data:r,legendItem:{name:(0,D.uL)(r,"chart.cost_forecast_legend_label",!1,!1),symbol:{fill:z.forecastDataColorScale[0],type:"minus"},tooltip:(0,D.uL)(r,"chart.cost_forecast_legend_tooltip",!1,!1)},style:{data:Object.assign(Object.assign({},z.forecastData),{stroke:z.forecastDataColorScale[0]})}}),m.push({childName:"forecastInfrastructure",data:s,legendItem:{name:(0,D.uL)(s,"chart.cost_infrastructure_forecast_legend_label",!1,!1),symbol:{fill:z.forecastInfrastructureDataColorScale[0],type:"minus"},tooltip:(0,D.uL)(s,"chart.cost_infrastructure_forecast_legend_tooltip",!1,!1)},style:{data:Object.assign(Object.assign({},z.forecastInfrastructureData),{stroke:z.forecastInfrastructureDataColorScale[0]})}}),m.push({childName:"forecastCone",data:a,legendItem:{name:(0,D.uL)(a,"chart.cost_forecast_cone_legend_label",!1,!1),symbol:{fill:z.forecastConeDataColorScale[0],type:"triangleUp"},tooltip:(0,D.uL)(a,"chart.cost_forecast_cone_legend_tooltip",!1,!1)},style:{data:Object.assign(Object.assign({},z.forecastConeData),{stroke:z.forecastConeDataColorScale[0]})}}),m.push({childName:"forecastInfrastructureCone",data:n,legendItem:{name:(0,D.uL)(n,"chart.cost_infrastructure_forecast_cone_legend_label",!1,!1),symbol:{fill:z.forecastInfrastructureConeDataColorScale[0],type:"triangleUp"},tooltip:(0,D.uL)(n,"chart.cost_infrastructure_forecast_cone_legend_tooltip",!1,!1)},style:{data:Object.assign(Object.assign({},z.forecastInfrastructureConeData),{stroke:z.forecastInfrastructureConeDataColorScale[0]})}}));const g=this.getCursorVoronoiContainer();this.setState({cursorVoronoiContainer:g,series:m})},this.handleNavToggle=()=>{setTimeout(this.handleResize,500)},this.handleResize=()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})},this.getChart=(e,t)=>{const{hiddenSeries:a}=this.state;return o().createElement(C.ChartArea,{data:a.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})},this.getCursorVoronoiContainer=()=>{const{formatDatumValue:e,formatDatumOptions:t}=this.props,a=(0,C.createContainer)("voronoi","cursor");return o().createElement(a,{cursorDimension:"x",labels:({datum:a})=>(0,_.zj)(a,e,t),mouseFollowTooltips:!0,voronoiDimension:"x",voronoiPadding:{bottom:75,left:8,right:8,top:8}})},this.getLegend=()=>{const{hiddenSeries:e,series:t}=this.state;return o().createElement(C.ChartLegend,{data:(0,_.oX)(t,e),height:25,gutter:20,name:"legend",responsive:!1})},this.handleLegendClick=e=>{const t=(0,_.nV)(this.state.series,this.state.hiddenSeries,e);this.setState({hiddenSeries:t})},this.getAdjustedContainerHeight=()=>{const{adjustContainerHeight:e,height:t,containerHeight:a=t,showForecast:r}=this.props,{width:n}=this.state;let s=a;return e&&(r?n>675&&n<1175?s+=25:n>450&&n<675?s+=50:n<=450&&(s+=75):n>450&&n<725?s+=25:n<=450&&(s+=50)),s}}componentDidMount(){setTimeout((()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize),this.navToggle=insights.chrome.on("NAVIGATION_TOGGLE",this.handleNavToggle)})),this.initDatum()}componentDidUpdate(e){e.currentInfrastructureCostData===this.props.currentInfrastructureCostData&&e.currentCostData===this.props.currentCostData&&e.forecastConeData===this.props.forecastConeData&&e.forecastData===this.props.forecastData&&e.forecastInfrastructureConeData===this.props.forecastInfrastructureConeData&&e.forecastInfrastructureData===this.props.forecastInfrastructureData&&e.previousInfrastructureCostData===this.props.previousInfrastructureCostData&&e.previousCostData===this.props.previousCostData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.navToggle&&this.navToggle()}getEvents(){const{hiddenSeries:e,series:t}=this.state;return(0,C.getInteractiveLegendEvents)({chartNames:(0,_.bC)(t),isHidden:t=>(0,_.Yt)(e,t),legendName:"legend",onLegendClick:e=>this.handleLegendClick(e.index)})}getEndDate(){const{currentInfrastructureCostData:e,currentCostData:t,forecastData:a,previousInfrastructureCostData:r,previousCostData:n}=this.props,s=e?(0,E.getDate)((0,D.Y_)(e,!0,!0)[1]):0,o=t?(0,E.getDate)((0,D.Y_)(t,!0,!0)[1]):0,i=a?(0,E.getDate)((0,D.Y_)(a,!0,!0)[1]):0,l=r?(0,E.getDate)((0,D.Y_)(r,!0,!0)[1]):0,c=n?(0,E.getDate)((0,D.Y_)(n,!0,!0)[1]):0;return s>0||o>0||l>0||c>0?Math.max(s,o,i,l,c):31}render(){const{height:e,padding:t={bottom:50,left:8,right:8,top:8},title:a}=this.props,{cursorVoronoiContainer:n,hiddenSeries:s,series:i,width:l}=this.state,c=(0,_.ge)(i,s),u=this.getEndDate(),d=Math.floor(u/2),h=1+Math.floor(d/2),m=1+d,g=u-Math.floor(d/2),p=n?o().cloneElement(n,{disable:!(0,_.TW)(i,s),labelComponent:o().createElement(C.ChartLegendTooltip,{legendData:(0,_.oX)(i,s,!0),title:e=>S().t("chart.day_of_month_title",{day:e.x})})}):void 0;return o().createElement(o().Fragment,null,a&&o().createElement(r.Title,{headingLevel:"h3",size:"md"},a),o().createElement("div",{className:"chartOverride",ref:this.containerRef,style:{height:this.getAdjustedContainerHeight()}},o().createElement("div",{style:{height:e,width:l}},o().createElement(C.Chart,{containerComponent:p,domain:c,events:this.getEvents(),height:e,legendAllowWrap:!0,legendComponent:this.getLegend(),legendData:(0,_.oX)(i,s),legendPosition:"bottom-left",padding:t,theme:y.Z,width:l},i&&i.map(((e,t)=>this.getChart(e,t))),o().createElement(C.ChartAxis,{style:z.xAxis,tickValues:[1,h,m,g,u]}),o().createElement(C.ChartAxis,{dependentAxis:!0,style:z.yAxis})))))}}const A=e=>o().createElement("div",{className:"chart"},o().createElement(F,Object.assign({},e)));var M=a(82874);const V={currentColorScale:[j.CH.value,R.R0.value,T.t6.value,O.S7.value,P.iM.value],currentInfrastructureColorScale:[x.cQ.value,L.iY.value,w.OS.value,k.O6.value,I.DD.value],currentInfrastructureCostData:{strokeDasharray:"3,3"},forecastConeDataColorScale:[M.g9.value],forecastDataColorScale:[T.t6.value],forecastInfrastructureConeDataColorScale:[M.g9.value],forecastInfrastructureDataColorScale:[w.OS.value],previousInfrastructureCostData:{strokeDasharray:"3,3"},previousColorScale:[N.tN.value,N.tN.value],yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}};class H extends o().Component{constructor(){super(...arguments),this.containerRef=o().createRef(),this.state={hiddenSeries:new Set,width:0},this.initDatum=()=>{const{currentInfrastructureCostData:e,currentCostData:t,forecastConeData:a,forecastData:r,forecastInfrastructureConeData:n,forecastInfrastructureData:s,previousInfrastructureCostData:o,previousCostData:i,showForecast:l}=this.props,c="chart.cost_legend_label",u="chart.cost_infrastructure_legend_label",d="chart.cost_infrastructure_legend_tooltip",h="chart.cost_legend_tooltip",m=[{childName:"previousCost",data:this.initDatumChildName(i,"previousCost"),legendItem:{name:(0,D.uL)(i,c,!0,!0,1),symbol:{fill:V.previousColorScale[0],type:"minus"},tooltip:(0,D.uL)(i,h,!1,!1,1)},isLine:!0,style:{data:{stroke:V.previousColorScale[0]}}},{childName:"currentCost",data:this.initDatumChildName(t,"currentCost"),legendItem:{name:(0,D.uL)(t,c,!0,!1),symbol:{fill:V.currentColorScale[0],type:"minus"},tooltip:(0,D.uL)(t,h,!1,!1)},isBar:!0,style:{data:{fill:V.currentColorScale[0]}}},{childName:"previousInfrastructureCost",data:this.initDatumChildName(o,"previousInfrastructureCost"),legendItem:{name:(0,D.uL)(o,u,!0,!0,1),symbol:{fill:V.previousColorScale[1],type:"dash"},tooltip:(0,D.uL)(o,d,!1,!1,1)},isLine:!0,style:{data:{stroke:V.previousColorScale[1]}}},{childName:"currentInfrastructureCost",data:this.initDatumChildName(e,"currentInfrastructureCost"),legendItem:{name:(0,D.uL)(e,u,!0,!1),symbol:{fill:V.currentInfrastructureColorScale[1],type:"dash"},tooltip:(0,D.uL)(e,d,!1,!1)},isBar:!0,style:{data:{fill:V.currentInfrastructureColorScale[1]}}}];l&&(m.push({childName:"forecast",data:this.initDatumChildName(r,"forecast"),legendItem:{name:(0,D.uL)(r,"chart.cost_forecast_legend_label",!1,!1),symbol:{fill:V.forecastDataColorScale[0],type:"minus"},tooltip:(0,D.uL)(r,"chart.cost_forecast_legend_tooltip",!1,!1)},isBar:!0,isForecast:!0,style:{data:{fill:V.forecastDataColorScale[0]}}}),m.push({childName:"forecastInfrastructure",data:this.initDatumChildName(s,"forecastInfrastructure"),legendItem:{name:(0,D.uL)(s,"chart.cost_infrastructure_forecast_legend_label",!1,!1),symbol:{fill:V.forecastInfrastructureDataColorScale[0],type:"minus"},tooltip:(0,D.uL)(s,"chart.cost_infrastructure_forecast_legend_tooltip",!1,!1)},isBar:!0,isForecast:!0,style:{data:{fill:V.forecastInfrastructureDataColorScale[0]}}}),m.push({childName:"forecastCone",data:this.initDatumChildName(a,"forecastCone"),legendItem:{name:(0,D.uL)(a,"chart.cost_forecast_cone_legend_label",!1,!1),symbol:{fill:V.forecastConeDataColorScale[0],type:"triangleUp"},tooltip:(0,D.uL)(a,"chart.cost_forecast_cone_legend_tooltip",!1,!1)},isForecast:!0,isLine:!0,style:{data:{fill:V.forecastConeDataColorScale[0]}}}),m.push({childName:"forecastInfrastructureCone",data:this.initDatumChildName(n,"forecastInfrastructureCone"),legendItem:{name:(0,D.uL)(n,"chart.cost_infrastructure_forecast_cone_legend_label",!1,!1),symbol:{fill:V.forecastInfrastructureConeDataColorScale[0],type:"triangleUp"},tooltip:(0,D.uL)(n,"chart.cost_infrastructure_forecast_cone_legend_tooltip",!1,!1)},isForecast:!0,isLine:!0,style:{data:{fill:V.forecastInfrastructureConeDataColorScale[0]}}}));const g=this.getCursorVoronoiContainer();this.setState({cursorVoronoiContainer:g,series:m})},this.initDatumChildName=(e,t)=>(e.map((e=>e.childName=t)),e),this.handleNavToggle=()=>{setTimeout(this.handleResize,500)},this.handleResize=()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})},this.getChart=(e,t)=>{const{hiddenSeries:a}=this.state;if(!a.has(t)&&!e.isForecast){if(e.isBar)return o().createElement(C.ChartBar,{alignment:"middle",data:e.data,key:e.childName,name:e.childName,style:e.style});if(e.isLine)return o().createElement(C.ChartLine,{data:e.data,key:e.childName,name:e.childName,style:e.style})}return null},this.getForecastBarChart=(e,t)=>{const{hiddenSeries:a}=this.state;return!a.has(t)&&e.isForecast&&e.isBar?o().createElement(C.ChartBar,{alignment:"middle",data:e.data,key:e.childName,name:e.childName,style:e.style}):null},this.getForecastLineChart=(e,t)=>{const{hiddenSeries:a}=this.state;return!a.has(t)&&e.isForecast&&e.isLine?o().createElement(C.ChartBar,{alignment:"middle",barWidth:1,data:e.data,key:e.childName,name:e.childName,style:e.style}):null},this.getCursorVoronoiContainer=()=>{const{formatDatumValue:e,formatDatumOptions:t}=this.props,a=(0,C.createContainer)("voronoi","cursor");return o().createElement(a,{cursorDimension:"x",labels:({datum:a})=>(0,_.zj)(a,e,t),mouseFollowTooltips:!0,voronoiDimension:"x",voronoiPadding:{bottom:75,left:8,right:8,top:8}})},this.getLegend=()=>{const{hiddenSeries:e,series:t}=this.state;return o().createElement(C.ChartLegend,{data:(0,_.oX)(t,e),height:25,gutter:20,name:"legend",responsive:!1})},this.handleLegendClick=e=>{const t=(0,_.nV)(this.state.series,this.state.hiddenSeries,e);this.setState({hiddenSeries:t})},this.getAdjustedContainerHeight=()=>{const{adjustContainerHeight:e,height:t,containerHeight:a=t,showForecast:r}=this.props,{width:n}=this.state;let s=a;return e&&(r?n>675&&n<1175?s+=25:n>450&&n<675?s+=50:n<=450&&(s+=75):n>450&&n<725?s+=25:n<=450&&(s+=50)),s}}componentDidMount(){setTimeout((()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize),this.navToggle=insights.chrome.on("NAVIGATION_TOGGLE",this.handleNavToggle)})),this.initDatum()}componentDidUpdate(e){e.currentInfrastructureCostData===this.props.currentInfrastructureCostData&&e.currentCostData===this.props.currentCostData&&e.forecastConeData===this.props.forecastConeData&&e.forecastData===this.props.forecastData&&e.forecastInfrastructureConeData===this.props.forecastInfrastructureConeData&&e.forecastInfrastructureData===this.props.forecastInfrastructureData&&e.previousInfrastructureCostData===this.props.previousInfrastructureCostData&&e.previousCostData===this.props.previousCostData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.navToggle&&this.navToggle()}getEndDate(){const{currentInfrastructureCostData:e,currentCostData:t,forecastData:a,previousInfrastructureCostData:r,previousCostData:n}=this.props,s=e?(0,E.getDate)((0,D.Y_)(e,!0,!0)[1]):0,o=t?(0,E.getDate)((0,D.Y_)(t,!0,!0)[1]):0,i=a?(0,E.getDate)((0,D.Y_)(a,!0,!0)[1]):0,l=r?(0,E.getDate)((0,D.Y_)(r,!0,!0)[1]):0,c=n?(0,E.getDate)((0,D.Y_)(n,!0,!0)[1]):0;return s>0||o>0||l>0||c>0?Math.max(s,o,i,l,c):31}getEvents(){const{hiddenSeries:e,series:t}=this.state;return(0,C.getInteractiveLegendEvents)({chartNames:(0,_.bC)(t),isDataHidden:a=>(0,_.E0)(t,e,a),isHidden:t=>(0,_.Yt)(e,t),legendName:"legend",onLegendClick:e=>this.handleLegendClick(e.index)})}render(){const{height:e,padding:t={bottom:50,left:8,right:8,top:8},title:a}=this.props,{cursorVoronoiContainer:n,hiddenSeries:s,series:i,width:l}=this.state,c=(0,_.ge)(i,s),u=this.getEndDate(),d=Math.floor(u/2),h=1+Math.floor(d/2),m=1+d,g=u-Math.floor(d/2),p=n?o().cloneElement(n,{disable:!(0,_.TW)(i,s),labelComponent:o().createElement(C.ChartLegendTooltip,{legendData:(0,_.oX)(i,s,!0),title:e=>S().t("chart.day_of_month_title",{day:e.x})})}):void 0;return o().createElement(o().Fragment,null,a&&o().createElement(r.Title,{headingLevel:"h3",size:"md"},a),o().createElement("div",{className:"chartOverride",ref:this.containerRef,style:{height:this.getAdjustedContainerHeight()}},o().createElement("div",{style:{height:e,width:l}},o().createElement(C.Chart,{containerComponent:p,domain:c,events:this.getEvents(),height:e,legendAllowWrap:!0,legendComponent:this.getLegend(),legendData:(0,_.oX)(i,s),legendPosition:"bottom-left",padding:t,theme:y.Z,width:l},i&&i.length>0&&o().createElement(C.ChartGroup,{offset:5.5},i.map(((e,t)=>this.getChart(e,t)))),i&&i.length>0&&o().createElement(C.ChartGroup,{offset:5.5},i.map(((e,t)=>this.getForecastBarChart(e,t)))),i&&i.length>0&&o().createElement(C.ChartGroup,{offset:5.5},i.map(((e,t)=>this.getForecastLineChart(e,t)))),o().createElement(C.ChartAxis,{style:V.xAxis,tickValues:[1,h,m,g,u]}),o().createElement(C.ChartAxis,{dependentAxis:!0,style:V.yAxis})))))}}const U=e=>o().createElement("div",{className:"chart"},o().createElement(H,Object.assign({},e))),Z={currentColorScale:[j.CH.value,R.R0.value,T.t6.value,O.S7.value,P.iM.value],forecastConeDataColorScale:[M.g9.value],forecastDataColorScale:[T.t6.value],itemsPerRow:4,previousColorScale:[N.tN.value,N.tN.value],yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}};class B extends o().Component{constructor(){super(...arguments),this.containerRef=o().createRef(),this.state={hiddenSeries:new Set,width:0},this.initDatum=()=>{const{currentData:e,forecastData:t,forecastConeData:a,previousData:r,showForecast:n,showSupplementaryLabel:s=!1,showUsageLegendLabel:o=!1}=this.props,i=o?"chart.usage_legend_label":s?"chart.cost_supplementary_legend_label":"chart.cost_legend_label",l=o?"chart.usage_legend_tooltip":s?"chart.cost_supplementary_legend_tooltip":"chart.cost_legend_tooltip",c=[{childName:"previousCost",data:this.initDatumChildName(r,"previousCost"),legendItem:{name:(0,D.uL)(r,i,!0,!0,1),symbol:{fill:Z.previousColorScale[0],type:"minus"},tooltip:(0,D.uL)(r,l,!1,!1,1)},isBar:!0,style:{data:{fill:Z.previousColorScale[0]}}},{childName:"currentCost",data:this.initDatumChildName(e,"currentCost"),legendItem:{name:(0,D.uL)(e,i,!0,!1),symbol:{fill:Z.currentColorScale[0],type:"minus"},tooltip:(0,D.uL)(e,l,!1,!1)},isBar:!0,style:{data:{fill:Z.currentColorScale[0]}}}];n&&(c.push({childName:"forecast",data:this.initDatumChildName(t,"forecast"),legendItem:{name:(0,D.uL)(t,"chart.cost_forecast_legend_label",!1,!1),symbol:{fill:Z.forecastDataColorScale[0],type:"minus"},tooltip:(0,D.uL)(t,"chart.cost_forecast_legend_tooltip",!1,!1)},isBar:!0,isForecast:!0,style:{data:{fill:Z.forecastDataColorScale[0]}}}),c.push({childName:"forecastCone",data:this.initDatumChildName(a,"forecastCone"),legendItem:{name:(0,D.uL)(a,"chart.cost_forecast_cone_legend_label",!1,!1),symbol:{fill:Z.forecastConeDataColorScale[0],type:"triangleUp"},tooltip:(0,D.uL)(a,"chart.cost_forecast_cone_legend_tooltip",!1,!1)},isForecast:!0,isLine:!0,style:{data:{fill:Z.forecastConeDataColorScale[0]}}}));const u=this.getCursorVoronoiContainer();this.setState({cursorVoronoiContainer:u,series:c})},this.initDatumChildName=(e,t)=>(e.map((e=>e.childName=t)),e),this.handleNavToggle=()=>{setTimeout(this.handleResize,500)},this.handleResize=()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})},this.getChart=(e,t)=>{const{hiddenSeries:a}=this.state;if(!e.isForecast){const r=a.has(t)?[{y:null}]:e.data;if(e.isBar)return o().createElement(C.ChartBar,{alignment:"middle",data:r,key:e.childName,name:e.childName,style:e.style});if(e.isLine)return o().createElement(C.ChartLine,{data:r,key:e.childName,name:e.childName,style:e.style})}return null},this.getForecastBarChart=(e,t)=>{const{hiddenSeries:a}=this.state;if(e.isForecast&&e.isBar){const r=a.has(t)?[{y:null}]:e.data;return o().createElement(C.ChartBar,{alignment:"middle",data:r,key:e.childName,name:e.childName,style:e.style})}return null},this.getForecastLineChart=(e,t)=>{const{hiddenSeries:a}=this.state;if(e.isForecast&&e.isLine){const r=a.has(t)?[{y:null}]:e.data;return o().createElement(C.ChartBar,{alignment:"middle",barWidth:1,data:r,key:e.childName,name:e.childName,style:e.style})}return null},this.getCursorVoronoiContainer=()=>{const{formatDatumValue:e,formatDatumOptions:t}=this.props,a=(0,C.createContainer)("voronoi","cursor");return o().createElement(a,{cursorDimension:"x",labels:({datum:a})=>(0,_.zj)(a,e,t),mouseFollowTooltips:!0,voronoiDimension:"x",voronoiPadding:{bottom:50,left:8,right:8,top:8}})},this.getLegend=()=>{const{legendItemsPerRow:e}=this.props,{hiddenSeries:t,series:a,width:r}=this.state;return o().createElement(C.ChartLegend,{data:(0,_.oX)(a,t),gutter:20,height:25,itemsPerRow:e,name:"legend",orientation:r>150?"horizontal":"vertical"})},this.handleLegendClick=e=>{const t=(0,_.nV)(this.state.series,this.state.hiddenSeries,e);this.setState({hiddenSeries:t})},this.getAdjustedContainerHeight=()=>{const{adjustContainerHeight:e,height:t,containerHeight:a=t,showForecast:r}=this.props,{width:n}=this.state;let s=a;return e&&r&&n<700&&(s+=25),s}}componentDidMount(){setTimeout((()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize),this.navToggle=insights.chrome.on("NAVIGATION_TOGGLE",this.handleNavToggle)})),this.initDatum()}componentDidUpdate(e){e.currentData===this.props.currentData&&e.forecastData===this.props.forecastData&&e.forecastConeData===this.props.forecastConeData&&e.previousData===this.props.previousData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.navToggle&&this.navToggle()}getEndDate(){const{currentData:e,forecastData:t,previousData:a}=this.props,r=a?(0,E.getDate)((0,D.Y_)(a,!0,!0)[1]):0,n=e?(0,E.getDate)((0,D.Y_)(e,!0,!0)[1]):0,s=t?(0,E.getDate)((0,D.Y_)(t,!0,!0)[1]):0;return n>0||r>0?Math.max(n,s,r):31}getEvents(){const{hiddenSeries:e,series:t}=this.state;return(0,C.getInteractiveLegendEvents)({chartNames:(0,_.bC)(t),isDataHidden:a=>(0,_.E0)(t,e,a),isHidden:t=>(0,_.Yt)(e,t),legendName:"legend",onLegendClick:e=>this.handleLegendClick(e.index)})}render(){const{height:e,padding:t={bottom:50,left:8,right:8,top:8},title:a}=this.props,{cursorVoronoiContainer:n,hiddenSeries:s,series:i,width:l}=this.state,c=(0,_.ge)(i,s),u=this.getEndDate(),d=Math.floor(u/2),h=1+Math.floor(d/2),m=1+d,g=u-Math.floor(d/2),p=n?o().cloneElement(n,{disable:!(0,_.TW)(i,s),labelComponent:o().createElement(C.ChartLegendTooltip,{legendData:(0,_.oX)(i,s,!0),title:e=>S().t("chart.day_of_month_title",{day:e.x})})}):void 0;return o().createElement(o().Fragment,null,a&&o().createElement(r.Title,{headingLevel:"h3",size:"md"},a),o().createElement("div",{className:"chartOverride",ref:this.containerRef,style:{height:this.getAdjustedContainerHeight()}},o().createElement("div",{style:{height:e,width:l}},o().createElement(C.Chart,{containerComponent:p,domain:c,events:this.getEvents(),height:e,legendAllowWrap:!0,legendComponent:this.getLegend(),legendData:(0,_.oX)(i,s),legendPosition:"bottom-left",padding:t,theme:y.Z,width:l},i&&i.length>0&&o().createElement(C.ChartGroup,{offset:11},i.map(((e,t)=>this.getChart(e,t)))),i&&i.length>0&&o().createElement(C.ChartGroup,{offset:11},o().createElement(C.ChartBar,{data:[{y:null}],name:"forcast_spacer"}),i.map(((e,t)=>this.getForecastBarChart(e,t)))),i&&i.length>0&&o().createElement(C.ChartGroup,{offset:11},o().createElement(C.ChartBar,{data:[{y:null}],name:"forcast_cone_spacer"}),i.map(((e,t)=>this.getForecastLineChart(e,t)))),o().createElement(C.ChartAxis,{style:Z.xAxis,tickValues:[1,h,m,g,u]}),o().createElement(C.ChartAxis,{dependentAxis:!0,style:Z.yAxis})))))}}const q=e=>o().createElement("div",{className:"chart"},o().createElement(B,Object.assign({},e))),Y={currentColorScale:[j.ZP.value,R.ZP.value,T.ZP.value,O.ZP.value,P.ZP.value],currentMonthData:{fill:"none"},forecastConeData:{fill:O.ZP.value,strokeWidth:0},forecastConeDataColorScale:[O.ZP.value],forecastData:{fill:"none"},forecastDataColorScale:[T.ZP.value],itemsPerRow:4,previousColorScale:[N.ZP.value,N.ZP.value],previousMonthData:{fill:"none"},yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}};class W extends o().Component{constructor(){super(...arguments),this.containerRef=o().createRef(),this.state={hiddenSeries:new Set,width:0},this.initDatum=()=>{const{currentData:e,forecastData:t,forecastConeData:a,previousData:r,showForecast:n,showSupplementaryLabel:s=!1,showUsageLegendLabel:o=!1}=this.props,i=o?"chart.usage_legend_label":s?"chart.cost_supplementary_legend_label":"chart.cost_legend_label",l=o?"chart.usage_legend_tooltip":s?"chart.cost_supplementary_legend_tooltip":"chart.cost_legend_tooltip",c=[{childName:"previousCost",data:r,legendItem:{name:(0,D.uL)(r,i,!0,!0,1),symbol:{fill:Y.previousColorScale[0],type:"minus"},tooltip:(0,D.uL)(r,l,!1,!1,1)},style:{data:Object.assign(Object.assign({},Y.previousMonthData),{stroke:Y.previousColorScale[0]})}},{childName:"currentCost",data:e,legendItem:{name:(0,D.uL)(e,i,!0,!1),symbol:{fill:Y.currentColorScale[0],type:"minus"},tooltip:(0,D.uL)(e,l,!1,!1)},style:{data:Object.assign(Object.assign({},Y.currentMonthData),{stroke:Y.currentColorScale[0]})}}];n&&(c.push({childName:"forecast",data:t,legendItem:{name:(0,D.uL)(t,"chart.cost_forecast_legend_label",!1,!1),symbol:{fill:Y.forecastDataColorScale[0],type:"minus"},tooltip:(0,D.uL)(t,"chart.cost_forecast_legend_tooltip",!1,!1)},style:{data:Object.assign(Object.assign({},Y.forecastData),{stroke:Y.forecastDataColorScale[0]})}}),c.push({childName:"forecastCone",data:a,legendItem:{name:(0,D.uL)(a,"chart.cost_forecast_cone_legend_label",!1,!1),symbol:{fill:Y.forecastConeDataColorScale[0],type:"triangleUp"},tooltip:(0,D.uL)(a,"chart.cost_forecast_cone_legend_tooltip",!1,!1)},style:{data:Object.assign(Object.assign({},Y.forecastConeData),{stroke:Y.forecastConeDataColorScale[0]})}}));const u=this.getCursorVoronoiContainer();this.setState({cursorVoronoiContainer:u,series:c})},this.handleNavToggle=()=>{setTimeout(this.handleResize,500)},this.handleResize=()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})},this.getChart=(e,t)=>{const{hiddenSeries:a}=this.state;return o().createElement(C.ChartArea,{data:a.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})},this.getCursorVoronoiContainer=()=>{const{formatDatumValue:e,formatDatumOptions:t}=this.props,a=(0,C.createContainer)("voronoi","cursor");return o().createElement(a,{cursorDimension:"x",labels:({datum:a})=>(0,_.zj)(a,e,t),mouseFollowTooltips:!0,voronoiDimension:"x",voronoiPadding:{bottom:50,left:8,right:8,top:8}})},this.getLegend=()=>{const{legendItemsPerRow:e}=this.props,{hiddenSeries:t,series:a,width:r}=this.state;return o().createElement(C.ChartLegend,{data:(0,_.oX)(a,t),gutter:20,height:25,itemsPerRow:e,name:"legend",orientation:r>150?"horizontal":"vertical"})},this.handleLegendClick=e=>{const t=(0,_.nV)(this.state.series,this.state.hiddenSeries,e);this.setState({hiddenSeries:t})},this.getAdjustedContainerHeight=()=>{const{adjustContainerHeight:e,height:t,containerHeight:a=t,showForecast:r}=this.props,{width:n}=this.state;let s=a;return e&&r&&n<700&&(s+=25),s}}componentDidMount(){setTimeout((()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize),this.navToggle=insights.chrome.on("NAVIGATION_TOGGLE",this.handleNavToggle)})),this.initDatum()}componentDidUpdate(e){e.currentData===this.props.currentData&&e.forecastData===this.props.forecastData&&e.forecastConeData===this.props.forecastConeData&&e.previousData===this.props.previousData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.navToggle&&this.navToggle()}getEndDate(){const{currentData:e,forecastData:t,previousData:a}=this.props,r=a?(0,E.getDate)((0,D.Y_)(a,!0,!0)[1]):0,n=e?(0,E.getDate)((0,D.Y_)(e,!0,!0)[1]):0,s=t?(0,E.getDate)((0,D.Y_)(t,!0,!0)[1]):0;return n>0||r>0?Math.max(n,s,r):31}getEvents(){const{hiddenSeries:e,series:t}=this.state;return(0,C.getInteractiveLegendEvents)({chartNames:(0,_.bC)(t),isHidden:t=>(0,_.Yt)(e,t),legendName:"legend",onLegendClick:e=>this.handleLegendClick(e.index)})}render(){const{height:e,padding:t={bottom:50,left:8,right:8,top:8},title:a}=this.props,{cursorVoronoiContainer:n,hiddenSeries:s,series:i,width:l}=this.state,c=(0,_.ge)(i,s),u=this.getEndDate(),d=Math.floor(u/2),h=n?o().cloneElement(n,{disable:!(0,_.TW)(i,s),labelComponent:o().createElement(C.ChartLegendTooltip,{legendData:(0,_.oX)(i,s,!0),title:e=>S().t("chart.day_of_month_title",{day:e.x})})}):void 0;return o().createElement(o().Fragment,null,o().createElement(r.Title,{headingLevel:"h3",size:"md"},a),o().createElement("div",{className:"chartOverride",ref:this.containerRef,style:{height:this.getAdjustedContainerHeight()}},o().createElement("div",{style:{height:e,width:l}},o().createElement(C.Chart,{containerComponent:h,domain:c,events:this.getEvents(),height:e,legendAllowWrap:!0,legendComponent:this.getLegend(),legendData:(0,_.oX)(i,s),legendPosition:"bottom-left",padding:t,theme:y.Z,width:l},i&&i.map(((e,t)=>this.getChart(e,t))),o().createElement(C.ChartAxis,{style:Y.xAxis,tickValues:[1,d,u]}),o().createElement(C.ChartAxis,{dependentAxis:!0,style:Y.yAxis})))))}}const G=e=>o().createElement("div",{className:"chart"},o().createElement(W,Object.assign({},e))),X={chartContainer:{marginTop:a(98499).ZP.value},currentRequestData:{data:{fill:"none",stroke:R.ZP.value,strokeDasharray:"3,3"}},currentUsageData:{data:{fill:"none",stroke:j.ZP.value}},itemsPerRow:2,legendColorScale:[N.ZP.value,j.ZP.value,N.ZP.value,R.ZP.value],previousRequestData:{data:{fill:"none",stroke:N.ZP.value,strokeDasharray:"3,3"}},previousUsageData:{data:{fill:"none",stroke:N.ZP.value}},currentColorScale:[j.ZP.value,R.ZP.value,T.ZP.value,O.ZP.value,P.ZP.value],previousColorScale:[N.ZP.value,N.ZP.value],yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}};class K extends o().Component{constructor(){super(...arguments),this.containerRef=o().createRef(),this.state={hiddenSeries:new Set,width:0},this.initDatum=()=>{const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:r}=this.props,n="chart.usage_legend_label",s="chart.usage_legend_tooltip",o="chart.requests_legend_label",i="chart.requests_legend_tooltip",l=[{childName:"previousUsage",data:r,legendItem:{name:(0,D.Fs)(r,n,!0,!0,1),symbol:{fill:X.legendColorScale[0],type:"minus"},tooltip:(0,D.Fs)(r,s,!1,!1,1)},style:X.previousUsageData},{childName:"currentUsage",data:t,legendItem:{name:(0,D.Fs)(t,n,!0,!1),symbol:{fill:X.legendColorScale[1],type:"minus"},tooltip:(0,D.Fs)(t,s,!1,!1)},style:X.currentUsageData},{childName:"previousRequest",data:a,legendItem:{name:(0,D.Fs)(a,o,!0,!0,1),symbol:{fill:X.legendColorScale[2],type:"dash"},tooltip:(0,D.Fs)(a,i,!1,!1,1)},style:X.previousRequestData},{childName:"currentRequest",data:e,legendItem:{name:(0,D.Fs)(e,o,!0,!1),symbol:{fill:X.legendColorScale[3],type:"dash"},tooltip:(0,D.Fs)(e,i,!1,!1)},style:X.currentRequestData}],c=this.getCursorVoronoiContainer();this.setState({cursorVoronoiContainer:c,series:l})},this.handleNavToggle=()=>{setTimeout(this.handleResize,500)},this.handleResize=()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})},this.getChart=(e,t)=>{const{hiddenSeries:a}=this.state;return o().createElement(C.ChartArea,{data:a.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})},this.getCursorVoronoiContainer=()=>{const{formatDatumValue:e,formatDatumOptions:t}=this.props,a=(0,C.createContainer)("voronoi","cursor");return o().createElement(a,{cursorDimension:"x",labels:({datum:a})=>(0,_.zj)(a,e,t),mouseFollowTooltips:!0,voronoiDimension:"x",voronoiPadding:{bottom:75,left:8,right:8,top:8}})},this.getLegend=()=>{const{legendItemsPerRow:e}=this.props,{hiddenSeries:t,series:a,width:r}=this.state,n=e||(r>300?X.itemsPerRow:1);return o().createElement(C.ChartLegend,{data:(0,_.oX)(a,t),height:25,gutter:20,itemsPerRow:n,name:"legend"})},this.handleLegendClick=e=>{const t=(0,_.nV)(this.state.series,this.state.hiddenSeries,e);this.setState({hiddenSeries:t})},this.getAdjustedContainerHeight=()=>{const{adjustContainerHeight:e,height:t,containerHeight:a=t}=this.props,{width:r}=this.state;let n=a;return e&&r<480&&(n+=20),n}}componentDidMount(){setTimeout((()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize),this.navToggle=insights.chrome.on("NAVIGATION_TOGGLE",this.handleNavToggle)})),this.initDatum()}componentDidUpdate(e){e.currentRequestData===this.props.currentRequestData&&e.currentUsageData===this.props.currentUsageData&&e.previousRequestData===this.props.previousRequestData&&e.previousUsageData===this.props.previousUsageData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.navToggle&&this.navToggle()}getEndDate(){const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:r}=this.props,n=e?(0,E.getDate)((0,D.Y_)(e,!0,!0)[1]):0,s=t?(0,E.getDate)((0,D.Y_)(t,!0,!0)[1]):0,o=a?(0,E.getDate)((0,D.Y_)(a,!0,!0)[1]):0,i=r?(0,E.getDate)((0,D.Y_)(r,!0,!0)[1]):0;return n>0||s>0||o>0||i>0?Math.max(n,s,o,i):31}getEvents(){const{hiddenSeries:e,series:t}=this.state;return(0,C.getInteractiveLegendEvents)({chartNames:(0,_.bC)(t),isHidden:t=>(0,_.Yt)(e,t),legendName:"legend",onLegendClick:e=>this.handleLegendClick(e.index)})}render(){const{height:e,padding:t={bottom:75,left:8,right:8,top:8},title:a}=this.props,{cursorVoronoiContainer:n,hiddenSeries:s,series:i,width:l}=this.state,c=(0,_.ge)(i,s),u=this.getEndDate(),d=Math.floor(u/2),h=n?o().cloneElement(n,{disable:!(0,_.TW)(i,s),labelComponent:o().createElement(C.ChartLegendTooltip,{legendData:(0,_.oX)(i,s,!0),title:e=>S().t("chart.day_of_month_title",{day:e.x})})}):void 0;return o().createElement(o().Fragment,null,o().createElement(r.Title,{headingLevel:"h3",size:"md"},a),o().createElement("div",{className:"chartOverride",ref:this.containerRef,style:{height:this.getAdjustedContainerHeight()}},o().createElement("div",{style:{height:e,width:l}},o().createElement(C.Chart,{containerComponent:h,domain:c,events:this.getEvents(),height:e,legendComponent:this.getLegend(),legendData:(0,_.oX)(i,s),legendPosition:"bottom-left",padding:t,theme:y.Z,width:l},i&&i.map(((e,t)=>this.getChart(e,t))),o().createElement(C.ChartAxis,{style:X.xAxis,tickValues:[1,d,u]}),o().createElement(C.ChartAxis,{dependentAxis:!0,style:X.yAxis})))))}}const $=e=>o().createElement("div",{className:"chart"},o().createElement(K,Object.assign({},e)))},99163:(e,t,a)=>{"use strict";a.d(t,{L:()=>o});var r=a(13325),n=a(97522),s=a.n(n);const o=()=>s().createElement("span",{className:"emptyValueContainer"},s().createElement(r.V_,null))},73466:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var r=a(47205),n=a(84049),s=a(52413),o=a(97522),i=a.n(o);const l=(0,a(55399).withRouter)((({title:e})=>i().createElement(i().Fragment,null,e&&i().createElement(n.PageHeader,null,i().createElement(n.PageHeaderTitle,{title:e})),i().createElement(r.Main,null,i().createElement(s.G,null)))))},64146:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var r=a(47205),n=a(84049),s=a(97522),o=a.n(s),i=a(55399),l=a(48927),c=a(59867),u=a(79878);class d extends o().Component{render(){const{showReload:e=!0,t}=this.props;return o().createElement(l.EmptyState,{variant:l.EmptyStateVariant.large,className:"pf-m-redhat-font"},o().createElement(l.EmptyStateIcon,{icon:c.Yw}),o().createElement(l.Title,{headingLevel:"h5",size:"lg"},t("no_data_state.title")),o().createElement(l.EmptyStateBody,null,t("no_data_state.desc")),e&&o().createElement(l.Button,{variant:"primary",onClick:()=>window.location.reload()},t("no_data_state.refresh")))}}const h=(0,i.withRouter)((0,u.withTranslation)()(d)),m=(0,i.withRouter)((({showReload:e,title:t})=>o().createElement(o().Fragment,null,t&&o().createElement(n.PageHeader,null,o().createElement(n.PageHeaderTitle,{title:t})),o().createElement(r.Main,null,o().createElement(h,{showReload:e})))))},13883:(e,t,a)=>{"use strict";a.d(t,{Z:()=>y});var r=a(47205),n=a(84049),s=a(97522),o=a.n(s),i=a(55399),l=a(48927),c=a(50470),u=a(20777),d=a(79878);const h=a(8447),m=(0,d.withTranslation)()((({className:e,t})=>o().createElement("img",{className:`cost-icon ${e}`,src:h,alt:t("cost_management"),"aria-hidden":"true"})));var g=a(17386),p=a(98499);const f={iconSpacer:{marginLeft:a(73861).ZP.value},viewSources:{marginTop:p.ZP.value}};class v extends o().Component{constructor(){super(...arguments),this.getDocLink=(e,t)=>{const{t:a}=this.props;return o().createElement("a",{href:a(t),rel:"noreferrer",target:"_blank"},a(e),o().createElement("span",{style:f.iconSpacer},o().createElement(c.LA,null)))},this.getRouteToSources=()=>`${(0,g.I)()}/settings/sources`}render(){const{providerType:e,t}=this.props;let a,r,n,s="no_providers_state.overview_desc",i="no_providers_state.overview_title";switch(e){case"aws":s="no_providers_state.aws_desc",i="no_providers_state.aws_title";break;case"azure":s="no_providers_state.azure_desc",i="no_providers_state.azure_title";break;case"gcp":s="no_providers_state.gcp_desc",i="no_providers_state.gcp_title";break;case"ocp":s="no_providers_state.ocp_desc",a="docs.add_ocp_sources",n="no_providers_state.ocp_add_sources",i="no_providers_state.ocp_title";break;default:r=m}return o().createElement(l.EmptyState,{variant:l.EmptyStateVariant.large,className:"pf-m-redhat-font"},o().createElement(l.EmptyStateIcon,{icon:r||u.wl}),o().createElement(l.Title,{headingLevel:"h5",size:"lg"},t(i)),o().createElement(l.EmptyStateBody,null,t(s)),a&&n?o().createElement("div",{style:f.viewSources},this.getDocLink(n,a)):o().createElement(l.Button,{variant:"primary",component:"a",href:this.getRouteToSources()},t("no_providers_state.get_started")))}}const C=(0,i.withRouter)((0,d.withTranslation)()(v)),y=(0,i.withRouter)((({providerType:e,title:t})=>o().createElement(o().Fragment,null,t&&o().createElement(n.PageHeader,null,o().createElement(n.PageHeaderTitle,{title:t})),o().createElement(r.Main,null,o().createElement(C,{providerType:e})))))},31447:(e,t,a)=>{"use strict";a.d(t,{R:()=>s,c:()=>l});var r=a(60114),n=a(45997);function s({daily:e,idKey:t,report:a,sortDirection:n=0,sortKey:s="date"}){return(0,r.D)(l({daily:e,idKey:t,report:a,sortDirection:n,sortKey:s}),{key:s,direction:n})}function o(e,t,a){return{markup:{value:(a?a[t].markup.value:0)+e[t]&&e[t].markup?e[t].markup.value:0,units:e[t]&&e[t].markup?e[t].markup.units:"USD"},raw:{value:(a?a[t].raw.value:0)+e[t]&&e[t].raw?e[t].raw.value:0,units:e[t]&&e[t].raw?e[t].raw.units:"USD"},total:{value:(a?a[t].total.value:0)+e[t]&&e[t].total?Number(e[t].total.value):0,units:e[t]&&e[t].total?e[t].total.units:null},usage:{value:(a?a[t].usage.value:0)+e[t]&&e[t].usage?Number(e[t].usage.value):0,units:e[t]&&e[t].usage?e[t].usage.units:null}}}function i(e,t){return{capacity:{value:(t?t.capacity.value:0)+e.capacity?e.capacity.value:0,units:e.capacity?e.capacity.units:"Core-Hours"},limit:{value:(t?t.limit.value:0)+e.limit?e.limit.value:0,units:e.limit?e.limit.units:"Core-Hours"},request:{value:(t?t.request.value:0)+e.request?e.request.value:0,units:e.request?e.request.units:"Core-Hours"},usage:{value:(t?t.usage.value:0)+e.usage?e.usage.value:0,units:e.usage?e.usage.units:"Core-Hours"}}}function l({daily:e=!1,report:t,idKey:a}){if(!t)return[];const r=new Map,s=l=>{if(l&&l.values){const s=l.type;l.values.forEach((l=>{const c="date"!==a&&"cluster"!==a&&l.cluster?`-${l.cluster}`:"";let u="org_entities"===a?l.org_unit_id:l[a];void 0===u&&(u=l.date);const d=`${u}${c}`,h=l.clusters&&l.clusters.length>0?l.clusters[0]:void 0,m=h||l.cluster,g=l.clusters?l.clusters:[],p=l.date,f=l.delta_percent?l.delta_percent:0,v=l.delta_value?l.delta_value:0,C=l.source_uuid?l.source_uuid:[];let y;const D=function({idKey:e,report:t,value:a}){let r=String(e);if(t.meta&&t.meta.group_by){const s=t.meta.group_by;for(const t of Object.keys(s))if(t.indexOf(n.P)){const t=n.P+e;a.hasOwnProperty(t)&&(r=t)}}return r}({report:t,idKey:a,value:l});if(y="org_entities"===D&&l.alias?l.alias:"account"===D&&l.account_alias?l.account_alias:"cluster"===D&&h?h:l[D]instanceof Object?l[D].value:l[D],void 0===y&&(y=l.alias?l.alias:l[a]),e){const e=Object.assign(Object.assign({},i(l)),{cluster:m,clusters:g,cost:o(l,"cost"),date:p,delta_percent:f,delta_value:v,id:u,infrastructure:o(l,"infrastructure"),label:y,source_uuid:C,supplementary:o(l,"supplementary"),type:s}),t=r.get(d);if(t)t.set(p,e);else{const t=new Map;t.set(p,e),r.set(d,t)}}else{const e=r.get(d);e?r.set(d,Object.assign(Object.assign(Object.assign({},e),i(l,e)),{cluster:m,clusters:g,date:p,delta_percent:f,delta_value:v,cost:o(l,"cost",e),id:u,infrastructure:o(l,"infrastructure",e),label:y,source_uuid:C,supplementary:o(l,"supplementary",e),type:s})):r.set(d,Object.assign(Object.assign({},i(l)),{cluster:m,clusters:g,cost:o(l,"cost"),date:p,delta_percent:f,delta_value:v,id:u,infrastructure:o(l,"infrastructure"),label:y,source_uuid:C,supplementary:o(l,"supplementary"),type:s}))}}))}for(const e in l)if(l[e]instanceof Array)return l[e].forEach(s)};return t&&t.data&&t.data.forEach(s),Array.from(r.values())}},17386:(e,t,a)=>{"use strict";a.d(t,{I:()=>r});const r=()=>{const e=window.location.pathname.split("/");e.shift();let t="";return"beta"===e[0]&&(t="/beta"),t}},60114:(e,t,a)=>{"use strict";function r(e,t){return"string"==typeof e?e:e[t.key]}function n(e,t){const{direction:a=0}=t||{};return[...e].sort(((e,n)=>{const s=r(0===a?e:n,t),o=r(0===a?n:e,t);return s>o?-1:s<o?1:0}))}a.d(t,{D:()=>n})}}]);
//# sourceMappingURL=d0f2f371384ccf1d4e49.bundle.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{569:function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"b",function(){return s}),a.d(t,"a",function(){return i});const n=e=>{const t=e?e.toLowerCase():"";switch(t){case"usd":case"gb":case"gb-hours":case"gb-mo":case"core-hours":case"hrs":case"tag-mo":case"vm-hours":return t;default:return""}},s=(e,t,a={})=>{const s=n(t),c=e||0;switch(s){case"usd":return i(c,s,a);case"gb":case"gb-hours":case"gb-mo":case"tag-mo":case"vm-hours":return l(c,s,a);case"core-hours":case"hrs":return o(c,s,a);default:return r(c,s,a)}},r=(e,t,{fractionDigits:a=0}={})=>e.toLocaleString("en",{minimumFractionDigits:a,maximumFractionDigits:a}),i=(e,t,{fractionDigits:a=2}={})=>{let n=e;return e||(n=0),n.toLocaleString("en",{style:"currency",currency:t||"USD",minimumFractionDigits:a,maximumFractionDigits:a})},l=(e,t,{fractionDigits:a=0}={})=>e.toLocaleString("en",{minimumFractionDigits:a,maximumFractionDigits:a}),o=(e,t,{fractionDigits:a=0}={})=>e.toLocaleString("en",{minimumFractionDigits:a,maximumFractionDigits:a})},572:function(e,t,a){"use strict";a.d(t,"g",function(){return b}),a.d(t,"b",function(){return v}),a.d(t,"c",function(){return f}),a.d(t,"d",function(){return y}),a.d(t,"e",function(){return D}),a.d(t,"a",function(){return S}),a.d(t,"f",function(){return E});var n=a(700),s=a.n(n),r=a(596),i=a.n(r),l=a(574),o=a.n(l),c=a(699),u=a.n(c),d=a(610),m=a.n(d),h=a(208),g=a(577),p=a(569);function b(e,t=1,a="date",n="cost",s="total"){if(!e)return[];const r={idKey:a,report:e,reportItemValue:s,sortKey:"id",sortDirection:1},i=Object(g.a)(r);return 1===t?i.map(e=>_(e[n],e,a,n)):2===t?i.map(e=>_(e[n],e,a,n)):i.reduce((e,t)=>{const s=e.length?e[e.length-1].y:0;return[...e,_(s+t[n],t,a,n)]},[])}function _(e,t,a="date",n="cost"){return{x:"date"===a?o()(t.id):t.label,y:function(e){return Number(e)===e&&e%1!=0}(e)?parseFloat(e.toFixed(2)):function(e){return Number(e)===e&&e%1==0}(e)?e:0,key:t.id,name:t.id,units:t.units[n]}}function v(e,t=!0,a=!1,n=0){const[r,i]=function(e,t=0){if(!e||!e.length){const e=new Date;return t&&e.setMonth(e.getMonth()-t),[m()(e),e]}return[new Date(e[0].key+"T00:00:00"),new Date(e[e.length-1].key+"T00:00:00")]}(e,n);if(t&&r.setDate&&r.setDate(1),a&&r.setDate){const e=s()(r).getDate();i.setDate(e)}return[r,i]}function f(e){let t=0;return e&&e.length&&e.forEach(e=>{e.y>t&&(t=e.y)}),t}function y(e){return function(t,a=null,n={}){const s=Object(p.c)(a);switch(s){case"core-hours":case"hrs":case"gb":case"gb-hours":case"gb-mo":case"vm-hours":return h.a.t(`unit_tooltips.${s}`,{value:`${e(t,a,n)}`});default:return`${e(t,a,n)}`}}}function D(e,t,a,n="date",s){if(!e.key)return"";if("date"===n){return`${i()(e.key,"DD MMM YYYY")} ${t(e.y,s||e.units,a)}`}return e.key.toString()}function S(e,t="chart.cost_legend_label",a=!1,n=!1,s=0){const[r,l]=v(e,a,n,s);return h.a.t(t,{count:o()(l),endDate:i()(l,"D"),month:Number(i()(r,"M"))-1,startDate:i()(r,"D"),year:u()(l)})}function E(e,t="chart.usage_legend_label",a=!1,n=!1,s=0){return S(e,t,a,n,s)}},575:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return s});const n=e=>({"data-testid":e}),s={details:{cluster_lnk:"cluster-lnk",historical_data_btn:"historical-data-btn",show_more_btn:"show-more-btn",tag_lnk:"tag-lnk",view_all_btn:"view-all-btn"},export:{cancel_btn:"cancel-btn",submit_btn:"submit-btn"},login:{alert:"alert",form:"login-form",username_input:"username-input",password_input:"password-input",submit:"submit"},masthead:{masthead:"masthead",username:"username",sidebarToggle:"sidebar-toggle",logout:"logout"},onboarding:{btn_cancel:"btn-cancel",btn_back:"btn-back",btn_continue:"btn-continue",btn_close:"btn-close",type_selector:"type-selector",type_opt_aws:"type-option-aws",type_opt_ocp:"type-option-ocp",type_opt_non:"type-option-non",name_input:"name-input",check_box_1:"check-box-1",check_box_2:"check-box-2",s3_input:"s3-input",clusterid_input:"clusterid-input",arn_input:"arn-input"},providers:{add_btn:"add-btn",bucket_input:"bucket-input",cancel_btn:"cancel-btn",empty_state_add_btn:"empty_state_add-btn",name_input:"provider-name-input",resource_name_input:"provider-resource-name-input",cluster_id_input:"provider-cluster-id-input",submit_btn:"submit-btn",type_input:"provider-type-input",view_all_link:"view-all-lnk"},sidebar:{nav:"vertical-nav",link:"vertical-nav-link",backdrop:"sidebar-backdrop"}}},577:function(e,t,a){"use strict";var n=a(604),s=a(27);function r({idKey:e,labelKey:t=e,report:a,reportItemValue:s="total",sortDirection:r=0,sortKey:l="cost"}){return Object(n.a)(i({idKey:e,labelKey:t,report:a,reportItemValue:s,sortDirection:r,sortKey:l}),{key:l,direction:r})}function i({report:e,idKey:t,labelKey:a=t,reportItemValue:n="total"}){if(!e)return[];const r=new Map,i=l=>{l.values&&l.values.forEach(i=>{const l=i.clusters&&i.clusters.length>0?i.clusters[0]:void 0,o=l||i.cluster,c=i.capacity?i.capacity.value:0,u=i.cost&&i.cost.total?i.cost.total.value:0,d=i.supplementary&&i.supplementary.total?i.supplementary.total.value:0,m=i.infrastructure&&i.infrastructure[n]?i.infrastructure[n].value:0,h="date"!==t&&"cluster"!==t&&i.cluster?`-${i.cluster}`:"",g=`${i[t]}${h}`;let p;const b=function({report:e,labelKey:t,value:a}){let n=String(t);if(e.meta&&e.meta.group_by){const r=e.meta.group_by;for(const e of Object.keys(r))if(e.indexOf(s.d)){const e=s.d+t;a.hasOwnProperty(e)&&(n=e)}}return n}({report:e,labelKey:a,value:i});p="cluster"===b&&l?l:i[b]instanceof Object?i[b].value:i[b],"account"===b&&i.account_alias&&(p=i.account_alias);const _=i.limit?i.limit.value:0,v=i.request?i.request.value:0,f=i.usage?i.usage.value:0,y=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},i.capacity&&{capacity:i.capacity.units}),{cost:i.cost&&i.cost.total?i.cost.total.units:"USD"}),i.limit&&{limit:i.limit.units}),i.infrastructure&&i.infrastructure.total&&{infrastructure:i.infrastructure.total.units}),i.request&&{request:i.request.units}),i.supplementary&&i.supplementary.total&&{supplementary:i.supplementary.total.units}),i.usage&&{usage:i.usage.units});r.get(g)?r.set(g,Object.assign(Object.assign({},r.get(g)),{capacity:r.get(g).capacity+c,cost:r.get(g).cost+u,supplementary:r.get(g).supplementary+d,infrastructure:r.get(g).infrastructure+m,limit:r.get(g).limit+_,request:r.get(g).request+v,usage:r.get(g).usage+f})):r.set(g,{capacity:c,cluster:o,clusters:i.clusters,cost:u,deltaPercent:i.delta_percent,deltaValue:i.delta_value,supplementary:d,id:g,infrastructure:m,label:p,limit:_,request:v,units:y,usage:f})});for(const e in l)if(l[e]instanceof Array)return l[e].forEach(i)};return e&&e.data&&e.data.forEach(i),Array.from(r.values())}a.d(t,"a",function(){return r}),a.d(t,"b",function(){return i})},580:function(e,t,a){"use strict";var n=a(952),s=a(770);const r={padding:8};var i={area:Object.assign({},r),axis:Object.assign({},r),bar:Object.assign({},r),boxplot:Object.assign({},r),candlestick:Object.assign({},r),chart:Object.assign({},r),errorbar:Object.assign({},r),group:Object.assign({},r),legend:{},line:Object.assign({},r),pie:Object.assign({},r),scatter:Object.assign({},r),stack:Object.assign({},r),tooltip:{},voronoi:Object.assign({},r)};const l=(()=>Object(n.k)(s.q.default,s.r.default,i))();t.a=l},581:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(135),s=a(571);n.global_Color_light_100.value,n.global_Color_dark_100.value,n.global_success_color_200.value,n.global_success_color_100.value,n.global_primary_color_100.value,n.global_primary_color_200.value;const r=s["a"]`
  :not(foo) svg {
    overflow: visible;
  }
`},582:function(e,t,a){"use strict";var n=a(1019),s=a(1039),r=a(1020),i=a(1018),l=a(977),o=a(984),c=a(1),u=a.n(c),d=a(167);const m={container:{display:"flex",justifyContent:"center",height:"100vh",marginTop:"150px"}};a.d(t,"a",function(){return h});const h=Object(d.d)()(({error:e,icon:t=l.a,t:a})=>{let c=a("error_state.unexpected_title"),d=a("error_state.unexpected_desc");return e&&e.response&&(401===e.response.status||403===e.response.status)&&(t=o.a,c=a("error_state.unauthorized_title"),d=a("error_state.unauthorized_desc")),u.a.createElement("div",{style:m.container},u.a.createElement(r.a,null,u.a.createElement(i.a,{icon:t}),u.a.createElement(s.a,{size:"lg"},c),u.a.createElement(n.a,null,d)))})},584:function(e,t,a){"use strict";var n=a(1019),s=a(1039),r=a(1020),i=a(1016),l=a(992),o=a(1),c=a.n(o),u=a(167);const d={container:{display:"flex",justifyContent:"center",height:"100vh",marginTop:"150px"}};a.d(t,"a",function(){return m});const m=Object(u.d)()(({icon:e=l.a,t:t})=>{const a=t("loading_state.sources_title"),o=t("loading_state.sources_desc");return c.a.createElement("div",{style:d.container},c.a.createElement(r.a,null,c.a.createElement(i.a,{size:"lg"}),c.a.createElement(s.a,{size:"lg"},a),c.a.createElement(n.a,null,o)))})},590:function(e,t,a){"use strict";var n=a(983),s=a(1),r=a.n(s);const i={container:{fontSize:a(135).global_FontSize_sm.value}};a.d(t,"a",function(){return l});const l=()=>r.a.createElement("span",{style:i.container},r.a.createElement(n.a,null))},594:function(e,t,a){"use strict";var n=a(1030),s=a(1032),r=a(1029),i=a(1028),l=a(1039),o=a(573),c=a(1),u=a.n(c),d=a(167),m=a(135);const h={chartSkeleton:{height:"125px",marginBottom:m.global_spacer_md.value,marginTop:m.global_spacer_md.value},legendSkeleton:{marginTop:m.global_spacer_md.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:m.global_FontSize_xs.value,color:m.global_Color_200.var,marginBottom:"0"}},g=Object(d.d)()(({children:e,detailsLink:t,title:a,subTitle:c,status:d,t:m})=>u.a.createElement(s.a,{style:h.reportSummary},u.a.createElement(i.a,null,u.a.createElement(l.a,{size:"lg"},a),Boolean(c)&&u.a.createElement("p",{style:h.subtitle},c)),u.a.createElement(n.a,null,1===d?u.a.createElement(u.a.Fragment,null,u.a.createElement(o.Skeleton,{size:o.SkeletonSize.xs}),u.a.createElement(o.Skeleton,{style:h.chartSkeleton,size:o.SkeletonSize.md}),u.a.createElement(o.Skeleton,{size:o.SkeletonSize.sm}),u.a.createElement(o.Skeleton,{style:h.legendSkeleton,size:o.SkeletonSize.xs})):e),Boolean(t)&&u.a.createElement(r.a,null,t)));var p=a(1001),b=a(1002);const _={chartSkeleton:{height:"175px",marginBottom:m.global_spacer_md.value,marginTop:m.global_spacer_md.value},container:{display:"flex"},cost:{flexGrow:1,minHeight:"470px",marginRight:m.global_spacer_md.value},legendSkeleton:{marginTop:m.global_spacer_md.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:m.global_FontSize_xs.value,color:m.global_Color_200.var,marginBottom:"0"},tops:{flexGrow:1,marginTop:m.global_spacer_lg.value}},v=Object(d.d)()(({children:e,detailsLink:t,status:a,subTitle:c,t:d,tabs:m,title:h})=>u.a.createElement(s.a,{style:_.reportSummary},u.a.createElement(b.a,{gutter:"md"},u.a.createElement(p.a,{lg:5,xl:6},u.a.createElement("div",{style:_.cost},u.a.createElement(i.a,null,u.a.createElement(l.a,{size:"lg"},h),Boolean(c)&&u.a.createElement("p",{style:_.subtitle},c)),u.a.createElement(n.a,null,1===a?u.a.createElement(u.a.Fragment,null,u.a.createElement(o.Skeleton,{size:o.SkeletonSize.xs}),u.a.createElement(o.Skeleton,{style:_.chartSkeleton,size:o.SkeletonSize.md}),u.a.createElement(o.Skeleton,{size:o.SkeletonSize.sm}),u.a.createElement(o.Skeleton,{style:_.legendSkeleton,size:o.SkeletonSize.xs})):e))),u.a.createElement(p.a,{lg:7,xl:6},u.a.createElement("div",{style:_.container},u.a.createElement("div",{style:_.tops},1!==a&&u.a.createElement(u.a.Fragment,null,Boolean(m)&&u.a.createElement(n.a,null,m),Boolean(t)&&u.a.createElement(r.a,null,t))))))));var f=a(915),y=a(590),D=a(569);const S={reportSummaryDetails:{marginBottom:m.global_spacer_md.value,display:"flex",alignItems:"flex-end"},text:{paddingBottom:m.global_spacer_sm.value,lineHeight:m.global_LineHeight_sm.value,fontSize:m.global_FontSize_xs.value},units:{paddingLeft:m.global_spacer_xs.value,paddingBottom:m.global_spacer_sm.value,lineHeight:m.global_LineHeight_sm.value,fontSize:m.global_FontSize_xs.value},value:{color:m.global_Color_100.var,marginRight:m.global_spacer_sm.value,fontSize:m.global_FontSize_4xl.value},valueContainer:{display:"inline-block",marginBottom:m.global_spacer_md.value,width:"50%",wordWrap:"break-word"}},E=Object(d.d)()(({chartType:e,computedReportItem:t="cost",computedReportItemValue:a="total",costLabel:n,formatValue:s,formatOptions:r,report:i,requestFormatOptions:l,requestLabel:o,showTooltip:c=!1,showUnits:d=!1,showUsageFirst:m=!1,t:h,units:g,usageFormatOptions:p,usageLabel:b})=>{let _=u.a.createElement(y.a,null),v=u.a.createElement(y.a,null),E=u.a.createElement(y.a,null),k=u.a.createElement(y.a,null),O=u.a.createElement(y.a,null);const C=i&&i.meta&&i.meta.total,j=C&&i.meta.total.cost&&i.meta.total.cost.total,x=C&&i.meta.total.count,w=C&&i.meta.total.supplementary&&i.meta.total.supplementary.total&&i.meta.total.supplementary.total.value,z=C&&i.meta.total.infrastructure&&i.meta.total.infrastructure[a]&&i.meta.total.infrastructure[a].value,L=C&&i.meta.total.request,R=C&&i.meta.total.usage;C&&(_=s(j?i.meta.total.cost.total.value:0,j?i.meta.total.cost.total.units:"USD",r),v=s(w?i.meta.total.supplementary.total.value:0,w?i.meta.total.supplementary.total.units:"USD",r),E=s(z?i.meta.total.infrastructure[a].value:0,z?i.meta.total.infrastructure[a].units:"USD",r),k=s(L?i.meta.total.request.value:0,L?i.meta.total.request.units:"",l?p:r),O=R&&i.meta.total.usage.value>=0?s(R?i.meta.total.usage.value:0,R?i.meta.total.usage.units:"",p||r):s(R?i.meta.total.usage:0,x?i.meta.total.count.units:"",p||r));const N=()=>{let e=_;return"infrastructure"===t?e=E:"supplementary"===t&&(e=v),u.a.createElement("div",{style:S.valueContainer},Boolean(c)?u.a.createElement(f.a,{content:h("dashboard.total_cost_tooltip",{infrastructureCost:E,supplementaryCost:v}),enableFlip:!0},u.a.createElement("div",{style:S.value},e)):u.a.createElement("div",{style:S.value},e),u.a.createElement("div",{style:S.text},u.a.createElement("div",null,n)))},I=()=>{if(!b)return null;const e=L?i.meta.total.request.units:"",t=Object(D.c)(e),a=h(`units.${t}`);return u.a.createElement("div",{style:S.valueContainer},u.a.createElement("div",{style:S.value},k,Boolean(d&&(g||L&&i.meta.total.request.value>=0))&&u.a.createElement("span",{style:S.units},a)),u.a.createElement("div",{style:S.text},u.a.createElement("div",null,o)))},F=()=>{if(!b)return null;const e=R?i.meta.total.usage.units:"",t=Object(D.c)(g||e),a=h(`units.${t}`);return u.a.createElement("div",{style:S.valueContainer},u.a.createElement("div",{style:S.value},O,Boolean(d&&(g||R&&i.meta.total.usage.value>=0))&&u.a.createElement("span",{style:S.units},a)),u.a.createElement("div",{style:S.text},u.a.createElement("div",null,b)))};return"cost"===e||"supplementary"===e?u.a.createElement(u.a.Fragment,null,N()):"trend"===e?m?u.a.createElement(u.a.Fragment,null,F(),N()):u.a.createElement(u.a.Fragment,null,N(),F()):"usage"===e?m?u.a.createElement(u.a.Fragment,null,F(),I()):u.a.createElement(u.a.Fragment,null,I(),F()):null});var k=a(932),O=a(571);const C=O["a"]`
  :not(:last-child) {
    margin-bottom: ${m.global_spacer_md.value};
  }
`,j=({label:e,formatOptions:t,formatValue:a,t:n,totalValue:s,units:r,value:i})=>{const l=Object(D.c)(r),o="usd"!==l?n(`units.${l}`):void 0,c=Number((s?i/s*100:0).toFixed(2)),d=n("percent_of_total",{percent:c,units:o,value:a(i,r,t)});return u.a.createElement("li",{className:C},u.a.createElement(k.a,{label:d,value:c,title:e,size:k.b.sm}))};j.defaultProps={formatValue:e=>e};const x=Object(d.d)()(j);var w=a(577);const z={skeleton:{marginTop:m.global_spacer_md.value}};const L=Object(d.d)()(class extends u.a.Component{shouldComponentUpdate(e){return e.report!==this.props.report}getItems(){const{computedReportItemValue:e="total",idKey:t,labelKey:a,report:n}=this.props,s=Object(w.a)({report:n,idKey:t,labelKey:a,reportItemValue:e}),r=s.findIndex(e=>{const t=e.id;if(t&&null!==t)return t.toString().includes("Other")});return-1!==r?[...s.slice(0,r),...s.slice(r+1),s[r]]:s}render(){const{children:e,status:t}=this.props;if(1===t)return u.a.createElement(u.a.Fragment,null,u.a.createElement(o.Skeleton,{size:o.SkeletonSize.md}),u.a.createElement(o.Skeleton,{size:o.SkeletonSize.md,style:z.skeleton}),u.a.createElement(o.Skeleton,{size:o.SkeletonSize.md,style:z.skeleton}),u.a.createElement(o.Skeleton,{size:o.SkeletonSize.md,style:z.skeleton}));{const t=this.getItems();return u.a.createElement("ul",null,e({items:t}))}}});var R=a(956),N=a(958),I=a(963),F=a(976),q=a(934),T=a(959),U=a(580),A=a(581),M=a(572),H=a(574),V=a.n(H),B=a(208);const K={currentCostData:{data:{fill:"none",stroke:"#A2DA9C"}},currentInfrastructureCostData:{data:{fill:"none",stroke:"#88D080",strokeDasharray:"3,3"}},itemsPerRow:2,legend:{labels:{fontFamily:m.global_FontFamily_sans_serif.value,fontSize:14},minWidth:200},legendColorScale:[m.global_disabled_color_200.value,m.chart_color_green_100.value,m.global_disabled_color_200.value,m.chart_color_green_200.value],previousCostData:{data:{fill:"none",stroke:m.global_disabled_color_200.value}},previousInfrastructureCostData:{data:{fill:"none",stroke:m.global_disabled_color_200.value,strokeDasharray:"3,3"}},currentColorScale:[m.chart_color_green_100.value,m.chart_color_green_200.value,m.chart_color_green_300.value,m.chart_color_green_400.value,m.chart_color_green_500.value],previousColorScale:[m.global_disabled_color_200.value,m.global_disabled_color_200.value],yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}};class P extends u.a.Component{constructor(){super(...arguments),this.containerRef=u.a.createRef(),this.state={hiddenSeries:new Set,width:0},this.initDatum=(()=>{const{currentInfrastructureCostData:e,currentCostData:t,previousInfrastructureCostData:a,previousCostData:n}=this.props,s="chart.cost_legend_label";this.setState({series:[{childName:"previousCost",data:n,legendItem:{name:Object(M.a)(n,s,!0,!0,1),symbol:{type:"minus"}},style:K.previousCostData},{childName:"currentCost",data:t,legendItem:{name:Object(M.a)(t,s,!0,!1),symbol:{type:"minus"}},style:K.currentCostData},{childName:"previousInfrastructureCost",data:a,legendItem:{name:Object(M.a)(a,"chart.cost_infrastructure_legend_label",!0,!0,1),symbol:{type:"dash"}},style:K.previousInfrastructureCostData},{childName:"currentInfrastructureCost",data:e,legendItem:{name:Object(M.a)(e,"chart.cost_infrastructure_legend_label",!0,!1),symbol:{type:"dash"}},style:K.currentInfrastructureCostData}]})}),this.handleResize=(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})}),this.getChart=((e,t)=>{const{hiddenSeries:a}=this.state;return u.a.createElement(T.a,{data:a.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})}),this.getLegend=(()=>{const{legendItemsPerRow:e}=this.props,{width:t}=this.state,a=e||(t>400?K.itemsPerRow:1);return u.a.createElement(q.a,{colorScale:K.legendColorScale,data:this.getLegendData(),height:25,gutter:10,itemsPerRow:a,name:"legend",responsive:!1,style:K.legend})}),this.getTooltipLabel=(({datum:e})=>{const{formatDatumValue:t,formatDatumOptions:a}=this.props,n=Object(M.e)(e,Object(M.d)(t),a,"date");return"currentCost"===e.childName||"previousCost"===e.childName?B.a.t("chart.cost_tooltip",{value:n}):"currentInfrastructureCost"===e.childName||"previousInfrastructureCost"===e.childName?B.a.t("chart.cost_infrastructure_tooltip",{value:n}):n}),this.handleLegendClick=(e=>{this.state.hiddenSeries.delete(e.index)||this.state.hiddenSeries.add(e.index),this.setState({hiddenSeries:new Set(this.state.hiddenSeries)})}),this.isDataAvailable=(()=>{const{series:e}=this.state,t=[];return e&&e.forEach((e,a)=>{(this.isSeriesHidden(a)||e.data&&0===e.data.length)&&t.push(a)}),t.length===(e?e.length:0)}),this.isSeriesHidden=(e=>{const{hiddenSeries:t}=this.state;return t.has(e)}),this.getChartNames=(()=>{const{series:e}=this.state,t=[];return e&&e.map((e,a)=>{t.push(e.childName)}),t}),this.getEvents=(()=>{return Object(I.a)({chartNames:this.getChartNames(),isHidden:this.isSeriesHidden,legendName:"legend",onLegendClick:this.handleLegendClick})}),this.getLegendData=(()=>{const{hiddenSeries:e,series:t}=this.state;if(t){return t.map((t,a)=>Object.assign(Object.assign({},t.legendItem),Object(I.b)(e.has(a))))}})}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize)}),this.initDatum()}componentDidUpdate(e){e.currentInfrastructureCostData===this.props.currentInfrastructureCostData&&e.currentCostData===this.props.currentCostData&&e.previousInfrastructureCostData===this.props.previousInfrastructureCostData&&e.previousCostData===this.props.previousCostData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}getDomain(){const{currentInfrastructureCostData:e,currentCostData:t,previousInfrastructureCostData:a,previousCostData:n}=this.props,s={x:[1,31]},r=e?Object(M.c)(e):0,i=t?Object(M.c)(t):0,l=a?Object(M.c)(a):0,o=n?Object(M.c)(n):0,c=Math.max(r,i,l,o),u=c>0?Math.ceil(c+.1*c):0;return u>0&&(s.y=[0,u]),s}getEndDate(){const{currentInfrastructureCostData:e,currentCostData:t,previousInfrastructureCostData:a,previousCostData:n}=this.props,s=e?V()(Object(M.b)(e,!0,!0)[1]):0,r=t?V()(Object(M.b)(t,!0,!0)[1]):0,i=a?V()(Object(M.b)(a,!0,!0)[1]):0,l=n?V()(Object(M.b)(n,!0,!0)[1]):0;return s>0||r>0||i>0||l>0?Math.max(s,r,i,l):31}render(){const{adjustContainerHeight:e,height:t,containerHeight:a=t,padding:n,title:s}=this.props,{series:r,width:i}=this.state,l=this.isDataAvailable(),o=u.a.createElement(R.a,{allowTooltip:!l,constrainToVisibleArea:!0,labels:l?void 0:this.getTooltipLabel,voronoiDimension:"x"}),c=this.getDomain(),d=this.getEndDate(),m=Math.floor(d/2),h=e?i>400?a:a+75:a;return u.a.createElement("div",{className:A.a,ref:this.containerRef,style:{height:h}},u.a.createElement("div",null,s),u.a.createElement(F.a,{containerComponent:o,domain:c,events:this.getEvents(),height:t,legendComponent:this.getLegend(),legendData:this.getLegendData(),legendPosition:"bottom-left",padding:n,theme:U.a,width:i},r&&r.map((e,t)=>this.getChart(e,t)),u.a.createElement(N.a,{style:K.xAxis,tickValues:[1,m,d]}),u.a.createElement(N.a,{dependentAxis:!0,style:K.yAxis})))}}const W={chart:{marginBottom:m.global_spacer_sm.value}},$=e=>u.a.createElement("div",{style:W.chart},u.a.createElement(P,Object.assign({},e))),Y={legend:{labels:{fontFamily:m.global_FontFamily_sans_serif.value,fontSize:14},minWidth:175},legendColorScale:[m.global_disabled_color_200.value,m.chart_color_green_100.value,m.chart_color_green_200.value,m.chart_color_green_300.value,m.chart_color_green_400.value,m.chart_color_green_500.value],previousMonth:{data:{fill:"none",stroke:m.global_disabled_color_200.value}},currentMonth:{data:{fill:"none",stroke:"#A2DA9C"}},yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}};class X extends u.a.Component{constructor(){super(...arguments),this.containerRef=u.a.createRef(),this.state={hiddenSeries:new Set,width:0},this.initDatum=(()=>{const{currentData:e,previousData:t,showSupplementaryLabel:a=!1,showUsageLegendLabel:n=!1}=this.props,s=n?"chart.usage_legend_label":a?"chart.cost_supplementary_legend_label":"chart.cost_legend_label";this.setState({series:[{childName:"previousCost",data:t,legendItem:{name:Object(M.a)(t,s,!0,!0,1),symbol:{type:"minus"}},style:Y.previousMonth},{childName:"currentCost",data:e,legendItem:{name:Object(M.a)(e,s,!0,!1),symbol:{type:"minus"}},style:Y.currentMonth}]})}),this.handleResize=(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})}),this.getChart=((e,t)=>{const{hiddenSeries:a}=this.state;return u.a.createElement(T.a,{data:a.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})}),this.getLegend=(()=>{const{width:e}=this.state;return u.a.createElement(q.a,{colorScale:Y.legendColorScale,data:this.getLegendData(),gutter:10,height:25,name:"legend",orientation:e>150?"horizontal":"vertical",style:Y.legend})}),this.getTooltipLabel=(({datum:e})=>{const{formatDatumValue:t,formatDatumOptions:a,units:n}=this.props;return Object(M.e)(e,Object(M.d)(t),a,"date",n)}),this.handleLegendClick=(e=>{this.state.hiddenSeries.delete(e.index)||this.state.hiddenSeries.add(e.index),this.setState({hiddenSeries:new Set(this.state.hiddenSeries)})}),this.isDataAvailable=(()=>{const{series:e}=this.state,t=[];return e&&e.forEach((e,a)=>{(this.isSeriesHidden(a)||e.data&&0===e.data.length)&&t.push(a)}),t.length===(e?e.length:0)}),this.isSeriesHidden=(e=>{const{hiddenSeries:t}=this.state;return t.has(e)}),this.getChartNames=(()=>{const{series:e}=this.state,t=[];return e&&e.map((e,a)=>{t.push(e.childName)}),t}),this.getEvents=(()=>{return Object(I.a)({chartNames:this.getChartNames(),isHidden:this.isSeriesHidden,legendName:"legend",onLegendClick:this.handleLegendClick})}),this.getLegendData=(()=>{const{hiddenSeries:e,series:t}=this.state;if(t){return t.map((t,a)=>Object.assign(Object.assign({},t.legendItem),Object(I.b)(e.has(a))))}})}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize)}),this.initDatum()}componentDidUpdate(e){e.currentData===this.props.currentData&&e.previousData===this.props.previousData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}getDomain(){const{currentData:e,previousData:t}=this.props,a={x:[1,31]},n=e?Object(M.c)(e):0,s=t?Object(M.c)(t):0,r=Math.max(n,s),i=r>0?Math.ceil(r+.1*r):0;return i>0&&(a.y=[0,i]),a}getEndDate(){const{currentData:e,previousData:t}=this.props,a=t?V()(Object(M.b)(t,!0,!0)[1]):0,n=e?V()(Object(M.b)(e,!0,!0)[1]):0;return n>0||a>0?Math.max(n,a):31}render(){const{adjustContainerHeight:e,height:t,containerHeight:a=t,padding:n,title:s}=this.props,{series:r,width:i}=this.state,l=this.isDataAvailable(),o=u.a.createElement(R.a,{allowTooltip:!l,constrainToVisibleArea:!0,labels:l?void 0:this.getTooltipLabel,voronoiDimension:"x"}),c=this.getDomain(),d=this.getEndDate(),m=Math.floor(d/2),h=e?i>400?a:a+75:a;return u.a.createElement("div",{className:A.a,ref:this.containerRef,style:{height:h}},u.a.createElement("div",null,s),u.a.createElement(F.a,{containerComponent:o,domain:c,events:this.getEvents(),height:t,legendComponent:this.getLegend(),legendData:this.getLegendData(),legendPosition:"bottom-left",padding:n,theme:U.a,width:i},r&&r.map((e,t)=>this.getChart(e,t)),u.a.createElement(N.a,{style:Y.xAxis,tickValues:[1,m,d]}),u.a.createElement(N.a,{dependentAxis:!0,style:Y.yAxis})))}}const G=e=>u.a.createElement("div",{style:W.chart},u.a.createElement(X,Object.assign({},e))),J={chartContainer:{marginTop:m.global_spacer_lg.value},currentRequestData:{data:{fill:"none",stroke:"#88D080",strokeDasharray:"3,3"}},currentUsageData:{data:{fill:"none",stroke:"#A2DA9C"}},itemsPerRow:2,legend:{labels:{fontFamily:m.global_FontFamily_sans_serif.value,fontSize:14},minWidth:380},legendColorScale:[m.global_disabled_color_200.value,m.chart_color_green_100.value,m.global_disabled_color_200.value,m.chart_color_green_200.value],previousRequestData:{data:{fill:"none",stroke:m.global_disabled_color_200.value,strokeDasharray:"3,3"}},previousUsageData:{data:{fill:"none",stroke:m.global_disabled_color_200.value}},currentColorScale:[m.chart_color_green_100.value,m.chart_color_green_200.value,m.chart_color_green_300.value,m.chart_color_green_400.value,m.chart_color_green_500.value],previousColorScale:[m.global_disabled_color_200.value,m.global_disabled_color_200.value],yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}};class Q extends u.a.Component{constructor(){super(...arguments),this.containerRef=u.a.createRef(),this.state={hiddenSeries:new Set,width:0},this.initDatum=(()=>{const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:n}=this.props;this.setState({series:[{childName:"previousUsage",data:n,legendItem:{name:Object(M.f)(n,"chart.usage_legend_label",!0,!0,1),symbol:{type:"minus"}},style:J.previousUsageData},{childName:"currentUsage",data:t,legendItem:{name:Object(M.f)(t,"chart.usage_legend_label",!0,!1),symbol:{type:"minus"}},style:J.currentUsageData},{childName:"previousRequest",data:a,legendItem:{name:Object(M.f)(a,"chart.requests_legend_label",!0,!0,1),symbol:{type:"dash"}},style:J.previousRequestData},{childName:"currentRequest",data:e,legendItem:{name:Object(M.f)(e,"chart.requests_legend_label",!0,!1),symbol:{type:"dash"}},style:J.currentRequestData}]})}),this.handleResize=(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})}),this.getChart=((e,t)=>{const{hiddenSeries:a}=this.state;return u.a.createElement(T.a,{data:a.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})}),this.getLegend=(()=>{const{legendItemsPerRow:e}=this.props,{width:t}=this.state,a=e||(t>300?J.itemsPerRow:1);return u.a.createElement(q.a,{colorScale:J.legendColorScale,data:this.getLegendData(),height:25,gutter:10,itemsPerRow:a,name:"legend",style:J.legend})}),this.getTooltipLabel=(({datum:e})=>{const{formatDatumValue:t,formatDatumOptions:a}=this.props,n=Object(M.e)(e,Object(M.d)(t),a,"date");return"currentRequest"===e.childName||"previousRequest"===e.childName?B.a.t("chart.requests_tooltip",{value:n}):"currentUsage"===e.childName||"previousUsage"===e.childName?B.a.t("chart.usage_tooltip",{value:n}):n}),this.handleLegendClick=(e=>{this.state.hiddenSeries.delete(e.index)||this.state.hiddenSeries.add(e.index),this.setState({hiddenSeries:new Set(this.state.hiddenSeries)})}),this.isDataAvailable=(()=>{const{series:e}=this.state,t=[];return e&&e.forEach((e,a)=>{(this.isSeriesHidden(a)||e.data&&0===e.data.length)&&t.push(a)}),t.length===(e?e.length:0)}),this.isSeriesHidden=(e=>{const{hiddenSeries:t}=this.state;return t.has(e)}),this.getChartNames=(()=>{const{series:e}=this.state,t=[];return e&&e.map((e,a)=>{t.push(e.childName)}),t}),this.getEvents=(()=>{return Object(I.a)({chartNames:this.getChartNames(),isHidden:this.isSeriesHidden,legendName:"legend",onLegendClick:this.handleLegendClick})}),this.getLegendData=(()=>{const{hiddenSeries:e,series:t}=this.state;if(t){return t.map((t,a)=>Object.assign(Object.assign({},t.legendItem),Object(I.b)(e.has(a))))}})}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize)}),this.initDatum()}componentDidUpdate(e){e.currentRequestData===this.props.currentRequestData&&e.currentUsageData===this.props.currentUsageData&&e.previousRequestData===this.props.previousRequestData&&e.previousUsageData===this.props.previousUsageData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}getDomain(){const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:n}=this.props,s={x:[1,31]},r=e?Object(M.c)(e):0,i=t?Object(M.c)(t):0,l=a?Object(M.c)(a):0,o=n?Object(M.c)(n):0,c=Math.max(r,i,l,o),u=c>0?Math.ceil(c+.1*c):0;return u>0&&(s.y=[0,u]),s}getEndDate(){const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:n}=this.props,s=e?V()(Object(M.b)(e,!0,!0)[1]):0,r=t?V()(Object(M.b)(t,!0,!0)[1]):0,i=a?V()(Object(M.b)(a,!0,!0)[1]):0,l=n?V()(Object(M.b)(n,!0,!0)[1]):0;return s>0||r>0||i>0||l>0?Math.max(s,r,i,l):31}render(){const{adjustContainerHeight:e,height:t,containerHeight:a=t,padding:n,title:s}=this.props,{series:r,width:i}=this.state,l=this.isDataAvailable(),o=u.a.createElement(R.a,{allowTooltip:!l,constrainToVisibleArea:!0,labels:l?void 0:this.getTooltipLabel,voronoiDimension:"x"}),c=this.getDomain(),d=this.getEndDate(),m=Math.floor(d/2),h=e?i>400?a:a+75:a;return u.a.createElement("div",{className:A.a,ref:this.containerRef,style:{height:h}},u.a.createElement("div",null,s),u.a.createElement(F.a,{containerComponent:o,domain:c,events:this.getEvents(),height:t,legendComponent:this.getLegend(),legendData:this.getLegendData(),legendPosition:"bottom-left",padding:n,theme:U.a,width:i},r&&r.map((e,t)=>this.getChart(e,t)),u.a.createElement(N.a,{style:J.xAxis,tickValues:[1,m,d]}),u.a.createElement(N.a,{dependentAxis:!0,style:J.yAxis})))}}const Z=e=>u.a.createElement("div",{style:W.chart},u.a.createElement(Q,Object.assign({},e)));a.d(t,"a",function(){return g}),a.d(t,"b",function(){return v}),a.d(t,"d",function(){return E}),a.d(t,"e",function(){return x}),a.d(t,"f",function(){return L}),a.d(t,"c",function(){return $}),a.d(t,"g",function(){return G}),a.d(t,"h",function(){return Z})},604:function(e,t,a){"use strict";function n(e,t){if("string"==typeof e)return e;return e[t.key]}function s(e,t){const{direction:a=0}=t||{};return[...e].sort((e,s)=>{const r=n(0===a?e:s,t),i=n(0===a?s:e,t);return r>i?-1:r<i?1:0})}a.d(t,"a",function(){return s})},615:function(e,t,a){"use strict";var n=a(1039),s=a(1018),r=a(1020),i=a(1019),l=a(990),o=a(1),c=a.n(o),u=a(167),d=a(124),m=a(575);const h=()=>{const e=window.location.pathname.split("/");e.shift();let t="";return"beta"===e[0]&&(t="/beta"),t};const g={container:{display:"flex",justifyContent:"center",height:"100vh",marginTop:"150px"},viewSources:{marginTop:a(135).global_spacer_lg.value}};a.d(t,"a",function(){return p});const p=Object(u.d)()(Object(d.connect)()(class extends c.a.Component{constructor(){super(...arguments),this.getViewSources=(()=>{const{t:e}=this.props,t=h();return c.a.createElement("a",Object.assign({href:`${t}/settings/sources`},Object(m.a)(m.b.providers.view_all_link)),e("providers.view_sources"))})}render(){const{t:e}=this.props;return c.a.createElement("div",{style:g.container},c.a.createElement(r.a,null,c.a.createElement(s.a,{icon:l.a}),c.a.createElement(n.a,{size:"lg"},e("providers.empty_state_title")),c.a.createElement(i.a,null,e("providers.empty_state_desc")),c.a.createElement("div",{style:g.viewSources},this.getViewSources())))}}))}}]);
//# sourceMappingURL=410b385724d42a3e61d5.bundle.js.map
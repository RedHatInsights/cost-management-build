{"version":3,"sources":["webpack:///./src/pages/costModels/costModel/markup.styles.ts","webpack:///./src/pages/costModels/costModel/updateMarkupDialog.tsx","webpack:///./src/pages/costModels/costModel/markup.tsx","webpack:///./src/pages/costModels/costModel/addRateModal.tsx","webpack:///./src/pages/costModels/costModel/dialog.tsx","webpack:///./src/pages/costModels/costModel/updateRateModel.tsx","webpack:///./src/pages/costModels/costModel/priceListTable.tsx","webpack:///./src/pages/costModels/costModel/assignSourcesModalToolbar.tsx","webpack:///./src/pages/costModels/costModel/addSourceStep.tsx","webpack:///./src/pages/costModels/costModel/addSourceWizard.tsx","webpack:///./src/pages/costModels/costModel/sourcesTable.tsx","webpack:///./src/pages/costModels/costModel/sourcesToolbar.tsx","webpack:///./src/pages/costModels/costModel/table.styles.ts","webpack:///./src/pages/costModels/costModel/table.tsx","webpack:///./src/pages/costModels/costModel/sourceTable.tsx","webpack:///./src/pages/costModels/costModel/costModelInfo.styles.ts","webpack:///./src/pages/costModels/costModel/costModelsDetails.styles.ts","webpack:///./src/pages/costModels/costModel/updateCostModel.tsx","webpack:///./src/pages/costModels/costModel/header.tsx","webpack:///./src/pages/costModels/costModel/index.tsx","webpack:///./node_modules/@redhat-cloud-services/frontend-components/components/PageHeader.js","webpack:///./src/pages/state/loading/loading.tsx","webpack:///./src/pages/state/loading/index.ts","webpack:///./src/pages/state/notAvailable/notAvailable.tsx","webpack:///./src/pages/state/notAvailable/index.ts"],"names":["styles","card","minHeight","marginLeft","value","marginRight","cardBody","fontSize","textAlign","Component","props","super","this","state","markup","formatValue","Number","current","fractionDigits","error","onClose","updateCostModel","isLoading","t","createElement","Modal","title","isOpen","name","variant","actions","Button","key","onClick","newState","Object","assign","source_uuids","sources","map","provider","uuid","source_type","unit","isDisabled","isNaN","Stack","hasGutter","StackItem","Alert","Title","headingLevel","size","TextContent","Text","component","h6","Form","FormGroup","label","fieldId","helperTextInvalid","validated","InputGroup","style","width","TextInput","type","id","onChange","markupDecimal","dx","split","findIndex","c","length","setState","InputGroupText","borderLeft","updateProcessing","updateError","setCostModelDialog","stateProps","dispatchProps","ownProps","withTranslation","updateMarkup","isDialogOpen","isUpdateDialogOpen","costModelDialog","isWritePermission","rbac","isCostModelWritePermission","dropdownIsOpen","setDropdownIsOpen","useState","markupValue","Fragment","Card","CardHeader","CardHeaderMain","CardActions","Dropdown","toggle","KebabToggle","onToggle","onSelect","position","right","isPlain","dropdownItems","DropdownItem","CardBody","isFilled","costModels","costModel","addRate","isProcessing","metricsHash","metrics","dispatch","request","rates","onProceed","rateFormData","costModelReq","canSubmit","useMemo","errors","rateKind","useEffect","reset","otherTiers","Translation","primary","link","body","actionText","isSmall","CancelButtonSecondary","ProceedButton","CloseButtonPrimary","header","color","updateRate","rate","index","otherRates","useTranslation","gotDiffs","undefined","tag_rates","filter","orate","metric","cost_type","tag_key","arguments","deleteRate","pagination","perPage","page","fetchStatus","fetchError","metricOpts","keys","m","measurementOpts","reduce","acc","curr","measurs","i","includes","rateComponent","cm","label_metric","label_measurement","label_measurement_unit","setDialogOpen","slice","Trans","i18nKey","components","values","assignees","List","p","ListItem","initialFilters","measurements","search","setSearch","onRemove","onClearAll","from","to","res","filtered","setPrimary","options","selected","secondaries","placeholderText","selections","setSelections","selection","filters","button","onClear","Pagination","isCompact","itemCount","onSetPage","_evt","onPerPageSelect","Boolean","Unavailable","Bullseye","EmptyState","EmptyStateIcon","icon","EmptyStateBody","tiers","pointerEvents","tooltip","_rowIndex","rowData","data","rowIndex","Toolbar","ToolbarContent","ToolbarItem","status","costTypes","SearchInput","placeholder","onSearch","onKeyPress","evt","AssignSourcesToolbar","searchInputProps","paginationProps","clearAllFilters","ToolbarFilter","deleteChip","chips","query","categoryName","isLoadingSources","fetchingSourcesError","providers","providerData","isSelected","checked","provCostModels","cost_models","join","warningIcon","find","text","cost_model","cells","disableCheckbox","fetch","category","chip","newQuery","updateFilter","currentFilterType","currentFilterValue","currentFilter","curQuery","count","newPerPage","newPage","Table","rows","rowId","meta","cur","subTitle","flexDirection","updateFilterToolbar","prevProps","initChecked","some","isUpdateInProgress","onSave","updateApiError","Grid","GridItem","span","fetchSources","canWrite","_","showDeleteDialog","source","SourcesToolbar","actionButtonProps","categoryNames","emptyState","display","justifyContent","onAdd","filteredRows","every","fName","children","_category","onDelete","dialogSource","addSource","deleteSource","onDeleteText","item","headerDescription","wordWrap","content","paddingTop","height","costmodelsContainer","backgroundColor","paddingBottom","headerCostModel","padding","var","paddingLeft","paddingRight","tableContainer","paginationContainer","marginBottom","toolbarContainer","breadcrumb","sourceTypeTitle","__rest","s","e","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","propertyIsEnumerable","description","previous","isRequired","TextArea","isDeleteProcessing","deleteProcessing","deleteError","deleteCostModel","tabRefs","tabIndex","onSelectTab","historyObject","Breadcrumb","BreadcrumbItem","isActive","Split","SplitItem","Tabs","activeKey","Tab","eventKey","TabTitleText","tabContentId","tabContentRef","createRef","fetchRbac","fetchMetrics","fetchCostModels","match","params","metricsStatus","rbacStatus","costModelStatus","rbacError","costModelError","metricsError","PageHeader","Main","history","TabContent","ref","hidden","store","maxRate","metricsState","selectRbacState","r","n","a","default","o","exports","_extends","apply","defineProperty","enumerable","configurable","writable","l","createContext","className","Consumer","concat","propTypes","any","string","u","node","PageHeaderTitle","withRouter"],"mappings":"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","file":"b12b7aae666d059769ba.bundle.js","sourcesContent":["import global_FontSize_xl from '@patternfly/react-tokens/dist/js/global_FontSize_xl';\nimport global_spacer_lg from '@patternfly/react-tokens/dist/js/global_spacer_lg';\nexport const styles = {\n    card: {\n        minHeight: '130px',\n        marginLeft: global_spacer_lg.value,\n        marginRight: global_spacer_lg.value,\n    },\n    cardBody: {\n        fontSize: global_FontSize_xl.value,\n        textAlign: 'center',\n    },\n};\n","import { Alert, Button, Form, FormGroup, InputGroup, InputGroupText, Modal, Stack, StackItem, Text, TextContent, TextInput, TextVariants, Title, } from '@patternfly/react-core';\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { createMapStateToProps } from 'store/common';\nimport { costModelsActions, costModelsSelectors } from 'store/costModels';\nimport { formatValue } from 'utils/formatValue';\nclass UpdateMarkupModelBase extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            markup: formatValue(Number(this.props.current.markup.value), 'markup', {\n                fractionDigits: 2,\n            }) || '0.00',\n        };\n    }\n    render() {\n        const { error, current, onClose, updateCostModel, isLoading, t } = this.props;\n        return (React.createElement(Modal, { title: t('cost_models_details.edit_markup'), isOpen: true, onClose: () => onClose({ name: 'updateMarkup', isOpen: false }), variant: \"small\", actions: [\n                React.createElement(Button, { key: \"proceed\", variant: \"primary\", onClick: () => {\n                        const newState = Object.assign(Object.assign({}, current), { source_uuids: current.sources.map(provider => provider.uuid), source_type: current.source_type === 'OpenShift Container Platform' ? 'OCP' : 'AWS', markup: {\n                                value: this.state.markup,\n                                unit: 'percent',\n                            } });\n                        updateCostModel(current.uuid, newState, 'updateMarkup');\n                    }, isDisabled: isNaN(Number(this.state.markup)) ||\n                        Number(this.state.markup) === Number(current.markup.value || 0) ||\n                        isLoading }, t('cost_models_details.add_rate_modal.save')),\n                React.createElement(Button, { key: \"cancel\", variant: \"link\", onClick: () => onClose({ name: 'updateMarkup', isOpen: false }), isDisabled: isLoading }, t('cost_models_details.add_rate_modal.cancel')),\n            ] },\n            React.createElement(Stack, { hasGutter: true },\n                React.createElement(StackItem, null, error && React.createElement(Alert, { variant: \"danger\", title: `${error}` })),\n                React.createElement(StackItem, null,\n                    React.createElement(Title, { headingLevel: \"h2\", size: \"md\" }, t('cost_models_details.table.columns.name'))),\n                React.createElement(StackItem, null,\n                    React.createElement(TextContent, null,\n                        React.createElement(Text, { component: TextVariants.h6 }, current.name))),\n                React.createElement(StackItem, null,\n                    React.createElement(Form, null,\n                        React.createElement(FormGroup, { label: t('cost_models_wizard.markup.markup_label'), fieldId: \"markup-input-box\", helperTextInvalid: t('cost_models_wizard.markup.invalid_markup_text'), validated: !isNaN(Number(this.state.markup)) ? 'default' : 'error' },\n                            React.createElement(InputGroup, { style: { width: '150px' } },\n                                React.createElement(TextInput, { type: \"text\", \"aria-label\": t('cost_models_wizard.markup.markup_label'), id: \"markup-input-box\", value: this.state.markup, onChange: (markup) => {\n                                        const markupDecimal = Number(markup);\n                                        const dx = markup.split('').findIndex(c => c === '.');\n                                        if (!isNaN(markupDecimal) && dx > -1 && markup.length - dx - 1 > 2) {\n                                            this.setState({\n                                                markup: formatValue(markupDecimal, 'markup', {\n                                                    fractionDigits: 2,\n                                                }),\n                                            });\n                                            return;\n                                        }\n                                        this.setState({ markup });\n                                    }, validated: !isNaN(Number(this.state.markup)) ? 'default' : 'error' }),\n                                React.createElement(InputGroupText, { style: { borderLeft: '0' } }, \"%\"))))))));\n    }\n}\n// Fixes issue with Typescript:\n// https://github.com/microsoft/TypeScript/issues/25103#issuecomment-412806226\nconst mergeProps = (stateProps, dispatchProps, ownProps) => {\n    return Object.assign(Object.assign(Object.assign({}, stateProps), dispatchProps), ownProps);\n};\nexport default connect(createMapStateToProps(state => {\n    return {\n        isLoading: costModelsSelectors.updateProcessing(state),\n        error: costModelsSelectors.updateError(state),\n    };\n}), {\n    onClose: costModelsActions.setCostModelDialog,\n    updateCostModel: costModelsActions.updateCostModel,\n}, mergeProps)(withTranslation()(UpdateMarkupModelBase));\n","import { Card, CardActions, CardBody, CardHeader, CardHeaderMain, Dropdown, DropdownItem, DropdownPosition, KebabToggle, } from '@patternfly/react-core';\nimport { ReadOnlyTooltip } from 'pages/costModels/components/readOnlyTooltip';\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { createMapStateToProps } from 'store/common';\nimport { costModelsActions, costModelsSelectors } from 'store/costModels';\nimport { rbacSelectors } from 'store/rbac';\nimport { formatValue } from 'utils/formatValue';\nimport { styles } from './markup.styles';\nimport UpdateMarkupDialog from './updateMarkupDialog';\nconst MarkupCardBase = ({ isWritePermission, setCostModelDialog, current, isUpdateDialogOpen, t, }) => {\n    const [dropdownIsOpen, setDropdownIsOpen] = React.useState(false);\n    const markupValue = current && current.markup && current.markup.value\n        ? formatValue(Number(current.markup.value), 'markup', {\n            fractionDigits: 2,\n        })\n        : '0.0';\n    return (React.createElement(React.Fragment, null,\n        isUpdateDialogOpen && React.createElement(UpdateMarkupDialog, { current: current }),\n        React.createElement(Card, { style: styles.card },\n            React.createElement(CardHeader, null,\n                React.createElement(CardHeaderMain, null, t('cost_models_details.description_markup')),\n                React.createElement(CardActions, null,\n                    React.createElement(Dropdown, { toggle: React.createElement(KebabToggle, { onToggle: setDropdownIsOpen }), isOpen: dropdownIsOpen, onSelect: () => setDropdownIsOpen(false), position: DropdownPosition.right, isPlain: true, dropdownItems: [\n                            React.createElement(ReadOnlyTooltip, { key: \"edit\", isDisabled: !isWritePermission },\n                                React.createElement(DropdownItem, { isDisabled: !isWritePermission, onClick: () => setCostModelDialog({ isOpen: true, name: 'updateMarkup' }), component: \"button\" }, t('cost_models_details.edit_markup_action'))),\n                        ] }))),\n            React.createElement(CardBody, { isFilled: true }),\n            React.createElement(CardBody, { style: styles.cardBody },\n                markupValue,\n                \"%\"),\n            React.createElement(CardBody, { isFilled: true }))));\n};\nexport default connect(createMapStateToProps(state => {\n    const { updateMarkup } = costModelsSelectors.isDialogOpen(state)('markup');\n    return {\n        isUpdateDialogOpen: updateMarkup,\n        costModelDialog: costModelsSelectors.isDialogOpen(state)('markup'),\n        isWritePermission: rbacSelectors.isCostModelWritePermission(state),\n    };\n}), {\n    setCostModelDialog: costModelsActions.setCostModelDialog,\n})(withTranslation()(MarkupCardBase));\n","import { Alert, Button, ButtonVariant, Form, Modal } from '@patternfly/react-core';\nimport { canSubmit as isReadyForSubmit, mergeToRequest, RateForm, useRateData, } from 'pages/costModels/components/rateForm';\nimport { initialRateFormData } from 'pages/costModels/components/rateForm/utils';\nimport React from 'react';\nimport { Translation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { costModelsActions, costModelsSelectors } from 'store/costModels';\nimport { metricsSelectors } from 'store/metrics';\nexport const AddRateModalBase = ({ isOpen, isProcessing, onProceed, onClose, updateError, metricsHash, rates, }) => {\n    const rateFormData = useRateData(metricsHash);\n    const canSubmit = React.useMemo(() => isReadyForSubmit(rateFormData), [rateFormData.errors, rateFormData.rateKind]);\n    React.useEffect(() => {\n        rateFormData.reset(Object.assign(Object.assign({}, initialRateFormData), { otherTiers: rates }));\n    }, [isOpen]);\n    return (React.createElement(Translation, null, t => {\n        return (React.createElement(Modal, { title: t('cost_models_details.add_rate_modal.title'), isOpen: isOpen, onClose: onClose, variant: \"large\", actions: [\n                React.createElement(Button, { key: \"add-rate\", variant: ButtonVariant.primary, isDisabled: !canSubmit || isProcessing, onClick: () => {\n                        onProceed(rateFormData);\n                    } }, t('cost_models_details.add_rate')),\n                React.createElement(Button, { key: \"cancel\", variant: ButtonVariant.link, isDisabled: isProcessing, onClick: onClose }, t('cost_models_details.add_rate_modal.cancel')),\n            ] },\n            React.createElement(Form, null,\n                updateError && React.createElement(Alert, { variant: \"danger\", title: `${updateError}` }),\n                React.createElement(RateForm, { metricsHash: metricsHash, rateFormData: rateFormData }))));\n    }));\n};\nexport default connect((state) => {\n    const costModels = costModelsSelectors.costModels(state);\n    let costModel = null;\n    if (costModels.length > 0) {\n        costModel = costModels[0];\n    }\n    return {\n        costModel,\n        isOpen: costModelsSelectors.isDialogOpen(state)('rate').addRate,\n        updateError: costModelsSelectors.updateError(state),\n        isProcessing: costModelsSelectors.updateProcessing(state),\n        metricsHash: metricsSelectors.metrics(state),\n    };\n}, dispatch => {\n    return {\n        onClose: () => {\n            dispatch(costModelsActions.setCostModelDialog({\n                name: 'addRate',\n                isOpen: false,\n            }));\n        },\n        updateCostModel: (uuid, request) => costModelsActions.updateCostModel(uuid, request, 'addRate')(dispatch),\n    };\n}, (stateProps, dispatchProps) => {\n    const { uuid, rates } = stateProps.costModel;\n    return {\n        isOpen: stateProps.isOpen,\n        metricsHash: stateProps.metricsHash,\n        rates,\n        updateError: stateProps.updateError,\n        isProcessing: stateProps.isProcessing,\n        onClose: dispatchProps.onClose,\n        onProceed: (rateFormData) => {\n            const costModelReq = mergeToRequest(stateProps.metricsHash, stateProps.costModel, rateFormData);\n            dispatchProps.updateCostModel(uuid, costModelReq);\n        },\n    };\n})(AddRateModalBase);\n","import { Alert, Button, Modal, Title, TitleSizes } from '@patternfly/react-core';\nimport { ExclamationTriangleIcon } from '@patternfly/react-icons/dist/js/icons/exclamation-triangle-icon';\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\nconst DialogBase = ({ t, onClose, onProceed, title, body, actionText, isProcessing = false, isOpen = false, isSmall = false, error = '', }) => {\n    const CancelButtonSecondary = (React.createElement(Button, { key: \"cancel\", variant: \"link\", onClick: onClose, isDisabled: isProcessing }, t('dialog.cancel')));\n    const ProceedButton = (React.createElement(Button, { key: \"proceed\", variant: \"danger\", onClick: onProceed, isDisabled: isProcessing }, actionText));\n    const CloseButtonPrimary = (React.createElement(Button, { key: \"close\", variant: \"primary\", onClick: onClose, isDisabled: isProcessing }, t('dialog.close')));\n    const actions = actionText !== '' ? [ProceedButton, CancelButtonSecondary] : [CloseButtonPrimary];\n    return (React.createElement(Modal, { \"aria-label\": title, header: React.createElement(Title, { headingLevel: \"h1\", size: TitleSizes['2xl'] },\n            React.createElement(ExclamationTriangleIcon, { color: \"orange\" }),\n            \" \",\n            title), isOpen: isOpen, onClose: onClose, actions: actions, variant: isSmall ? 'small' : 'default' },\n        error && React.createElement(Alert, { variant: \"danger\", title: `${error}` }),\n        body));\n};\nexport default withTranslation()(DialogBase);\n","import { Alert, Button, Modal, Stack, StackItem } from '@patternfly/react-core';\nimport { Form } from 'components/forms/form';\nimport { canSubmit as isReadyForSubmit, genFormDataFromRate, hasDiff, mergeToRequest, RateForm, useRateData, } from 'pages/costModels/components/rateForm';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { costModelsActions, costModelsSelectors } from 'store/costModels';\nimport { metricsSelectors } from 'store/metrics';\nconst UpdateRateModalBase = ({ rate, otherRates, metricsHash, onClose, isOpen, isProcessing, updateError, onProceed, }) => {\n    const { t } = useTranslation();\n    const rateFormData = useRateData(metricsHash, rate, otherRates);\n    const canSubmit = React.useMemo(() => isReadyForSubmit(rateFormData), [rateFormData]);\n    const gotDiffs = React.useMemo(() => hasDiff(rate, rateFormData), [rateFormData]);\n    React.useEffect(() => {\n        rateFormData.reset(genFormDataFromRate(rate, undefined, rate && rate.tag_rates\n            ? otherRates.filter(orate => orate.metric.name !== rate.metric.name ||\n                orate.cost_type !== rate.cost_type ||\n                orate.tag_rates.tag_key !== rate.tag_rates.tag_key)\n            : otherRates));\n    }, [isOpen]);\n    return (React.createElement(Modal, { title: t('cost_models_details.edit_rate'), isOpen: isOpen, onClose: onClose, variant: \"large\", actions: [\n            React.createElement(Button, { key: \"proceed\", variant: \"primary\", onClick: () => {\n                    onProceed(rateFormData);\n                }, isDisabled: !canSubmit || isProcessing || !gotDiffs }, t('cost_models_details.add_rate_modal.save')),\n            React.createElement(Button, { key: \"cancel\", variant: \"link\", onClick: onClose, isDisabled: isProcessing }, t('cost_models_details.add_rate_modal.cancel')),\n        ] },\n        React.createElement(Stack, { hasGutter: true },\n            updateError && (React.createElement(StackItem, null,\n                React.createElement(Alert, { variant: \"danger\", title: `${updateError}` }))),\n            React.createElement(StackItem, null,\n                React.createElement(Form, null,\n                    React.createElement(RateForm, { metricsHash: metricsHash, rateFormData: rateFormData }))))));\n};\nexport default connect((state) => {\n    const costModels = costModelsSelectors.costModels(state);\n    let costModel = null;\n    if (costModels.length > 0) {\n        costModel = costModels[0];\n    }\n    return {\n        costModel,\n        isOpen: costModelsSelectors.isDialogOpen(state)('rate').updateRate,\n        updateError: costModelsSelectors.updateError(state),\n        isProcessing: costModelsSelectors.updateProcessing(state),\n        metricsHash: metricsSelectors.metrics(state),\n    };\n}, dispatch => {\n    return {\n        onClose: () => {\n            dispatch(costModelsActions.setCostModelDialog({\n                name: 'updateRate',\n                isOpen: false,\n            }));\n        },\n        updateCostModel: (uuid, request) => {\n            costModelsActions.updateCostModel(uuid, request, 'updateRate')(dispatch);\n        },\n    };\n}, (stateProps, dispatchProps, ownProps) => {\n    const { uuid, rates } = stateProps.costModel;\n    const rate = stateProps.costModel && stateProps.costModel.rates && stateProps.costModel.rates[ownProps.index]\n        ? stateProps.costModel.rates[ownProps.index]\n        : null;\n    return {\n        rate,\n        otherRates: rates,\n        metricsHash: stateProps.metricsHash,\n        onClose: dispatchProps.onClose,\n        isOpen: stateProps.isOpen,\n        isProcessing: stateProps.isProcessing,\n        updateError: stateProps.updateError,\n        onProceed: (rateFormData) => {\n            const costModelReq = mergeToRequest(stateProps.metricsHash, stateProps.costModel, rateFormData, ownProps.index);\n            dispatchProps.updateCostModel(uuid, costModelReq);\n        },\n    };\n})(UpdateRateModalBase);\n","import { Bullseye, Button, EmptyState, EmptyStateBody, EmptyStateIcon, List, ListItem, Pagination, Title, Toolbar, ToolbarContent, ToolbarItem, ToolbarItemVariant, } from '@patternfly/react-core';\nimport { FileInvoiceDollarIcon } from '@patternfly/react-icons/dist/js/icons/file-invoice-dollar-icon';\nimport { Unavailable } from '@redhat-cloud-services/frontend-components/components/Unavailable';\nimport { EmptyFilterState } from 'components/state/emptyFilterState/emptyFilterState';\nimport { LoadingState } from 'components/state/loadingState/loadingState';\nimport { WithPriceListSearch } from 'pages/costModels/components/hoc/withPriceListSearch';\nimport { PriceListToolbar } from 'pages/costModels/components/priceListToolbar';\nimport { RateTable } from 'pages/costModels/components/rateTable';\nimport { CheckboxSelector } from 'pages/costModels/components/toolbar/checkboxSelector';\nimport { PrimarySelector } from 'pages/costModels/components/toolbar/primarySelector';\nimport React from 'react';\nimport { Trans, withTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { createMapStateToProps } from 'store/common';\nimport { costModelsActions, costModelsSelectors } from 'store/costModels';\nimport { metricsSelectors } from 'store/metrics';\nimport { rbacSelectors } from 'store/rbac';\nimport AddRateModal from './addRateModal';\nimport Dialog from './dialog';\nimport UpdateRateModal from './updateRateModel';\nclass PriceListTable extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            deleteRate: null,\n            index: -1,\n            pagination: {\n                perPage: 10,\n                page: 1,\n            },\n        };\n    }\n    render() {\n        const { t, fetchStatus, fetchError, isDialogOpen, metricsHash, isWritePermission } = this.props;\n        const metricOpts = Object.keys(metricsHash).map(m => ({\n            label: m,\n            value: m,\n        }));\n        const measurementOpts = metricOpts.reduce((acc, curr) => {\n            const measurs = Object.keys(metricsHash[curr.value])\n                .filter(m => !acc.map(i => i.value).includes(m))\n                .map(m => ({ label: m, value: m }));\n            return [...acc, ...measurs];\n        }, []);\n        const rateComponent = React.createElement(\"b\", null, \"dummyChild\");\n        const cm = this.props.costModel;\n        const metric = this.state.deleteRate\n            ? `${this.state.deleteRate.metric.label_metric}-${this.state.deleteRate.metric.label_measurement} (${this.state.deleteRate.metric.label_measurement_unit})`\n            : '';\n        return (React.createElement(React.Fragment, null,\n            React.createElement(AddRateModal, null),\n            React.createElement(UpdateRateModal, { index: this.state.index }),\n            React.createElement(Dialog, { isSmall: true, isOpen: isDialogOpen.deleteRate, title: t('dialog.rate.title'), onClose: () => {\n                    this.props.setDialogOpen({ name: 'deleteRate', isOpen: false });\n                    this.setState({ deleteRate: null });\n                }, isProcessing: this.props.isLoading, onProceed: () => {\n                    const { index } = this.state;\n                    const { current } = this.props;\n                    const newState = Object.assign(Object.assign({}, current), { source_uuids: current.sources.map(provider => provider.uuid), source_type: 'OCP', rates: [...current.rates.slice(0, index), ...current.rates.slice(index + 1)] });\n                    this.props.updateCostModel(current.uuid, newState, 'deleteRate');\n                }, body: React.createElement(React.Fragment, null,\n                    React.createElement(Trans, { i18nKey: \"dialog.rate.body\", components: [rateComponent, rateComponent], values: { metric, cm } }),\n                    this.props.assignees && this.props.assignees.length > 0 && (React.createElement(React.Fragment, null,\n                        t('dialog.rate.assigned'),\n                        React.createElement(List, null, this.props.assignees.map(p => (React.createElement(ListItem, { key: p }, p))))))), actionText: t('dialog.deleteRate') }),\n            React.createElement(WithPriceListSearch, { initialFilters: { primary: 'metrics', metrics: [], measurements: [] } }, ({ search, setSearch, onRemove, onSelect, onClearAll }) => {\n                const from = (this.state.pagination.page - 1) * this.state.pagination.perPage;\n                const to = this.state.pagination.page * this.state.pagination.perPage;\n                const res = this.props.current.rates\n                    .filter(rate => search.metrics.length === 0 || search.metrics.includes(rate.metric.label_metric))\n                    .filter(rate => search.measurements.length === 0 || search.measurements.includes(rate.metric.label_measurement));\n                const filtered = res.slice(from, to);\n                return (React.createElement(React.Fragment, null,\n                    React.createElement(PriceListToolbar, { primary: React.createElement(PrimarySelector, { isDisabled: this.props.current.rates.length === 0, primary: search.primary, setPrimary: (primary) => setSearch({ primary }), options: [\n                                {\n                                    label: t('toolbar.pricelist.metric'),\n                                    value: 'metrics',\n                                },\n                                {\n                                    label: t('toolbar.pricelist.measurement'),\n                                    value: 'measurements',\n                                },\n                            ] }), selected: search.primary, secondaries: [\n                            {\n                                component: (React.createElement(CheckboxSelector, { isDisabled: this.props.current.rates.length === 0, placeholderText: t('toolbar.pricelist.measurement_placeholder'), selections: search.measurements, setSelections: (selection) => onSelect('measurements', selection), options: measurementOpts })),\n                                name: 'measurements',\n                                onRemove,\n                                filters: search.measurements,\n                            },\n                            {\n                                component: (React.createElement(CheckboxSelector, { isDisabled: this.props.current.rates.length === 0, placeholderText: t('toolbar.pricelist.metric_placeholder'), selections: search.metrics, setSelections: (selection) => onSelect('metrics', selection), options: metricOpts })),\n                                name: 'metrics',\n                                onRemove,\n                                filters: search.metrics,\n                            },\n                        ], button: React.createElement(Button, { isDisabled: !isWritePermission, onClick: () => this.props.setDialogOpen({\n                                name: 'addRate',\n                                isOpen: true,\n                            }) }, t('toolbar.pricelist.add_rate')), onClear: onClearAll, pagination: React.createElement(Pagination, { isCompact: true, itemCount: res.length, perPage: this.state.pagination.perPage, page: this.state.pagination.page, onSetPage: (_evt, page) => this.setState({\n                                pagination: Object.assign(Object.assign({}, this.state.pagination), { page }),\n                            }), onPerPageSelect: (_evt, perPage) => this.setState({ pagination: { page: 1, perPage } }) }) }),\n                    fetchStatus !== 2 /* complete */ && React.createElement(LoadingState, null),\n                    fetchStatus === 2 /* complete */ && Boolean(fetchError) && React.createElement(Unavailable, null),\n                    fetchStatus === 2 /* complete */ &&\n                        filtered.length === 0 &&\n                        (search.metrics.length !== 0 || search.measurements.length !== 0) && (React.createElement(EmptyFilterState, { filter: t('cost_models_wizard.price_list.toolbar_top_results_aria_label') })),\n                    fetchStatus === 2 /* complete */ &&\n                        filtered.length === 0 &&\n                        search.measurements.length === 0 &&\n                        search.metrics.length === 0 && (React.createElement(Bullseye, null,\n                        React.createElement(EmptyState, null,\n                            React.createElement(EmptyStateIcon, { icon: FileInvoiceDollarIcon }),\n                            React.createElement(Title, { headingLevel: \"h2\", size: \"lg\" }, t('cost_models_details.empty_state_rate.title')),\n                            React.createElement(EmptyStateBody, null, t('cost_models_details.empty_state_rate.description'))))),\n                    fetchStatus === 2 /* complete */ && filtered.length > 0 && (React.createElement(React.Fragment, null,\n                        React.createElement(RateTable, { t: t, tiers: filtered, actions: [\n                                {\n                                    title: t('cost_models_wizard.price_list.update_button'),\n                                    isDisabled: !isWritePermission,\n                                    // HACK: to display tooltip on disable\n                                    style: !isWritePermission ? { pointerEvents: 'auto' } : undefined,\n                                    tooltip: !isWritePermission ? React.createElement(\"div\", null, t('cost_models.read_only_tooltip')) : undefined,\n                                    onClick: (_evt, _rowIndex, rowData) => {\n                                        this.setState({\n                                            deleteRate: null,\n                                            index: rowData.data.index + from,\n                                        });\n                                        this.props.setDialogOpen({\n                                            name: 'updateRate',\n                                            isOpen: true,\n                                        });\n                                    },\n                                },\n                                {\n                                    title: t('cost_models_wizard.price_list.delete_button'),\n                                    isDisabled: !isWritePermission,\n                                    // HACK: to display tooltip on disable\n                                    style: !isWritePermission ? { pointerEvents: 'auto' } : {},\n                                    tooltip: !isWritePermission ? React.createElement(\"div\", null, t('cost_models.read_only_tooltip')) : undefined,\n                                    onClick: (_evt, _rowIndex, rowData) => {\n                                        const rowIndex = rowData.data.index;\n                                        this.setState({\n                                            deleteRate: filtered[rowIndex],\n                                            index: rowIndex + from,\n                                        });\n                                        this.props.setDialogOpen({\n                                            name: 'deleteRate',\n                                            isOpen: true,\n                                        });\n                                    },\n                                },\n                            ] }),\n                        React.createElement(Toolbar, { id: \"price-list-toolbar-bottom\" },\n                            React.createElement(ToolbarContent, null,\n                                React.createElement(ToolbarItem, { variant: ToolbarItemVariant.pagination },\n                                    React.createElement(Pagination, { itemCount: res.length, perPage: this.state.pagination.perPage, page: this.state.pagination.page, onSetPage: (_evt, page) => this.setState({\n                                            pagination: Object.assign(Object.assign({}, this.state.pagination), { page }),\n                                        }), onPerPageSelect: (_evt, perPage) => this.setState({\n                                            pagination: { page: 1, perPage },\n                                        }), variant: \"bottom\" }))))))));\n            })));\n    }\n}\nexport default connect(createMapStateToProps(state => ({\n    isLoading: costModelsSelectors.updateProcessing(state),\n    error: costModelsSelectors.updateError(state),\n    isDialogOpen: costModelsSelectors.isDialogOpen(state)('rate'),\n    fetchError: costModelsSelectors.error(state),\n    fetchStatus: costModelsSelectors.status(state),\n    metricsHash: metricsSelectors.metrics(state),\n    costTypes: metricsSelectors.costTypes(state),\n    isWritePermission: rbacSelectors.isCostModelWritePermission(state),\n})), {\n    updateCostModel: costModelsActions.updateCostModel,\n    setDialogOpen: costModelsActions.setCostModelDialog,\n})(withTranslation()(PriceListTable));\n","import { InputGroup, InputGroupText, Pagination, TextInput, Toolbar, ToolbarContent, ToolbarFilter, ToolbarItem, } from '@patternfly/react-core';\nimport { SearchIcon } from '@patternfly/react-icons/dist/js/icons/search-icon';\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\nconst SearchInput = ({ id, placeholder = '', value, onChange, onSearch }) => {\n    return (React.createElement(InputGroup, null,\n        React.createElement(TextInput, { value: value, placeholder: placeholder, id: id, onChange: onChange, onKeyPress: (evt) => {\n                if (evt.key !== 'Enter' || value === '') {\n                    return;\n                }\n                onSearch(evt);\n            } }),\n        React.createElement(InputGroupText, { style: { borderLeft: '0' } },\n            React.createElement(SearchIcon, null))));\n};\nexport const AssignSourcesToolbarBase = ({ t, searchInputProps, paginationProps, filter, }) => {\n    return (React.createElement(Toolbar, { id: \"assign-sources-toolbar\", clearAllFilters: filter.onClearAll },\n        React.createElement(ToolbarContent, null,\n            React.createElement(ToolbarItem, { variant: \"search-filter\" },\n                React.createElement(ToolbarFilter, { deleteChip: filter.onRemove, chips: filter.query.name, categoryName: \"name\" },\n                    React.createElement(SearchInput, Object.assign({ placeholder: t('cost_models_wizard.source_table.filter_placeholder') }, searchInputProps)))),\n            React.createElement(ToolbarItem, { variant: \"pagination\" },\n                React.createElement(Pagination, { isCompact: paginationProps.isCompact, itemCount: paginationProps.itemCount, page: paginationProps.page, perPage: paginationProps.perPage, onSetPage: paginationProps.onSetPage, onPerPageSelect: paginationProps.onPerPageSelect })))));\n};\nexport const AssignSourcesToolbar = withTranslation()(AssignSourcesToolbarBase);\n","import { Pagination, Toolbar, ToolbarContent, ToolbarItem } from '@patternfly/react-core';\nimport { Table, TableBody, TableHeader } from '@patternfly/react-table';\nimport { EmptyFilterState } from 'components/state/emptyFilterState/emptyFilterState';\nimport { LoadingState } from 'components/state/loadingState/loadingState';\nimport { SourcesModalErrorState } from 'pages/costModels/components/errorState';\nimport { addMultiValueQuery, removeMultiValueQuery } from 'pages/costModels/components/filterLogic';\nimport { WarningIcon } from 'pages/costModels/components/warningIcon';\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { createMapStateToProps } from 'store/common';\nimport { sourcesActions, sourcesSelectors } from 'store/sourceSettings';\nimport { AssignSourcesToolbar } from './assignSourcesModalToolbar';\nclass AddSourcesStep extends React.Component {\n    render() {\n        const { costModel } = this.props;\n        if (this.props.isLoadingSources) {\n            return React.createElement(LoadingState, null);\n        }\n        if (this.props.fetchingSourcesError) {\n            return React.createElement(SourcesModalErrorState, null);\n        }\n        const onSelect = (_evt, isSelected, rowId) => {\n            if (rowId === -1) {\n                const newState = this.props.providers.reduce((acc, cur) => {\n                    return Object.assign(Object.assign({}, acc), { [cur.uuid]: { selected: isSelected, meta: cur } });\n                }, {});\n                this.props.setState(newState);\n                return;\n            }\n            this.props.setState(Object.assign(Object.assign({}, this.props.checked), { [this.props.providers[rowId].uuid]: {\n                    selected: isSelected,\n                    meta: this.props.providers[rowId],\n                } }));\n        };\n        const sources = this.props.providers.map(providerData => {\n            const isSelected = this.props.checked[providerData.uuid] ? this.props.checked[providerData.uuid].selected : false;\n            const provCostModels = providerData.cost_models === undefined\n                ? this.props.t('cost_models_wizard.source_table.default_cost_model')\n                : providerData.cost_models.map(cm => cm.name).join(',');\n            const warningIcon = providerData.cost_models.length &&\n                providerData.cost_models.find(cm => cm.name === costModel.name) === undefined ? (React.createElement(WarningIcon, { key: providerData.uuid, text: this.props.t('cost_models_wizard.warning_source', {\n                    cost_model: provCostModels,\n                }) })) : null;\n            const cellName = (React.createElement(\"div\", { key: providerData.uuid },\n                providerData.name,\n                \" \",\n                warningIcon));\n            return {\n                cells: [cellName, provCostModels || ''],\n                selected: isSelected,\n                disableCheckbox: providerData.cost_models.length > 0,\n            };\n        });\n        const sourceTypeMap = {\n            'OpenShift Container Platform': 'OCP',\n            'Microsoft Azure': 'AZURE',\n            'Amazon Web Services': 'AWS',\n        };\n        const source_type = sourceTypeMap[costModel.source_type];\n        return (React.createElement(React.Fragment, null,\n            React.createElement(AssignSourcesToolbar, { filter: {\n                    onClearAll: () => this.props.fetch(`source_type=${source_type}&limit=${this.props.pagination.perPage}`),\n                    onRemove: (category, chip) => {\n                        const newQuery = removeMultiValueQuery({\n                            name: this.props.query.name ? this.props.query.name.split(',') : [],\n                        })(category, chip);\n                        this.props.fetch(`source_type=${source_type}${newQuery.name ? `&name=${newQuery.name.join(',')}` : ''}&offset=0&limit=${this.props.pagination.perPage}`);\n                    },\n                    query: {\n                        name: this.props.query.name ? this.props.query.name.split(',') : [],\n                    },\n                }, searchInputProps: {\n                    id: 'assign-sources-modal-toolbar',\n                    onChange: value => this.props.updateFilter({\n                        currentFilterType: 'name',\n                        currentFilterValue: value,\n                    }),\n                    value: this.props.currentFilter.value,\n                    onSearch: () => {\n                        const curQuery = this.props.query.name ? this.props.query.name.split(',') : [];\n                        const newQuery = addMultiValueQuery({ name: curQuery })('name', this.props.currentFilter.value);\n                        this.props.fetch(`source_type=${source_type}&name=${newQuery.name.join(',')}&limit=${this.props.pagination.perPage}&offset=0`);\n                    },\n                }, paginationProps: {\n                    isCompact: true,\n                    itemCount: this.props.pagination.count,\n                    perPage: this.props.pagination.perPage,\n                    page: this.props.pagination.page,\n                    onPerPageSelect: (_evt, newPerPage) => {\n                        this.props.fetch(`source_type=${source_type}&limit=${newPerPage}&offset=0&${this.props.query.name ? `name=${this.props.query.name}` : ''}`);\n                    },\n                    onSetPage: (_evt, newPage) => {\n                        this.props.fetch(`source_type=${source_type}&limit=${this.props.pagination.perPage}&offset=${this.props.pagination\n                            .perPage *\n                            (newPage - 1)}&${this.props.query.name ? `name=${this.props.query.name}` : ''}`);\n                    },\n                } }),\n            sources.length > 0 && (React.createElement(Table, { \"aria-label\": this.props.t('cost_models_details.add_source'), cells: [this.props.t('filter.name'), this.props.t('cost_models_wizard.source_table.column_cost_model')], rows: sources, onSelect: onSelect },\n                React.createElement(TableHeader, null),\n                React.createElement(TableBody, null))),\n            sources.length === 0 && React.createElement(EmptyFilterState, { subTitle: this.props.t('no_match_found_state.desc') }),\n            React.createElement(Toolbar, { id: \"costmodels_details.sources_pagination_datatoolbar\" },\n                React.createElement(ToolbarContent, { style: { flexDirection: 'row-reverse' }, \"aria-label\": this.props.t('cost_models_details.sources_pagination_bottom') },\n                    React.createElement(ToolbarItem, { variant: \"pagination\" },\n                        React.createElement(Pagination, { itemCount: this.props.pagination.count, isDisabled: this.props.isLoadingSources, perPage: this.props.pagination.perPage, page: this.props.pagination.page, onPerPageSelect: (_evt, newPerPage) => {\n                                this.props.fetch(`limit=${newPerPage}&offset=0&${this.props.query.name ? `name=${this.props.query.name}` : ''}`);\n                            }, onSetPage: (_evt, newPage) => {\n                                this.props.fetch(`limit=${this.props.pagination.perPage}&offset=${this.props.pagination.perPage * (newPage - 1)}&${this.props.query.name ? `name=${this.props.query.name}` : ''}`);\n                            } }))))));\n    }\n}\nexport default connect(createMapStateToProps(state => {\n    return {\n        currentFilter: {\n            name: sourcesSelectors.currentFilterType(state),\n            value: sourcesSelectors.currentFilterValue(state),\n        },\n    };\n}), {\n    updateFilter: sourcesActions.updateFilterToolbar,\n})(withTranslation()(AddSourcesStep));\n","import { Alert, Button, Grid, GridItem, Modal, Stack, StackItem, Text, TextContent, TextVariants, } from '@patternfly/react-core';\nimport { parseApiError } from 'pages/costModels/createCostModelWizard/parseError';\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { createMapStateToProps } from 'store/common';\nimport { costModelsSelectors } from 'store/costModels';\nimport { sourcesActions, sourcesSelectors } from 'store/sourceSettings';\nimport AddSourceStep from './addSourceStep';\nconst sourceTypeMap = {\n    'OpenShift Container Platform': 'OCP',\n    'Microsoft Azure': 'AZURE',\n    'Amazon Web Services': 'AWS',\n};\nclass AddSourceWizardBase extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.state = { checked: {} };\n    }\n    componentDidMount() {\n        const { costModel: { source_type }, fetch, } = this.props;\n        const sourceType = sourceTypeMap[source_type];\n        fetch(`type=${sourceType}&limit=10&offset=0`);\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.isLoadingSources === true && this.props.isLoadingSources === false) {\n            const initChecked = this.props.providers.reduce((acc, curr) => {\n                return Object.assign(Object.assign({}, acc), { [curr.uuid]: {\n                        selected: this.props.costModel.sources.some(p => p.uuid === curr.uuid),\n                        meta: curr,\n                    } });\n            }, {});\n            this.setState({ checked: initChecked });\n        }\n    }\n    render() {\n        const { isUpdateInProgress, onClose, isOpen, onSave, t, costModel, updateApiError } = this.props;\n        return (React.createElement(Modal, { isOpen: isOpen, title: t('cost_models_details.assign_sources'), onClose: onClose, variant: \"large\", actions: [\n                React.createElement(Button, { key: \"save\", isDisabled: isUpdateInProgress || this.props.isLoadingSources || this.props.fetchingSourcesError !== null, onClick: () => {\n                        onSave(Object.keys(this.state.checked).filter(uuid => this.state.checked[uuid].selected));\n                    } }, t('cost_models_details.action_assign')),\n                React.createElement(Button, { key: \"cancel\", variant: \"link\", isDisabled: isUpdateInProgress, onClick: onClose }, t('cost_models_wizard.cancel_button')),\n            ] },\n            React.createElement(Stack, null,\n                React.createElement(StackItem, null, Boolean(updateApiError) && React.createElement(Alert, { variant: \"danger\", title: `${updateApiError}` })),\n                React.createElement(StackItem, null,\n                    React.createElement(Grid, null,\n                        React.createElement(GridItem, { span: 2 },\n                            React.createElement(TextContent, null,\n                                React.createElement(Text, { component: TextVariants.h6 }, t('cost_models_wizard.general_info.name_label')))),\n                        React.createElement(GridItem, { span: 10 },\n                            React.createElement(TextContent, null,\n                                React.createElement(Text, { component: TextVariants.p }, this.props.costModel.name))),\n                        React.createElement(GridItem, { span: 2 },\n                            React.createElement(TextContent, null,\n                                React.createElement(Text, { component: TextVariants.h6 }, t('cost_models_wizard.general_info.source_type_label')))),\n                        React.createElement(GridItem, { span: 10 },\n                            React.createElement(TextContent, null,\n                                React.createElement(Text, { component: TextVariants.p }, this.props.costModel.source_type))))),\n                React.createElement(StackItem, null,\n                    React.createElement(AddSourceStep, { fetch: this.props.fetch, fetchingSourcesError: this.props.fetchingSourcesError, isLoadingSources: this.props.isLoadingSources, providers: this.props.providers, pagination: this.props.pagination, query: this.props.query, costModel: costModel, checked: this.state.checked, setState: newState => {\n                            this.setState({ checked: newState });\n                        } })))));\n    }\n}\nexport default connect(createMapStateToProps(state => {\n    return {\n        pagination: sourcesSelectors.pagination(state),\n        query: sourcesSelectors.query(state),\n        providers: sourcesSelectors.sources(state),\n        isLoadingSources: sourcesSelectors.status(state) === 1 /* inProgress */,\n        isUpdateInProgress: costModelsSelectors.updateProcessing(state),\n        updateApiError: costModelsSelectors.updateError(state),\n        fetchingSourcesError: sourcesSelectors.error(state) ? parseApiError(sourcesSelectors.error(state)) : null,\n    };\n}), {\n    fetch: sourcesActions.fetchSources,\n})(withTranslation()(AddSourceWizardBase));\n","import { TableTemplate } from 'pages/costModels/components/tableTemplate';\nimport { connect } from 'react-redux';\nimport { costModelsSelectors } from 'store/costModels';\nimport { rbacSelectors } from 'store/rbac';\nconst genActions = (canWrite, showDeleteDialog) => {\n    if (canWrite) {\n        return [\n            {\n                title: 'cost_models_details.action_unassign',\n                onClick: (_evt, rowIndex) => showDeleteDialog(rowIndex),\n            },\n        ];\n    }\n    return [\n        {\n            style: { pointerEvents: 'auto' },\n            tooltip: 'cost_models.read_only_tooltip',\n            isDisabled: true,\n            title: 'cost_models_details.action_unassign',\n        },\n    ];\n};\nconst SourcesTable = connect((state) => {\n    return {\n        canWrite: rbacSelectors.isCostModelWritePermission(state),\n        costModels: costModelsSelectors.costModels(state),\n    };\n}, undefined, (stateProps, _, ownProps) => {\n    const actions = genActions(stateProps.canWrite, ownProps.showDeleteDialog);\n    const rows = stateProps.costModels.length > 0 ? stateProps.costModels[0].sources.map(source => [source.name]) : [];\n    return {\n        'aria-label': 'sources-table',\n        cells: ['filter.name'],\n        rows,\n        actions,\n    };\n})(TableTemplate);\nexport default SourcesTable;\n","import { Button, InputGroup, InputGroupText, Pagination, TextInput, Toolbar, ToolbarContent, ToolbarFilter, ToolbarItem, } from '@patternfly/react-core';\nimport { SearchIcon } from '@patternfly/react-icons/dist/js/icons/search-icon';\nimport React from 'react';\nimport { ReadOnlyTooltip } from '../components/readOnlyTooltip';\nconst SearchInput = ({ id, placeholder = '', value, onChange, onSearch }) => {\n    return (React.createElement(InputGroup, null,\n        React.createElement(TextInput, { value: value, placeholder: placeholder, id: id, onChange: onChange, onKeyPress: (evt) => {\n                if (evt.key !== 'Enter' || value === '') {\n                    return;\n                }\n                onSearch(evt);\n            } }),\n        React.createElement(InputGroupText, { style: { borderLeft: '0' } },\n            React.createElement(SearchIcon, null))));\n};\nexport const SourcesToolbar = ({ searchInputProps, paginationProps, filter, actionButtonProps, }) => {\n    return (React.createElement(Toolbar, { id: \"assign-sources-toolbar\", clearAllFilters: filter.onClearAll },\n        React.createElement(ToolbarContent, null,\n            React.createElement(ToolbarItem, { variant: \"search-filter\" },\n                React.createElement(ToolbarFilter, { deleteChip: filter.onRemove, chips: filter.query.name, categoryName: filter.categoryNames.name },\n                    React.createElement(SearchInput, Object.assign({}, searchInputProps)))),\n            React.createElement(ToolbarItem, null,\n                React.createElement(ReadOnlyTooltip, { isDisabled: actionButtonProps.isDisabled },\n                    React.createElement(Button, Object.assign({}, actionButtonProps)))),\n            React.createElement(ToolbarItem, { variant: \"pagination\" },\n                React.createElement(Pagination, { isCompact: paginationProps.isCompact, itemCount: paginationProps.itemCount, page: paginationProps.page, perPage: paginationProps.perPage, onSetPage: paginationProps.onSetPage, onPerPageSelect: paginationProps.onPerPageSelect })))));\n};\n","export const styles = {\n    emptyState: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'center',\n    },\n};\n","import { EmptyState, EmptyStateBody, EmptyStateIcon, Title } from '@patternfly/react-core';\nimport { DollarSignIcon } from '@patternfly/react-icons/dist/js/icons/dollar-sign-icon';\nimport { EmptyFilterState } from 'components/state/emptyFilterState/emptyFilterState';\nimport { addMultiValueQuery, removeMultiValueQuery } from 'pages/costModels/components/filterLogic';\nimport { PaginationToolbarTemplate } from 'pages/costModels/components/paginationToolbarTemplate';\nimport SourcesTable from 'pages/costModels/costModel/sourcesTable';\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { createMapStateToProps } from 'store/common';\nimport { rbacSelectors } from 'store/rbac';\nimport { SourcesToolbar } from './sourcesToolbar';\nimport { styles } from './table.styles';\nclass TableBase extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            query: { name: [] },\n            currentFilter: '',\n            pagination: { page: 1, perPage: 10 },\n        };\n    }\n    render() {\n        const { pagination: { page, perPage }, } = this.state;\n        const { onAdd, t, rows, isWritePermission } = this.props;\n        const filteredRows = rows\n            .filter(uuid => {\n            if (!this.state.query.name) {\n                return true;\n            }\n            return this.state.query.name.every(fName => uuid.includes(fName));\n        })\n            .map(uuid => [uuid]);\n        const res = filteredRows.slice((page - 1) * perPage, page * perPage);\n        return (React.createElement(React.Fragment, null,\n            React.createElement(SourcesToolbar, { actionButtonProps: {\n                    isDisabled: !isWritePermission,\n                    onClick: onAdd,\n                    children: t('toolbar.sources.assign_sources'),\n                }, filter: {\n                    onClearAll: () => this.setState({\n                        pagination: Object.assign(Object.assign({}, this.state.pagination), { page: 1 }),\n                        query: { name: [] },\n                    }),\n                    onRemove: (_category, chip) => {\n                        this.setState({\n                            pagination: Object.assign(Object.assign({}, this.state.pagination), { page: 1 }),\n                            query: removeMultiValueQuery(this.state.query)('name', chip),\n                        });\n                    },\n                    query: this.state.query,\n                    categoryNames: { name: t('toolbar.sources.category.name') },\n                }, paginationProps: {\n                    isCompact: true,\n                    itemCount: filteredRows.length,\n                    perPage,\n                    page,\n                    onSetPage: (_evt, newPage) => this.setState({\n                        pagination: Object.assign(Object.assign({}, this.state.pagination), { page: newPage }),\n                    }),\n                    onPerPageSelect: (_evt, newPerPage) => this.setState({\n                        pagination: { page: 1, perPage: newPerPage },\n                    }),\n                }, searchInputProps: {\n                    id: 'sources-tab-toolbar',\n                    onChange: (value) => this.setState({\n                        currentFilter: value,\n                    }),\n                    onSearch: () => {\n                        this.setState({\n                            query: addMultiValueQuery(this.state.query)('name', this.state.currentFilter),\n                            currentFilter: '',\n                            pagination: Object.assign(Object.assign({}, this.state.pagination), { page: 1 }),\n                        });\n                    },\n                    value: this.state.currentFilter,\n                    placeholder: t('toolbar.sources.filter_placeholder'),\n                } }),\n            res.length > 0 && (React.createElement(SourcesTable, { showDeleteDialog: (rowId) => {\n                    this.props.onDelete(res[rowId]);\n                } })),\n            rows.length === 0 && (React.createElement(\"div\", { style: styles.emptyState },\n                React.createElement(EmptyState, null,\n                    React.createElement(EmptyStateIcon, { icon: DollarSignIcon }),\n                    React.createElement(Title, { headingLevel: \"h2\", size: \"lg\" }, t('cost_models_details.empty_state_source.title')),\n                    React.createElement(EmptyStateBody, null, t('cost_models_details.empty_state_source.description'))))),\n            filteredRows.length === 0 && rows.length > 0 && (React.createElement(EmptyFilterState, { filter: this.state.currentFilter, subTitle: t('no_match_found_state.desc') })),\n            React.createElement(PaginationToolbarTemplate, { id: \"costmodels_details_filter_datatoolbar\", \"aria-label\": \"cost_models_details.sources_filter_controller\", variant: \"bottom\", itemCount: filteredRows.length, perPage: perPage, page: page, onSetPage: (_evt, newPage) => this.setState({\n                    pagination: Object.assign(Object.assign({}, this.state.pagination), { page: newPage }),\n                }), onPerPageSelect: (_evt, newPerPage) => this.setState({\n                    pagination: { page: 1, perPage: newPerPage },\n                }) })));\n    }\n}\nexport default connect(createMapStateToProps(state => ({\n    isWritePermission: rbacSelectors.isCostModelWritePermission(state),\n})))(withTranslation()(TableBase));\n","import React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { createMapStateToProps } from 'store/common';\nimport { costModelsActions, costModelsSelectors } from 'store/costModels';\nimport AddSourceWizard from './addSourceWizard';\nimport Dialog from './dialog';\nimport Table from './table';\nclass SourceTableBase extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.state = { dialogSource: null };\n    }\n    render() {\n        const { setDialogOpen, isLoading, sources, costModel, t, isDialogOpen } = this.props;\n        return (React.createElement(React.Fragment, null,\n            isDialogOpen.addSource && (React.createElement(AddSourceWizard, { costModel: costModel, isOpen: true, onClose: () => setDialogOpen({ name: 'addSource', isOpen: false }), onSave: (source_uuids) => {\n                    this.props.updateCostModel(costModel.uuid, Object.assign(Object.assign({}, costModel), { source_type: costModel.source_type === 'OpenShift Container Platform' ? 'OCP' : 'AWS', source_uuids }), 'addSource');\n                } })),\n            React.createElement(Dialog, { isSmall: true, isOpen: isDialogOpen.deleteSource, title: t('dialog.delete_source_from_cost_model_title', {\n                    source: this.state.dialogSource,\n                    cost_model: costModel.name,\n                }), onClose: () => {\n                    setDialogOpen({ name: 'deleteSource', isOpen: false });\n                    this.setState({ dialogSource: null });\n                }, isProcessing: isLoading, onProceed: () => {\n                    const newState = Object.assign(Object.assign({}, costModel), { source_type: costModel.source_type === 'OpenShift Container Platform' ? 'OCP' : 'AWS', source_uuids: sources\n                            .filter(provider => provider.name !== this.state.dialogSource)\n                            .map(provider => provider.uuid) });\n                    this.props.updateCostModel(costModel.uuid, newState, 'deleteSource');\n                }, body: t('dialog.delete_source_from_cost_model_body', {\n                    source: this.state.dialogSource,\n                    cost_model: costModel.name,\n                }), actionText: t('dialog.deleteSource') }),\n            React.createElement(Table, { onDeleteText: t('cost_models_details.action_unassign'), onDelete: item => {\n                    this.setState({ dialogSource: item[0] });\n                    setDialogOpen({ name: 'deleteSource', isOpen: true });\n                }, onAdd: () => setDialogOpen({ name: 'addSource', isOpen: true }), rows: sources.map(p => p.name) })));\n    }\n}\nexport default connect(createMapStateToProps(state => ({\n    isLoading: costModelsSelectors.updateProcessing(state),\n    isDialogOpen: costModelsSelectors.isDialogOpen(state)('sources'),\n})), {\n    setDialogOpen: costModelsActions.setCostModelDialog,\n    updateCostModel: costModelsActions.updateCostModel,\n})(withTranslation()(SourceTableBase));\n","import global_BackgroundColor_light_100 from '@patternfly/react-tokens/dist/js/global_BackgroundColor_light_100';\nimport global_spacer_lg from '@patternfly/react-tokens/dist/js/global_spacer_lg';\nimport global_spacer_md from '@patternfly/react-tokens/dist/js/global_spacer_md';\nimport global_spacer_sm from '@patternfly/react-tokens/dist/js/global_spacer_sm';\nexport const styles = {\n    headerDescription: {\n        width: '97%',\n        wordWrap: 'break-word',\n    },\n    content: {\n        paddingTop: global_spacer_lg.value,\n        height: '182vh',\n    },\n    costmodelsContainer: {\n        marginLeft: global_spacer_lg.value,\n        marginRight: global_spacer_lg.value,\n        backgroundColor: global_BackgroundColor_light_100.value,\n        paddingBottom: global_spacer_md.value,\n        paddingTop: global_spacer_md.value,\n    },\n    headerCostModel: {\n        padding: global_spacer_lg.var,\n        paddingBottom: 0,\n        backgroundColor: global_BackgroundColor_light_100.value,\n    },\n    title: {\n        paddingBottom: global_spacer_sm.var,\n    },\n};\n","import global_BackgroundColor_light_100 from '@patternfly/react-tokens/dist/js/global_BackgroundColor_light_100';\nimport global_spacer_lg from '@patternfly/react-tokens/dist/js/global_spacer_lg';\nimport global_spacer_md from '@patternfly/react-tokens/dist/js/global_spacer_md';\nimport global_spacer_sm from '@patternfly/react-tokens/dist/js/global_spacer_sm';\nexport const styles = {\n    headerDescription: {\n        width: '97%',\n        wordWrap: 'break-word',\n    },\n    content: {\n        paddingTop: global_spacer_lg.value,\n        height: '182vh',\n    },\n    costmodelsContainer: {\n        marginLeft: global_spacer_lg.value,\n        marginRight: global_spacer_lg.value,\n        paddingBottom: global_spacer_md.value,\n        paddingTop: global_spacer_md.value,\n        paddingLeft: global_spacer_lg.value,\n        paddingRight: global_spacer_lg.value,\n    },\n    tableContainer: {\n        marginLeft: global_spacer_lg.value,\n        marginRight: global_spacer_lg.value,\n    },\n    paginationContainer: {\n        paddingBottom: global_spacer_md.value,\n        paddingTop: global_spacer_md.value,\n        paddingLeft: global_spacer_lg.value,\n        paddingRight: global_spacer_lg.value,\n        marginLeft: global_spacer_lg.value,\n        marginRight: global_spacer_lg.value,\n        marginBottom: global_spacer_lg.value,\n        backgroundColor: global_BackgroundColor_light_100.value,\n    },\n    toolbarContainer: {\n        paddingBottom: global_spacer_md.value,\n        paddingTop: global_spacer_md.value,\n        marginLeft: global_spacer_lg.value,\n        marginRight: global_spacer_lg.value,\n        backgroundColor: global_BackgroundColor_light_100.value,\n    },\n    header: {\n        padding: global_spacer_lg.var,\n        backgroundColor: global_BackgroundColor_light_100.var,\n    },\n    headerCostModel: {\n        padding: global_spacer_lg.value,\n        paddingBottom: 0,\n        backgroundColor: global_BackgroundColor_light_100.var,\n    },\n    breadcrumb: {\n        paddingBottom: global_spacer_md.var,\n    },\n    title: {\n        paddingBottom: global_spacer_sm.var,\n    },\n    sourceTypeTitle: {\n        paddingBottom: global_spacer_md.var,\n    },\n};\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Alert, Button, Form, FormGroup, Modal, TextArea, TextInput } from '@patternfly/react-core';\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { createMapStateToProps } from 'store/common';\nimport { costModelsActions, costModelsSelectors } from 'store/costModels';\nclass UpdateCostModelBase extends React.Component {\n    constructor(props) {\n        super(props);\n        const current = this.props.costModel[0];\n        this.state = {\n            name: current.name,\n            description: current.description,\n        };\n    }\n    render() {\n        const { updateCostModel, updateError, costModel, isProcessing, setDialogOpen, t } = this.props;\n        const current = costModel[0];\n        return (React.createElement(Modal, { title: t('cost_models_details.edit_cost_model'), isOpen: true, onClose: () => setDialogOpen({ name: 'updateCostModel', isOpen: false }), variant: \"small\", actions: [\n                React.createElement(Button, { key: \"proceed\", variant: \"primary\", onClick: () => {\n                        const { uuid, sources } = current, previous = __rest(current, [\"uuid\", \"sources\"]);\n                        updateCostModel(uuid, Object.assign(Object.assign({}, previous), { source_uuids: sources.map(provider => provider.uuid), name: this.state.name, description: this.state.description, source_type: current.source_type === 'OpenShift Container Platform' ? 'OCP' : 'AWS' }), 'updateCostModel');\n                    }, isDisabled: isProcessing || (this.state.name === current.name && this.state.description === current.description) }, t('cost_models_details.save_button')),\n                React.createElement(Button, { key: \"cancel\", variant: \"secondary\", onClick: () => setDialogOpen({ name: 'updateCostModel', isOpen: false }), isDisabled: isProcessing }, t('dialog.cancel')),\n            ] },\n            React.createElement(React.Fragment, null,\n                updateError && React.createElement(Alert, { variant: \"danger\", title: `${updateError}` }),\n                React.createElement(Form, null,\n                    React.createElement(FormGroup, { label: t('cost_models_wizard.general_info.name_label'), isRequired: true, fieldId: \"name\" },\n                        React.createElement(TextInput, { isRequired: true, type: \"text\", id: \"name\", name: \"name\", value: this.state.name, onChange: value => this.setState({ name: value }) })),\n                    React.createElement(FormGroup, { label: t('cost_models_wizard.general_info.description_label'), fieldId: \"description\" },\n                        React.createElement(TextArea, { type: \"text\", id: \"description\", name: \"description\", value: this.state.description, onChange: value => this.setState({ description: value }) }))))));\n    }\n}\nconst UpdateCostModelModal = withTranslation()(connect(createMapStateToProps(state => ({\n    costModel: costModelsSelectors.costModels(state),\n    isProcessing: costModelsSelectors.updateProcessing(state),\n    updateError: costModelsSelectors.updateError(state),\n})), {\n    setDialogOpen: costModelsActions.setCostModelDialog,\n    updateCostModel: costModelsActions.updateCostModel,\n})(UpdateCostModelBase));\nexport default UpdateCostModelModal;\n","import { Breadcrumb, BreadcrumbItem, Dropdown, DropdownItem, KebabToggle, List, ListItem, Split, SplitItem, Tab, Tabs, TabTitleText, Title, } from '@patternfly/react-core';\nimport { ReadOnlyTooltip } from 'pages/costModels/components/readOnlyTooltip';\nimport { styles } from 'pages/costModels/costModel/costModelsDetails.styles';\nimport Dialog from 'pages/costModels/costModel/dialog';\nimport UpdateCostModelModal from 'pages/costModels/costModel/updateCostModel';\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { createMapStateToProps } from 'store/common';\nimport { costModelsActions, costModelsSelectors } from 'store/costModels';\nimport { rbacSelectors } from 'store/rbac';\nconst Header = ({ t, tabRefs, tabIndex, onSelectTab, setDialogOpen, isDialogOpen, deleteError, isDeleteProcessing, deleteCostModel, current, isWritePermission, historyObject, }) => {\n    const [dropdownIsOpen, setDropdownIsOpen] = React.useState(false);\n    return (React.createElement(React.Fragment, null,\n        isDialogOpen.updateCostModel && React.createElement(UpdateCostModelModal, null),\n        React.createElement(Dialog, { isSmall: true, isOpen: isDialogOpen.deleteCostModel, title: t('dialog.delete_cost_model_title'), onClose: () => setDialogOpen({ name: 'deleteCostModel', isOpen: false }), error: deleteError, isProcessing: isDeleteProcessing, onProceed: () => {\n                deleteCostModel(current.uuid, 'deleteCostModel', historyObject);\n            }, body: React.createElement(React.Fragment, null,\n                current.sources.length === 0 &&\n                    t('dialog.delete_cost_model_body_green', {\n                        cost_model: current.name,\n                    }),\n                current.sources.length > 0 && (React.createElement(React.Fragment, null,\n                    t('dialog.delete_cost_model_body_red', {\n                        cost_model: current.name,\n                    }),\n                    React.createElement(\"br\", null),\n                    React.createElement(\"br\", null),\n                    t('dialog.delete_cost_model_body_red_costmodel_delete'),\n                    React.createElement(\"br\", null),\n                    React.createElement(List, null, current.sources.map(provider => (React.createElement(ListItem, { key: `${provider.uuid}` }, provider.name))))))), actionText: current.sources.length === 0 ? t('dialog.deleteCostModel') : '' }),\n        React.createElement(\"header\", { style: styles.headerCostModel },\n            React.createElement(Breadcrumb, { style: styles.breadcrumb },\n                React.createElement(BreadcrumbItem, { to: \"cost-management/cost-models\" }, t('cost_models_details.cost_model.cost_models')),\n                React.createElement(BreadcrumbItem, { isActive: true }, current.name)),\n            React.createElement(Split, null,\n                React.createElement(SplitItem, { style: styles.headerDescription },\n                    React.createElement(Title, { headingLevel: \"h2\", style: styles.title, size: \"2xl\" }, current.name),\n                    current.description && (React.createElement(Title, { headingLevel: \"h2\", style: styles.title, size: \"md\" }, current.description)),\n                    React.createElement(Title, { headingLevel: \"h2\", style: styles.sourceTypeTitle, size: \"md\" },\n                        t('cost_models_details.cost_model.source_type'),\n                        \": \",\n                        current.source_type),\n                    current.source_type === 'OpenShift Container Platform' ? (React.createElement(Tabs, { activeKey: tabIndex, onSelect: (_evt, index) => onSelectTab(index) },\n                        React.createElement(Tab, { eventKey: 0, title: React.createElement(TabTitleText, null, \"Price list\"), tabContentId: \"refPriceList\", tabContentRef: tabRefs[0] }),\n                        React.createElement(Tab, { eventKey: 1, title: React.createElement(TabTitleText, null, \"Markup\"), tabContentId: \"refMarkup\", tabContentRef: tabRefs[1] }),\n                        React.createElement(Tab, { eventKey: 2, title: React.createElement(TabTitleText, null, \"Sources\"), tabContentId: \"refSources\", tabContentRef: tabRefs[2] }))) : (React.createElement(Tabs, { activeKey: tabIndex, onSelect: (_evt, index) => onSelectTab(index) },\n                        React.createElement(Tab, { eventKey: 0, title: React.createElement(TabTitleText, null, \"Markup\"), tabContentId: \"refMarkup\", tabContentRef: tabRefs[0] }),\n                        React.createElement(Tab, { eventKey: 1, title: React.createElement(TabTitleText, null, \"Sources\"), tabContentId: \"refSources\", tabContentRef: tabRefs[1] })))),\n                React.createElement(SplitItem, null,\n                    React.createElement(Dropdown, { toggle: React.createElement(KebabToggle, { onToggle: setDropdownIsOpen }), isOpen: dropdownIsOpen, onSelect: () => setDropdownIsOpen(false), isPlain: true, position: \"right\", dropdownItems: [\n                            React.createElement(ReadOnlyTooltip, { key: \"edit\", isDisabled: !isWritePermission },\n                                React.createElement(DropdownItem, { isDisabled: !isWritePermission, onClick: () => setDialogOpen({\n                                        isOpen: true,\n                                        name: 'updateCostModel',\n                                    }) }, t('cost_models_details.action_edit'))),\n                            React.createElement(ReadOnlyTooltip, { key: \"delete\", isDisabled: !isWritePermission },\n                                React.createElement(DropdownItem, { isDisabled: !isWritePermission, onClick: () => setDialogOpen({\n                                        isOpen: true,\n                                        name: 'deleteCostModel',\n                                    }) }, t('cost_models_details.action_delete'))),\n                        ] }))))));\n};\nexport default connect(createMapStateToProps(state => ({\n    isDialogOpen: costModelsSelectors.isDialogOpen(state)('costmodel'),\n    isDeleteProcessing: costModelsSelectors.deleteProcessing(state),\n    deleteError: costModelsSelectors.deleteError(state),\n    isWritePermission: rbacSelectors.isCostModelWritePermission(state),\n})), {\n    setDialogOpen: costModelsActions.setCostModelDialog,\n    deleteCostModel: costModelsActions.deleteCostModel,\n})(withTranslation()(Header));\n","import { EmptyState, EmptyStateBody, EmptyStateIcon, TabContent, Title } from '@patternfly/react-core';\nimport { ErrorCircleOIcon } from '@patternfly/react-icons/dist/js/icons/error-circle-o-icon';\nimport { Main } from '@redhat-cloud-services/frontend-components/components/Main';\nimport { PageHeader, PageHeaderTitle } from '@redhat-cloud-services/frontend-components/components/PageHeader';\nimport MarkupCard from 'pages/costModels/costModel/markup';\nimport PriceListTable from 'pages/costModels/costModel/priceListTable';\nimport SourceTable from 'pages/costModels/costModel/sourceTable';\nimport { parseApiError } from 'pages/costModels/createCostModelWizard/parseError';\nimport Loading from 'pages/state/loading';\nimport NotAvailable from 'pages/state/notAvailable';\nimport React from 'react';\nimport { Translation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { createMapStateToProps } from 'store/common';\nimport { costModelsActions, costModelsSelectors } from 'store/costModels';\nimport { metricsActions, metricsSelectors } from 'store/metrics';\nimport { rbacActions, rbacSelectors } from 'store/rbac';\nimport { styles } from './costModelInfo.styles';\nimport Header from './header';\nclass CostModelInformation extends React.Component {\n    constructor(props) {\n        super(props);\n        this.tabRefs = [React.createRef(), React.createRef(), React.createRef()];\n        this.state = { tabIndex: 0 };\n    }\n    componentDidMount() {\n        this.props.fetchRbac();\n        this.props.fetchMetrics();\n        this.props.fetchCostModels(`uuid=${this.props.match.params.uuid}`);\n    }\n    render() {\n        const { costModels, metricsStatus, rbacStatus, costModelStatus, rbacError, costModelError, metricsError, } = this.props;\n        if (metricsStatus !== 2 /* complete */ ||\n            rbacStatus !== 2 /* complete */ ||\n            costModelStatus !== 2 /* complete */) {\n            return React.createElement(Translation, null, t => React.createElement(Loading, { title: t('cost_models_details.header.title') }));\n        }\n        const fetchError = metricsError || rbacError || costModelError;\n        if (fetchError) {\n            if (costModelError !== null) {\n                const costModelErrMessage = parseApiError(costModelError);\n                if (costModelErrMessage === 'detail: Invalid provider uuid') {\n                    return (React.createElement(Translation, null, t => {\n                        return (React.createElement(React.Fragment, null,\n                            React.createElement(PageHeader, null,\n                                React.createElement(PageHeaderTitle, { title: t('cost_models_details.header.title') })),\n                            React.createElement(Main, null,\n                                React.createElement(EmptyState, null,\n                                    React.createElement(EmptyStateIcon, { icon: ErrorCircleOIcon }),\n                                    React.createElement(Title, { headingLevel: \"h2\", size: \"lg\" }, t('cost_models_details.empty_state_bad_uuid.title')),\n                                    React.createElement(EmptyStateBody, null, t('cost_models_details.empty_state_bad_uuid.description', {\n                                        uuid: this.props.match.params.uuid,\n                                    }))))));\n                    }));\n                }\n            }\n            return React.createElement(Translation, null, t => React.createElement(NotAvailable, { title: t('cost_models_details.header.title') }));\n        }\n        const current = costModels[0];\n        const sources = current.sources;\n        return (React.createElement(\"div\", null,\n            React.createElement(Header, { historyObject: this.props.history, current: current, tabRefs: this.tabRefs, tabIndex: this.state.tabIndex, onSelectTab: tabIndex => this.setState({ tabIndex }) }),\n            React.createElement(\"div\", { style: styles.content }, current.source_type === 'OpenShift Container Platform' ? (React.createElement(React.Fragment, null,\n                React.createElement(TabContent, { eventKey: 0, id: \"refPriceList\", ref: this.tabRefs[0], hidden: this.state.tabIndex !== 0 },\n                    React.createElement(\"div\", { style: styles.costmodelsContainer },\n                        React.createElement(PriceListTable, { costModel: current.name, assignees: sources.map(p => p.name), current: current }))),\n                React.createElement(TabContent, { eventKey: 1, id: \"refMarkup\", ref: this.tabRefs[1], hidden: this.state.tabIndex !== 1 },\n                    React.createElement(MarkupCard, { current: current })),\n                React.createElement(TabContent, { eventKey: 2, id: \"refSources\", ref: this.tabRefs[2], hidden: this.state.tabIndex !== 2 },\n                    React.createElement(\"div\", { style: styles.costmodelsContainer },\n                        React.createElement(SourceTable, { costModel: current, sources: sources }))))) : (React.createElement(React.Fragment, null,\n                React.createElement(TabContent, { eventKey: 0, id: \"refMarkup\", ref: this.tabRefs[0], hidden: this.state.tabIndex !== 0 },\n                    React.createElement(MarkupCard, { current: current })),\n                React.createElement(TabContent, { eventKey: 1, id: \"refSources\", ref: this.tabRefs[1], hidden: this.state.tabIndex !== 1 },\n                    React.createElement(\"div\", { style: styles.costmodelsContainer },\n                        React.createElement(SourceTable, { costModel: current, sources: sources }))))))));\n    }\n}\nexport default connect(createMapStateToProps(store => {\n    return {\n        costModels: costModelsSelectors.costModels(store),\n        costModelError: costModelsSelectors.error(store),\n        costModelStatus: costModelsSelectors.status(store),\n        metricsHash: metricsSelectors.metrics(store),\n        maxRate: metricsSelectors.maxRate(store),\n        costTypes: metricsSelectors.costTypes(store),\n        metricsError: metricsSelectors.metricsState(store).error,\n        metricsStatus: metricsSelectors.status(store),\n        rbacError: rbacSelectors.selectRbacState(store).error,\n        rbacStatus: rbacSelectors.selectRbacState(store).status,\n    };\n}), {\n    fetchMetrics: metricsActions.fetchMetrics,\n    fetchRbac: rbacActions.fetchRbac,\n    fetchCostModels: costModelsActions.fetchCostModels,\n})(CostModelInformation);\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports,require(\"react\"),require(\"prop-types\"),require(\"classnames\"),require(\"@patternfly/react-core\")):\"function\"==typeof define&&define.amd?define([\"exports\",\"react\",\"prop-types\",\"classnames\",\"@patternfly/react-core\"],t):t((e=e||self)[\"@redhat-cloud-services/frontend-components-PageHeader\"]={},e.React,e[\"prop-types\"],e.classNames,e[\"@patternfly/react-core\"])}(this,(function(e,t,r,n,a){\"use strict\";t=t&&t.hasOwnProperty(\"default\")?t.default:t,r=r&&r.hasOwnProperty(\"default\")?r.default:r,n=n&&n.hasOwnProperty(\"default\")?n.default:n;var o=function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){function _extends(){return e.exports=_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_extends.apply(this,arguments)}e.exports=_extends}));var s=function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e};var i=function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a};var c=function _objectWithoutProperties(e,t){if(null==e)return{};var r,n,a=i(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a},l=t.createContext(\"light\"),p=function PageHeader(e){var r=e.className,a=e.children,i=c(e,[\"className\",\"children\"]),p=n(r,\"pf-l-page-header\",\"pf-c-page-header\",\"pf-l-page__main-section\",\"pf-c-page__main-section\");return t.createElement(l.Consumer,null,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"light\",r=n(s({},\"pf-m-\".concat(e,\"-200\"),\"dark\"===e),s({},\"pf-m-light\",\"light\"===e));return t.createElement(\"section\",o({},i,{className:\"\".concat(p,\" \").concat(r),\"widget-type\":\"InsightsPageHeader\"}),a)}))};p.propTypes={children:r.any.isRequired,className:r.string};var u=function PageHeaderTitle(e){var r=e.className,o=e.title,s=n(r);return t.createElement(a.Title,{headingLevel:\"h1\",size:\"2xl\",className:s,\"widget-type\":\"InsightsPageHeaderTitle\"},\" \",o,\" \")};u.propTypes={title:r.node.isRequired,className:r.string},e.PageHeader=p,e.PageHeaderTitle=u,Object.defineProperty(e,\"__esModule\",{value:!0})}));\n","import { Main } from '@redhat-cloud-services/frontend-components/components/Main';\nimport { PageHeader, PageHeaderTitle } from '@redhat-cloud-services/frontend-components/components/PageHeader';\nimport { LoadingState } from 'components/state/loadingState/loadingState';\nimport React from 'react';\nimport { withRouter } from 'react-router';\nconst Loading = ({ title }) => {\n    return (React.createElement(React.Fragment, null,\n        title && (React.createElement(PageHeader, null,\n            React.createElement(PageHeaderTitle, { title: title }))),\n        React.createElement(Main, null,\n            React.createElement(LoadingState, null))));\n};\nexport default withRouter(Loading);\n","import Loading from './loading';\nexport default Loading;\n","import { Main } from '@redhat-cloud-services/frontend-components/components/Main';\nimport { PageHeader, PageHeaderTitle } from '@redhat-cloud-services/frontend-components/components/PageHeader';\nimport { Unavailable } from '@redhat-cloud-services/frontend-components/components/Unavailable';\nimport React from 'react';\nimport { withRouter } from 'react-router';\nconst NotAvailable = ({ title }) => {\n    return (React.createElement(React.Fragment, null,\n        title && (React.createElement(PageHeader, null,\n            React.createElement(PageHeaderTitle, { title: title }))),\n        React.createElement(Main, null,\n            React.createElement(Unavailable, null))));\n};\nexport default withRouter(NotAvailable);\n","import NotAvailable from './notAvailable';\nexport default NotAvailable;\n"],"sourceRoot":""}
{"version":3,"sources":["webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/collection.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/helpers.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/scale.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/immutable.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/data.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/domain.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/axis.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/transitions.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/events.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/wrapper.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/style.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/prop-types.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/common-props.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-portal/portal.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-portal/portal-context.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/timer.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-util/timer-context.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-container/victory-container.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-theme/material.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-theme/grayscale.js","webpack://koku-ui/./node_modules/victory-stack/node_modules/victory-core/es/victory-theme/victory-theme.js","webpack://koku-ui/./node_modules/victory-stack/es/helper-methods.js","webpack://koku-ui/./node_modules/victory-stack/es/victory-stack.js"],"names":["_toConsumableArray","arr","Array","isArray","i","arr2","length","_arrayWithoutHoles","iter","Symbol","iterator","Object","prototype","toString","call","from","_iterableToArray","TypeError","_nonIterableSpread","isNonEmptyArray","collection","containsDates","some","value","Date","containsNumbers","containsOnlyStrings","every","containsStrings","getMaxValue","_len","arguments","values","_key","array","concat","Math","max","apply","getMinValue","_len2","_key2","min","isArrayOfArrays","removeUndefined","filter","el","undefined","omit","originalObject","ks","newObject","key","indexOf","hasOwnProperty","getPoint","datum","exists","val","_x","_x1","_x0","_voronoiX","_y","_y1","_y0","_voronoiY","defaultX","defaultY","point","x","x0","y","y0","getPadding","props","name","padding","paddingVal","paddingObj","top","bottom","left","right","isTooltip","component","type","role","evaluateProp","prop","degreesToRadians","degrees","PI","getRadius","_getPadding","width","height","isHorizontal","horizontal","children","traverseChildren","childArray","reduce","memo","child","childProps","scalePoint","scale","polar","d","origin","cos","sin","getDefaultStyles","_props$theme","theme","labelComponent","defaultStyles","style","tooltipStyle","tooltip","labelStyle","labels","getStyles","parent","data","defaultParent","defaultLabels","defaultData","evaluateStyle","disableInlineStyles","prev","curr","radiansToDegrees","radians","getPolarOrigin","_getPadding2","radius","offsetWidth","offsetHeight","getRange","axis","range","startAngle","endAngle","innerRadius","getPolarRange","vertical","getCartesianRange","createAccessor","modifyProps","fallbackProps","themeProps","defaultObject","getCurrentAxis","reduceChildren","iteratee","parentProps","initialMemo","combine","item","sharedProps","names","index","childRole","childName","nestedChildren","getChildren","map","c","nestedChildProps","_childNames","nestedResults","result","childNames","supportedScaleStrings","toNewName","s","toUpperCase","slice","validScale","copy","domain","isScaleDefined","getScaleTypeFromData","accessor","axisData","processedData","getScaleFromName","getScaleFromProps","getType","scaleType","method","getBaseScale","defaultScale","getScaleFromDomain","getDefaultScale","getScaleType","getScaleTypeFromProps","IMMUTABLE_ITERABLE","IMMUTABLE_RECORD","IMMUTABLE_LIST","IMMUTABLE_MAP","isImmutable","this","isIterable","isRecord","isList","isMap","shallowToJS","whitelist","_this","parseDatum","errorX","errorY","getLength","size","generateDataArray","samples","domainMax","domainMin","step","sortData","dataset","sortKey","sortOrder","order","createStringMap","stringsFromAxes","getStringsFromAxes","stringsFromCategories","getStringsFromCategories","stringsFromData","getStringsFromData","allStrings","string","formatData","expectedKeys","stringMap","defaultKeys","preformattedData","cleanedData","smallNumber","Number","MAX_SAFE_INTEGER","rules","sanitize","cleanData","dataArr","fallbackValues","processedValues","processedValue","formattedDatum","push","hasEventKeyAccessor","eventKey","eventKeyAccessor","addEventKeys","generateData","xValues","yValues","getCategories","categories","tickValues","tickFormat","categoryStrings","downsample","maxPoints","startingIndex","dataLength","k","pow","ceil","log2","formatDataFromDomain","defaultBaseline","minDomainX","maxDomainX","minDomainY","maxDomainY","underMin","overMax","isUnderMinX","isUnderMinY","isOverMaxX","isOverMaxY","baseline","getData","isDataComponent","getRole","getExtremeFromData","getExtreme","initialValue","Infinity","containsDate","current0","current1","current","createDomainFunction","getDomainFromDataFunction","formatDomainFunction","getDomainFromData","formatDomain","propsDomain","getDomainFromProps","getDomainFromCategories","almostZero","dom","cleanDomain","domainPadding","minDomain","getMinFromProps","maxDomain","getMaxFromProps","formatPadding","getDomainPadding","currentAxis","rangeExtent","abs","paddedRangeExtent","paddedDomainExtent","valueOf","simplePadding","paddedDomain","singleQuadrantDomainPadding","adjust","initialPadding","adjustedDomain","finalPadding","finalDomain","getDomainFromMinMax","padDomain","_props$startAngle","_props$endAngle","stringArray","categoryValues","categoryDomain","getSymmetricDomain","_props$startAngle2","_props$endAngle2","getFlatData","verySmallNumber","minVal","maxVal","sort","a","b","getDomain","getDomainWithZero","y0Min","defaultMin","maxDomainProp","minDomainProp","ensureZero","isDomainComponent","findAxisComponents","childComponents","predicate","findAxes","getAxis","getDatumKey","idx","getKeyedData","keyedData","getKeyedDataDifference","hasDifference","difference","_difference","getChildData","oldChildren","nextChildren","nodesWillExit","nodesWillEnter","getTransitionsFromChildren","old","next","oldChild","newChild","oldData","nextData","oldDataKeyed","nextDataKeyed","_ref","entering","exiting","getTransition","childrenTransitions","nodesShouldEnter","state","setState","nodesShouldLoad","nodesDoneLoad","transitionDurations","enter","animate","onEnter","duration","exit","onExit","load","onLoad","move","cb","onEnd","after","getChildOnLoad","before","clipWidth","getChildBeforeLoad","nodes","exitingNodes","getChildPropsOnExit","enteringNodes","getChildPropsOnEnter","getChildPropsBeforeEnter","getChildTransitionDuration","defaultTransitions","defaultPolarTransitions","animationDuration","childTransitions","animation","_animation","delay","_animation2","getInitialChildProps","components","events","componentName","_memo","defaultEvents","componentEvents","obj","defineProperty","enumerable","configurable","writable","getDataFromChildren","getDefaultDomainPadding","groupComponent","_groupComponent$0$pro","offset","firstChild","barWidth","getWidth","dataDomain","childDomain","getDomainFromChildren","getScale","childScale","setAnimationState","nextProps","parentState","oldProps","isContinuous","check","continuous","_Transitions$getIniti","_nodesWillExit","getAllEvents","_componentEvents","getAnimationProps","getTransitions","getTransitionProps","newState","childComponent","parentData","baseParentProps","childDomains","addBinsToParentPropsIfHistogram","someChildrenAreHistograms","allChildrenAreHistograms","childBins","bins","combinedData","xAccessor","getFormattedHistogramData","getFormattedData","_ref2","x1","target","source","ownKeys","keys","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","forEach","_objectSpread","stack","stacked","datasets","childData","_stack","_group","group","getColor","calculatedProps","scales","colorScale","color","fill","colors","grayscale","qualitative","heatmap","warm","cool","red","blue","green","groupLength","seriesLength","extent","bars","round","getStyle","defaultStyle","getChildStyle","childStyle","defaultFill","defaultColor","stroke","dataWidth","dataStyle","labelsStyle","xName","yName","Boolean","getCategoryAndAxisStringsFromChildren","axisComponent","axisStrings","getStringsFromChildren","xStrings","yStrings","dataStrings","xPropCategories","yPropCategories","xCategories","yCategories","makeChainable","validator","_chainable","isRequired","propName","Error","rest","chainable","bind","nullConstructor","undefinedConstructor","getConstructor","constructor","getConstructorName","deprecated","propType","explanation","allOfType","validators","nonNegative","integer","greaterThanZero","scl","homogeneousArray","comparisonConstructor","typeMismatchedValue","constructorName","otherConstructorName","matchDataLength","regExp","dataProps","dataComponent","baseProps","containerComponent","eventHandlers","externalEventMutations","callback","mutation","sharedEvents","getEventState","standalone","primitiveProps","active","ariaLabel","className","clipPath","desc","id","shapeRendering","tabIndex","transform","_defineProperties","descriptor","_assertThisInitialized","self","ReferenceError","Portal","_React$Component","instance","Constructor","_classCallCheck","_possibleConstructorReturn","__proto__","getPrototypeOf","portalUpdate","portalRegister","portalDeregister","protoProps","subClass","superClass","create","setPrototypeOf","_inherits","element","forceUpdate","_this2","viewBox","PortalContext","displayName","Timer","shouldAnimate","subscribers","loop","timer","activeSubscriptions","startTime","stop","subscriptionID","start","TimerContext","transitionTimer","animationTimer","_extends","assign","VictoryContainer","containerId","savePortalRef","portal","portalRef","saveContainerRef","containerRef","container","shouldHandleWheel","onWheel","handleWheel","e","preventDefault","addEventListener","removeEventListener","elementName","ouiaId","ouiaSafe","ouiaType","svgProps","title","portalComponent","portalZIndex","responsive","dimensions","divStyle","pointerEvents","touchAction","position","portalDivStyle","zIndex","svgStyle","portalSvgStyle","overflow","portalProps","preserveAspectRatio","ref","getOUIAProps","getIdForElement","_props","join","renderContainer","blueGrey50","blueGrey300","blueGrey700","grey900","baseLabelStyles","fontFamily","fontSize","letterSpacing","strokeWidth","centeredLabelStyles","textAnchor","strokeLinecap","strokeLinejoin","area","axisLabel","grid","strokeDasharray","ticks","tickLabels","polarDependentAxis","bar","boxplot","maxLabels","median","medianLabels","minLabels","q1","q1Labels","q3","q3Labels","boxWidth","candlestick","candleColors","positive","negative","chart","errorbar","borderWidth","opacity","histogram","legend","gutter","orientation","titleOrientation","line","pie","scatter","flyoutStyle","flyoutPadding","cornerRadius","pointerLength","voronoi","flyout","charcoal","grey","material","stackData","filterNullChildData","fillInMissingData","xMap","getTime","xKeys","xArr","indexOffset","isDate","fillData","xOffset","yOffset","firstDatasetBaseline","previousPoints","previousDatum","getY0","addLayoutData","getCalculatedProps","baseScale","getColorScale","colorScaleOptions","getChildProps","parentName","getLabels","VictoryStack","animating","reverse","containerProps","modifiedProps","newChildren","getNewChildren","getContainerProps"],"mappings":"ofAAA,SAASA,EAAmBC,GAAO,OAMnC,SAA4BA,GAAO,GAAIC,MAAMC,QAAQF,GAAM,CAAE,IAAK,IAAIG,EAAI,EAAGC,EAAO,IAAIH,MAAMD,EAAIK,QAASF,EAAIH,EAAIK,OAAQF,IAAOC,EAAKD,GAAKH,EAAIG,GAAM,OAAOC,GANnHE,CAAmBN,IAI7D,SAA0BO,GAAQ,GAAIC,OAAOC,YAAYC,OAAOH,IAAkD,uBAAzCG,OAAOC,UAAUC,SAASC,KAAKN,GAAgC,OAAON,MAAMa,KAAKP,GAJrFQ,CAAiBf,IAEtF,WAAgC,MAAM,IAAIgB,UAAU,mDAF0CC,GAW9F,SAASC,EAAgBC,GACvB,OAAOlB,MAAMC,QAAQiB,IAAeA,EAAWd,OAAS,EAS1D,SAASe,EAAcD,GACrB,OAAOlB,MAAMC,QAAQiB,IAAeA,EAAWE,MAAK,SAAUC,GAC5D,OAAOA,aAAiBC,QA4C5B,SACEH,cAAeA,EACfI,gBA1CF,SAAyBL,GACvB,OAAOlB,MAAMC,QAAQiB,IAAeA,EAAWE,MAAK,SAAUC,GAC5D,MAAwB,iBAAVA,MAyChBG,oBArCF,SAA6BN,GAC3B,OAAOD,EAAgBC,IAAeA,EAAWO,OAAM,SAAUJ,GAC/D,MAAwB,iBAAVA,MAoChBK,gBAxDF,SAAyBR,GACvB,OAAOlB,MAAMC,QAAQiB,IAAeA,EAAWE,MAAK,SAAUC,GAC5D,MAAwB,iBAAVA,MAuDhBM,YAvBF,SAAqB5B,GACnB,IAAK,IAAI6B,EAAOC,UAAUzB,OAAQ0B,EAAS,IAAI9B,MAAM4B,EAAO,EAAIA,EAAO,EAAI,GAAIG,EAAO,EAAGA,EAAOH,EAAMG,IACpGD,EAAOC,EAAO,GAAKF,UAAUE,GAG/B,IAAIC,EAAQjC,EAAIkC,OAAOH,GACvB,OAAOX,EAAca,GAAS,IAAIV,KAAKY,KAAKC,IAAIC,MAAMF,KAAMpC,EAAmBkC,KAAWE,KAAKC,IAAIC,MAAMF,KAAMpC,EAAmBkC,KAkBlIK,YAfF,SAAqBtC,GACnB,IAAK,IAAIuC,EAAQT,UAAUzB,OAAQ0B,EAAS,IAAI9B,MAAMsC,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IAC1GT,EAAOS,EAAQ,GAAKV,UAAUU,GAGhC,IAAIP,EAAQjC,EAAIkC,OAAOH,GACvB,OAAOX,EAAca,GAAS,IAAIV,KAAKY,KAAKM,IAAIJ,MAAMF,KAAMpC,EAAmBkC,KAAWE,KAAKM,IAAIJ,MAAMF,KAAMpC,EAAmBkC,KAUlIS,gBAnCF,SAAyBvB,GACvB,OAAOD,EAAgBC,IAAeA,EAAWO,MAAMzB,MAAMC,UAmC7DyC,gBAhCF,SAAyB3C,GACvB,OAAOA,EAAI4C,QAAO,SAAUC,GAC1B,YAAcC,IAAPD,O,iMCDX,SAASE,GAAKC,GACZ,IAAIC,EAAKnB,UAAUzB,OAAS,QAAsByC,IAAjBhB,UAAU,GAAmBA,UAAU,GAAK,GAEzEoB,EAAY,GAEhB,IAAK,IAAIC,KAAOH,EACVC,EAAGG,QAAQD,IAAQ,GAIlBzC,OAAOC,UAAU0C,eAAexC,KAAKmC,EAAgBG,KAI1DD,EAAUC,GAAOH,EAAeG,IAGlC,OAAOD,EAGT,SAASI,GAASC,GAChB,IAAIC,EAAS,SAAUC,GACrB,YAAeX,IAARW,GAGLC,EAAKH,EAAMG,GACXC,EAAMJ,EAAMI,IACZC,EAAML,EAAMK,IACZC,EAAYN,EAAMM,UAClBC,EAAKP,EAAMO,GACXC,EAAMR,EAAMQ,IACZC,EAAMT,EAAMS,IACZC,EAAYV,EAAMU,UAClBC,EAAWV,EAAOG,GAAOA,EAAMD,EAC/BS,EAAWX,EAAOO,GAAOA,EAAMD,EAC/BM,EAAQ,CACVC,EAAGb,EAAOK,GAAaA,EAAYK,EACnCI,GAAId,EAAOI,GAAOA,EAAMF,EACxBa,EAAGf,EAAOS,GAAaA,EAAYE,EACnCK,GAAIhB,EAAOQ,GAAOA,EAAMF,GAE1B,OAAO,IAAU,GAAIM,EAAOb,GAwB9B,SAASkB,GAAWC,GAClB,IAAIC,EAAO7C,UAAUzB,OAAS,QAAsByC,IAAjBhB,UAAU,GAAmBA,UAAU,GAAK,UAC3E8C,EAAUF,EAAMC,GAChBE,EAAgC,iBAAZD,EAAuBA,EAAU,EACrDE,EAAgC,iBAAZF,EAAuBA,EAAU,GACzD,MAAO,CACLG,IAAKD,EAAWC,KAAOF,EACvBG,OAAQF,EAAWE,QAAUH,EAC7BI,KAAMH,EAAWG,MAAQJ,EACzBK,MAAOJ,EAAWI,OAASL,GAI/B,SAASM,GAAUC,GAEjB,MAAqB,aADLA,GAAaA,EAAUC,MAAQD,EAAUC,KAAKC,MAoDhE,SAASC,GAAaC,EAAMd,GAC1B,OAAO,IAAYc,GAAQA,EAAKd,GAASc,EAoB3C,SAASC,GAAiBC,GACxB,MAA0B,iBAAZA,EAAuBA,GAAWvD,KAAKwD,GAAK,KAAOD,EAOnE,SAASE,GAAUlB,GACjB,IAAImB,EAAcpB,GAAWC,GACzBO,EAAOY,EAAYZ,KACnBC,EAAQW,EAAYX,MACpBH,EAAMc,EAAYd,IAClBC,EAASa,EAAYb,OAErBc,EAAQpB,EAAMoB,MACdC,EAASrB,EAAMqB,OACnB,OAAO5D,KAAKM,IAAIqD,EAAQb,EAAOC,EAAOa,EAAShB,EAAMC,GAAU,EAsIjE,SAASgB,GAAatB,GACpB,QAAyB5B,IAArB4B,EAAMuB,aAA6BvB,EAAMwB,SAC3C,OAAOxB,EAAMuB,WAGf,IAAIE,EAAmB,SAAUC,GAC/B,OAAOA,EAAWC,QAAO,SAAUC,EAAMC,GACvC,IAAIC,EAAaD,EAAM7B,OAAS,GAEhC,OAAI4B,GAAQE,EAAWP,aAAeO,EAAWN,SAC/CI,EAAOA,GAAQE,EAAWP,WAIrBE,EAAiB,qBAAuBK,EAAWN,cACzD,IAGL,OAAOC,EAAiB,qBAAuBzB,EAAMwB,WAGvD,UACEnD,KAAMA,GACNO,SAAUA,GACVmD,WA3RF,SAAoB/B,EAAOnB,GACzB,IAAImD,EAAQhC,EAAMgC,MACdC,EAAQjC,EAAMiC,MACdV,EAAavB,EAAMuB,WACnBW,EAAItD,GAASC,GACbsD,EAASnC,EAAMmC,QAAU,CAC3BxC,EAAG,EACHE,EAAG,GAEDF,EAAI4B,EAAaS,EAAMnC,EAAEqC,EAAErC,GAAKmC,EAAMrC,EAAEuC,EAAEvC,GAC1CC,EAAK2B,EAAaS,EAAMnC,EAAEqC,EAAEpC,IAAMkC,EAAMrC,EAAEuC,EAAEtC,IAC5CC,EAAI0B,EAAaS,EAAMrC,EAAEuC,EAAEvC,GAAKqC,EAAMnC,EAAEqC,EAAErC,GAC1CC,EAAKyB,EAAaS,EAAMrC,EAAEuC,EAAEtC,IAAMoC,EAAMnC,EAAEqC,EAAEpC,IAChD,MAAO,CACLH,EAAGsC,EAAQpC,EAAIpC,KAAK2E,IAAIzC,GAAKwC,EAAOxC,EAAIA,EACxCC,GAAIqC,EAAQnC,EAAKrC,KAAK2E,IAAIxC,GAAMuC,EAAOxC,EAAIC,EAC3CC,EAAGoC,GAASpC,EAAIpC,KAAK4E,IAAI1C,GAAKwC,EAAOtC,EAAIA,EACzCC,GAAImC,GAASnC,EAAKrC,KAAK4E,IAAIzC,GAAMuC,EAAOxC,EAAIG,IA2Q9CC,WAAYA,GACZuC,iBAtPF,SAA0BtC,EAAOY,GAC/B,IAAI2B,EAAevC,EAAMwC,MACrBA,OAAyB,IAAjBD,EAA0B,GAAKA,EACvCE,EAAiBzC,EAAMyC,eACvBC,EAAgBF,EAAM5B,IAAS4B,EAAM5B,GAAM+B,OAAS,GAExD,IAAKlC,GAAUgC,GACb,OAAOC,EAGT,IAAIE,EAAeJ,EAAMK,SAAWL,EAAMK,QAAQF,OAAS,GAEvDG,EAAa,IAAU,GAAIF,EAAcF,EAAcK,QAE3D,OAAO,IAAU,GAAI,CACnBA,OAAQD,GACPJ,IAuOHM,UApOF,SAAmBL,EAAOD,GACxB,IAAItB,EAAQ,OACRC,EAAS,OAEb,IAAKsB,EACH,OAAO,IAAU,CACfM,OAAQ,CACN5B,OAAQA,EACRD,MAAOA,IAERsB,GAGL,IAAIQ,EAAOP,EAAMO,KACbH,EAASJ,EAAMI,OACfE,EAASN,EAAMM,OACfE,EAAgBT,GAAiBA,EAAcO,QAAU,GACzDG,EAAgBV,GAAiBA,EAAcK,QAAU,GACzDM,EAAcX,GAAiBA,EAAcQ,MAAQ,GACzD,MAAO,CACLD,OAAQ,IAAU,GAAIA,EAAQE,EAAe,CAC3C/B,MAAOA,EACPC,OAAQA,IAEV0B,OAAQ,IAAU,GAAIA,EAAQK,GAC9BF,KAAM,IAAU,GAAIA,EAAMG,KA4M5BxC,aAAcA,GACdyC,cArMF,SAAuBX,EAAO3C,GAC5B,OAAIA,EAAMuD,oBACD,GAGJZ,GAAU,KAAMA,GAAOhG,MAAK,SAAUC,GACzC,OAAO,IAAY+F,EAAM/F,OAKpB,KAAM+F,GAAOhB,QAAO,SAAU6B,EAAMC,GAEzC,OADAD,EAAKC,GAAQ5C,GAAa8B,EAAMc,GAAOzD,GAChCwD,IACN,IANMb,GA8LT5B,iBAAkBA,GAClB2C,iBAlLF,SAA0BC,GACxB,MAA0B,iBAAZA,EAAuBA,GAAWlG,KAAKwD,GAAK,KAAO0C,GAkLjEzC,UAAWA,GACX0C,eApKF,SAAwB5D,GACtB,IAAIoB,EAAQpB,EAAMoB,MACdC,EAASrB,EAAMqB,OAEfwC,EAAe9D,GAAWC,GAC1BK,EAAMwD,EAAaxD,IACnBC,EAASuD,EAAavD,OACtBC,EAAOsD,EAAatD,KACpBC,EAAQqD,EAAarD,MAErBsD,EAASrG,KAAKM,IAAIqD,EAAQb,EAAOC,EAAOa,EAAShB,EAAMC,GAAU,EACjEyD,EAAc3C,EAAQ,EAAIb,EAAOC,EACjCwD,EAAe3C,EAAS,EAAIhB,EAAMC,EACtC,MAAO,CACLX,EAAGoE,EAAcD,EAAS1C,EAAQ0C,EAASvD,EAAOC,EAAQuD,EAC1DlE,EAAGmE,EAAeF,EAASzC,EAASyC,EAASzD,EAAMC,EAAS0D,IAsJ9DC,SAlJF,SAAkBjE,EAAOkE,GACvB,OAAIlE,EAAMmE,OAASnE,EAAMmE,MAAMD,GACtBlE,EAAMmE,MAAMD,GACVlE,EAAMmE,OAAS5I,MAAMC,QAAQwE,EAAMmE,OACrCnE,EAAMmE,MAGRnE,EAAMiC,MAzNf,SAAuBjC,EAAOkE,GAC5B,MAAa,MAATA,EAGK,CAFUnD,GAAiBf,EAAMoE,YAAc,GACvCrD,GAAiBf,EAAMqE,UAAY,MAI7C,CAACrE,EAAMsE,aAAe,EAAGpD,GAAUlB,IAkNrBuE,CAAcvE,EAAOkE,GArO5C,SAA2BlE,EAAOkE,GAEhC,IAAIM,EAAoB,MAATN,EACXhE,EAAUH,GAAWC,GAEzB,OAAIwE,EACK,CAACxE,EAAMqB,OAASnB,EAAQI,OAAQJ,EAAQG,KAG1C,CAACH,EAAQK,KAAMP,EAAMoB,MAAQlB,EAAQM,OA4NMiE,CAAkBzE,EAAOkE,IA4I3EQ,eAzIF,SAAwBjG,GAGtB,OAAI,IAAYA,GACPA,EACEA,QAEF,SAAUkB,GACf,OAAOA,GAKJ,KAAUlB,IA6HjBkG,YA1HF,SAAqB3E,EAAO4E,EAAehE,GACzC,IACIiE,EAAaxG,GADL2B,EAAMwC,OAASxC,EAAMwC,MAAM5B,GAAQZ,EAAMwC,MAAM5B,GAAQ,GACtC,CAAC,UAC1BW,EAAaD,GAAatB,GAC1B8E,OAA+B1G,IAAfmD,EAA2B,GAAK,CAClDA,WAAYA,GAEd,OAAO,IAAUuD,EAAe9E,EAAO6E,EAAYD,IAoHnDG,eA1GF,SAAwBb,EAAM3C,GAE5B,OAAOA,EADkB,MAAT2C,EAAe,IAAM,IACLA,GAyGhCc,eA1FF,SAAwBxD,EAAUyD,GAChC,IAAIC,EAAc9H,UAAUzB,OAAS,QAAsByC,IAAjBhB,UAAU,GAAmBA,UAAU,GAAK,GAClF+H,EAAc/H,UAAUzB,OAAS,QAAsByC,IAAjBhB,UAAU,GAAmBA,UAAU,GAAK,GAClFgI,EAAUhI,UAAUzB,OAAS,QAAsByC,IAAjBhB,UAAU,GAAmBA,UAAU,GAAK,SAAUwE,EAAMyD,GAChG,OAAOzD,EAAKpE,OAAO6H,IAEjBC,EAAc,CAAC,OAAQ,SAAU,aAAc,QAAS,aAAc,WAAY,YAAa,YAAa,cAE5G7D,EAAmB,SAAUC,EAAY6D,EAAOtC,GAClD,OAAOvB,EAAWC,QAAO,SAAUC,EAAMC,EAAO2D,GAC9C,IAAIC,EAAY5D,EAAMlB,MAAQkB,EAAMlB,KAAKC,KACrC8E,EAAY7D,EAAM7B,MAAMC,MAAQ,GAAGzC,OAAOiI,EAAW,KAAKjI,OAAO+H,EAAMC,IAE3E,GAAI3D,EAAM7B,OAAS6B,EAAM7B,MAAMwB,SAAU,CACvC,IAAIM,EAAa,IAAQ,GAAID,EAAM7B,MAAO,KAAMkF,EAAaI,IAEzDK,EAAiB9D,EAAMlB,MAA4B,UAApBkB,EAAMlB,KAAKC,MAAoB,IAAYiB,EAAMlB,KAAKiF,aAAe/D,EAAMlB,KAAKiF,YAAY9D,GAAc,qBAAuBD,EAAM7B,MAAMwB,UAAUqE,KAAI,SAAUC,GACtM,IAAIC,EAAmB,IAAQ,GAAID,EAAE9F,MAAO,KAAM8B,EAAYwD,IAE9D,OAAO,iBAAmBQ,EAAGC,MAG3BC,EAAcL,EAAeE,KAAI,SAAUC,EAAGrK,GAChD,MAAO,GAAG+B,OAAOkI,EAAW,KAAKlI,OAAO/B,MAGtCwK,EAAgBxE,EAAiBkE,EAAgBK,EAAanE,GAClED,EAAOwD,EAAQxD,EAAMqE,OAChB,CACL,IAAIC,EAASjB,EAASpD,EAAO6D,EAAWzC,GAEpCiD,IACFtE,EAAOwD,EAAQxD,EAAMsE,IAIzB,OAAOtE,IACNuD,IAGDgB,EAAa3E,EAASqE,KAAI,SAAUC,EAAGrK,GACzC,OAAOA,KAET,OAAOgG,EAAiBD,EAAU2E,IAgDlC7E,aAAcA,GACdb,UAAWA,I,gBC7XT2F,GAAwB,CAAC,SAAU,OAAQ,MAAO,QAEtD,SAASC,GAAUrE,GAEjB,IAA2BsE,EAI3B,MAAO,QAAQ9I,QAJY8I,EAIMtE,IAHnBsE,EAAE,GAAGC,cAAgBD,EAAEE,MAAM,IAM7C,SAASC,GAAWzE,GAClB,MAAqB,mBAAVA,EACF,IAAYA,EAAM0E,OAAS,IAAY1E,EAAM2E,SAAW,IAAY3E,EAAMmC,OACvD,iBAAVnC,GACT,IAAUoE,GAAuBpE,GAM5C,SAAS4E,GAAe5G,EAAOkE,GAC7B,SAAKlE,EAAMgC,QAEAhC,EAAMgC,MAAMrC,GAAKK,EAAMgC,MAAMnC,KAC/BG,EAAMgC,MAAMkC,IA+BvB,SAAS2C,GAAqB7G,EAAOkE,GACnC,IAAKlE,EAAMkD,KACT,MAAO,SAGT,IAAI4D,EAAW,kBAAuB9G,EAAMkE,IACxC6C,EAAW/G,EAAMkD,KAAK2C,KAAI,SAAUhH,GACtC,IAAImI,EAAgB,IAAeF,EAASjI,IAAUiI,EAASjI,GAAOqF,GAAQ4C,EAASjI,GACvF,YAAyBT,IAAlB4I,EAA8BA,EAAgBnI,EAAMqF,MAE7D,OAAO,gBAAyB6C,GAAY,OAAS,SAIvD,SAASE,GAAiBhH,GACxB,OAAOwG,GAAWxG,GAAQ,GAAQoG,GAAUpG,MAAW,iBAkBzD,SAASiH,GAAkBlH,EAAOkE,GAChC,GAAK0C,GAAe5G,EAAOkE,GAA3B,CAIA,IAAIlC,EAAQhC,EAAMgC,MAAMkC,IAASlE,EAAMgC,MAEvC,OAAIyE,GAAWzE,GACN,IAAYA,GAASA,EAAQ,GAAQqE,GAAUrE,WADxD,GAYF,SAASmF,GAAQnF,GACf,GAAqB,iBAAVA,EACT,OAAOA,EAGT,IAgBIoF,EAhBY,CAAC,CACfnH,KAAM,MACNoH,OAAQ,QACP,CACDpH,KAAM,UACNoH,OAAQ,WACP,CACDpH,KAAM,WACNoH,OAAQ,YACP,CACDpH,KAAM,WACNoH,OAAQ,aACP,CACDpH,KAAM,qBACNoH,OAAQ,iBAEgBnJ,QAAO,SAAUyC,GACzC,YAA8BvC,IAAvB4D,EAAMrB,EAAK0G,WACjB,GACH,OAAOD,EAAYA,EAAUnH,UAAO7B,EAGtC,UACEkJ,aA9DF,SAAsBtH,EAAOkE,GAC3B,IAAIlC,EAAQkF,GAAkBlH,EAAOkE,GAErC,GAAIlC,EACF,MAAwB,iBAAVA,EAAqBiF,GAAiBjF,GAASA,EAG/D,IAAIuF,EAzCN,SAA4BvH,EAAOkE,GACjC,IAAIyC,EAQJ,GANI3G,EAAM2G,QAAU3G,EAAM2G,OAAOzC,GAC/ByC,EAAS3G,EAAM2G,OAAOzC,GACblE,EAAM2G,QAAUpL,MAAMC,QAAQwE,EAAM2G,UAC7CA,EAAS3G,EAAM2G,QAGZA,EAIL,OAAO,gBAAyBA,GAAU,OAAS,SA4BhCa,CAAmBxH,EAAOkE,IAAS2C,GAAqB7G,EAAOkE,GAClF,OAAO,GAAQmC,GAAUkB,OAuDzBE,gBApDF,WACE,OAAO,kBAoDPP,kBAAmBA,GACnBQ,aApCF,SAAsB1H,EAAOkE,GAE3B,OA1EF,SAA+BlE,EAAOkE,GACpC,GAAK0C,GAAe5G,EAAOkE,GAA3B,CAIA,IAAIlC,EAAQhC,EAAMgC,MAAMkC,IAASlE,EAAMgC,MACvC,MAAwB,iBAAVA,EAAqBA,EAAQmF,GAAQnF,IAoE5C2F,CAAsB3H,EAAOkE,IAAS2C,GAAqB7G,EAAOkE,IAmCzEiD,QAASA,GACTF,iBAAkBA,ICnJpB,IACEW,mBAAoB,6BACpBC,iBAAkB,2BAClBC,eAAgB,yBAChBC,cAAe,wBACfC,YAAa,SAAUrI,GACrB,OAAOsI,KAAKC,WAAWvI,IAAMsI,KAAKE,SAASxI,IAE7CuI,WAAY,SAAUvI,GACpB,SAAUA,IAAKA,EAAEsI,KAAKL,sBAExBO,SAAU,SAAUxI,GAClB,SAAUA,IAAKA,EAAEsI,KAAKJ,oBAExBO,OAAQ,SAAUzI,GAChB,SAAUA,IAAKA,EAAEsI,KAAKH,kBAExBO,MAAO,SAAU1I,GACf,SAAUA,IAAKA,EAAEsI,KAAKF,iBAExBO,YAAa,SAAU3I,EAAG4I,GACxB,IAAIC,EAAQP,KAEZ,OAAOA,KAAKC,WAAWvI,GAAKA,EAAEgC,QAAO,SAAU6B,EAAMC,EAAMhF,GAMzD,OALI8J,GAAaA,EAAU9J,KACzBgF,EAAO+E,EAAMF,YAAY7E,IAG3BD,EAAK/E,GAAOgF,EACLD,IACNyE,KAAKG,OAAOzI,GAAK,GAAK,IAAMA,IChBnC,SAAS,GAAmBrE,GAAO,OAMnC,SAA4BA,GAAO,GAAIC,MAAMC,QAAQF,GAAM,CAAE,IAAK,IAAIG,EAAI,EAAGC,EAAO,IAAIH,MAAMD,EAAIK,QAASF,EAAIH,EAAIK,OAAQF,IAAOC,EAAKD,GAAKH,EAAIG,GAAM,OAAOC,GANnH,CAAmBJ,IAI7D,SAA0BO,GAAQ,GAAIC,OAAOC,YAAYC,OAAOH,IAAkD,uBAAzCG,OAAOC,UAAUC,SAASC,KAAKN,GAAgC,OAAON,MAAMa,KAAKP,GAJrF,CAAiBP,IAEtF,WAAgC,MAAM,IAAIgB,UAAU,mDAF0C,GAiB9F,SAASmM,GAAW5J,GAKlB,OAAO,eAAsBA,GAAS,eAAsBA,EAJ9B,CAC5B6J,QAAQ,EACRC,QAAQ,IAEoF9J,EAGhG,SAAS+J,GAAU1F,GACjB,OAAO,cAAqBA,GAAQA,EAAK2F,KAAO3F,EAAKvH,OAIvD,SAASmN,GAAkB9I,EAAOkE,GAChC,IACIyC,GADc,IAAe3G,EAAM2G,QAAU3G,EAAM2G,OAAOzC,GAAQlE,EAAM2G,SAChD,gBAAmB3G,EAAOkE,GAAMyC,SACxDoC,EAAU/I,EAAM+I,SAAW,EAC3BC,EAAYvL,KAAKC,IAAIC,MAAMF,KAAM,GAAmBkJ,IACpDsC,EAAYxL,KAAKM,IAAIJ,MAAMF,KAAM,GAAmBkJ,IACpDuC,GAAQF,EAAYC,GAAaF,EAEjC1L,EAAS,IAAO4L,EAAWD,EAAWE,GAE1C,OAAO,KAAM7L,KAAY2L,EAAY3L,EAASA,EAAOG,OAAOwL,GAI9D,SAASG,GAASC,EAASC,GACzB,IAAIC,EAAYlM,UAAUzB,OAAS,QAAsByC,IAAjBhB,UAAU,GAAmBA,UAAU,GAAK,YAEpF,IAAKiM,EACH,OAAOD,EAIO,MAAZC,GAA+B,MAAZA,IACrBA,EAAU,IAAI7L,OAAO6L,IAGvB,IAAIE,EAAsB,cAAdD,EAA4B,MAAQ,OAChD,OAAO,IAASF,EAASC,EAASE,GA2IpC,SAASC,GAAgBxJ,EAAOkE,GAC9B,IAAIuF,EAAkBC,GAAmB1J,EAAOkE,GAC5CyF,EAAwBC,GAAyB5J,EAAOkE,GACxD2F,EAAkBC,GAAmB9J,EAAOkE,GAE5C6F,EAAa,IAAM,GAAmBN,GAAiBjM,OAAO,GAAmBmM,GAAwB,GAAmBE,KAEhI,OAA6B,IAAtBE,EAAWpO,OAAe,KAAOoO,EAAWpI,QAAO,SAAUC,EAAMoI,EAAQxE,GAEhF,OADA5D,EAAKoI,GAAUxE,EAAQ,EAChB5D,IACN,IAsCL,SAASqI,GAAWb,EAASpJ,EAAOkK,GAGlC,IAFwB3O,MAAMC,QAAQ4N,KAAY,cAAqBA,IAE7CR,GAAUQ,GAAW,EAC7C,MAAO,GAGT,IAYIe,EAZAC,EAAc,CAAC,IAAK,IAAK,MAOzBtD,GANJoD,EAAe3O,MAAMC,QAAQ0O,GAAgBA,EAAeE,GAMhCzI,QAAO,SAAUC,EAAMjB,GAJ9B,IAAUV,EAM7B,OADA2B,EAAKjB,IALwBV,EAKDU,EAJrB,uBAAuCvC,IAAhB4B,EAAMC,GAAsBD,EAAMC,GAAQA,IAKjE2B,IACN,IACCyI,EAAmB,IAASH,EAAcE,IAA4B,OAAZpK,EAAML,GAA0B,OAAZK,EAAMH,GAA2B,QAAbG,EAAMF,IAGnF,IAArBuK,IAEFF,EAAY,CACVxK,GAAkC,IAA/BuK,EAAaxL,QAAQ,KAAc8K,GAAgBxJ,EAAO,UAAO5B,EACpEyB,GAAkC,IAA/BqK,EAAaxL,QAAQ,KAAc8K,GAAgBxJ,EAAO,UAAO5B,EACpE0B,IAAoC,IAAhCoK,EAAaxL,QAAQ,MAAe8K,GAAgBxJ,EAAO,UAAO5B,IAI1E,IAgCIkM,EArPN,SAAmBlB,EAASpJ,GAC1B,IAAIuK,EAAc,EAAIC,OAAOC,iBACzBrD,EAAY,CACdzH,EAAG,gBAAmBK,EAAO,KAC7BH,EAAG,gBAAmBG,EAAO,MAG/B,GAAoB,QAAhBoH,EAAUzH,GAA+B,QAAhByH,EAAUvH,EACrC,OAAOuJ,EAGT,IAAIsB,EAAQ,SAAU7L,EAAOqF,GAC3B,MAA2B,QAApBkD,EAAUlD,IAA8C,IAA5BrF,EAAM,IAAIrB,OAAO0G,KAiBtD,OAAOkF,EAAQvD,KAAI,SAAUhH,GAC3B,OAAI6L,EAAM7L,EAAO,MAAQ6L,EAAM7L,EAAO,MAAQ6L,EAAM7L,EAAO,MAClDA,EAhBI,SAAUA,GACvB,IAAIG,EAAK0L,EAAM7L,EAAO,KAAOA,EAAMG,GAAKuL,EAEpCnL,EAAKsL,EAAM7L,EAAO,KAAOA,EAAMO,GAAKmL,EAEpCjL,EAAMoL,EAAM7L,EAAO,MAAQA,EAAMS,IAAMiL,EAE3C,OAAO,IAAQ,GAAI1L,EAAO,CACxBG,GAAIA,EACJI,GAAIA,EACJE,IAAKA,IASAqL,CAAS9L,MAmNA+L,CADDzB,GA/BNkB,EAAmBjB,EAAUA,EAAQzH,QAAO,SAAUkJ,EAAShM,EAAO2G,GAG/E,IAAIsF,EAAiB,CACnBnL,EAAG6F,EACH3F,EAHFhB,EAAQ4J,GAAW5J,IAKfkM,EAAkBb,EAAavI,QAAO,SAAUC,EAAMjB,GACxD,IAAIqK,EAAiBlE,EAASnG,GAAM9B,GAChCjC,OAA2BwB,IAAnB4M,EAA+BA,EAAiBF,EAAenK,GAW3E,YATcvC,IAAVxB,IACmB,iBAAVA,GAAsBuN,EAAUxJ,IACzCiB,EAAK,GAAGpE,OAAOmD,EAAM,SAAW/D,EAChCgF,EAAK,IAAIpE,OAAOmD,IAASwJ,EAAUxJ,GAAM/D,IAEzCgF,EAAK,IAAIpE,OAAOmD,IAAS/D,GAItBgF,IACN,IAECqJ,EAAiB,IAAQ,GAAIF,EAAiBlM,GAMlD,OAJK,IAASoM,IACZJ,EAAQK,KAAKD,GAGRJ,IACN,IAC6B7K,EAAMqJ,QAASrJ,EAAMsJ,WACbtJ,GACxC,OAxIF,SAAsBA,EAAOkD,GAC3B,IAjBmBzE,EAiBf0M,IAAwBnL,EAAMoL,SAC9BC,GAlBe5M,EAkBgBuB,EAAMoL,SAfrC,IAAY3M,GACPA,EACEA,QACF,aAMF,KAAUA,IAOjB,OAAOyE,EAAK2C,KAAI,SAAUhH,EAAO2G,GAC/B,QAAuBpH,IAAnBS,EAAMuM,SACR,OAAOvM,EACF,GAAIsM,EAAqB,CAC9B,IAAIC,EAAWC,EAAiBxM,EAAO2G,GACvC,YAAoBpH,IAAbgN,EAAyB,IAAQ,CACtCA,SAAUA,GACTvM,GAASA,EAEZ,OAAOA,KA4HJyM,CAAatL,EAAOsK,GAS7B,SAASiB,GAAavL,GACpB,IAAIwL,EAAU1C,GAAkB9I,EAAO,KACnCyL,EAAU3C,GAAkB9I,EAAO,KAOvC,OANawL,EAAQ3F,KAAI,SAAUlG,EAAGlE,GACpC,MAAO,CACLkE,EAAGA,EACHE,EAAG4L,EAAQhQ,OAajB,SAASiQ,GAAc1L,EAAOkE,GAC5B,OAAOlE,EAAM2L,aAAepQ,MAAMC,QAAQwE,EAAM2L,YAAc3L,EAAM2L,WAAWzH,GAAQlE,EAAM2L,WAoB/F,SAASjC,GAAmB1J,EAAOkE,GACjC,IAAI0H,EAAa5L,EAAM4L,WACnBC,EAAa7L,EAAM6L,WASvB,OANKD,IAAerQ,MAAMC,QAAQoQ,IAAgBA,EAAW1H,IAG1C0H,EAAW1H,IAAS0H,EAFpBC,GAActQ,MAAMC,QAAQqQ,GAAcA,EAAa,IAKpD3N,QAAO,SAAUa,GACrC,MAAsB,iBAARA,KAWlB,SAAS6K,GAAyB5J,EAAOkE,GACvC,IAAKlE,EAAM2L,WACT,MAAO,GAGT,IAAIA,EAAaD,GAAc1L,EAAOkE,GAClC4H,EAAkBH,GAAcA,EAAWzN,QAAO,SAAUa,GAC9D,MAAsB,iBAARA,KAEhB,OAAO+M,EAAkB,kBAA2BA,GAAmB,GAUzE,SAAShC,GAAmB9J,EAAOkE,GAGjC,IAFwB3I,MAAMC,QAAQwE,EAAMkD,QAAS,cAAqBlD,EAAMkD,MAG9E,MAAO,GAGT,IAAIzE,OAAsBL,IAAhB4B,EAAMkE,GAAsBA,EAAOlE,EAAMkE,GAC/C4C,EAAW,kBAAuBrI,GAetC,OATiB0K,GAJNnJ,EAAMkD,KAAKvB,QAAO,SAAUC,EAAMM,GAE3C,OADAN,EAAKsJ,KAAKzC,GAAWvG,IACdN,IACN,IAC6B5B,EAAMqJ,QAASrJ,EAAMsJ,WACxB3H,QAAO,SAAUkJ,EAAShM,GAGrD,OAFAA,EAAQ4J,GAAW5J,GACnBgM,EAAQK,KAAKpE,EAASjI,IACfgM,IACN,IAAI3M,QAAO,SAAUW,GACtB,MAAwB,iBAAVA,KAGG8C,QAAO,SAAU6B,EAAMC,GAKxC,OAJIA,UAA+D,IAAxBD,EAAK9E,QAAQ+E,IACtDD,EAAK0H,KAAKzH,GAGLD,IACN,IAyBL,UACEgG,gBAAiBA,GACjBuC,WA5OF,SAAoB7I,EAAM8I,GACxB,IAAIC,EAAgB7O,UAAUzB,OAAS,QAAsByC,IAAjBhB,UAAU,GAAmBA,UAAU,GAAK,EAEpF8O,EAAatD,GAAU1F,GAE3B,GAAIgJ,EAAaF,EAAW,CAG1B,IAAIG,EAAI1O,KAAK2O,IAAI,EAAG3O,KAAK4O,KAAK5O,KAAK6O,KAAKJ,EAAaF,KACrD,OAAO9I,EAAKhF,QACZ,SAAUgE,EAAGzG,GACX,OAAQA,EAAIwQ,GAAiBE,GAAM,KAIvC,OAAOjJ,GA8NP+G,WAAYA,GACZsC,qBApWF,SAA8BnD,EAASzC,EAAQ6F,GAC7C,IAAI1N,EAAS,SAAUC,GACrB,YAAeX,IAARW,GAGL0N,EAAa,cAAuB9F,EAAOhH,GAC3C+M,EAAa,cAAuB/F,EAAOhH,GAC3CgN,EAAa,cAAuBhG,EAAO9G,GAC3C+M,EAAa,cAAuBjG,EAAO9G,GAE3CgN,EAAW,SAAU9O,GACvB,OAAO,SAAUgB,GACf,OAAOD,EAAOC,IAAQA,EAAMhB,IAI5B+O,EAAU,SAAUpP,GACtB,OAAO,SAAUqB,GACf,OAAOD,EAAOC,IAAQA,EAAMrB,IAI5BqP,EAAcF,EAASJ,GACvBO,EAAcH,EAASF,GACvBM,EAAaH,EAAQJ,GACrBQ,EAAaJ,EAAQF,GAEzB,OAAOxD,EAAQvD,KAAI,SAAUhH,GAC3B,IAAIG,EAAKH,EAAMG,GACXI,EAAKP,EAAMO,GACXE,EAAMT,EAAMS,IACZD,EAAMR,EAAMQ,KAEZ0N,EAAY/N,IAAOiO,EAAWjO,MAAKA,EAAK,MAC5C,IAAImO,EAAWrO,EAAOQ,GAAOA,EAAMkN,EAC/B5P,EAAQkC,EAAOO,GAAOA,EAAMD,EAChC,OAAKN,EAAOlC,IAEPkC,EAAOqO,KAAcH,EAAYpQ,KAAUsQ,EAAWtQ,KAASwC,EAAK,OAErE4N,EAAYG,IAAaH,EAAYpQ,IAAUsQ,EAAWC,IAAaD,EAAWtQ,MAAQwC,EAAKE,EAAMD,EAAM,MAE3G2N,EAAYG,KAAcH,EAAYpQ,KAAQ0C,EAAMqN,GAEpDO,EAAWC,KAAcD,EAAWtQ,KAAQ0C,EAAMsN,GAC/C,IAAQ,GAAI/N,EAAO,IAAQ,CAChCG,GAAIA,EACJI,GAAIA,EACJE,IAAKA,EACLD,IAAKA,GACJ,OAdwBR,MAiU7B0M,aAAcA,GACdG,cAAeA,GACf0B,QAlHF,SAAiBpN,GACf,OAAOA,EAAMkD,KAAO+G,GAAWjK,EAAMkD,KAAMlD,GAASiK,GAAWsB,GAAavL,GAAQA,IAkHpF0J,mBAAoBA,GACpBE,yBAA0BA,GAC1BE,mBAAoBA,GACpBuD,gBA3BF,SAAyB3M,GACvB,IAAI4M,EAAU,SAAUzL,GACtB,OAAOA,GAASA,EAAMlB,KAAOkB,EAAMlB,KAAKC,KAAO,IAG7CA,EAAO0M,EAAQ5M,GAEnB,GAAa,WAATE,EAAmB,CACrB,IAAIY,EAAW,qBAAuBd,EAAUV,MAAMwB,UACtDZ,EAAOY,EAAS7F,OAAS2R,EAAQ9L,EAAS,IAAM,GAIlD,OAAO,IADS,CAAC,OAAQ,MAAO,UAAW,cAAe,WAAY,QAAS,YAAa,OAAQ,MAAO,UAAW,QAAS,WACnGZ,KCxc9B,SAAS,GAAmBtF,GAAO,OAMnC,SAA4BA,GAAO,GAAIC,MAAMC,QAAQF,GAAM,CAAE,IAAK,IAAIG,EAAI,EAAGC,EAAO,IAAIH,MAAMD,EAAIK,QAASF,EAAIH,EAAIK,OAAQF,IAAOC,EAAKD,GAAKH,EAAIG,GAAM,OAAOC,GANnH,CAAmBJ,IAI7D,SAA0BO,GAAQ,GAAIC,OAAOC,YAAYC,OAAOH,IAAkD,uBAAzCG,OAAOC,UAAUC,SAASC,KAAKN,GAAgC,OAAON,MAAMa,KAAKP,GAJrF,CAAiBP,IAEtF,WAAgC,MAAM,IAAIgB,UAAU,mDAF0C,GAsD9F,SAASiR,GAAmBnE,EAASlF,GACnC,IAAIvD,EAAOvD,UAAUzB,OAAS,QAAsByC,IAAjBhB,UAAU,GAAmBA,UAAU,GAAK,MAE3EoQ,EAAa,SAAUlS,GACzB,MAAgB,QAATqF,EAAiBlD,KAAKC,IAAIC,MAAMF,KAAM,GAAmBnC,IAAQmC,KAAKM,IAAIJ,MAAMF,KAAM,GAAmBnC,KAG9GmS,EAAwB,QAAT9M,GAAiB,IAAY+M,IAC5CC,GAAe,EAEfzH,EAAS,IAASkD,GAASzH,QAAO,SAAUC,EAAM/C,GACpD,IAAI+O,OAA4CxP,IAAjCS,EAAM,IAAIrB,OAAO0G,EAAM,MAAsBrF,EAAM,IAAIrB,OAAO0G,EAAM,MAAQrF,EAAM,IAAIrB,OAAO0G,IACxG2J,OAA4CzP,IAAjCS,EAAM,IAAIrB,OAAO0G,EAAM,MAAsBrF,EAAM,IAAIrB,OAAO0G,EAAM,MAAQrF,EAAM,IAAIrB,OAAO0G,IACxG4J,EAAUN,EAAW,CAACI,EAAUC,IAEpC,OADAF,EAAeA,GAAgBC,aAAoB/Q,MAAQgR,aAAoBhR,KACxE2Q,EAAW,CAAC5L,EAAMkM,MACxBL,GAEH,OAAOE,EAAe,IAAI9Q,KAAKqJ,GAAUA,EAiF3C,SAAS6H,GAAqBC,EAA2BC,GAGvD,OAFAD,EAA4B,IAAYA,GAA6BA,EAA4BE,GACjGD,EAAuB,IAAYA,GAAwBA,EAAuBE,GAC3E,SAAUnO,EAAOkE,GACtB,IAAIkK,EAAcC,GAAmBrO,EAAOkE,GAE5C,GAAIkK,EACF,OAAOH,EAAqBG,EAAapO,EAAOkE,GAGlD,IAAIyH,EAAa,iBAAmB3L,EAAOkE,GACvCyC,EAASgF,EAAa2C,GAAwBtO,EAAOkE,EAAMyH,GAAcqC,EAA0BhO,EAAOkE,GAC9G,OAAOyC,EAASsH,EAAqBtH,EAAQ3G,EAAOkE,QAAQ9F,GAYhE,SAAS+P,GAAaxH,EAAQ3G,EAAOkE,GACnC,OAjKF,SAAqByC,EAAQ3G,EAAOkE,GAGlC,MAAkB,QAFF,gBAAmBlE,EAAOkE,GAGjCyC,GAIH4H,GADgBC,EAOT7H,GANU,GAAK,GAAK6H,EAAI,GAAK,GAAK,EAAIhE,OAAOC,iBAAmB,EAAID,OAAOC,iBAG/E,CAFoB,IAAX+D,EAAI,GAAWD,EAAaC,EAAI,GACrB,IAAXA,EAAI,GAAWD,EAAaC,EAAI,KAHlD,IAAsBA,EAChBD,EAyJCE,CAtGT,SAAmB9H,EAAQ3G,EAAOkE,GAChC,IAAKlE,EAAM0O,cACT,OAAO/H,EAGT,IAAIgI,EAAYC,GAAgB5O,EAAOkE,GACnC2K,EAAYC,GAAgB9O,EAAOkE,GACnChE,EAjDN,SAA0BF,EAAOkE,GAC/B,IAAI6K,EAAgB,SAAU7O,GAC5B,OAAO3E,MAAMC,QAAQ0E,GAAW,CAC9BK,KAAML,EAAQ,GACdM,MAAON,EAAQ,IACb,CACFK,KAAML,EACNM,MAAON,IAIX,OAAO,IAAeF,EAAM0O,eAAiBK,EAAc/O,EAAM0O,cAAcxK,IAAS6K,EAAc/O,EAAM0O,eAsC9FM,CAAiBhP,EAAOkE,GAEtC,IAAKhE,EAAQK,OAASL,EAAQM,MAC5B,OAAOmG,EAGT,IAAI5I,EAAM,cAAuB4I,GAC7BjJ,EAAM,cAAuBiJ,GAC7BsI,EAAc,kBAAuB/K,EAAMlE,EAAMuB,YACjD4C,EAAQ,YAAiBnE,EAAOiP,GAChCC,EAAczR,KAAK0R,IAAIhL,EAAM,GAAKA,EAAM,IACxCiL,EAAoB3R,KAAKC,IAAIwR,EAAchP,EAAQK,KAAOL,EAAQM,MAAO,GACzE6O,EAAqB5R,KAAK0R,IAAIzR,EAAI4R,UAAYvR,EAAIuR,WAAaF,EAAoBF,EACnFK,EACIF,EAAqBnP,EAAQK,KAAO2O,EADxCK,EAEKF,EAAqBnP,EAAQM,MAAQ0O,EAE1CM,EAAe,CACjBzR,IAAKA,EAAIuR,UAAYC,EACrB7R,IAAKA,EAAI4R,UAAYC,GAEnBE,EAA8B,IAAezP,EAAMyP,6BAA+BzP,EAAMyP,4BAA4BvL,GAAQlE,EAAMyP,4BAGlIC,EAAS,SAAU3Q,EAAK4B,GAE1B,MADsB,QAATA,GAAkB5C,GAAO,GAAKgB,GAAO,GAAc,QAAT4B,GAAkBjD,GAAO,GAAKqB,GAAO,EAC5E,EAAIA,GAGtB,IAPoBhB,GAAO,GAAKyR,EAAazR,KAAO,GAAKL,GAAO,GAAK8R,EAAa9R,KAAO,KAOpC,IAAhC+R,EAAuC,CAE1D,IAAIE,EAAiB,CACnBpP,KAAM9C,KAAK0R,IAAIzR,EAAMK,GAAOmC,EAAQK,KAAO2O,EAC3C1O,MAAO/C,KAAK0R,IAAIzR,EAAMK,GAAOmC,EAAQM,MAAQ0O,GAG3CU,EAAiB,CACnB7R,IAAK2R,EAAO3R,EAAIuR,UAAYK,EAAepP,KAAM,OACjD7C,IAAKgS,EAAOhS,EAAI4R,UAAYK,EAAenP,MAAO,QAGhDqP,EAAe,CACjBtP,KAAM9C,KAAK0R,IAAIS,EAAelS,IAAMkS,EAAe7R,KAAOmC,EAAQK,KAAO2O,EACzE1O,MAAO/C,KAAK0R,IAAIS,EAAelS,IAAMkS,EAAe7R,KAAOmC,EAAQM,MAAQ0O,GAG7EM,EAAe,CACbzR,IAAK2R,EAAO3R,EAAIuR,UAAYO,EAAatP,KAAM,OAC/C7C,IAAKgS,EAAOhS,EAAI4R,UAAYO,EAAarP,MAAO,QAKpD,IAAIsP,EAAc,CAChB/R,SAAmBK,IAAduQ,EAA0BA,EAAYa,EAAazR,IACxDL,SAAmBU,IAAdyQ,EAA0BA,EAAYW,EAAa9R,KAE1D,OAAOK,aAAelB,MAAQa,aAAeb,KAAOkT,GAAoB,IAAIlT,KAAKiT,EAAY/R,KAAM,IAAIlB,KAAKiT,EAAYpS,MAAQqS,GAAoBD,EAAY/R,IAAK+R,EAAYpS,KAsC9JsS,CAAUrJ,EAAQ3G,EAAOkE,GAAOlE,EAAOkE,GAsB5D,SAASoK,GAAwBtO,EAAOkE,EAAMyH,GAC5CA,EAAaA,GAAc,iBAAmB3L,EAAOkE,GACrD,IAAIjC,EAAQjC,EAAMiC,MACdgO,EAAoBjQ,EAAMoE,WAC1BA,OAAmC,IAAtB6L,EAA+B,EAAIA,EAChDC,EAAkBlQ,EAAMqE,SACxBA,OAA+B,IAApB6L,EAA6B,IAAMA,EAElD,GAAKvE,EAAL,CAIA,IAAIgD,EAAYC,GAAgB5O,EAAOkE,GACnC2K,EAAYC,GAAgB9O,EAAOkE,GACnCiM,EAAc,kBAA2BxE,GAAc,4BAA8B3L,EAAOkE,GAAQ,GACpGiG,EAAmC,IAAvBgG,EAAYxU,OAAe,KAAOwU,EAAYxO,QAAO,SAAUC,EAAMoI,EAAQxE,GAE3F,OADA5D,EAAKoI,GAAUxE,EAAQ,EAChB5D,IACN,IACCwO,EAAiBjG,EAAYwB,EAAW9F,KAAI,SAAUjJ,GACxD,OAAOuN,EAAUvN,MACd+O,EAGD0E,EAAiBN,QAFG3R,IAAduQ,EAA0BA,EAAY,cAAuByB,QAC/ChS,IAAdyQ,EAA0BA,EAAY,cAAuBuB,IAEvE,OAAOnO,GAAkB,MAATiC,GAAoD,MAApCzG,KAAK0R,IAAI/K,EAAaC,GAAoBiM,GAAmBD,EAAgBD,GAAkBC,GAWjI,SAASnC,GAAkBlO,EAAOkE,EAAMkF,GACtCA,EAAUA,GAAW,WAAapJ,GAClC,IAAIiC,EAAQjC,EAAMiC,MACdsO,EAAqBvQ,EAAMoE,WAC3BA,OAAoC,IAAvBmM,EAAgC,EAAIA,EACjDC,EAAmBxQ,EAAMqE,SACzBA,OAAgC,IAArBmM,EAA8B,IAAMA,EAC/C7B,EAAYC,GAAgB5O,EAAOkE,GACnC2K,EAAYC,GAAgB9O,EAAOkE,GAEvC,GAAIkF,EAAQzN,OAAS,EACnB,YAAqByC,IAAduQ,QAAyCvQ,IAAdyQ,EAA0BkB,GAAoBpB,EAAWE,QAAazQ,EAG1G,IAEIuI,EAASoJ,QAFW3R,IAAduQ,EAA0BA,EAAYpB,GAAmBnE,EAASlF,EAAM,YAC1D9F,IAAdyQ,EAA0BA,EAAYtB,GAAmBnE,EAASlF,EAAM,QAElF,OAAOjC,GAAkB,MAATiC,GAAoD,MAApCzG,KAAK0R,IAAI/K,EAAaC,GAAoBiM,GAAmB3J,EA7M/F,SAAqByC,EAASlF,GAC5B,OAAO,IAASkF,GAASvD,KAAI,SAAUhH,GACrC,OAAOA,EAAM,IAAIrB,OAAO0G,UAAyC9F,IAA/BS,EAAM,IAAIrB,OAAO0G,IAAO,GAAmBrF,EAAM,IAAIrB,OAAO0G,IAAO,GAAKrF,EAAM,IAAIrB,OAAO0G,OA2MxBuM,CAAYrH,EAASlF,IAASyC,EAUrI,SAASoJ,GAAoBhS,EAAKL,GAChC,IAAqCqB,EAE/B2R,EAGAC,EACAC,EAIN,OAAQ7S,IAASL,GARXgT,EACI,KAH2B3R,EAUOrB,GAP9B,EAAID,KAAK2O,IAAI,IAAK,IAAM3O,KAAK2O,IAAI,IAAK,IAE9CuE,EAAS5R,aAAelC,KAAO,IAAIA,MAAMkC,EADzB,IACiDA,EAAM2R,EACvEE,EAAS7R,aAAelC,KAAO,IAAIA,MAAMkC,EAFzB,IAEiDA,EAAM2R,EAC5D,IAAR3R,EAAY,CAAC,EAAG6R,GAAU,CAACD,EAAQC,IAGO,CAAC7S,EAAKL,GAU3D,SAAS2Q,GAAmBrO,EAAOkE,GACjC,IAAIyK,EAAYC,GAAgB5O,EAAOkE,GACnC2K,EAAYC,GAAgB9O,EAAOkE,GAEvC,OAAI,IAAelE,EAAM2G,SAAW3G,EAAM2G,OAAOzC,GACxClE,EAAM2G,OAAOzC,GACX3I,MAAMC,QAAQwE,EAAM2G,QACtB3G,EAAM2G,YACUvI,IAAduQ,QAAyCvQ,IAAdyQ,EAC7BkB,GAAoBpB,EAAWE,QADjC,EA0DT,SAASC,GAAgB9O,EAAOkE,GAC9B,OAAI,IAAelE,EAAM6O,iBAAwCzQ,IAA1B4B,EAAM6O,UAAU3K,GAC9ClE,EAAM6O,UAAU3K,GAGS,iBAApBlE,EAAM6O,WAA0B,IAAQ7O,EAAM6O,WAAa7O,EAAM6O,eAAYzQ,EAU7F,SAASwQ,GAAgB5O,EAAOkE,GAC9B,OAAI,IAAelE,EAAM2O,iBAAwCvQ,IAA1B4B,EAAM2O,UAAUzK,GAC9ClE,EAAM2O,UAAUzK,GAGS,iBAApBlE,EAAM2O,WAA0B,IAAQ3O,EAAM2O,WAAa3O,EAAM2O,eAAYvQ,EAW7F,SAASkS,GAAmB3J,EAAQtJ,GAClC,IAAI2J,EAAgB,IAAY3J,EAAOwT,MAAK,SAAUC,EAAGC,GACvD,OAAOD,EAAIC,MAGT7H,EAAOlC,EAAc,GAAKA,EAAc,GAC5C,MAAO,CAACL,EAAO,GAAIA,EAAO,GAAKuC,GAyBjC,UACE6E,qBAAsBA,GACtBI,aAAcA,GACd6C,UAnOF,SAAmBhR,EAAOkE,GACxB,OAAO6J,KAAuB/N,EAAOkE,IAmOrCoK,wBAAyBA,GACzBJ,kBAAmBA,GACnB6B,oBAAqBA,GACrB1B,mBAAoBA,GACpB4C,kBAjHF,SAA2BjR,EAAOkE,GAChC,IAAIkK,EAAcC,GAAmBrO,EAAOkE,GAE5C,GAAIkK,EACF,OAAOA,EAGT,IAAIhF,EAAU,WAAapJ,GACvBkR,EAAQ9H,EAAQzH,QAAO,SAAU5D,EAAKc,GACxC,OAAOA,EAAMS,IAAMvB,EAAMc,EAAMS,IAAMvB,IACpC2P,KAuBH,OAAOK,IARiB,WACtB,OAAOG,GAAkBlO,EAAOkE,EAAMkF,MAGb,SAAUzC,GACnC,OAAOwH,GAlBQ,SAAUxH,GACzB,GAAa,MAATzC,EACF,OAAOyC,EAGT,IAAIwK,EAAaD,IAAUxD,IAAWwD,EAAQ,EAC1CE,EAAgBtC,GAAgB9O,EAAOkE,GACvCmN,EAAgBzC,GAAgB5O,EAAOkE,GACvCxG,OAAwBU,IAAlBgT,EAA8BA,EAAgB,cAAuBzK,EAAQwK,GAEvF,OAAOpB,QADqB3R,IAAlBiT,EAA8BA,EAAgB,cAAuB1K,EAAQwK,GACvDzT,GAQZ4T,CAAW3K,GAAS3G,EAAOkE,KAG1C6J,CAA8D/N,EAAOkE,IAiF5E4K,gBAAiBA,GACjBF,gBAAiBA,GACjB0B,mBAAoBA,GACpBiB,kBA5BF,SAA2B7Q,GACzB,IAAI4M,EAAU,SAAUzL,GACtB,OAAOA,GAASA,EAAMlB,KAAOkB,EAAMlB,KAAKC,KAAO,IAG7CA,EAAO0M,EAAQ5M,GAEnB,GAAa,WAATE,EAAmB,CACrB,IAAIY,EAAW,qBAAuBd,EAAUV,MAAMwB,UACtDZ,EAAOY,EAAS7F,OAAS2R,EAAQ9L,EAAS,IAAM,GAIlD,OAAO,IADS,CAAC,OAAQ,OAAQ,MAAO,UAAW,cAAe,WAAY,QAAS,YAAa,OAAQ,MAAO,UAAW,QAAS,WAC3GZ,KCnX9B,SAAS4Q,GAAmBC,EAAiBC,GAC3CA,EAAYA,GAAa,IAEzB,IAAIC,EAAW,SAAUnQ,GACvB,OAAOA,EAASG,QAAO,SAAUC,EAAMC,GACrC,OAAIA,EAAMlB,MAA4B,SAApBkB,EAAMlB,KAAKC,MAAmB8Q,EAAU7P,GACjDD,EAAKpE,OAAOqE,GACVA,EAAM7B,OAAS6B,EAAM7B,MAAMwB,SAC7BI,EAAKpE,OAAOmU,EAAS,qBAAuB9P,EAAM7B,MAAMwB,YAG1DI,IACN,KAGL,OAAO+P,EAASF,GAoXlB,SA1WA,SAA0BA,EAAiBvN,GAMzC,OAAOsN,GAAmBC,GALR,SAAU/Q,GAE1B,OADWA,EAAUC,KAAKiR,QAAQlR,EAAUV,SAC5BkE,KAGsC,ICtE1D,SAAS2N,GAAYhT,EAAOiT,GAC1B,OAAQjT,EAAMJ,KAAOqT,GAAK5V,WAG5B,SAAS6V,GAAa7O,GACpB,OAAOA,EAAKvB,QAAO,SAAUqQ,EAAWnT,EAAOiT,GAG7C,OADAE,EADUH,GAAYhT,EAAOiT,IACZjT,EACVmT,IACN,IAGL,SAASC,GAAuBnB,EAAGC,GACjC,IAAImB,GAAgB,EAEhBC,EAAa,KAAMrB,GAAGnP,QAAO,SAAUyQ,EAAa3T,GAMtD,OALMA,KAAOsS,IACXmB,GAAgB,EAChBE,EAAY3T,IAAO,GAGd2T,IACN,IAEH,OAAOF,GAAiBC,EA0B1B,SAASE,GAAaxQ,GACpB,OAAIA,EAAMlB,MAAQkB,EAAMlB,KAAKyM,QACpBvL,EAAMlB,KAAKyM,QAAQvL,EAAM7B,OAG3B6B,EAAM7B,OAAS6B,EAAM7B,MAAMkD,OAAQ,EA6V5C,SAzUA,SAAmCoP,EAAaC,GAC9C,IAAIC,GAAgB,EAChBC,GAAiB,EAmBjBC,EAA6B,SAAUC,EAAKC,GAC9C,OAAOD,EAAI9M,KAAI,SAAUhE,EAAOiQ,GAC9B,OAAIjQ,GAASA,EAAM7B,OAAS6B,EAAM7B,MAAMwB,UAAYoR,EAAKd,GAChDY,EAA2B,qBAAuBC,EAAIb,GAAK9R,MAAMwB,UAAW,qBAAuBoR,EAAKd,GAAK9R,MAAMwB,WApB5G,SAAUqR,EAAUC,GACtC,IAAKA,GAAYD,EAASlS,OAASmS,EAASnS,KAC1C,MAAO,GAGT,IA3CwBoS,EAASC,EAC/BC,EACAC,EAyCEC,GA3CoBJ,EA2CMV,GAAaQ,GA3CVG,EA2CqBX,GAAaS,GA1CjEG,EAAeF,GAAWhB,GAAagB,GACvCG,EAAgBF,GAAYjB,GAAaiB,GACtC,CACLI,SAAUH,GAAgBhB,GAAuBiB,EAAeD,GAChEI,QAASH,GAAiBjB,GAAuBgB,EAAcC,KAsCkB,IAC7EE,EAAWD,EAAKC,SAChBC,EAAUF,EAAKE,QAInB,OAFAb,EAAgBA,KAAmBa,EACnCZ,EAAiBA,KAAoBW,EAC9B,CACLA,SAAUA,IAAY,EACtBC,QAASA,IAAW,GAWbC,CAAczR,EAAO+Q,EAAKd,QAIjCyB,EAAsBb,EAA2B,qBAAuBJ,GAAc,qBAAuBC,IACjH,MAAO,CACLC,cAAeA,EACfC,eAAgBA,EAChBc,oBAAqBA,EAMrBC,kBAAkB,IA+RtB,GApIA,SAAmCxT,EAAOyT,EAAOC,GAC/C,IAAIlB,EAAgBiB,GAASA,EAAMjB,cAC/BC,EAAiBgB,GAASA,EAAMhB,eAChCe,EAAmBC,GAASA,EAAMD,iBAClCG,EAAkBF,GAASA,EAAME,gBACjCC,EAAgBH,GAASA,EAAMG,cAC/BL,EAAsBE,GAASA,EAAMF,qBAAuB,GAC5DM,EAAsB,CACxBC,MAAO9T,EAAM+T,SAAW/T,EAAM+T,QAAQC,SAAWhU,EAAM+T,QAAQC,QAAQC,SACvEC,KAAMlU,EAAM+T,SAAW/T,EAAM+T,QAAQI,QAAUnU,EAAM+T,QAAQI,OAAOF,SACpEG,KAAMpU,EAAM+T,SAAW/T,EAAM+T,QAAQM,QAAUrU,EAAM+T,QAAQM,OAAOJ,SACpEK,KAAMtU,EAAM+T,SAAW/T,EAAM+T,QAAQE,UAGnCI,EAAS,SAAUxS,EAAOqB,EAAM6Q,GAClC,OAAIJ,EAnIR,SAAwBI,EAAS7Q,EAAMqR,GAKrC,IAJAR,EAAU,IAAQ,GAAIA,EAAS,CAC7BS,MAkIuC,WACnCd,EAAS,CACPC,iBAAiB,EACjBC,eAAe,SAlIRG,EAAQM,SAAWN,EAAQM,OAAOJ,SAC/C,MAAO,CACLF,QAASA,EACT7Q,KAAMA,GAIV,IAAIuR,EAAQV,EAAQM,QAAUN,EAAQM,OAAOI,MAAQV,EAAQM,OAAOI,MAAQ,IAK5E,MAAO,CACLV,QAASA,EACT7Q,KALFA,EAAOA,EAAK2C,KAAI,SAAUhH,EAAOiT,GAC/B,OAAO,IAAQ,GAAIjT,EAAO4V,EAAM5V,EAAOiT,EAAK5O,QAqHnCwR,CAAeX,EAAS7Q,GA7JrC,SAA4B6Q,EAASlS,EAAOqB,EAAMqR,GAKhD,IAJAR,EAAU,IAAQ,GAAIA,EAAS,CAC7BS,MAmKgD,WAC9Cd,EAAS,CACPE,eAAe,SAlKNG,EAAQM,SAAWN,EAAQM,OAAOJ,SAC/C,MAAO,CACLF,QAASA,EACT7Q,KAAMA,GAIV,IAAIyR,EAASZ,EAAQM,QAAUN,EAAQM,OAAOM,OAASZ,EAAQM,OAAOM,OAAS,IAK/E,MAAO,CACLZ,QAASA,EACT7Q,KALFA,EAAOA,EAAK2C,KAAI,SAAUhH,EAAOiT,GAC/B,OAAO,IAAQ,GAAIjT,EAAO8V,EAAO9V,EAAOiT,EAAK5O,OAK7C0R,UAAW,GAiJJC,CAAmBd,EAASlS,EAAOqB,IAQxCiR,EAAS,SAAUW,EAAOjT,EAAOqB,EAAM6Q,GACzC,OA7HJ,SAA6BA,EAASlS,EAAOqB,EAAM6R,EAAcR,GAG/D,IAAIJ,EAASJ,GAAWA,EAAQI,OAGhC,GAFAJ,EAAU,IAAQ,GAAIA,EAASI,GAE3BY,EAAc,CAGhBhB,EAAQS,MAoHgD,WACtDd,EAAS,CACPlB,eAAe,KArHnB,IAAImC,EAASZ,EAAQI,QAAUJ,EAAQI,OAAOQ,OAASZ,EAAQI,OAAOQ,OAAS,IAE/EzR,EAAOA,EAAK2C,KAAI,SAAUhH,EAAOiT,GAC/B,IAAIrT,GAAOI,EAAMJ,KAAOqT,GAAK5V,WAC7B,OAAO6Y,EAAatW,GAAO,IAAQ,GAAII,EAAO8V,EAAO9V,EAAOiT,EAAK5O,IAASrE,KAI9E,MAAO,CACLkV,QAASA,EACT7Q,KAAMA,GAyGC8R,CAAoBjB,EAASlS,EAAOqB,EAAM4R,IAQ/Cd,EAAU,SAAUc,EAAOjT,EAAOqB,EAAM6Q,GAC1C,OAAIP,EArFR,SAA8BO,EAAS7Q,EAAM+R,EAAeV,GAG1D,IAAIP,EAAUD,GAAWA,EAAQC,QAGjC,GAFAD,EAAU,IAAQ,GAAIA,EAASC,GAE3BiB,EAAe,CAIjBlB,EAAQS,MA4E4C,WAChDd,EAAS,CACPjB,gBAAgB,KA7EtB,IAAIgC,EAAQV,EAAQC,SAAWD,EAAQC,QAAQS,MAAQV,EAAQC,QAAQS,MAAQ,IAC/EvR,EAAOA,EAAK2C,KAAI,SAAUhH,EAAOiT,GAC/B,IAAIrT,EAAMoT,GAAYhT,EAAOiT,GAC7B,OAAOmD,EAAcxW,GAAO,IAAQ,GAAII,EAAO4V,EAAM5V,EAAOiT,EAAK5O,IAASrE,KAI9E,MAAO,CACLkV,QAASA,EACT7Q,KAAMA,GAkEGgS,CAAqBnB,EAAS7Q,EAAM4R,GA9GjD,SAAkCf,EAASlS,EAAOqB,EAAM+R,EAAeV,GACrE,GAAIU,EAAe,CAMjB,IAAIN,GAHJZ,EAAU,IAAQ,GAAIA,EAAS,CAC7BS,MAgH2D,WAC3Dd,EAAS,CACPF,kBAAkB,QAhHDQ,SAAWD,EAAQC,QAAQW,OAASZ,EAAQC,QAAQW,OAAS,IAIlFzR,EAAOA,EAAK2C,KAAI,SAAUhH,EAAOiT,GAC/B,IAAIrT,GAAOI,EAAMJ,KAAOqT,GAAK5V,WAC7B,OAAO+Y,EAAcxW,GAAO,IAAQ,GAAII,EAAO8V,EAAO9V,EAAOiT,EAAK5O,IAASrE,KAI/E,MAAO,CACLkV,QAASA,EACT7Q,KAAMA,GAkGCiS,CAAyBpB,EAASlS,EAAOqB,EAAM4R,IAOpDM,EAA6B,SAAUvT,EAAOlB,GAChD,IAAIoT,EAAUlS,EAAM7B,MAAM+T,QAE1B,IAAKlS,EAAMlB,KACT,MAAO,GAGT,IAAI0U,EAAqBxT,EAAM7B,OAAS6B,EAAM7B,MAAMiC,OAAQJ,EAAMlB,KAAK2U,yBAA2DzT,EAAMlB,KAAK0U,mBAE7I,GAAIA,EAAoB,CACtB,IAAIE,EAAoBxB,EAAQpT,IAASoT,EAAQpT,GAAMsT,SACvD,YAA6B7V,IAAtBmX,EAAkCA,EAAoBF,EAAmB1U,IAAS0U,EAAmB1U,GAAMsT,SAElH,MAAO,IAKX,OAAO,SAA4BpS,EAAO2D,GACxC,IAAItC,EAAOmP,GAAaxQ,IAAU,GAE9BkS,EAAU,IAAU,GAAI/T,EAAM+T,QAASlS,EAAM7B,MAAM+T,SAEnDsB,EAAqBxT,EAAM7B,MAAMiC,OAAQJ,EAAMlB,KAAK2U,yBAA2DzT,EAAMlB,KAAK0U,mBAC9HtB,EAAQI,OAAS,IAAU,GAAIJ,EAAQI,OAAQkB,GAAsBA,EAAmBlB,QACxFJ,EAAQC,QAAU,IAAU,GAAID,EAAQC,QAASqB,GAAsBA,EAAmBrB,SAC1FD,EAAQM,OAAS,IAAU,GAAIN,EAAQM,OAAQgB,GAAsBA,EAAmBhB,QACxF,IAAImB,EAAmBjC,EAAoB/N,IAAU+N,EAAoB,GAEzE,IAAKK,EAAe,CAElB,IACI6B,EAAY,CACdxB,cAFsC7V,IAA7ByV,EAAoBO,KAAqBP,EAAoBO,KAAOgB,EAA2BvT,EAAO,WAIjH,OAAOwS,EAAOxS,EAAOqB,EAAM,IAAQ,GAAI6Q,EAAS0B,IAC3C,GAAIjD,EAAe,CACxB,IAAIuC,EAAeS,GAAoBA,EAAiBnC,QACpDa,OAAoC9V,IAA7ByV,EAAoBK,KAAqBL,EAAoBK,KAAOkB,EAA2BvT,EAAO,UAE7G6T,EAAaX,EAAe,CAC9Bd,SAAUC,GACR,CACFyB,MAAOzB,GAGT,OAAOC,EAAOY,EAAclT,EAAOqB,EAAM,IAAQ,GAAI6Q,EAAS2B,IACzD,GAAIjD,EAAgB,CACzB,IAAIwC,EAAgBO,GAAoBA,EAAiBpC,SACrDU,OAAsC1V,IAA9ByV,EAAoBC,MAAsBD,EAAoBC,MAAQsB,EAA2BvT,EAAO,WAChHyS,OAAoClW,IAA7ByV,EAAoBS,KAAqBT,EAAoBS,KAAOzS,EAAM7B,MAAM+T,SAAWlS,EAAM7B,MAAM+T,QAAQE,SACtH2B,EAAc,CAChB3B,SAAUT,GAAoByB,EAAgBnB,EAAQQ,GAExD,OAAON,EAAQiB,EAAepT,EAAOqB,EAAM,IAAQ,GAAI6Q,EAAS6B,IAC3D,OAAKnC,GAASM,GAAWA,EAAQI,OAvQ5C,SAA8BJ,EAAS7Q,GACrC,IAAIuR,EAAQV,EAAQC,SAAWD,EAAQC,QAAQS,MAAQV,EAAQC,QAAQS,MAAQ,IAC/E,MAAO,CACLvR,KAAMA,EAAK2C,KAAI,SAAUhH,EAAOiT,GAC9B,OAAO,IAAQ,GAAIjT,EAAO4V,EAAM5V,EAAOiT,EAAK5O,QA6QrC2S,CAAqB9B,EAAS7Q,GAGhC,CACL6Q,QAASA,EACT7Q,KAAMA,K,SChYZ,SAgZsB,SAAUlD,EAAO8V,GACnC,IAAIC,EAASxa,MAAMC,QAAQsa,IAAeA,EAAWnU,QAAO,SAAUC,EAAMoU,GAC1E,IAAIC,EA3ZkB3a,EA6ZlBoF,EAAYV,EAAMgW,GAClBE,EAAgBxV,GAAaA,EAAUC,MAAQD,EAAUC,KAAKuV,cAC9DC,EAAkB,IAAYD,GAAiBA,EAAcxV,EAAUV,OAASkW,EAEpF,OADO3a,MAAMC,QAAQ2a,IAAoBF,EAAQrU,GAAMpE,OAAOG,MAAMsY,EA1Z1E,SAA4B3a,GAAO,GAAIC,MAAMC,QAAQF,GAAM,CAAE,IAAK,IAAIG,EAAI,EAAGC,EAAO,IAAIH,MAAMD,EAAIK,QAASF,EAAIH,EAAIK,OAAQF,IAAOC,EAAKD,GAAKH,EAAIG,GAAM,OAAOC,GANnH,CAAdJ,EAgawE6a,IA5ZpG,SAA0Bta,GAAQ,GAAIC,OAAOC,YAAYC,OAAOH,IAAkD,uBAAzCG,OAAOC,UAAUC,SAASC,KAAKN,GAAgC,OAAON,MAAMa,KAAKP,GAJrF,CAAiBP,IAEtF,WAAgC,MAAM,IAAIgB,UAAU,mDAF0C,IAga0BsF,IAEjH,IACH,OAAOmU,GAAUA,EAAOpa,OAASoa,OAAS3X,GCla9C,SAAS,GAAgBgY,EAAK3X,EAAK7B,GAAiK,OAApJ6B,KAAO2X,EAAOpa,OAAOqa,eAAeD,EAAK3X,EAAK,CAAE7B,MAAOA,EAAO0Z,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAI3X,GAAO7B,EAAgBwZ,EAE3M,SAAS,GAAmB9a,GAAO,OAMnC,SAA4BA,GAAO,GAAIC,MAAMC,QAAQF,GAAM,CAAE,IAAK,IAAIG,EAAI,EAAGC,EAAO,IAAIH,MAAMD,EAAIK,QAASF,EAAIH,EAAIK,OAAQF,IAAOC,EAAKD,GAAKH,EAAIG,GAAM,OAAOC,GANnH,CAAmBJ,IAI7D,SAA0BO,GAAQ,GAAIC,OAAOC,YAAYC,OAAOH,IAAkD,uBAAzCG,OAAOC,UAAUC,SAASC,KAAKN,GAAgC,OAAON,MAAMa,KAAKP,GAJrF,CAAiBP,IAEtF,WAAgC,MAAM,IAAIgB,UAAU,mDAF0C,GAmB9F,UACE8Q,QAAS,SAAUpN,EAAOyR,GACxB,OAAIzR,EAAMkD,KACD,WAAalD,IAGtByR,EAAkBA,GAAmB,qBAAuBzR,EAAMwB,UAC3DyG,KAAKwO,oBAAoBhF,KAElCiF,wBAAyB,SAAU1W,EAAOkE,EAAMuN,GAC9C,IAAIzR,EAAMiC,OAAkB,MAATiC,EAAnB,CAIA,IAAIyS,EAAiBlF,EAAgBvT,QAAO,SAAU2D,GACpD,OAAOA,EAAMlB,MAAQkB,EAAMlB,KAAKC,MAA4B,UAApBiB,EAAMlB,KAAKC,QAGrD,KAAI+V,EAAehb,OAAS,GAA5B,CAIA,IAAIib,EAAwBD,EAAe,GAAG3W,MAC1C6W,EAASD,EAAsBC,OAC/BrV,EAAWoV,EAAsBpV,SAErC,GAAKqV,EAAL,CAIA,IAAIC,EAAavb,MAAMC,QAAQgG,IAAaA,EAAS,GACjDuV,EAAWD,EAAW9W,MAAM+W,SAC5B7K,EAAa4K,EAAW9W,MAAMkD,MAAQ4T,EAAW9W,MAAMkD,KAAKvH,QAAU,EAEtEmb,GAAuC,UAAzBA,EAAWnW,KAAKC,OAEhCmW,GADkBD,EAAW9W,MAAMwB,UAAYsV,EAAW9W,MAAMwB,SAAS,IAClDxB,MAAM+W,SAC7B7K,EAAa4K,EAAW9W,MAAMwB,SAAS7F,QAGzC,IAAIyF,EAAQ2V,GAAY9O,KAAK+O,SAAShX,EAAOwB,EAAS7F,OAAQuQ,GAC9D,MAAO,CACLvM,EAAGyB,EAAQI,EAAS7F,OAAS,GAAKkb,EAASzV,IAAUI,EAAS7F,OAAS,GAAK,SAGhFqV,UAAW,SAAUhR,EAAOkE,EAAMuN,GAChCA,EAAkBA,GAAmB,qBAAuBzR,EAAMwB,UAClE,IAEImF,EAFAyH,EAAc,sBAA0BpO,EAAOkE,GAC/CwK,EAAgBzG,KAAKyO,wBAAwB1W,EAAOkE,EAAMuN,GAG9D,GAAIrD,EACFzH,EAASyH,MACJ,CACL,IAAIO,EAAY,mBAAuB3O,EAAOkE,GAC1C2K,EAAY,mBAAuB7O,EAAOkE,GAC1CkF,GAAWpJ,EAAMkD,MAAQlD,EAAMH,IAAM,WAAaG,GAClDiX,EAAa7N,EAAU,qBAAyBpJ,EAAOkE,EAAMkF,GAAW,GACxE8N,EAAcjP,KAAKkP,sBAAsBnX,EAAOkE,EAAMuN,GACtD1T,EAAM4Q,GAAa,cAAuB,GAAmBsI,GAAYzZ,OAAO,GAAmB0Z,KACnGxZ,EAAMmR,GAAa,cAAuB,GAAmBoI,GAAYzZ,OAAO,GAAmB0Z,KACvGvQ,EAAS,uBAA2B5I,EAAKL,GAG3C,OAAO,gBAAoBiJ,EAAQ,IAAQ,CACzC+H,cAAeA,GACd1O,GAAQkE,IAEbkT,SAAU,SAAUpX,EAAOkE,EAAMuN,GAC/B,GAAIzR,EAAMkD,KACR,OAAO,gBAAmBlD,EAAOkE,GAGnC,IAAI1C,EAAWiQ,EAAkBA,EAAgBjL,MAAM,GAAK,qBAAuBxG,EAAMwB,UAUrF6V,EAAa,IAAM,kBAAuB7V,GAR/B,SAAUK,GACvB,IAAIyD,EAAc,IAAQ,GAAIzD,EAAM7B,MAAO,CACzCuB,WAAYvB,EAAMuB,aAGpB,OAAO,gBAAmB+D,EAAapB,KAGyBlE,IAGlE,OAAOqX,EAAW1b,OAAS,EAAI,oBAAuB,UAAY,oBAAuB0b,EAAW,KAEtGC,kBAAmB,SAAUtX,EAAOuX,GAClC,GAAKvX,EAAM+T,QAIX,GAAI/T,EAAM+T,QAAQyD,YAAa,CAC7B,IACIC,EADgBzX,EAAM+T,QAAQyD,YAAYhF,cACfxS,EAAQ,KACvCiI,KAAKyL,SAAS,IAAU,CACtB+D,SAAUA,EACVF,UAAWA,GACVvX,EAAM+T,QAAQyD,kBACZ,CACL,IAAIlF,EAAc,qBAAuBtS,EAAMwB,UAC3C+Q,EAAe,qBAAuBgF,EAAU/V,UAEhDkW,EAAe,SAAU7V,GAC3B,IAAI8V,EAAQ,SAAU7R,GACpB,OAAOA,EAAEnF,MAAQmF,EAAEnF,KAAKiX,YAG1B,OAAOrc,MAAMC,QAAQqG,GAAS,IAAMA,EAAO8V,GAASA,EAAM9V,IAGxD+V,GAAc5X,EAAMiC,OAAS,IAAMqQ,GAAa,SAAUzQ,GAC5D,OAAO6V,EAAa7V,IAAUA,EAAM7B,MAAMwB,UAAYkW,EAAa7V,EAAM7B,MAAMwB,aAG7EqW,EAAwB,GAAsCvF,EAAaC,GAC3EuF,EAAiBD,EAAsBrF,cACvCC,EAAiBoF,EAAsBpF,eACvCc,EAAsBsE,EAAsBtE,oBAC5CC,EAAmBqE,EAAsBrE,iBAE7CvL,KAAKyL,SAAS,CACZlB,cAAesF,EACfrF,eAAgBA,EAChBe,iBAAkBA,EAClBD,oBAAqB,kBAA2BA,GAAuBA,EAAoB,GAAKA,EAChGkE,SAAUK,EAAiB9X,EAAQ,KACnCuX,UAAWA,EACXK,WAAYA,MAIlBG,aAAc,SAAU/X,GAEtBiI,KAAKkO,gBAAkB,GAA0BnW,EADhC,CAAC,iBAAkB,qBAAsB,mBAE1D,IAGMgY,EAHFjC,EAAS/V,EAAM+V,OAQnB,OANIxa,MAAMC,QAAQyM,KAAKkO,mBAGrBJ,EAASxa,MAAMC,QAAQwE,EAAM+V,SAAWiC,EAAmB/P,KAAKkO,iBAAiB3Y,OAAOG,MAAMqa,EAAkB,GAAmBhY,EAAM+V,SAAW9N,KAAKkO,iBAGpJJ,GAAU,IAEnBkC,kBAAmB,SAAUjY,EAAO6B,EAAO2D,GACzC,IAAIgD,EAAQP,KAEZ,IAAKjI,EAAM+T,QACT,OAAOlS,EAAM7B,MAAM+T,QAGrB,IACMR,EAOF2E,EAAiBlY,EAAM+T,SAAW/T,EAAM+T,QAAQmE,eAChDzE,GAREF,EAAsB/K,EAAMiL,OAASjL,EAAMiL,MAAMF,oBACrDA,EAAsB,kBAA2BA,GAAuBA,EAAoB/N,GAAS+N,EAC9F,IAAU,CACfA,oBAAqBA,GACpB/K,EAAMiL,QAKP+D,EAAcxX,EAAM+T,SAAW/T,EAAM+T,QAAQyD,aAAe/D,EAEhE,IAAKyE,EAAgB,CACnB,IAAIC,EAAqB,GAAsCnY,EAAOyT,GAAO,SAAU2E,GACrF,OAAO5P,EAAMkL,SAAS0E,MAGxBF,EAAiB,SAAUG,GACzB,OAAOF,EAAmBE,EAAgB7S,IAI9C,OAAO,IAAU,CACf0S,eAAgBA,EAChBV,YAAaA,GACZxX,EAAM+T,QAASlS,EAAM7B,MAAM+T,UAEhCoD,sBAAuB,SAAUnX,EAAOkE,EAAMuN,GAE5C,IAAIjQ,EAAWiQ,EAAkBA,EAAgBjL,MAAM,GAAK,qBAAuBxG,EAAMwB,UACrF8W,EAAatY,EAAMkD,KAAO,WAAalD,EAAOkE,QAAQ9F,EACtD6D,EAAQjC,EAAMiC,MACdmC,EAAapE,EAAMoE,WACnBC,EAAWrE,EAAMqE,SACjBsH,EAAa3L,EAAM2L,WACnBgD,EAAY3O,EAAM2O,UAClBE,EAAY7O,EAAM6O,UAElB0J,EAAkB,CACpBhX,WAFevB,EAAMuB,WAGrBU,MAAOA,EACPmC,WAAYA,EACZC,SAAUA,EACVsK,UAAWA,EACXE,UAAWA,EACXlD,WAAYA,GAEVzG,EAAcoT,EAAa,IAAQC,EAAiB,CACtDrV,KAAMoV,IACHC,EAcDC,EAAe,kBAAuBhX,GAZ3B,SAAUK,GACvB,IAAIyD,EAAc,IAAQ,GAAIzD,EAAM7B,MAAOkF,GAE3C,OAAK,qBAAyBrD,GAEnBA,EAAMlB,MAAQ,IAAYkB,EAAMlB,KAAKqQ,WACvCnP,EAAM7B,OAAS6B,EAAMlB,KAAKqQ,UAAU1L,EAAapB,GAEjD,aAAiBoB,EAAapB,GAJ9B,OAQmDlE,GAG9D,MAAO,CAF2B,IAAxBwY,EAAa7c,OAAe,EAAI,cAAuB6c,GAC/B,IAAxBA,EAAa7c,OAAe,EAAI,cAAuB6c,KAGnEC,gCAAiC,SAAUtF,GACzC,IAAI3R,EAAW2R,EAAK3R,SAChBxB,EAAQmT,EAAKnT,MACbyR,EAAkB0B,EAAK1B,gBACvBvM,EAAciO,EAAKjO,YACnBwT,EAA4BlX,EAAS7E,MAAK,SAAUkF,GACtD,OAAOA,EAAMlB,MAA4B,cAApBkB,EAAMlB,KAAKC,QAE9B+X,EAA2BD,GAA6BlX,EAAS7F,QAAU6F,EAASxE,OAAM,SAAU6E,GACtG,OAAOA,EAAMlB,MAA4B,cAApBkB,EAAMlB,KAAKC,QASlC,IAAK+X,EACH,OAAOzT,EAGT,IAAI0T,EAAY5Y,EAAM6Y,MAAQpH,EAAgB,GAAGzR,MAAM6Y,KAEvD,IAAKtd,MAAMC,QAAQod,GAAY,CAC7B,IAAIE,EAAetX,EAASG,QAAO,SAAUC,EAAMC,GACjD,IAAIkX,EAAY,kBAAuBlX,EAAM7B,MAAML,GAAK,KACxD,OAAOiC,EAAKpE,OAAOqE,EAAM7B,MAAMkD,KAAK2C,KAAI,SAAUhH,GAChD,MAAO,CACLc,EAAGoZ,EAAUla,UAGhB,IAIH+Z,GAAYI,EADoBxX,EAAS,GAAGb,KAAKsY,kBACX,CACpC/V,KAAM4V,EACND,KAAMD,IACLjX,QAAO,SAAUC,EAAMsX,EAAO1T,GAC/B,IAAI5F,EAAKsZ,EAAMtZ,GACXuZ,EAAKD,EAAMC,GACf,OAAiB,IAAV3T,EAAc5D,EAAKpE,OAAO,CAACoC,EAAIuZ,IAAOvX,EAAKpE,OAAO2b,KACxD,IAGL,OAlSJ,SAAuBC,GAAU,IAAK,IAAI3d,EAAI,EAAGA,EAAI2B,UAAUzB,OAAQF,IAAK,CAAE,IAAI4d,EAAyB,MAAhBjc,UAAU3B,GAAa2B,UAAU3B,GAAK,GAAQ6d,EAAUtd,OAAOud,KAAKF,GAAqD,mBAAjCrd,OAAOwd,wBAAwCF,EAAUA,EAAQ9b,OAAOxB,OAAOwd,sBAAsBH,GAAQnb,QAAO,SAAUub,GAAO,OAAOzd,OAAO0d,yBAAyBL,EAAQI,GAAKnD,gBAAmBgD,EAAQK,SAAQ,SAAUlb,GAAO,GAAgB2a,EAAQ3a,EAAK4a,EAAO5a,OAAa,OAAO2a,EAkS7cQ,CAAc,GAAI1U,EAAa,CACpC2T,KAAMD,KAGVnC,oBAAqB,SAAUzW,EAAOyR,GACpC,IAMIvM,EAAc,CAChBjD,MAPUjC,EAAMiC,MAQhBmC,WAPepE,EAAMoE,WAQrBC,SAParE,EAAMqE,SAQnBsH,WAPe3L,EAAM2L,WAQrBgD,UAPc3O,EAAM2O,UAQpBE,UAPc7O,EAAM6O,WASlBgL,EAAQ,EACRrY,EAAWiQ,EAAkBA,EAAgBjL,MAAM,GAAK,qBAAuBxG,EAAMwB,UACzF0D,EAAc+C,KAAKwQ,gCAAgC,CACjDjX,SAAUA,EACVxB,MAAOA,EACPyR,gBAAiBA,EACjBvM,YAAaA,IAGf,IAuBI4U,EAAUtY,EAAStD,QAAO,SAAU4H,GACtC,OAAOA,EAAEnF,MAAwB,UAAhBmF,EAAEnF,KAAKC,QACvBjF,OAMCoe,EAAW,kBAAuBvY,GA/BvB,SAAUK,EAAO6D,EAAWzC,GACzC,IAEI+W,EAFAlY,EAAa,IAAQ,GAAID,EAAM7B,MAAOkF,GAI1C,OAAK,mBAAqBrD,IAIxBmY,EAFSnY,EAAMlB,MAAQ,IAAYkB,EAAMlB,KAAKyM,UAC9CvL,EAAQoB,EAAS,iBAAmBpB,EAAOoB,EAAOjD,OAAS6B,GACzClB,KAAKyM,QAAQtL,GAEnB,WAAaA,GAG3B+X,GAAS,EACFG,EAAUnU,KAAI,SAAUhH,EAAO2G,GACpC,OAAO,IAAQ,CACbyU,OAAQJ,EACRK,OAAQ1U,GACP3G,OAbI,OAyB+CmB,EAAO,IAJnD,SAAU4B,EAAM7C,GAC5B,OAAO6C,EAAKpE,OAAO,IAAQuB,EAAK,cAI9Bob,EAAQL,EAAU,SAAW,SACjC,OAAO,IAAQ,IAASC,EAAUI,KAEpCC,SAAU,SAAUC,EAAiBxY,EAAO2D,GAE1C,IChUuBvF,EACnBqa,ED+TA3X,EAAQ0X,EAAgB1X,MACxB4X,EAAaF,EAAgBE,WAC7BC,EAAQH,EAAgBG,MAE5B,GAAI7X,GAASA,EAAMO,MAAQP,EAAMO,KAAKuX,KACpC,OAAO9X,EAAMO,KAAKuX,KAMpB,GAHAF,EAAa1Y,EAAM7B,OAAS6B,EAAM7B,MAAMua,WAAa1Y,EAAM7B,MAAMua,WAAaA,EAC9EC,EAAQ3Y,EAAM7B,OAAS6B,EAAM7B,MAAMwa,MAAQ3Y,EAAM7B,MAAMwa,MAAQA,EAE1DD,GAAeC,EAApB,CAIA,IAAIE,EAASnf,MAAMC,QAAQ+e,GAAcA,GC9UrCD,EAAS,CACXK,UAAW,CAAC,UAAW,UAAW,UAAW,WAC7CC,YAAa,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACjHC,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,WACtDC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,WACnDC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,WACnDC,IAAK,CAAC,UAAW,UAAW,UAAW,UAAW,WAClDC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,WACnDC,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,aAT/Bjb,ED+UmDsa,GCpU5DD,EAAOra,GAAQqa,EAAOK,WDqUpC,OAAOH,GAASE,EAAOlV,EAAQkV,EAAO/e,UAExCqb,SAAU,SAAUhX,EAAOmb,EAAaC,GACtC,IAAIrB,EAAW/Z,EAAM+Z,SAEjB5V,EADanE,EAAMuB,WACE,YAAiBvB,EAAO,KAAO,YAAiBA,EAAO,KAC5Eqb,EAAS5d,KAAK0R,IAAIhL,EAAM,GAAKA,EAAM,IACvCiX,OAAgChd,IAAjBgd,EAA6BA,EAAe7f,MAAMC,QAAQue,EAAS,KAAOA,EAAS,GAAGpe,QAAU,EAE/G,IAAI2f,GADJH,EAAcA,GAAepB,EAASpe,QACbyf,EAEzB,OAAO3d,KAAK8d,MADG,GACcF,EAASC,IAExCE,SAAU,SAAUhZ,EAAOG,EAAO/B,GAChC,IAAI6a,EAAejZ,GAASA,EAAM5B,IAAS4B,EAAM5B,GAAM+B,MAAQH,EAAM5B,GAAM+B,MAAQ,GACnF,OAAO,aAAkBA,EAAO8Y,IAElCC,cAAe,SAAU7Z,EAAO2D,EAAO6U,GACrC,IAAI1X,EAAQ0X,EAAgB1X,MACxB/B,EAAOyZ,EAAgBzZ,KACvB+a,EAAa9Z,EAAM7B,MAAM2C,OAAS,GAEtC,GAAIpH,MAAMC,QAAQmgB,GAChB,OAAOA,EAGT,IAAIlW,EAAY5D,EAAMlB,MAAQkB,EAAMlB,KAAKC,KACrCgb,EAA4B,UAAdnW,OAAwBrH,EAAY6J,KAAKmS,SAASC,EAAiBxY,EAAO2D,GACxFqW,EAA6B,SAAdpW,EAAuB,CACxCgV,KAAM,OACNqB,OAAQF,GACN,CACFnB,KAAMmB,GAEJG,EAAqB,UAATnb,EAAmB,GAAK,CACtCQ,MAAO6G,KAAK+O,SAASqD,IAGnB2B,EAAY,IAAU,GAAIL,EAAWzY,KAAM,IAAQ,GAAI6Y,EAAWpZ,EAAMO,KAAM2Y,IAE9EI,EAAc,IAAU,GAAIN,EAAW5Y,OAAQJ,EAAMI,QAEzD,MAAO,CACLE,OAAQN,EAAMM,OACdC,KAAM8Y,EACNjZ,OAAQkZ,IAGZrS,yBAA0B,SAAU6H,EAAiBvN,GAenD,OAAO,kBAAuBuN,EAAgBjL,MAAM,IAdrC,SAAU3E,GACvB,IAAIC,EAAaD,EAAM7B,OAAS,GAEhC,GAAK,qBAAyB6B,IAAWC,EAAW6J,WAE7C,CACL,IAAIA,EAAa7J,EAAW6J,aAAepQ,MAAMC,QAAQsG,EAAW6J,YAAc7J,EAAW6J,WAAWzH,GAAQpC,EAAW9B,MAAM2L,WAC7HG,EAAkBH,GAAcA,EAAWzN,QAAO,SAAUa,GAC9D,MAAsB,iBAARA,KAEhB,OAAO+M,EAAkB,kBAA2BA,GAAmB,GANvE,OAAO,SAYbhC,mBAAoB,SAAU2H,GAuC5B,OAAO,kBAAuBA,EAAgBjL,MAAM,IAtCrC,SAAU3E,GACvB,IAAIC,EAAaD,EAAM7B,OAAS,GAGhC,OAAK,mBAAqB6B,IAEfA,EAAMlB,MAAQ,IAAYkB,EAAMlB,KAAKyM,SACvCvL,EAAMlB,KAAKyM,QAAQtL,GAEnB,WAAaA,IAGV+D,KAAI,SAAU3D,GACxB,MAAO,CACLvC,EAAGuC,EAAEga,MACLrc,EAAGqC,EAAEia,UAVA,OAiCuD,GAlBhD,CAChBxc,EAAG,GACHE,EAAG,KAGS,SAAU+B,EAAM/C,GAC5B,IAAIc,EAAIpE,MAAMC,QAAQqD,GAASA,EAAMgH,KAAI,SAAU3D,GACjD,OAAOA,EAAEvC,KACRzB,OAAOke,SAAWvd,EAAMc,EACvBE,EAAItE,MAAMC,QAAQqD,GAASA,EAAMgH,KAAI,SAAU3D,GACjD,OAAOA,EAAErC,KACR3B,OAAOke,SAAWvd,EAAMgB,EAC3B,MAAO,CACLF,OAASvB,IAANuB,EAAkBiC,EAAKjC,EAAEnC,OAAOmC,GAAKiC,EAAKjC,EAC7CE,OAASzB,IAANyB,EAAkB+B,EAAK/B,EAAErC,OAAOqC,GAAK+B,EAAK/B,OAMnDwc,sCAAuC,SAAUrc,EAAOkE,EAAMuN,GAC5D,IAAI9F,EAAa,IAAe3L,EAAM2L,YAAc3L,EAAM2L,WAAWzH,GAAQlE,EAAM2L,WAC/E2Q,EAAgB,GAAsB7K,EAAiBvN,GACvDqY,EAAcD,EAAgB,sBAAwBA,EAActc,MAAOkE,GAAQ,GACnF4H,EAAkBH,GAAc1D,KAAK2B,yBAAyB6H,EAAiBvN,GACnF,OAAO,IAAM,IAAS,GAAmB4H,GAAiBtO,OAAO,GAAmB+e,OAEtFC,uBAAwB,SAAUxc,EAAOyR,GACvCA,EAAkBA,GAAmB,qBAAuBzR,EAAMwB,UAClE,IAAIib,EAAWxU,KAAKoU,sCAAsCrc,EAAO,IAAKyR,GAClEiL,EAAWzU,KAAKoU,sCAAsCrc,EAAO,IAAKyR,GAClEkL,EAAc1U,KAAK6B,mBAAmB2H,GAC1C,MAAO,CACL9R,EAAG,IAAM,IAAS,GAAmB8c,GAAUjf,OAAO,GAAmBmf,EAAYhd,MACrFE,EAAG,IAAM,IAAS,GAAmB6c,GAAUlf,OAAO,GAAmBmf,EAAY9c,QAGzF6L,cAAe,SAAU1L,EAAOyR,EAAiB1H,GAC/C,IAAI6S,EAAkB5c,EAAM2L,aAAepQ,MAAMC,QAAQwE,EAAM2L,YAAc3L,EAAM2L,WAAWhM,EAAIK,EAAM2L,WACpGkR,EAAkB7c,EAAM2L,aAAepQ,MAAMC,QAAQwE,EAAM2L,YAAc3L,EAAM2L,WAAW9L,EAAIG,EAAM2L,WAEpG/G,EADoBgY,GAAoBC,EAC+D,GAApE9S,GAAc9B,KAAKuU,uBAAuBxc,EAAOyR,GACpFqL,EAAcF,GAAmBhY,EAAcjF,EAC/Cod,EAAcF,GAAmBjY,EAAc/E,EACnD,MAAO,CACLF,EAAGmd,EAAYnhB,OAAS,EAAImhB,OAAc1e,EAC1CyB,EAAGkd,EAAYphB,OAAS,EAAIohB,OAAc3e,K,kDElf5C4e,GAAgB,SAAUC,GAE5B,IAAIC,EAAa,SAAUC,EAAYnd,EAAOod,EAAUpH,GACtD,IAAIpZ,EAAQoD,EAAMod,GAElB,GAAIxgB,QACF,OAAIugB,EACK,IAAIE,MAAM,aAAa7f,OAAO4f,EAAU,4BAA4B5f,OAAOwY,EAAe,OAG5F,KAGT,IAAK,IAAI7Y,EAAOC,UAAUzB,OAAQ2hB,EAAO,IAAI/hB,MAAM4B,EAAO,EAAIA,EAAO,EAAI,GAAIG,EAAO,EAAGA,EAAOH,EAAMG,IAClGggB,EAAKhgB,EAAO,GAAKF,UAAUE,GAG7B,OAAO2f,EAAUtf,WAAM,EAAQ,CAACqC,EAAOod,EAAUpH,GAAexY,OAAO8f,KAGrEC,EAAYL,EAAWM,KAAK,MAAM,GAGtC,OADAD,EAAUJ,WAAaD,EAAWM,KAAK,MAAM,GACtCD,GAGLE,GAAkB,WACpB,OAAO,MAGLC,GAAuB,aAWvBC,GAAiB,SAAU/gB,GAC7B,YAAcwB,IAAVxB,EACK8gB,GACY,OAAV9gB,EACF6gB,GAEA7gB,EAAMghB,aAYbC,GAAqB,SAAUjhB,GACjC,YAAcwB,IAAVxB,EACK,YACY,OAAVA,EACF,OAGFZ,OAAOC,UAAUC,SAASC,KAAKS,GAAO4J,MAAM,GAAI,IAGzD,UAQEsX,WAAY,SAAUC,EAAUC,GAC9B,OAAO,SAAUhe,EAAOod,EAAUpH,GAOhC,OAJIpZ,MAFQoD,EAAMod,IAGP,IAAK5f,OAAO4f,EAAU,mBAAqB5f,OAAOwY,EAAe,0BAA2BxY,OAAOwgB,GAGvG,mBAjGb,SAAyB5H,EAAK3X,EAAK7B,GAAiK,OAApJ6B,KAAO2X,EAAOpa,OAAOqa,eAAeD,EAAK3X,EAAK,CAAE7B,MAAOA,EAAO0Z,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAI3X,GAAO7B,EAAgBwZ,EAiGrK,CAAgB,GAAIgH,EAAUW,GAAW/d,EAAOod,EAAUpH,KAW9FiI,UAAW,SAAUC,GACnB,OAAOlB,IAAc,SAAUhd,EAAOod,EAAUpH,GAC9C,IAAK,IAAInY,EAAQT,UAAUzB,OAAQ2hB,EAAO,IAAI/hB,MAAMsC,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IACxGwf,EAAKxf,EAAQ,GAAKV,UAAUU,GAG9B,OAAOogB,EAAWvc,QAAO,SAAUuE,EAAQ+W,GACzC,OAAO/W,GAAU+W,EAAUtf,WAAM,EAAQ,CAACqC,EAAOod,EAAUpH,GAAexY,OAAO8f,WAChFlf,OAOP+f,YAAanB,IAAc,SAAUhd,EAAOod,EAAUpH,GACpD,IAAIpZ,EAAQoD,EAAMod,GAElB,GAAqB,iBAAVxgB,GAAsBA,EAAQ,EACvC,OAAO,IAAIygB,MAAM,IAAI7f,OAAO4f,EAAU,UAAU5f,OAAOwY,EAAe,wCAS1EoI,QAASpB,IAAc,SAAUhd,EAAOod,EAAUpH,GAChD,IAAIpZ,EAAQoD,EAAMod,GAElB,GAAqB,iBAAVxgB,GAAsBA,EAAQ,GAAM,EAC7C,OAAO,IAAIygB,MAAM,IAAI7f,OAAO4f,EAAU,UAAU5f,OAAOwY,EAAe,6BAS1EqI,gBAAiBrB,IAAc,SAAUhd,EAAOod,EAAUpH,GACxD,IAAIpZ,EAAQoD,EAAMod,GAElB,GAAqB,iBAAVxgB,GAAsBA,GAAS,EACxC,OAAO,IAAIygB,MAAM,IAAI7f,OAAO4f,EAAU,UAAU5f,OAAOwY,EAAe,6CAS1ErP,OAAQqW,IAAc,SAAUhd,EAAOod,EAAUpH,GAC/C,IAAIpZ,EAAQoD,EAAMod,GAElB,IAAK7hB,MAAMC,QAAQoB,IAA2B,IAAjBA,EAAMjB,QAAgBiB,EAAM,KAAOA,EAAM,GACpE,OAAO,IAAIygB,MAAM,IAAI7f,OAAO4f,EAAU,UAAU5f,OAAOwY,EAAe,wDAS1EhU,MAAOgb,IAAc,SAAUhd,EAAOod,EAAUpH,GAC9C,IAE2BsI,EAY3B,GAZ2BA,EAUfte,EAAMod,KATZ,IAAYkB,GACP,IAAYA,EAAI5X,OAAS,IAAY4X,EAAI3X,SAAW,IAAY2X,EAAIna,OACnD,iBAARma,IAC+B,IANvB,CAAC,SAAU,OAAQ,MAAO,QAMrB5f,QAAQ4f,IASvC,OAAO,IAAIjB,MAAM,IAAI7f,OAAO4f,EAAU,UAAU5f,OAAOwY,EAAe,6BAS1EuI,iBAAkBvB,IAAc,SAAUhd,EAAOod,EAAUpH,GACzD,IAAI3Y,EAAS2C,EAAMod,GAEnB,IAAK7hB,MAAMC,QAAQ6B,GACjB,OAAO,IAAIggB,MAAM,IAAI7f,OAAO4f,EAAU,UAAU5f,OAAOwY,EAAe,wBAGxE,KAAI3Y,EAAO1B,OAAS,GAApB,CAIA,IAAI6iB,EAAwBb,GAAetgB,EAAO,IAE9CohB,EAAsB,KAAMphB,GAAQ,SAAUT,GAChD,OAAO4hB,IAA0Bb,GAAe/gB,MAGlD,GAAI6hB,EAAqB,CACvB,IAAIC,EAAkBb,GAAmBxgB,EAAO,IAC5CshB,EAAuBd,GAAmBY,GAC9C,OAAO,IAAIpB,MAAM,aAAa7f,OAAO4f,EAAU,UAAU5f,OAAOwY,EAAe,cAAgB,uCAAuCxY,OAAOkhB,EAAiB,UAAY,IAAIlhB,OAAOmhB,EAAsB,YAS/MC,gBAAiB5B,IAAc,SAAUhd,EAAOod,GAC9C,GAAIpd,EAAMod,IAAa7hB,MAAMC,QAAQwE,EAAMod,KAAcpd,EAAMod,GAAUzhB,SAAWqE,EAAMkD,KAAKvH,OAC7F,OAAO,IAAI0hB,MAAM,sBAAsB7f,OAAO4f,EAAU,2BAS5DyB,OAAQ7B,IAAc,SAAUhd,EAAOod,EAAUpH,GAC/C,GAAIhW,EAAMod,KAAc,KAAUpd,EAAMod,IACtC,OAAO,IAAIC,MAAM,IAAI7f,OAAO4f,EAAU,UAAU5f,OAAOwY,EAAe,wCCpP5E,IAAI8I,GAAY,CACdnT,WAAY,cAAoB,CAAC,YAAkB,YAAmB,UAAgB,CACpFhM,EAAG,YAAkB,YACrBE,EAAG,YAAkB,gBAEvBqD,KAAM,cAAoB,CAAC,UAAiB,aAC5C6b,cAAe,YACfxb,oBAAqB,SACrBd,eAAgB,YAChBM,OAAQ,cAAoB,CAAC,SAAgB,YAC7CgG,QAAS,eACTM,QAAS,cAAoB,CAAC,SAAgB,aAA0B,CAAC,WAAyB,iBAA+B,WAAkB,YAAkB,cACrKC,UAAW,UAAgB,CAAC,YAAa,eACzC3G,MAAO,UAAgB,CACrBM,OAAQ,WACRC,KAAM,WACNH,OAAQ,aAEVpD,EAAG,cAAoB,CAAC,SAAgB,aAA0B,CAAC,WAAyB,iBAA+B,WAAkB,YAAkB,cAC/JE,EAAG,cAAoB,CAAC,SAAgB,aAA0B,CAAC,WAAyB,iBAA+B,WAAkB,YAAkB,cAC/JC,GAAI,cAAoB,CAAC,SAAgB,aAA0B,CAAC,WAAyB,iBAA+B,WAAkB,YAAkB,eA8FlK,UACEkf,UA7Fc,CACdjL,QAAS,cAAoB,CAAC,SAAgB,aAC9CkL,mBAAoB,YACpBtY,OAAQ,cAAoB,CAAC,UAAwB,UAAgB,CACnEhH,EAAG,UACHE,EAAG,cAELgP,UAAW,cAAoB,CAAC,WAAkB,eAAqBhS,MAAO,UAAgB,CAC5F8C,EAAG,cAAoB,CAAC,WAAkB,eAAqB9C,QAC/DgD,EAAG,cAAoB,CAAC,WAAkB,eAAqBhD,YAEjE8R,UAAW,cAAoB,CAAC,WAAkB,eAAqB9R,MAAO,UAAgB,CAC5F8C,EAAG,cAAoB,CAAC,WAAkB,eAAqB9C,QAC/DgD,EAAG,cAAoB,CAAC,WAAkB,eAAqBhD,YAEjE6R,cAAe,cAAoB,CAAC,UAAgB,CAClD/O,EAAG,cAAoB,CAAC,WAAkB,YAAkB,cAC5DE,EAAG,cAAoB,CAAC,WAAkB,YAAkB,gBAC1D,WAAkB,YAAkB,cACxCuL,SAAU,cAAoB,CAAC,SAAgB,aAA0B,CAAC,WAAyB,iBAA+B,aAClI2K,OAAQ,YAAkB,UAAgB,CACxCqD,OAAQ,UAAgB,CAAC,OAAQ,SAAU,WAC3ChO,SAAU,cAAoB,CAAC,UAAiB,aAA0B,CAAC,WAAyB,iBAA+B,aACnI8T,cAAe,cAEjBC,uBAAwB,YAAkB,UAAgB,CACxDC,SAAU,aACV1Z,UAAW,cAAoB,CAAC,WAAkB,YAClD0F,SAAU,cAAoB,CAAC,UAAiB,aAA0B,CAAC,WAAyB,iBAA+B,aACnIiU,SAAU,aACVjG,OAAQ,cAAoB,CAAC,WAAkB,eAEjDzC,eAAgB,YAChBtV,OAAQ,eACRpB,KAAM,WACNkC,OAAQ,UAAgB,CACtBxC,EAAG,WACHE,EAAG,aAELK,QAAS,cAAoB,CAAC,WAAkB,UAAgB,CAC9DG,IAAK,WACLC,OAAQ,WACRC,KAAM,WACNC,MAAO,eAETyB,MAAO,SACPkC,MAAO,cAAoB,CAAC,UAAwB,UAAgB,CAClExE,EAAG,UACHE,EAAG,cAELmC,MAAO,cAAoB,CAAC,SAAuB,UAAgB,CACjErC,EAAG,SACHE,EAAG,aAELyf,aAAc,UAAgB,CAC5BvJ,OAAQ,UACRwJ,cAAe,WAEjB9P,4BAA6B,cAAoB,CAAC,SAAgB,UAAgB,CAChF9P,EAAG,cAAoB,CAAC,WACxBE,EAAG,cAAoB,CAAC,eAE1B2f,WAAY,SACZhd,MAAO,WACPpB,MAAO,gBA8BP0d,UAAWA,GACXW,eA7BmB,CACnBC,OAAQ,SACRC,UAAW,cAAoB,CAAC,WAAkB,WAClDC,UAAW,WACXC,SAAU,WACV3c,KAAM,cAAoB,CAAC,UAAiB,aAC5C4c,KAAM,cAAoB,CAAC,WAAkB,WAC7Cvc,oBAAqB,SACrBwS,OAAQ,WACRgK,GAAI,cAAoB,CAAC,WAAkB,WAAkB,WAC7Dva,MAAO,cAAoB,CAAC,WAAkB,aAC9CrD,OAAQ,UAAgB,CACtBxC,EAAG,WACHE,EAAG,aAELoC,MAAO,SACPrB,KAAM,WACNoB,MAAO,cAAoB,CAAC,SAAuB,UAAgB,CACjErC,EAAG,SACHE,EAAG,aAELmgB,eAAgB,WAChBrd,MAAO,WACPsd,SAAU,cAAoB,CAAC,WAAkB,WACjDC,UAAW,a,2BC9Gb,SAASC,GAAkB/G,EAAQpZ,GAAS,IAAK,IAAIvE,EAAI,EAAGA,EAAIuE,EAAMrE,OAAQF,IAAK,CAAE,IAAI2kB,EAAapgB,EAAMvE,GAAI2kB,EAAW9J,WAAa8J,EAAW9J,aAAc,EAAO8J,EAAW7J,cAAe,EAAU,UAAW6J,IAAYA,EAAW5J,UAAW,GAAMxa,OAAOqa,eAAe+C,EAAQgH,EAAW3hB,IAAK2hB,IAQ7S,SAASC,GAAuBC,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIC,eAAe,6DAAgE,OAAOD,EAM/J,IAAIE,GAEJ,SAAUC,GAGR,SAASD,EAAOxgB,GACd,IAAIwI,EAUJ,OAhCJ,SAAyBkY,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIrkB,UAAU,qCAwB5GskB,CAAgB3Y,KAAMuY,IAEtBhY,EApBJ,SAAoC8X,EAAMnkB,GAAQ,OAAIA,GAAyB,iBAATA,GAAqC,mBAATA,EAA8CkkB,GAAuBC,GAAtCnkB,EAoBrH0kB,CAA2B5Y,MAAOuY,EAAOM,WAAa9kB,OAAO+kB,eAAeP,IAASrkB,KAAK8L,KAAMjI,KAClG6F,IAAM,GACZ2C,EAAMhD,MAAQ,EACdgD,EAAMwY,aAAexY,EAAMwY,aAAaxD,KAAK6C,GAAuB7X,IACpEA,EAAMyY,eAAiBzY,EAAMyY,eAAezD,KAAK6C,GAAuB7X,IACxEA,EAAM0Y,iBAAmB1Y,EAAM0Y,iBAAiB1D,KAAK6C,GAAuB7X,IACrEA,EA5BX,IAAsBmY,EAAaQ,EAoEjC,OAhEF,SAAmBC,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAI/kB,UAAU,sDAAyD8kB,EAASnlB,UAAYD,OAAOslB,OAAOD,GAAcA,EAAWplB,UAAW,CAAE2hB,YAAa,CAAEhhB,MAAOwkB,EAAU9K,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe8K,IAAYrlB,OAAOulB,eAAiBvlB,OAAOulB,eAAeH,EAAUC,GAAcD,EAASN,UAAYO,GAWrcG,CAAUhB,EAAQC,GAfEE,EA+BPH,GA/BoBW,EA+BZ,CAAC,CACpB1iB,IAAK,iBACL7B,MAAO,WACL,QAASqL,KAAKzC,QAEf,CACD/G,IAAK,eACL7B,MAAO,SAAsB6B,EAAKgjB,GAChCxZ,KAAKpC,IAAIpH,GAAOgjB,EAChBxZ,KAAKyZ,gBAEN,CACDjjB,IAAK,mBACL7B,MAAO,SAA0B6B,UACxBwJ,KAAKpC,IAAIpH,GAChBwJ,KAAKyZ,gBAEN,CACDjjB,IAAK,cACL7B,MAAO,WACL,IAAI+kB,EAAS1Z,KAEb,OAAO,KAAMA,KAAKpC,KAAKA,KAAI,SAAUpH,GACnC,IAAIN,EAAKwjB,EAAO9b,IAAIpH,GACpB,OAAON,EAAK,iBAAmBA,EAAI,CACjCM,IAAKA,IACFN,OAIR,CACDM,IAAK,SACL7B,MAAO,WACL,OAAO,kBAAoB,MAAOqL,KAAKjI,MAAOiI,KAAKrC,oBAhEqBua,GAAkBQ,EAAY1kB,UAAWklB,GAoE9GX,EAtDT,CAuDE,eAEFxkB,OAAOqa,eAAemK,GAAQ,cAAe,CAC3CjK,cAAc,EACdD,YAAY,EACZE,UAAU,EACV5Z,MAAO,WAETZ,OAAOqa,eAAemK,GAAQ,YAAa,CACzCjK,cAAc,EACdD,YAAY,EACZE,UAAU,EACV5Z,MAAO,CACLgjB,UAAW,WACXve,OAAQ,eACRsB,MAAO,WACPif,QAAS,WACTxgB,MAAO,kBCtFX,IAAIygB,GAAgB,kBAAoB,IACxCA,GAAcC,YAAc,gBAC5B,Y,gBCNA,SAAS,GAAkB1I,EAAQpZ,GAAS,IAAK,IAAIvE,EAAI,EAAGA,EAAIuE,EAAMrE,OAAQF,IAAK,CAAE,IAAI2kB,EAAapgB,EAAMvE,GAAI2kB,EAAW9J,WAAa8J,EAAW9J,aAAc,EAAO8J,EAAW7J,cAAe,EAAU,UAAW6J,IAAYA,EAAW5J,UAAW,GAAMxa,OAAOqa,eAAe+C,EAAQgH,EAAW3hB,IAAK2hB,IAM7S,IAAI2B,GAEJ,WACE,SAASA,KAXX,SAAyBrB,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIrkB,UAAU,qCAY5G,CAAgB2L,KAAM8Z,GAEtB9Z,KAAK+Z,eAAgB,EACrB/Z,KAAKga,YAAc,GACnBha,KAAKia,KAAOja,KAAKia,KAAK1E,KAAKvV,MAC3BA,KAAKka,MAAQ,KACbla,KAAKma,oBAAsB,EAd/B,IAAsBzB,EAAaQ,EA4EjC,OA5EoBR,EAiBPoB,GAjBoBZ,EAiBb,CAAC,CACnB1iB,IAAK,kBACL7B,MAAO,WACLqL,KAAK+Z,eAAgB,IAEtB,CACDvjB,IAAK,kBACL7B,MAAO,WACLqL,KAAK+Z,eAAgB,IAEtB,CACDvjB,IAAK,OACL7B,MAAO,WACLqL,KAAKga,YAAYtI,SAAQ,SAAUrT,GACjCA,EAAE8Y,UAAS,WAAQ9Y,EAAE+b,UAAW/b,EAAE2N,eAGrC,CACDxV,IAAK,QACL7B,MAAO,WACAqL,KAAKka,QACRla,KAAKka,OAAQ,EAAAA,GAAA,IAAMla,KAAKia,SAG3B,CACDzjB,IAAK,OACL7B,MAAO,WACDqL,KAAKka,QACPla,KAAKka,MAAMG,OACXra,KAAKka,MAAQ,QAGhB,CACD1jB,IAAK,YACL7B,MAAO,SAAmBwiB,EAAUnL,GAClCA,EAAWhM,KAAK+Z,cAAgB/N,EAAW,EAC3C,IAAIsO,EAAiBta,KAAKga,YAAY/W,KAAK,CACzCmX,WAAW,WACXjD,SAAUA,EACVnL,SAAUA,IAIZ,OAFAhM,KAAKma,sBACLna,KAAKua,QACED,IAER,CACD9jB,IAAK,cACL7B,MAAO,SAAqBmjB,GACf,OAAPA,GAAe9X,KAAKga,YAAYlC,EAAK,YAChC9X,KAAKga,YAAYlC,EAAK,GAC7B9X,KAAKma,uBAG0B,IAA7Bna,KAAKma,qBACPna,KAAKqa,YAvEiE,GAAkB3B,EAAY1kB,UAAWklB,GA4E9GY,EAtET,GCHIU,GAAe,kBAAoB,CACrCC,gBAAiB,IAAIX,GACrBY,eAAgB,IAAIZ,KAEtBU,GAAaX,YAAc,eAC3B,YCNA,SAASc,KAA2Q,OAA9PA,GAAW5mB,OAAO6mB,QAAU,SAAUzJ,GAAU,IAAK,IAAI3d,EAAI,EAAGA,EAAI2B,UAAUzB,OAAQF,IAAK,CAAE,IAAI4d,EAASjc,UAAU3B,GAAI,IAAK,IAAIgD,KAAO4a,EAAcrd,OAAOC,UAAU0C,eAAexC,KAAKkd,EAAQ5a,KAAQ2a,EAAO3a,GAAO4a,EAAO5a,IAAY,OAAO2a,IAA2Bzb,MAAMsK,KAAM7K,WAEhT,SAAS,GAAcgc,GAAU,IAAK,IAAI3d,EAAI,EAAGA,EAAI2B,UAAUzB,OAAQF,IAAK,CAAE,IAAI4d,EAAyB,MAAhBjc,UAAU3B,GAAa2B,UAAU3B,GAAK,GAAQ6d,EAAUtd,OAAOud,KAAKF,GAAqD,mBAAjCrd,OAAOwd,wBAAwCF,EAAUA,EAAQ9b,OAAOxB,OAAOwd,sBAAsBH,GAAQnb,QAAO,SAAUub,GAAO,OAAOzd,OAAO0d,yBAAyBL,EAAQI,GAAKnD,gBAAmBgD,EAAQK,SAAQ,SAAUlb,GAAO,GAAgB2a,EAAQ3a,EAAK4a,EAAO5a,OAAa,OAAO2a,EAExd,SAAS,GAAgBhD,EAAK3X,EAAK7B,GAAiK,OAApJ6B,KAAO2X,EAAOpa,OAAOqa,eAAeD,EAAK3X,EAAK,CAAE7B,MAAOA,EAAO0Z,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAI3X,GAAO7B,EAAgBwZ,EAI3M,SAAS,GAAkBgD,EAAQpZ,GAAS,IAAK,IAAIvE,EAAI,EAAGA,EAAIuE,EAAMrE,OAAQF,IAAK,CAAE,IAAI2kB,EAAapgB,EAAMvE,GAAI2kB,EAAW9J,WAAa8J,EAAW9J,aAAc,EAAO8J,EAAW7J,cAAe,EAAU,UAAW6J,IAAYA,EAAW5J,UAAW,GAAMxa,OAAOqa,eAAe+C,EAAQgH,EAAW3hB,IAAK2hB,IAkB7S,IAAI0C,GAEJ,SAAUrC,GAGR,SAASqC,EAAiB9iB,GACxB,IAAIwI,EAoCJ,OA9DJ,SAAyBkY,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIrkB,UAAU,qCA4B5G,CAAgB2L,KAAM6a,IAEtBta,EAxBJ,SAAoC8X,EAAMnkB,GAAQ,OAAIA,GAAyB,iBAATA,GAAqC,mBAATA,EAElG,SAAgCmkB,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIC,eAAe,6DAAgE,OAAOD,EAFf,CAAuBA,GAAtCnkB,EAwBrH,CAA2B8L,MAAO6a,EAAiBhC,WAAa9kB,OAAO+kB,eAAe+B,IAAmB3mB,KAAK8L,KAAMjI,KACtH+iB,YAAe,IAAU/iB,SAAgC5B,IAAtB4B,EAAM+iB,YAA8D/iB,EAAM+iB,YAAxC,KAAU,sBAErFva,EAAMwa,cAAgB,SAAUC,GAE9B,OADAza,EAAM0a,UAAYD,EACXA,GAGTza,EAAMwY,aAAe,SAAUviB,EAAKN,GAClC,OAAOqK,EAAM0a,UAAUlC,aAAaviB,EAAKN,IAG3CqK,EAAMyY,eAAiB,WACrB,OAAOzY,EAAM0a,UAAUjC,kBAGzBzY,EAAM0Y,iBAAmB,SAAUziB,GACjC,OAAO+J,EAAM0a,UAAUhC,iBAAiBziB,IAG1C+J,EAAM2a,iBAAmBnjB,GAAS,IAAYA,EAAMojB,cAAgBpjB,EAAMojB,aAAe,SAAUC,GAEjG,OADA7a,EAAM4a,aAAeC,EACdA,GAET7a,EAAM8a,kBAAoBtjB,GAASA,EAAM+V,QAAU/V,EAAM+V,OAAOwN,QAE5D/a,EAAM8a,oBACR9a,EAAMgb,YAAc,SAAUC,GAC5B,OAAOA,EAAEC,mBAINlb,EA1DX,IAAsBmY,EAAaQ,EA0MjC,OApMF,SAAmBC,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAI/kB,UAAU,sDAAyD8kB,EAASnlB,UAAYD,OAAOslB,OAAOD,GAAcA,EAAWplB,UAAW,CAAE2hB,YAAa,CAAEhhB,MAAOwkB,EAAU9K,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe8K,IAAYrlB,OAAOulB,eAAiBvlB,OAAOulB,eAAeH,EAAUC,GAAcD,EAASN,UAAYO,GAarc,CAAUyB,EAAkBrC,GAnBRE,EA6DPmC,GA7DoB3B,EA6DF,CAAC,CAC9B1iB,IAAK,oBACL7B,MAAO,WACDqL,KAAKqb,mBAAqBrb,KAAKmb,cACjCnb,KAAKmb,aAAaO,iBAAiB,QAAS1b,KAAKub,eAGpD,CACD/kB,IAAK,uBACL7B,MAAO,WACDqL,KAAKqb,mBAAqBrb,KAAKmb,cACjCnb,KAAKmb,aAAaQ,oBAAoB,QAAS3b,KAAKub,eAGvD,CACD/kB,IAAK,kBACL7B,MAAO,SAAyBinB,GAC9B,MAAO,GAAGrmB,OAAOyK,KAAK8a,YAAa,KAAKvlB,OAAOqmB,KAGhD,CACDplB,IAAK,cACL7B,MAAO,SAAqBoD,GAC1B,OAAOA,EAAMwB,WAId,CACD/C,IAAK,eACL7B,MAAO,SAAsBoD,GAC3B,IAAI8jB,EAAS9jB,EAAM8jB,OACfC,EAAW/jB,EAAM+jB,SACjBC,EAAWhkB,EAAMgkB,SACrB,OAAO,GAAc,GAAIF,GAAU,CACjC,yBAA0BA,GACzBE,GAAY,CACb,2BAA4BA,QACd5lB,IAAb2lB,GAA0B,CAC3B,iBAAkBA,MAGrB,CACDtlB,IAAK,kBACL7B,MAAO,SAAyBoD,EAAOikB,EAAUthB,GAC/C,IAAIuhB,EAAQlkB,EAAMkkB,MACdpE,EAAO9f,EAAM8f,KACbqE,EAAkBnkB,EAAMmkB,gBACxBvE,EAAY5f,EAAM4f,UAClBxe,EAAQpB,EAAMoB,MACdC,EAASrB,EAAMqB,OACf+iB,EAAepkB,EAAMokB,aACrBC,EAAarkB,EAAMqkB,WACnB7iB,EAAWyG,KAAKrC,YAAY5F,GAC5BskB,EAAaD,EAAa,CAC5BjjB,MAAO,OACPC,OAAQ,QACN,CACFD,MAAOA,EACPC,OAAQA,GAGNkjB,EAAW,IAAQ,CACrBC,cAAe,OACfC,YAAa,OACbC,SAAU,YACTJ,GAECK,EAAiB,IAAQ,CAC3BC,OAAQR,EACRM,SAAU,WACVrkB,IAAK,EACLE,KAAM,GACL+jB,GAECO,EAAW,IAAQ,CACrBL,cAAe,OACdF,GAECQ,EAAiB,IAAQ,CAC3BC,SAAU,WACTT,GAECU,EAAc,CAChB5jB,MAAOA,EACPC,OAAQA,EACRugB,QAASqC,EAASrC,QAClBqD,oBAAqBhB,EAASgB,oBAC9BtiB,MAAOmiB,GAET,OAAO,kBAAoB,YAAwB,CACjDloB,MAAO,CACLokB,aAAc/Y,KAAK+Y,aACnBC,eAAgBhZ,KAAKgZ,eACrBC,iBAAkBjZ,KAAKiZ,mBAExB,kBAAoB,MAAO0B,GAAS,CACrCjgB,MAAO,IAAU,GAAIA,EAAO4hB,GAC5B3E,UAAWA,EACXsF,IAAKjd,KAAKkb,kBACTlb,KAAKkd,aAAanlB,IAAS,kBAAoB,MAAO4iB,GAAS,GAAIqB,EAAU,CAC9EthB,MAAOkiB,IACLX,EAAQ,kBAAoB,QAAS,CACvCnE,GAAI9X,KAAKmd,gBAAgB,UACxBlB,GAAS,KAAMpE,EAAO,kBAAoB,OAAQ,CACnDC,GAAI9X,KAAKmd,gBAAgB,SACxBtF,GAAQ,KAAMte,GAAW,kBAAoB,MAAO,CACrDmB,MAAOgiB,GACN,iBAAmBR,EAAiB,GAAc,GAAIa,EAAa,CACpEE,IAAKjd,KAAK+a,sBAGb,CACDvkB,IAAK,SACL7B,MAAO,WACL,IAAIyoB,EAASpd,KAAKjI,MACdoB,EAAQikB,EAAOjkB,MACfC,EAASgkB,EAAOhkB,OAChBgjB,EAAagB,EAAOhB,WACpBtO,EAASsP,EAAOtP,OAChBmO,EAAQmB,EAAOnB,MACfpE,EAAOuF,EAAOvF,KACdG,EAAWoF,EAAOpF,SAClBgF,EAAsBI,EAAOJ,oBAC7BrkB,EAAOykB,EAAOzkB,KACd+B,EAAQ0hB,EAAapc,KAAKjI,MAAM2C,MAAQ,QAAasF,KAAKjI,MAAM2C,MAAO,CAAC,SAAU,UAElFshB,EAAW,IAAQ,CACrB7iB,MAAOA,EACPC,OAAQA,EACR4e,SAAUA,EACVrf,KAAMA,EACN,kBAAmB,CAACsjB,GAASjc,KAAKmd,gBAAgB,SAAUnd,KAAKjI,MAAM,oBAAoB9B,OAAOke,SAASkJ,KAAK,WAAQlnB,EACxH,mBAAoB,CAAC0hB,GAAQ7X,KAAKmd,gBAAgB,QAASnd,KAAKjI,MAAM,qBAAqB9B,OAAOke,SAASkJ,KAAK,WAAQlnB,EACxHwjB,QAASyC,EAAa,OAAO7mB,OAAO4D,EAAO,KAAK5D,OAAO6D,QAAUjD,EACjE6mB,oBAAqBZ,EAAaY,OAAsB7mB,GACvD2X,GAEH,OAAO9N,KAAKsd,gBAAgBtd,KAAKjI,MAAOikB,EAAUthB,QAtMsB,GAAkBge,EAAY1kB,UAAWklB,GA0M9G2B,EAxLT,CAyLE,eAEF9mB,OAAOqa,eAAeyM,GAAkB,cAAe,CACrDvM,cAAc,EACdD,YAAY,EACZE,UAAU,EACV5Z,MAAO,qBAETZ,OAAOqa,eAAeyM,GAAkB,OAAQ,CAC9CvM,cAAc,EACdD,YAAY,EACZE,UAAU,EACV5Z,MAAO,cAETZ,OAAOqa,eAAeyM,GAAkB,YAAa,CACnDvM,cAAc,EACdD,YAAY,EACZE,UAAU,EACV5Z,MAAO,CACL,mBAAoB,WACpB,kBAAmB,WACnB4E,SAAU,cAAoB,CAAC,YAAkB,UAAiB,WAClEoe,UAAW,WACXmD,YAAa,cAAoB,CAAC,WAAkB,aACpDK,aAAc,SACdtD,KAAM,WACN/J,OAAQ,WACR1U,OAAQ,eACRpB,KAAM,WACNkC,OAAQ,UAAgB,CACtBxC,EAAG,eACHE,EAAG,iBAELikB,OAAQ,cAAoB,CAAC,WAAkB,aAC/CC,SAAU,SACVC,SAAU,WACV/hB,MAAO,SACPkiB,gBAAiB,YACjBC,aAAc,WACda,oBAAqB,WACrBZ,WAAY,SACZzjB,KAAM,WACN+B,MAAO,WACPsd,SAAU,WACVzd,MAAO,WACP0hB,MAAO,WACP9iB,MAAO,kBAGXpF,OAAOqa,eAAeyM,GAAkB,eAAgB,CACtDvM,cAAc,EACdD,YAAY,EACZE,UAAU,EACV5Z,MAAO,CACLgjB,UAAW,mBACXuE,gBAAiB,kBAAoB3D,GAAQ,MAC7C4D,aAAc,GACdC,YAAY,EACZzjB,KAAM,SAGV5E,OAAOqa,eAAeyM,GAAkB,cAAe,CACrDvM,cAAc,EACdD,YAAY,EACZE,UAAU,EACV5Z,MAAO,KCxRT,IAMI8d,GAAS,CALO,UADJ,UAEF,UACM,UACN,UACA,WAEV8K,GAAa,UACbC,GAAc,UACdC,GAAc,UACdC,GAAU,UAWV,GAAY,CACdvkB,MAAO,IACPC,OAAQ,IACRnB,QAAS,IAKP0lB,GAAkB,CACpBC,WAhBc,4CAiBdC,SAfa,GAgBbC,cAjBkB,SAkBlB7lB,QAbY,EAcZua,KAAMiL,GACN5J,OAAQ,cACRkK,YAAa,GAGXC,GAAsB,IAAQ,CAChCC,WAAY,UACXN,IAMCO,GAAgB,QAChBC,GAAiB,QACrB,UACEC,KAAM,IAAQ,CACZ1jB,MAAO,CACLO,KAAM,CACJuX,KAAMkL,IAER5iB,OAAQ6iB,KAET,IACH1hB,KAAM,IAAQ,CACZvB,MAAO,CACLuB,KAAM,CACJuW,KAAM,cACNqB,OAAQ2J,GACRO,YAAa,EACbG,cAAeA,GACfC,eAAgBA,IAElBE,UAAW,IAAQ,GAAIL,GAAqB,CAC1C/lB,QAhDM,EAiDN4b,OAAQ,gBAEVyK,KAAM,CACJ9L,KAAM,OACNqB,OAAQ0J,GACRgB,gBA5Bc,QA6BdL,cAAeA,GACfC,eAAgBA,GAChB5B,cAAe,WAEjBiC,MAAO,CACLhM,KAAM,cACN5R,KAAM,EACNiT,OAAQ2J,GACRO,YAAa,EACbG,cAAeA,GACfC,eAAgBA,IAElBM,WAAY,IAAQ,GAAId,GAAiB,CACvCnL,KAAMiL,OAGT,IACHiB,mBAAoB,IAAQ,CAC1BhkB,MAAO,CACL8jB,MAAO,CACLhM,KAAM,cACN5R,KAAM,EACNiT,OAAQ,kBAId8K,IAAK,IAAQ,CACXjkB,MAAO,CACLO,KAAM,CACJuX,KAAMiL,GACNxlB,QArFM,EAsFN8lB,YAAa,GAEfjjB,OAAQ6iB,KAET,IACHiB,QAAS,IAAQ,CACflkB,MAAO,CACLjF,IAAK,CACHwC,QA9FM,EA+FN4b,OAAQ4J,GACRM,YAAa,GAEfc,UAAW,IAAQ,GAAIlB,GAAiB,CACtC1lB,QAAS,IAEX6mB,OAAQ,CACN7mB,QAtGM,EAuGN4b,OAAQ4J,GACRM,YAAa,GAEfgB,aAAc,IAAQ,GAAIpB,GAAiB,CACzC1lB,QAAS,IAEXnC,IAAK,CACHmC,QA9GM,EA+GN4b,OAAQ4J,GACRM,YAAa,GAEfiB,UAAW,IAAQ,GAAIrB,GAAiB,CACtC1lB,QAAS,IAEXgnB,GAAI,CACFhnB,QAtHM,EAuHNua,KAAMiL,IAERyB,SAAU,IAAQ,GAAIvB,GAAiB,CACrC1lB,QAAS,IAEXknB,GAAI,CACFlnB,QA7HM,EA8HNua,KAAMiL,IAER2B,SAAU,IAAQ,GAAIzB,GAAiB,CACrC1lB,QAAS,KAGbonB,SAAU,IACT,IACHC,YAAa,IAAQ,CACnB5kB,MAAO,CACLO,KAAM,CACJ4Y,OAAQ4J,IAEV3iB,OAAQ,IAAQ,GAAI6iB,GAAiB,CACnC1lB,QAAS,KAGbsnB,aAAc,CACZC,SAAU,UACVC,SAAUhC,KAEX,IACHiC,MAAO,GACPC,SAAU,IAAQ,CAChBC,YAAa,EACbllB,MAAO,CACLO,KAAM,CACJuX,KAAM,cACNqN,QAAS,EACThM,OAAQ4J,GACRM,YAAa,GAEfjjB,OAAQ6iB,KAET,IACHzL,MAAO,IAAQ,CACbI,WAAYG,IACX,IACHqN,UAAW,IAAQ,CACjBplB,MAAO,CACLO,KAAM,CACJuX,KAAMiL,GACN5J,OAAQ6J,GACRK,YAAa,GAEfjjB,OAAQ6iB,KAET,IACHoC,OAAQ,CACNzN,WAAYG,GACZuN,OAAQ,GACRC,YAAa,WACbC,iBAAkB,MAClBxlB,MAAO,CACLO,KAAM,CACJvC,KAAM,UAERoC,OAAQ6iB,GACR1B,MAAO,IAAQ,GAAI0B,GAAiB,CAClC1lB,QAAS,MAIfkoB,KAAM,IAAQ,CACZzlB,MAAO,CACLO,KAAM,CACJuX,KAAM,cACNqN,QAAS,EACThM,OAAQ4J,GACRM,YAAa,GAEfjjB,OAAQ6iB,KAET,IACHyC,IAAK,IAAQ,CACX9N,WAAYG,GACZ/X,MAAO,CACLO,KAAM,CACJhD,QA5MM,EA6MN4b,OAAQ0J,GACRQ,YAAa,GAEfjjB,OAAQ,IAAQ,GAAI6iB,GAAiB,CACnC1lB,QAAS,OAGZ,IACHooB,QAAS,IAAQ,CACf3lB,MAAO,CACLO,KAAM,CACJuX,KAAMiL,GACNoC,QAAS,EACThM,OAAQ,cACRkK,YAAa,GAEfjjB,OAAQ6iB,KAET,IACH/L,MAAO,IAAQ,CACbU,WAAYG,IACX,IACH7X,QAAS,CACPF,MAAO,IAAQ,GAAIijB,GAAiB,CAClC1lB,QAAS,EACTskB,cAAe,SAEjB+D,YAAa,CACXzM,OAAQ6J,GACRK,YAAa,EACbvL,KAAM,UACN+J,cAAe,QAEjBgE,cAAe,EACfC,aAAc,EACdC,cAAe,IAEjBC,QAAS,IAAQ,CACfhmB,MAAO,CACLO,KAAM,CACJuX,KAAM,cACNqB,OAAQ,cACRkK,YAAa,GAEfjjB,OAAQ,IAAQ,GAAI6iB,GAAiB,CACnC1lB,QAAS,EACTskB,cAAe,SAEjBoE,OAAQ,CACN9M,OAAQ6J,GACRK,YAAa,EACbvL,KAAM,UACN+J,cAAe,UAGlB,KCxRL,IAAI,GAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC5EqE,GAAW,UACXC,GAAO,UAUP,GAAY,CACd1nB,MAAO,IACPC,OAAQ,IACRnB,QAAS,GACTqa,WAAY,IAKV,GAAkB,CACpBsL,WAhBc,qDAiBdC,SAfa,GAgBbC,cAjBkB,SAkBlB7lB,QAAS,GACTua,KAAMoO,GACN/M,OAAQ,eAGN,GAAsB,IAAQ,CAChCoK,WAAY,UACX,IAOH,MCzCA,IACE6C,SAAUA,GACVpO,UDuCF,CACE0L,KAAM,IAAQ,CACZ1jB,MAAO,CACLO,KAAM,CACJuX,KAAMoO,IAER9lB,OAAQ,KAET,IACHmB,KAAM,IAAQ,CACZvB,MAAO,CACLuB,KAAM,CACJuW,KAAM,cACNqB,OAAQ+M,GACR7C,YAAa,EACbG,cAjBY,QAkBZC,eAjBa,SAmBfE,UAAW,IAAQ,GAAI,GAAqB,CAC1CpmB,QAAS,KAEXqmB,KAAM,CACJ9L,KAAM,OACNqB,OAAQ,OACR0I,cAAe,WAEjBiC,MAAO,CACLhM,KAAM,cACN5R,KAAM,EACNiT,OAAQ,eAEV4K,WAAY,KAEb,IACHE,IAAK,IAAQ,CACXjkB,MAAO,CACLO,KAAM,CACJuX,KAAMoO,GACN3oB,QAAS,EACT8lB,YAAa,GAEfjjB,OAAQ,KAET,IACH8jB,QAAS,IAAQ,CACflkB,MAAO,CACLjF,IAAK,CACHwC,QAAS,EACT4b,OAAQ+M,GACR7C,YAAa,GAEfc,UAAW,IAAQ,GAAI,GAAiB,CACtC5mB,QAAS,IAEX6mB,OAAQ,CACN7mB,QAAS,EACT4b,OAAQ+M,GACR7C,YAAa,GAEfgB,aAAc,IAAQ,GAAI,GAAiB,CACzC9mB,QAAS,IAEXnC,IAAK,CACHmC,QAAS,EACT4b,OAAQ+M,GACR7C,YAAa,GAEfiB,UAAW,IAAQ,GAAI,GAAiB,CACtC/mB,QAAS,IAEXgnB,GAAI,CACFhnB,QAAS,EACTua,KAAMqO,IAER3B,SAAU,IAAQ,GAAI,GAAiB,CACrCjnB,QAAS,IAEXknB,GAAI,CACFlnB,QAAS,EACTua,KAAMqO,IAERzB,SAAU,IAAQ,GAAI,GAAiB,CACrCnnB,QAAS,KAGbonB,SAAU,IACT,IACHC,YAAa,IAAQ,CACnB5kB,MAAO,CACLO,KAAM,CACJ4Y,OAAQ+M,GACR7C,YAAa,GAEfjjB,OAAQ,IAAQ,GAAI,GAAiB,CACnC7C,QAAS,KAGbsnB,aAAc,CACZC,SAAU,UACVC,SAAUmB,KAEX,IACHlB,MAAO,GACPC,SAAU,IAAQ,CAChBC,YAAa,EACbllB,MAAO,CACLO,KAAM,CACJuX,KAAM,cACNqB,OAAQ+M,GACR7C,YAAa,GAEfjjB,OAAQ,KAET,IACHoX,MAAO,IAAQ,CACbI,WAAY,IACX,IACHwN,UAAW,IAAQ,CACjBplB,MAAO,CACLO,KAAM,CACJuX,KAAMqO,GACNhN,OAAQ+M,GACR7C,YAAa,GAEfjjB,OAAQ,KAET,IACHilB,OAAQ,CACNzN,WAAY,GACZ0N,OAAQ,GACRC,YAAa,WACbC,iBAAkB,MAClBxlB,MAAO,CACLO,KAAM,CACJvC,KAAM,UAERoC,OAAQ,GACRmhB,MAAO,IAAQ,GAAI,GAAiB,CAClChkB,QAAS,MAIfkoB,KAAM,IAAQ,CACZzlB,MAAO,CACLO,KAAM,CACJuX,KAAM,cACNqB,OAAQ+M,GACR7C,YAAa,GAEfjjB,OAAQ,KAET,IACHslB,IAAK,CACH1lB,MAAO,CACLO,KAAM,CACJhD,QAAS,GACT4b,OAAQ,cACRkK,YAAa,GAEfjjB,OAAQ,IAAQ,GAAI,GAAiB,CACnC7C,QAAS,MAGbqa,WAAY,GACZnZ,MAAO,IACPC,OAAQ,IACRnB,QAAS,IAEXooB,QAAS,IAAQ,CACf3lB,MAAO,CACLO,KAAM,CACJuX,KAAMoO,GACN/M,OAAQ,cACRkK,YAAa,GAEfjjB,OAAQ,KAET,IACH8W,MAAO,IAAQ,CACbU,WAAY,IACX,IACH1X,QAAS,CACPF,MAAO,IAAQ,GAAI,GAAiB,CAClCzC,QAAS,EACTskB,cAAe,SAEjB+D,YAAa,CACXzM,OAAQ+M,GACR7C,YAAa,EACbvL,KAAM,UACN+J,cAAe,QAEjBgE,cAAe,EACfC,aAAc,EACdC,cAAe,IAEjBC,QAAS,IAAQ,CACfhmB,MAAO,CACLO,KAAM,CACJuX,KAAM,cACNqB,OAAQ,cACRkK,YAAa,GAEfjjB,OAAQ,IAAQ,GAAI,GAAiB,CACnC7C,QAAS,EACTskB,cAAe,SAEjBoE,OAAQ,CACN9M,OAAQ+M,GACR7C,YAAa,EACbvL,KAAM,UACN+J,cAAe,UAGlB,M,gBE5PD5f,GAAgB,CAClBxD,MAAO,IACPC,OAAQ,IACRnB,QAAS,IAoGX,SAAS8oB,GAAUhpB,EAAOyR,GACxB,IACIwX,EADmB,uBAA4BjpB,EAAOyR,GACf5L,KAAI,SAAUuD,GACvD,OAAOA,EAAQlL,QAAO,SAAUW,GAC9B,OAAoB,OAAbA,EAAMG,IAA4B,OAAbH,EAAMO,SAGlC2a,EAxGN,SAAkB/Z,EAAO+Z,GACvB,IAAImP,EAAoBlpB,EAAMkpB,kBAC1BC,EAAOpP,EAASpY,QAAO,SAAU6B,EAAM4F,GAIzC,OAHAA,EAAQuQ,SAAQ,SAAU9a,GACxB2E,EAAK3E,EAAMG,cAAcnC,KAAOgC,EAAMG,GAAGoqB,UAAYvqB,EAAMG,KAAM,KAE5DwE,IACN,IAEC6lB,EAAQ,KAAMF,GAAMtjB,KAAI,SAAUsG,GACpC,OAAQA,KAGNmd,EAAO,IAASD,GAEpB,OAAOtP,EAASlU,KAAI,SAAUuD,GAC5B,IAAImgB,EAAc,EACdC,EAASpgB,EAAQ,IAAMA,EAAQ,GAAGpK,cAAcnC,KAiCpD,OAhCmBysB,EAAKzjB,KAAI,SAAUlG,EAAG6F,GACvC7F,GAAKA,EACL,IAAId,EAAQuK,EAAQ5D,EAAQ+jB,GAE5B,GAAI1qB,EAAO,CAGT,IAFS2qB,EAAS3qB,EAAMG,GAAGoqB,UAAYvqB,EAAMG,MAElCW,EACT,OAAOd,EAEP0qB,IACA,IAAI1pB,EAAIqpB,EAAoB,EAAI,KAEhC,MAAO,CACLvpB,EAFFA,EAAI6pB,EAAS,IAAI3sB,KAAK8C,GAAKA,EAGzBE,EAAGA,EACHb,GAAIW,EACJP,GAAIS,GAIR,IAAIT,EAAK8pB,EAAoB,EAAI,KAGjC,MAAO,CACLvpB,EAFFA,EAAI6pB,EAAS,IAAI3sB,KAAK8C,GAAKA,EAGzBE,EAAGT,EACHJ,GAAIW,EACJP,GAAIA,SA0DGqqB,CAASzpB,EAAOipB,GAC/B,OAAOlP,EAASlU,KAAI,SAAU3D,EAAGzG,GAC/B,OAvBJ,SAAuBuE,EAAO+Z,EAAUvU,GACtC,IAAIkkB,EAAU1pB,EAAM0pB,SAAW,EAC/B,OAAO3P,EAASvU,GAAOK,KAAI,SAAUhH,GACnC,IAAI8qB,EAhCR,SAAe9qB,EAAO2G,EAAOuU,GAC3B,GAAIlb,EAAMiB,GACR,OAAOjB,EAAMiB,GAGf,IAAID,EAAIhB,EAAMO,GACV+a,EAAQtb,EAAMqb,OACd0P,EAAuB7P,EAAS,GAAGlU,KAAI,SAAU3D,GACnD,OAAOA,EAAEpC,MAGP+pB,EADmB9P,EAASvT,MAAM,EAAGhB,GACH7D,QAAO,SAAU6B,EAAM4F,GAC3D,OAAO5F,EAAKhG,OAAO4L,EAAQlL,QAAO,SAAU4rB,GAC1C,OAAOjrB,EAAMG,cAAcnC,KAAOitB,EAAc9qB,GAAGoqB,YAAcvqB,EAAMG,GAAGoqB,UAAYU,EAAc9qB,KAAOH,EAAMG,MAChH6G,KAAI,SAAUikB,GACf,OAAOA,EAAc1qB,IAAM,QAE5B,IACCU,EAAK+pB,EAAeluB,QAAUkuB,EAAeloB,QAAO,SAAUC,EAAMhF,GAEtE,OADeiD,EAAI,GAAKjD,EAAQ,GAAKiD,GAAK,GAAKjD,GAAS,GACrCA,EAAQgF,EAAOA,IACjCgoB,EAAqBzP,IAAU,GAClC,OAAO0P,EAAeltB,MAAK,SAAU+C,GACnC,OAAOA,aAAiB7C,QACrB,IAAIA,KAAKiD,GAAMA,EAQJiqB,CAAMlrB,EAAO2G,EAAOuU,IAAa,EAC/C,OAAO,IAAQ,GAAIlb,EAAO,CACxBS,IAAOT,EAAMO,cAAcvC,KAAkB8sB,EAAU,IAAI9sB,KAAK8sB,GAAW9qB,EAAMO,GAA9CuqB,EACnCtqB,IAAkB,OAAbR,EAAMO,GAAc,KAAOP,EAAMO,cAAcvC,KAAO,IAAIA,MAAMgC,EAAMO,KAAMuqB,GAAW9qB,EAAMO,GAAKuqB,EACvG1qB,IAAkB,OAAbJ,EAAMG,GAAc,KAAOH,EAAMG,cAAcnC,KAAO,IAAIA,MAAMgC,EAAMG,KAAM0qB,GAAW7qB,EAAMG,GAAK0qB,OAgBlGM,CAAchqB,EAAO+Z,EAAUte,MAI1C,SAASwuB,GAAmBjqB,EAAOyR,GACjCA,EAAkBA,GAAmB,qBAAuBzR,EAAMwB,UAClE,IAAIZ,EAAO,QACXZ,EAAQ,eAAoBA,EAAO4E,GAAehE,GAClD,IAAI+B,EAAQ,YAAiB3C,EAAMwC,MAAOxC,EAAM2C,MAAO/B,GACnD+K,EAAa3L,EAAM2L,YAAc,iBAAsB3L,EAAOyR,GAC9DsI,EAAW/Z,EAAM+Z,UAAYiP,GAAUhpB,EAAOyR,GAC9CjQ,EAAWiQ,EAAgB5L,KAAI,SAAUC,EAAGrK,GAC9C,OAAO,iBAAmBqK,EAAG,CAC3B5C,KAAM6W,EAASte,QAGfkL,EAAS,CACXhH,EAAG,aAAkB,IAAQ,GAAIK,EAAO,CACtC2L,WAAYA,IACV,IAAKnK,GACT3B,EAAG,aAAkB,IAAQ,GAAIG,EAAO,CACtC2L,WAAYA,IACV,IAAKnK,IAEP2C,EAAQnE,EAAMmE,OAAS,CACzBxE,EAAG,YAAiBK,EAAO,KAC3BH,EAAG,YAAiBG,EAAO,MAEzBkqB,EAAY,CACdvqB,EAAG,qBAAwBK,EAAO,MAAQ,YAAiBA,EAAO,KAClEH,EAAG,qBAAwBG,EAAO,MAAQ,YAAiBA,EAAO,MAEhEgC,EAAQ,CACVrC,EAAGuqB,EAAUvqB,EAAEgH,OAAOA,EAAOhH,GAAGwE,MAAMnE,EAAMuB,WAAa4C,EAAMtE,EAAIsE,EAAMxE,GACzEE,EAAGqqB,EAAUrqB,EAAE8G,OAAOA,EAAO9G,GAAGsE,MAAMnE,EAAMuB,WAAa4C,EAAMxE,EAAIwE,EAAMtE,IAEvEwlB,EAASrlB,EACTua,EAAa8K,EAAO9K,WACpBhZ,EAAa8jB,EAAO9jB,WACxB,MAAO,CACLwY,SAAUA,EACVpO,WAAYA,EACZxH,MAAOA,EACPwC,OAAQA,EACRpF,WAAYA,EACZS,MAAOA,EACPW,MAAOA,EACP4X,WAAYA,EACZ3Z,KAAMA,GAgCV,SAASupB,GAAcnqB,EAAO6B,GAC5B,IAAIjB,EAAOiB,EAAMlB,MAAQkB,EAAMlB,KAAKC,KAChCwpB,EAAoBvoB,EAAM7B,MAAMua,YAAcva,EAAMua,WAExD,GAAa,UAAT3Z,GAA6B,UAATA,EAIxB,OAAOZ,EAAMwC,MAAQ4nB,GAAqBpqB,EAAMwC,MAAMxC,MAAMua,WAAa6P,EAG3E,SAASxkB,GAAY5F,EAAOyR,EAAiB4I,GAC3Cra,EAAQ,eAAoBA,EAAO4E,GAAe,SAClD6M,EAAkBA,GAAmB,qBAAuBzR,EAAMwB,UAElE,IACIuY,GAFJM,EAAkBA,GAAmB4P,GAAmBjqB,EAAOyR,IAE/BsI,SAC5BjY,EArCN,SAAuB9B,EAAOqa,GAC5B,IAAI1O,EAAa0O,EAAgB1O,WAC7BhF,EAAS0T,EAAgB1T,OACzBxC,EAAQkW,EAAgBlW,MACxBnC,EAAQqY,EAAgBrY,MACxBT,EAAa8Y,EAAgB9Y,WACjC,MAAO,CACLF,OAAQrB,EAAMqB,OACdD,MAAOpB,EAAMoB,MACblB,QAAS,cAAmBF,GAC5Bwf,YAAY,EACZhd,MAAOxC,EAAMwC,MACbmJ,WAAYA,EACZhF,OAAQA,EACRxC,MAAOA,EACPnC,MAAOA,EACPT,WAAYA,GAqBG8oB,CAAcrqB,EAAOqa,GAClCiQ,EAAatqB,EAAMC,MAAQ,QAC/B,OAAOwR,EAAgB5L,KAAI,SAAUhE,EAAO2D,GAC1C,IAAI5E,EAAOiB,EAAMlB,MAAQkB,EAAMlB,KAAKC,KAChCsC,EAAO6W,EAASvU,GAChB7C,EAAQ,iBAAsBd,EAAO2D,EAAO6U,GAC5CtX,EAAS/C,EAAM+C,OAnDvB,SAAmB/C,EAAO+Z,EAAUvU,GAClC,GAAKxF,EAAM+C,OAIX,OAAOgX,EAASpe,SAAW6J,EAAQ,EAAIxF,EAAM+C,YAAS3E,EA8CxBmsB,CAAUvqB,EAAO+Z,EAAUvU,GAAS3D,EAAM7B,MAAM+C,OACxE9C,EAAO4B,EAAM7B,MAAMC,MAAQ,GAAGzC,OAAO8sB,EAAY,KAAK9sB,OAAOoD,EAAM,KAAKpD,OAAOgI,GACnF,OAAO,iBAAmB3D,EAAO,IAAQ,CACvCpD,IAAK,GAAGjB,OAAOyC,EAAM,SAASzC,OAAOgI,GACrCzC,OAAQA,EACR9C,KAAMA,EACNyO,cAAe7M,EAAM7B,MAAM0O,eAAiB1O,EAAM0O,cAClDlM,MAAOxC,EAAMwC,MACbC,eAAgBzC,EAAMyC,gBAAkBZ,EAAM7B,MAAMyC,eACpDE,MAAOA,EACP4X,WAAY4P,GAAcnqB,EAAO6B,GACjCqB,KAAMA,EACNjB,MAAOjC,EAAMiC,OACZH,O,2BCnOP,SAAS,GAAgBsU,EAAK3X,EAAK7B,GAAiK,OAApJ6B,KAAO2X,EAAOpa,OAAOqa,eAAeD,EAAK3X,EAAK,CAAE7B,MAAOA,EAAO0Z,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAI3X,GAAO7B,EAAgBwZ,EAI3M,SAAS,GAAkBgD,EAAQpZ,GAAS,IAAK,IAAIvE,EAAI,EAAGA,EAAIuE,EAAMrE,OAAQF,IAAK,CAAE,IAAI2kB,EAAapgB,EAAMvE,GAAI2kB,EAAW9J,WAAa8J,EAAW9J,aAAc,EAAO8J,EAAW7J,cAAe,EAAU,UAAW6J,IAAYA,EAAW5J,UAAW,GAAMxa,OAAOqa,eAAe+C,EAAQgH,EAAW3hB,IAAK2hB,IAQ7S,SAAS,GAAuBE,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIC,eAAe,6DAAgE,OAAOD,EAQ/J,IAAI,GAAgB,CAClBlf,MAAO,IACPC,OAAQ,IACRnB,QAAS,IAGPsqB,GAEJ,SAAU/J,GAGR,SAAS+J,EAAaxqB,GACpB,IAAIwI,EAeJ,OA7CJ,SAAyBkY,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIrkB,UAAU,qCAgC5G,CAAgB2L,KAAMuiB,GAEtBhiB,EA5BJ,SAAoC8X,EAAMnkB,GAAQ,OAAIA,GAAyB,iBAATA,GAAqC,mBAATA,EAA8C,GAAuBmkB,GAAtCnkB,EA4BrH,CAA2B8L,MAAOuiB,EAAa1J,WAAa9kB,OAAO+kB,eAAeyJ,IAAeruB,KAAK8L,KAAMjI,IAEhHA,EAAM+T,UACRvL,EAAMiL,MAAQ,CACZE,iBAAiB,EACjBC,eAAe,EACf6W,WAAW,GAEbjiB,EAAM8O,kBAAoB,0BAA+B,GAAuB9O,KAG3EA,EAzCX,IAAsBmY,EAAaQ,EA8IjC,OA1IF,SAAmBC,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAI/kB,UAAU,sDAAyD8kB,EAASnlB,UAAYD,OAAOslB,OAAOD,GAAcA,EAAWplB,UAAW,CAAE2hB,YAAa,CAAEhhB,MAAOwkB,EAAU9K,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe8K,IAAYrlB,OAAOulB,eAAiBvlB,OAAOulB,eAAeH,EAAUC,GAAcD,EAASN,UAAYO,GAmBrc,CAAUmJ,EAAc/J,GAvBJE,EA4CP6J,GA5CoBrJ,EA4CN,CAAC,CAC1B1iB,IAAK,wBACL7B,MAAO,SAA+B2a,GACpC,QAAItP,KAAKjI,MAAM+T,UACR,KAAQ9L,KAAKjI,MAAOuX,KACvBtP,KAAKqP,kBAAkBrP,KAAKjI,MAAOuX,GAC5B,MAMZ,CACD9Y,IAAK,iBACL7B,MAAO,SAAwBoD,EAAOyR,EAAiB4I,GACrD,IAAI7Y,EAAWoE,GAAY5F,EAAOyR,EAAiB4I,GAC/CpC,EAAoB,0BAA+BhQ,MAcvD,OAbkBzG,EAASqE,KAAI,SAAUhE,EAAO2D,GAC9C,IAAI1D,EAAa,IAAQ,CACvBiS,QAASkE,EAAkBjY,EAAO6B,EAAO2D,IACxC3D,EAAM7B,OAET,OAAO,iBAAmB6B,EAAOC,MAQhB4oB,YAEpB,CACDjsB,IAAK,kBACL7B,MAAO,SAAyBqiB,EAAoBjf,GAClD,IAAI2qB,EAAiB,IAAU,GAAI1L,EAAmBjf,MAAOA,GAE7D,OAAO,iBAAmBif,EAAoB0L,KAE/C,CACDlsB,IAAK,oBACL7B,MAAO,SAA2BoD,EAAOqa,GACvC,IAAIjZ,EAAQpB,EAAMoB,MACdC,EAASrB,EAAMqB,OACfme,EAAaxf,EAAMwf,WACnBhd,EAAQxC,EAAMwC,MACdP,EAAQjC,EAAMiC,MACdV,EAAavB,EAAMuB,WACnBtB,EAAOD,EAAMC,KACb0G,EAAS0T,EAAgB1T,OACzB3E,EAAQqY,EAAgBrY,MACxBW,EAAQ0X,EAAgB1X,MACxBR,EAASkY,EAAgBlY,OAC7B,MAAO,CACLwE,OAAQA,EACR3E,MAAOA,EACPZ,MAAOA,EACPC,OAAQA,EACRme,WAAYA,EACZhd,MAAOA,EACPG,MAAOA,EAAMM,OACb1B,WAAYA,EACZU,MAAOA,EACPE,OAAQA,EACRlC,KAAMA,KAGT,CACDxB,IAAK,SACL7B,MAAO,WACL,IAAIgE,EAAOqH,KAAK2V,YAAYhd,KACxBZ,EAAQiI,KAAKwL,OAASxL,KAAKwL,MAAMjB,eAAgBvK,KAAKwL,MAAMgE,UAAyBxP,KAAKjI,MAC1F4qB,EAAgB,eAAoB5qB,EAAO,GAAeY,GAC1DwK,EAAWwf,EAAcxf,SACzB6T,EAAqB2L,EAAc3L,mBACnCO,EAAaoL,EAAcpL,WAC3B7I,EAAiBiU,EAAcjU,eAC/BwI,EAAyByL,EAAczL,uBACvC1N,EAAkB,qBAAuBmZ,EAAcppB,UACvD6Y,EAAkB4P,GAAmBW,EAAenZ,GACpDoZ,EAAc5iB,KAAK6iB,eAAeF,EAAenZ,EAAiB4I,GAClEsQ,EAAiBnL,EAAavX,KAAK8iB,kBAAkBH,EAAevQ,GAAmB,GACvFgJ,EAAY7D,EAAavX,KAAKsd,gBAAgBtG,EAAoB0L,GAAkBhU,EACpFZ,EAAS,gBAAqB/V,GAElC,OAAK,IAAS+V,GASP,iBAAmBsN,EAAWA,EAAUrjB,MAAO6qB,GAR7C,kBAAoB,KAAqB,CAC9CxH,UAAWA,EACXjY,SAAUA,EACV2K,OAAQA,EACRoJ,uBAAwBA,GACvB0L,QAvImE,GAAkBlK,EAAY1kB,UAAWklB,GA8I9GqJ,EAxHT,CAyHE,eAEFxuB,OAAOqa,eAAemU,GAAc,cAAe,CACjDjU,cAAc,EACdD,YAAY,EACZE,UAAU,EACV5Z,MAAO,iBAETZ,OAAOqa,eAAemU,GAAc,OAAQ,CAC1CjU,cAAc,EACdD,YAAY,EACZE,UAAU,EACV5Z,MAAO,UAETZ,OAAOqa,eAAemU,GAAc,YAAa,CAC/CjU,cAAc,EACdD,YAAY,EACZE,UAAU,EACV5Z,MAzKF,SAAuBwc,GAAU,IAAK,IAAI3d,EAAI,EAAGA,EAAI2B,UAAUzB,OAAQF,IAAK,CAAE,IAAI4d,EAAyB,MAAhBjc,UAAU3B,GAAa2B,UAAU3B,GAAK,GAAQ6d,EAAUtd,OAAOud,KAAKF,GAAqD,mBAAjCrd,OAAOwd,wBAAwCF,EAAUA,EAAQ9b,OAAOxB,OAAOwd,sBAAsBH,GAAQnb,QAAO,SAAUub,GAAO,OAAOzd,OAAO0d,yBAAyBL,EAAQI,GAAKnD,gBAAmBgD,EAAQK,SAAQ,SAAUlb,GAAO,GAAgB2a,EAAQ3a,EAAK4a,EAAO5a,OAAa,OAAO2a,EAyK/c,CAAc,GAAI,aAAuB,CAC9CP,KAAM,cAAoB,CAAC,YAAkB,cAAoB,CAAC,eAA6B,eAAqBhc,SAAU,iBAC9H8O,WAAY,cAAoB,CAAC,YAAkB,YAAmB,UAAgB,CACpFhM,EAAG,YAAkB,YACrBE,EAAG,YAAkB,gBAEvB2B,SAAU,cAAoB,CAAC,YAAkB,UAAiB,WAClE+Y,WAAY,cAAoB,CAAC,YAAkB,YAAmB,UAAgB,CAAC,YAAa,cAAe,UAAW,OAAQ,OAAQ,MAAO,QAAS,WAC9J2O,kBAAmB,SACnB3nB,WAAY,SACZkB,eAAgB,YAChBM,OAAQ,cAAoB,CAAC,SAAgB,YAC7CJ,MAAO,UAAgB,CACrBM,OAAQ,WACRC,KAAM,WACNH,OAAQ,aAEV2mB,QAAS,eAGb1tB,OAAOqa,eAAemU,GAAc,eAAgB,CAClDjU,cAAc,EACdD,YAAY,EACZE,UAAU,EACV5Z,MAAO,CACLqiB,mBAAoB,kBAAoB6D,GAAkB,MAC1DnM,eAAgB,kBAAoB,IAAK,MACzC6I,YAAY,EACZhd,MAAO,aACP0mB,mBAAmB,KAGvBltB,OAAOqa,eAAemU,GAAc,qBAAsB,CACxDjU,cAAc,EACdD,YAAY,EACZE,UAAU,EACV5Z,MAAO,CAAC,iBAAkB,qBAAsB,oBAElDZ,OAAOqa,eAAemU,GAAc,cAAe,CACjDjU,cAAc,EACdD,YAAY,EACZE,UAAU,EACV5Z,MAAOgJ","file":"08d79f9b9981dc9aef9f.bundle.js","sourcesContent":["function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\n/* eslint-disable func-style */\n\n/* eslint-disable no-use-before-define */\nfunction isNonEmptyArray(collection) {\n  return Array.isArray(collection) && collection.length > 0;\n}\n\nfunction containsStrings(collection) {\n  return Array.isArray(collection) && collection.some(function (value) {\n    return typeof value === \"string\";\n  });\n}\n\nfunction containsDates(collection) {\n  return Array.isArray(collection) && collection.some(function (value) {\n    return value instanceof Date;\n  });\n}\n\nfunction containsNumbers(collection) {\n  return Array.isArray(collection) && collection.some(function (value) {\n    return typeof value === \"number\";\n  });\n}\n\nfunction containsOnlyStrings(collection) {\n  return isNonEmptyArray(collection) && collection.every(function (value) {\n    return typeof value === \"string\";\n  });\n}\n\nfunction isArrayOfArrays(collection) {\n  return isNonEmptyArray(collection) && collection.every(Array.isArray);\n}\n\nfunction removeUndefined(arr) {\n  return arr.filter(function (el) {\n    return el !== undefined;\n  });\n}\n\nfunction getMaxValue(arr) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n\n  var array = arr.concat(values);\n  return containsDates(array) ? new Date(Math.max.apply(Math, _toConsumableArray(array))) : Math.max.apply(Math, _toConsumableArray(array));\n}\n\nfunction getMinValue(arr) {\n  for (var _len2 = arguments.length, values = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    values[_key2 - 1] = arguments[_key2];\n  }\n\n  var array = arr.concat(values);\n  return containsDates(array) ? new Date(Math.min.apply(Math, _toConsumableArray(array))) : Math.min.apply(Math, _toConsumableArray(array));\n}\n\nexport default {\n  containsDates: containsDates,\n  containsNumbers: containsNumbers,\n  containsOnlyStrings: containsOnlyStrings,\n  containsStrings: containsStrings,\n  getMaxValue: getMaxValue,\n  getMinValue: getMinValue,\n  isArrayOfArrays: isArrayOfArrays,\n  removeUndefined: removeUndefined\n};","import _keys from \"lodash/keys\";\nimport _assign from \"lodash/assign\";\nimport _pick from \"lodash/pick\";\nimport _property from \"lodash/property\";\nimport _isFunction from \"lodash/isFunction\";\nimport _defaults from \"lodash/defaults\";\n\n/* eslint-disable func-style */\n\n/* eslint-disable no-use-before-define */\nimport React from \"react\";\n\n// Private Functions\nfunction getCartesianRange(props, axis) {\n  // determine how to lay the axis and what direction positive and negative are\n  var vertical = axis !== \"x\";\n  var padding = getPadding(props);\n\n  if (vertical) {\n    return [props.height - padding.bottom, padding.top];\n  }\n\n  return [padding.left, props.width - padding.right];\n}\n\nfunction getPolarRange(props, axis) {\n  if (axis === \"x\") {\n    var startAngle = degreesToRadians(props.startAngle || 0);\n    var endAngle = degreesToRadians(props.endAngle || 360);\n    return [startAngle, endAngle];\n  }\n\n  return [props.innerRadius || 0, getRadius(props)];\n} // Exported Functions\n\n/**\n * creates an object with some keys excluded\n * replacement for lodash.omit for performance. does not mimick the entire lodash.omit api\n * @param {Object} originalObject: created object will be based on this object\n * @param {Array<String>} ks: an array of keys to omit from the new object\n * @returns {Object} new object with same properties as originalObject\n */\n\n\nfunction omit(originalObject) {\n  var ks = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  // code based on babel's _objectWithoutProperties\n  var newObject = {};\n\n  for (var key in originalObject) {\n    if (ks.indexOf(key) >= 0) {\n      continue;\n    }\n\n    if (!Object.prototype.hasOwnProperty.call(originalObject, key)) {\n      continue;\n    }\n\n    newObject[key] = originalObject[key];\n  }\n\n  return newObject;\n}\n\nfunction getPoint(datum) {\n  var exists = function (val) {\n    return val !== undefined;\n  };\n\n  var _x = datum._x,\n      _x1 = datum._x1,\n      _x0 = datum._x0,\n      _voronoiX = datum._voronoiX,\n      _y = datum._y,\n      _y1 = datum._y1,\n      _y0 = datum._y0,\n      _voronoiY = datum._voronoiY;\n  var defaultX = exists(_x1) ? _x1 : _x;\n  var defaultY = exists(_y1) ? _y1 : _y;\n  var point = {\n    x: exists(_voronoiX) ? _voronoiX : defaultX,\n    x0: exists(_x0) ? _x0 : _x,\n    y: exists(_voronoiY) ? _voronoiY : defaultY,\n    y0: exists(_y0) ? _y0 : _y\n  };\n  return _defaults({}, point, datum);\n}\n\nfunction scalePoint(props, datum) {\n  var scale = props.scale,\n      polar = props.polar,\n      horizontal = props.horizontal;\n  var d = getPoint(datum);\n  var origin = props.origin || {\n    x: 0,\n    y: 0\n  };\n  var x = horizontal ? scale.y(d.y) : scale.x(d.x);\n  var x0 = horizontal ? scale.y(d.y0) : scale.x(d.x0);\n  var y = horizontal ? scale.x(d.x) : scale.y(d.y);\n  var y0 = horizontal ? scale.x(d.x0) : scale.y(d.y0);\n  return {\n    x: polar ? y * Math.cos(x) + origin.x : x,\n    x0: polar ? y0 * Math.cos(x0) + origin.x : x0,\n    y: polar ? -y * Math.sin(x) + origin.y : y,\n    y0: polar ? -y0 * Math.sin(x0) + origin.x : y0\n  };\n}\n\nfunction getPadding(props) {\n  var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"padding\";\n  var padding = props[name];\n  var paddingVal = typeof padding === \"number\" ? padding : 0;\n  var paddingObj = typeof padding === \"object\" ? padding : {};\n  return {\n    top: paddingObj.top || paddingVal,\n    bottom: paddingObj.bottom || paddingVal,\n    left: paddingObj.left || paddingVal,\n    right: paddingObj.right || paddingVal\n  };\n}\n\nfunction isTooltip(component) {\n  var labelRole = component && component.type && component.type.role;\n  return labelRole === \"tooltip\";\n}\n\nfunction getDefaultStyles(props, role) {\n  var _props$theme = props.theme,\n      theme = _props$theme === void 0 ? {} : _props$theme,\n      labelComponent = props.labelComponent;\n  var defaultStyles = theme[role] && theme[role].style || {};\n\n  if (!isTooltip(labelComponent)) {\n    return defaultStyles;\n  }\n\n  var tooltipStyle = theme.tooltip && theme.tooltip.style || {};\n\n  var labelStyle = _defaults({}, tooltipStyle, defaultStyles.labels);\n\n  return _defaults({}, {\n    labels: labelStyle\n  }, defaultStyles);\n}\n\nfunction getStyles(style, defaultStyles) {\n  var width = \"100%\";\n  var height = \"100%\";\n\n  if (!style) {\n    return _defaults({\n      parent: {\n        height: height,\n        width: width\n      }\n    }, defaultStyles);\n  }\n\n  var data = style.data,\n      labels = style.labels,\n      parent = style.parent;\n  var defaultParent = defaultStyles && defaultStyles.parent || {};\n  var defaultLabels = defaultStyles && defaultStyles.labels || {};\n  var defaultData = defaultStyles && defaultStyles.data || {};\n  return {\n    parent: _defaults({}, parent, defaultParent, {\n      width: width,\n      height: height\n    }),\n    labels: _defaults({}, labels, defaultLabels),\n    data: _defaults({}, data, defaultData)\n  };\n}\n\nfunction evaluateProp(prop, props) {\n  return _isFunction(prop) ? prop(props) : prop;\n}\n\nfunction evaluateStyle(style, props) {\n  if (props.disableInlineStyles) {\n    return {};\n  }\n\n  if (!style || !_keys(style).some(function (value) {\n    return _isFunction(style[value]);\n  })) {\n    return style;\n  }\n\n  return _keys(style).reduce(function (prev, curr) {\n    prev[curr] = evaluateProp(style[curr], props);\n    return prev;\n  }, {});\n}\n\nfunction degreesToRadians(degrees) {\n  return typeof degrees === \"number\" ? degrees * (Math.PI / 180) : degrees;\n}\n\nfunction radiansToDegrees(radians) {\n  return typeof radians === \"number\" ? radians / (Math.PI / 180) : radians;\n}\n\nfunction getRadius(props) {\n  var _getPadding = getPadding(props),\n      left = _getPadding.left,\n      right = _getPadding.right,\n      top = _getPadding.top,\n      bottom = _getPadding.bottom;\n\n  var width = props.width,\n      height = props.height;\n  return Math.min(width - left - right, height - top - bottom) / 2;\n}\n\nfunction getPolarOrigin(props) {\n  var width = props.width,\n      height = props.height;\n\n  var _getPadding2 = getPadding(props),\n      top = _getPadding2.top,\n      bottom = _getPadding2.bottom,\n      left = _getPadding2.left,\n      right = _getPadding2.right;\n\n  var radius = Math.min(width - left - right, height - top - bottom) / 2;\n  var offsetWidth = width / 2 + left - right;\n  var offsetHeight = height / 2 + top - bottom;\n  return {\n    x: offsetWidth + radius > width ? radius + left - right : offsetWidth,\n    y: offsetHeight + radius > height ? radius + top - bottom : offsetHeight\n  };\n}\n\nfunction getRange(props, axis) {\n  if (props.range && props.range[axis]) {\n    return props.range[axis];\n  } else if (props.range && Array.isArray(props.range)) {\n    return props.range;\n  }\n\n  return props.polar ? getPolarRange(props, axis) : getCartesianRange(props, axis);\n}\n\nfunction createAccessor(key) {\n  // creates a data accessor function\n  // given a property key, path, array index, or null for identity.\n  if (_isFunction(key)) {\n    return key;\n  } else if (key === null || key === undefined) {\n    // null/undefined means \"return the data item itself\"\n    return function (x) {\n      return x;\n    };\n  } // otherwise, assume it is an array index, property key or path (_.property handles all three)\n\n\n  return _property(key);\n}\n\nfunction modifyProps(props, fallbackProps, role) {\n  var theme = props.theme && props.theme[role] ? props.theme[role] : {};\n  var themeProps = omit(theme, [\"style\"]);\n  var horizontal = isHorizontal(props);\n  var defaultObject = horizontal === undefined ? {} : {\n    horizontal: horizontal\n  };\n  return _defaults(defaultObject, props, themeProps, fallbackProps);\n}\n/**\n * Returns the given axis or the opposite axis when horizontal\n * @param {string} axis: the given axis, either \"x\" pr \"y\"\n * @param {Boolean} horizontal: true when the chart is flipped to the horizontal orientation\n * @returns {String} the dimension appropriate for the axis given its props \"x\" or \"y\"\n */\n\n\nfunction getCurrentAxis(axis, horizontal) {\n  var otherAxis = axis === \"x\" ? \"y\" : \"x\";\n  return horizontal ? otherAxis : axis;\n}\n/**\n * @param {Array} children: an array of child components\n * @param {Function} iteratee: a function with arguments \"child\", \"childName\", and \"parent\"\n * @param {Object} parentProps: props from the parent that are applied to children\n * @param {any}  initialMemo: The object in which the iteration results are combined.\n * @param {Function} combine: Combines the result of the iteratee with the current memo\n *   to the memo for the next iteration step\n * @returns {Array} returns an array of results from calling the iteratee on all nested children\n */\n\n/* eslint-disable max-params */\n\n\nfunction reduceChildren(children, iteratee) {\n  var parentProps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var initialMemo = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n  var combine = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : function (memo, item) {\n    return memo.concat(item);\n  };\n  var sharedProps = [\"data\", \"domain\", \"categories\", \"polar\", \"startAngle\", \"endAngle\", \"minDomain\", \"maxDomain\", \"horizontal\"];\n\n  var traverseChildren = function (childArray, names, parent) {\n    return childArray.reduce(function (memo, child, index) {\n      var childRole = child.type && child.type.role;\n      var childName = child.props.name || \"\".concat(childRole, \"-\").concat(names[index]);\n\n      if (child.props && child.props.children) {\n        var childProps = _assign({}, child.props, _pick(parentProps, sharedProps));\n\n        var nestedChildren = child.type && child.type.role === \"stack\" && _isFunction(child.type.getChildren) ? child.type.getChildren(childProps) : React.Children.toArray(child.props.children).map(function (c) {\n          var nestedChildProps = _assign({}, c.props, _pick(childProps, sharedProps));\n\n          return React.cloneElement(c, nestedChildProps);\n        });\n\n        var _childNames = nestedChildren.map(function (c, i) {\n          return \"\".concat(childName, \"-\").concat(i);\n        });\n\n        var nestedResults = traverseChildren(nestedChildren, _childNames, child);\n        memo = combine(memo, nestedResults);\n      } else {\n        var result = iteratee(child, childName, parent);\n\n        if (result) {\n          memo = combine(memo, result);\n        }\n      }\n\n      return memo;\n    }, initialMemo);\n  };\n\n  var childNames = children.map(function (c, i) {\n    return i;\n  });\n  return traverseChildren(children, childNames);\n}\n/**\n * @param {Object} props: the props object\n * @returns {Boolean} returns true if the props object contains `horizontal: true` of if any\n * children or nested children are hoizontal\n */\n\n\nfunction isHorizontal(props) {\n  if (props.horizontal !== undefined || !props.children) {\n    return props.horizontal;\n  }\n\n  var traverseChildren = function (childArray) {\n    return childArray.reduce(function (memo, child) {\n      var childProps = child.props || {};\n\n      if (memo || childProps.horizontal || !childProps.children) {\n        memo = memo || childProps.horizontal;\n        return memo;\n      }\n\n      return traverseChildren(React.Children.toArray(childProps.children));\n    }, false);\n  };\n\n  return traverseChildren(React.Children.toArray(props.children));\n}\n\nexport default {\n  omit: omit,\n  getPoint: getPoint,\n  scalePoint: scalePoint,\n  getPadding: getPadding,\n  getDefaultStyles: getDefaultStyles,\n  getStyles: getStyles,\n  evaluateProp: evaluateProp,\n  evaluateStyle: evaluateStyle,\n  degreesToRadians: degreesToRadians,\n  radiansToDegrees: radiansToDegrees,\n  getRadius: getRadius,\n  getPolarOrigin: getPolarOrigin,\n  getRange: getRange,\n  createAccessor: createAccessor,\n  modifyProps: modifyProps,\n  getCurrentAxis: getCurrentAxis,\n  reduceChildren: reduceChildren,\n  isHorizontal: isHorizontal,\n  isTooltip: isTooltip\n};","import _isPlainObject from \"lodash/isPlainObject\";\nimport _isFunction from \"lodash/isFunction\";\nimport _includes from \"lodash/includes\";\nimport Helpers from \"./helpers\";\nimport Collection from \"./collection\";\nimport * as d3Scale from \"d3-scale\";\nvar supportedScaleStrings = [\"linear\", \"time\", \"log\", \"sqrt\"]; // Private Functions\n\nfunction toNewName(scale) {\n  // d3 scale changed the naming scheme for scale from \"linear\" -> \"scaleLinear\" etc.\n  var capitalize = function (s) {\n    return s && s[0].toUpperCase() + s.slice(1);\n  };\n\n  return \"scale\".concat(capitalize(scale));\n}\n\nfunction validScale(scale) {\n  if (typeof scale === \"function\") {\n    return _isFunction(scale.copy) && _isFunction(scale.domain) && _isFunction(scale.range);\n  } else if (typeof scale === \"string\") {\n    return _includes(supportedScaleStrings, scale);\n  }\n\n  return false;\n}\n\nfunction isScaleDefined(props, axis) {\n  if (!props.scale) {\n    return false;\n  } else if (props.scale.x || props.scale.y) {\n    return props.scale[axis] ? true : false;\n  }\n\n  return true;\n}\n\nfunction getScaleTypeFromProps(props, axis) {\n  if (!isScaleDefined(props, axis)) {\n    return undefined;\n  }\n\n  var scale = props.scale[axis] || props.scale;\n  return typeof scale === \"string\" ? scale : getType(scale);\n}\n\nfunction getScaleFromDomain(props, axis) {\n  var domain;\n\n  if (props.domain && props.domain[axis]) {\n    domain = props.domain[axis];\n  } else if (props.domain && Array.isArray(props.domain)) {\n    domain = props.domain;\n  }\n\n  if (!domain) {\n    return undefined;\n  }\n\n  return Collection.containsDates(domain) ? \"time\" : \"linear\";\n}\n\nfunction getScaleTypeFromData(props, axis) {\n  if (!props.data) {\n    return \"linear\";\n  }\n\n  var accessor = Helpers.createAccessor(props[axis]);\n  var axisData = props.data.map(function (datum) {\n    var processedData = _isPlainObject(accessor(datum)) ? accessor(datum)[axis] : accessor(datum);\n    return processedData !== undefined ? processedData : datum[axis];\n  });\n  return Collection.containsDates(axisData) ? \"time\" : \"linear\";\n} // Exported Functions\n\n\nfunction getScaleFromName(name) {\n  return validScale(name) ? d3Scale[toNewName(name)]() : d3Scale.scaleLinear();\n}\n\nfunction getBaseScale(props, axis) {\n  var scale = getScaleFromProps(props, axis);\n\n  if (scale) {\n    return typeof scale === \"string\" ? getScaleFromName(scale) : scale;\n  }\n\n  var defaultScale = getScaleFromDomain(props, axis) || getScaleTypeFromData(props, axis);\n  return d3Scale[toNewName(defaultScale)]();\n}\n\nfunction getDefaultScale() {\n  return d3Scale.scaleLinear();\n}\n\nfunction getScaleFromProps(props, axis) {\n  if (!isScaleDefined(props, axis)) {\n    return undefined;\n  }\n\n  var scale = props.scale[axis] || props.scale;\n\n  if (validScale(scale)) {\n    return _isFunction(scale) ? scale : d3Scale[toNewName(scale)]();\n  }\n\n  return undefined;\n}\n\nfunction getScaleType(props, axis) {\n  // if the scale was not given in props, it will be set to linear or time depending on data\n  return getScaleTypeFromProps(props, axis) || getScaleTypeFromData(props, axis);\n}\n\nfunction getType(scale) {\n  if (typeof scale === \"string\") {\n    return scale;\n  }\n\n  var duckTypes = [{\n    name: \"log\",\n    method: \"base\"\n  }, {\n    name: \"ordinal\",\n    method: \"unknown\"\n  }, {\n    name: \"pow-sqrt\",\n    method: \"exponent\"\n  }, {\n    name: \"quantile\",\n    method: \"quantiles\"\n  }, {\n    name: \"quantize-threshold\",\n    method: \"invertExtent\"\n  }];\n  var scaleType = duckTypes.filter(function (type) {\n    return scale[type.method] !== undefined;\n  })[0];\n  return scaleType ? scaleType.name : undefined;\n}\n\nexport default {\n  getBaseScale: getBaseScale,\n  getDefaultScale: getDefaultScale,\n  getScaleFromProps: getScaleFromProps,\n  getScaleType: getScaleType,\n  getType: getType,\n  getScaleFromName: getScaleFromName\n};","export default {\n  IMMUTABLE_ITERABLE: \"@@__IMMUTABLE_ITERABLE__@@\",\n  IMMUTABLE_RECORD: \"@@__IMMUTABLE_RECORD__@@\",\n  IMMUTABLE_LIST: \"@@__IMMUTABLE_LIST__@@\",\n  IMMUTABLE_MAP: \"@@__IMMUTABLE_MAP__@@\",\n  isImmutable: function (x) {\n    return this.isIterable(x) || this.isRecord(x);\n  },\n  isIterable: function (x) {\n    return !!(x && x[this.IMMUTABLE_ITERABLE]);\n  },\n  isRecord: function (x) {\n    return !!(x && x[this.IMMUTABLE_RECORD]);\n  },\n  isList: function (x) {\n    return !!(x && x[this.IMMUTABLE_LIST]);\n  },\n  isMap: function (x) {\n    return !!(x && x[this.IMMUTABLE_MAP]);\n  },\n  shallowToJS: function (x, whitelist) {\n    var _this = this;\n\n    return this.isIterable(x) ? x.reduce(function (prev, curr, key) {\n      if (whitelist && whitelist[key]) {\n        curr = _this.shallowToJS(curr);\n      }\n\n      prev[key] = curr;\n      return prev;\n    }, this.isList(x) ? [] : {}) : x;\n  }\n};","import _omitBy from \"lodash/omitBy\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport _includes from \"lodash/includes\";\nimport _isEqual from \"lodash/isEqual\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _orderBy from \"lodash/orderBy\";\nimport _property from \"lodash/property\";\nimport _isPlainObject from \"lodash/isPlainObject\";\nimport _isFunction from \"lodash/isFunction\";\nimport _last from \"lodash/last\";\nimport _range from \"lodash/range\";\nimport _uniq from \"lodash/uniq\";\nimport _assign from \"lodash/assign\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\n/* eslint-disable func-style */\n\n/* eslint-disable no-use-before-define */\nimport React from \"react\";\nimport Helpers from \"./helpers\";\nimport Collection from \"./collection\";\nimport Scale from \"./scale\";\nimport Immutable from \"./immutable\"; // Private Functions\n\nfunction parseDatum(datum) {\n  var immutableDatumWhitelist = {\n    errorX: true,\n    errorY: true\n  };\n  return Immutable.isImmutable(datum) ? Immutable.shallowToJS(datum, immutableDatumWhitelist) : datum;\n}\n\nfunction getLength(data) {\n  return Immutable.isIterable(data) ? data.size : data.length;\n} // Returns generated data for a given axis based on domain and sample from props\n\n\nfunction generateDataArray(props, axis) {\n  var propsDomain = _isPlainObject(props.domain) ? props.domain[axis] : props.domain;\n  var domain = propsDomain || Scale.getBaseScale(props, axis).domain();\n  var samples = props.samples || 1;\n  var domainMax = Math.max.apply(Math, _toConsumableArray(domain));\n  var domainMin = Math.min.apply(Math, _toConsumableArray(domain));\n  var step = (domainMax - domainMin) / samples;\n\n  var values = _range(domainMin, domainMax, step);\n\n  return _last(values) === domainMax ? values : values.concat(domainMax);\n} // Returns sorted data. If no sort keys are provided, data is returned unaltered.\n\n\nfunction sortData(dataset, sortKey) {\n  var sortOrder = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"ascending\";\n\n  if (!sortKey) {\n    return dataset;\n  } // Ensures previous VictoryLine api for sortKey prop stays consistent\n\n\n  if (sortKey === \"x\" || sortKey === \"y\") {\n    sortKey = \"_\".concat(sortKey);\n  }\n\n  var order = sortOrder === \"ascending\" ? \"asc\" : \"desc\";\n  return _orderBy(dataset, sortKey, order);\n} // This method will remove data points that break certain scales. (log scale only)\n\n\nfunction cleanData(dataset, props) {\n  var smallNumber = 1 / Number.MAX_SAFE_INTEGER;\n  var scaleType = {\n    x: Scale.getScaleType(props, \"x\"),\n    y: Scale.getScaleType(props, \"y\")\n  };\n\n  if (scaleType.x !== \"log\" && scaleType.y !== \"log\") {\n    return dataset;\n  }\n\n  var rules = function (datum, axis) {\n    return scaleType[axis] === \"log\" ? datum[\"_\".concat(axis)] !== 0 : true;\n  };\n\n  var sanitize = function (datum) {\n    var _x = rules(datum, \"x\") ? datum._x : smallNumber;\n\n    var _y = rules(datum, \"y\") ? datum._y : smallNumber;\n\n    var _y0 = rules(datum, \"y0\") ? datum._y0 : smallNumber;\n\n    return _assign({}, datum, {\n      _x: _x,\n      _y: _y,\n      _y0: _y0\n    });\n  };\n\n  return dataset.map(function (datum) {\n    if (rules(datum, \"x\") && rules(datum, \"y\") && rules(datum, \"y0\")) {\n      return datum;\n    }\n\n    return sanitize(datum);\n  });\n} // This method will remove data points that fall outside of the desired domain (non-continuous charts only)\n\n\nfunction formatDataFromDomain(dataset, domain, defaultBaseline) {\n  var exists = function (val) {\n    return val !== undefined;\n  };\n\n  var minDomainX = Collection.getMinValue(domain.x);\n  var maxDomainX = Collection.getMaxValue(domain.x);\n  var minDomainY = Collection.getMinValue(domain.y);\n  var maxDomainY = Collection.getMaxValue(domain.y);\n\n  var underMin = function (min) {\n    return function (val) {\n      return exists(val) && val < min;\n    };\n  };\n\n  var overMax = function (max) {\n    return function (val) {\n      return exists(val) && val > max;\n    };\n  };\n\n  var isUnderMinX = underMin(minDomainX);\n  var isUnderMinY = underMin(minDomainY);\n  var isOverMaxX = overMax(maxDomainX);\n  var isOverMaxY = overMax(maxDomainY); // eslint-disable-next-line complexity\n\n  return dataset.map(function (datum) {\n    var _x = datum._x,\n        _y = datum._y,\n        _y0 = datum._y0,\n        _y1 = datum._y1; // single x point less than min domain\n\n    if (isUnderMinX(_x) || isOverMaxX(_x)) _x = null;\n    var baseline = exists(_y0) ? _y0 : defaultBaseline;\n    var value = exists(_y1) ? _y1 : _y;\n    if (!exists(value)) return datum; // value only and less than min domain or greater than max domain\n\n    if (!exists(baseline) && (isUnderMinY(value) || isOverMaxY(value))) _y = null; // baseline and value are both less than min domain or both greater than max domain\n\n    if (isUnderMinY(baseline) && isUnderMinY(value) || isOverMaxY(baseline) && isOverMaxY(value)) _y = _y0 = _y1 = null; // baseline and value with only baseline below min, set baseline to minDomainY\n\n    if (isUnderMinY(baseline) && !isUnderMinY(value)) _y0 = minDomainY; // baseline and value with only baseline above max, set baseline to maxDomainY\n\n    if (isOverMaxY(baseline) && !isOverMaxY(value)) _y0 = maxDomainY;\n    return _assign({}, datum, _omitBy({\n      _x: _x,\n      _y: _y,\n      _y0: _y0,\n      _y1: _y1\n    }, _isUndefined));\n  });\n} // Returns a data accessor given an eventKey prop\n\n\nfunction getEventKey(key) {\n  // creates a data accessor function\n  // given a property key, path, array index, or null for identity.\n  if (_isFunction(key)) {\n    return key;\n  } else if (key === null || key === undefined) {\n    return function () {\n      return undefined;\n    };\n  } // otherwise, assume it is an array index, property key or path (_.property handles all three)\n\n\n  return _property(key);\n} // Returns data with an eventKey prop added to each datum\n\n\nfunction addEventKeys(props, data) {\n  var hasEventKeyAccessor = !!props.eventKey;\n  var eventKeyAccessor = getEventKey(props.eventKey);\n  return data.map(function (datum, index) {\n    if (datum.eventKey !== undefined) {\n      return datum;\n    } else if (hasEventKeyAccessor) {\n      var eventKey = eventKeyAccessor(datum, index);\n      return eventKey !== undefined ? _assign({\n        eventKey: eventKey\n      }, datum) : datum;\n    } else {\n      return datum;\n    }\n  });\n} // Exported Functions\n\n/**\n * Returns an object mapping string data to numeric data\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @returns {Object} an object mapping string data to numeric data\n */\n\n\nfunction createStringMap(props, axis) {\n  var stringsFromAxes = getStringsFromAxes(props, axis);\n  var stringsFromCategories = getStringsFromCategories(props, axis);\n  var stringsFromData = getStringsFromData(props, axis);\n\n  var allStrings = _uniq(_toConsumableArray(stringsFromAxes).concat(_toConsumableArray(stringsFromCategories), _toConsumableArray(stringsFromData)));\n\n  return allStrings.length === 0 ? null : allStrings.reduce(function (memo, string, index) {\n    memo[string] = index + 1;\n    return memo;\n  }, {});\n}\n/**\n * Reduces the size of a data array, such that it is <= maxPoints.\n * @param {Array} data: an array of data; must be sorted\n * @param {Number} maxPoints: maximum number of data points to return\n * @param {Number} startingIndex: the index of the data[0] *in the entire dataset*; this function\n                   assumes `data` param is a subset of larger dataset that has been zoommed\n  * @returns {Array} an array of data, a subset of data param\n  */\n\n\nfunction downsample(data, maxPoints) {\n  var startingIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  // ensures that the downampling of data while zooming looks good.\n  var dataLength = getLength(data);\n\n  if (dataLength > maxPoints) {\n    // limit k to powers of 2, e.g. 64, 128, 256\n    // so that the same points will be chosen reliably, reducing flicker on zoom\n    var k = Math.pow(2, Math.ceil(Math.log2(dataLength / maxPoints)));\n    return data.filter( // ensure modulo is always calculated from same reference: i + startingIndex\n    function (d, i) {\n      return (i + startingIndex) % k === 0;\n    });\n  }\n\n  return data;\n}\n/**\n * Returns formatted data. Data accessors are applied, and string values are replaced.\n * @param {Array} dataset: the original domain\n * @param {Object} props: the props object\n * @param {Array} expectedKeys: an array of expected data keys\n * @returns {Array} the formatted data\n */\n\n\nfunction formatData(dataset, props, expectedKeys) {\n  var isArrayOrIterable = Array.isArray(dataset) || Immutable.isIterable(dataset);\n\n  if (!isArrayOrIterable || getLength(dataset) < 1) {\n    return [];\n  }\n\n  var defaultKeys = [\"x\", \"y\", \"y0\"];\n  expectedKeys = Array.isArray(expectedKeys) ? expectedKeys : defaultKeys;\n\n  var createAccessor = function (name) {\n    return Helpers.createAccessor(props[name] !== undefined ? props[name] : name);\n  };\n\n  var accessor = expectedKeys.reduce(function (memo, type) {\n    memo[type] = createAccessor(type);\n    return memo;\n  }, {});\n  var preformattedData = _isEqual(expectedKeys, defaultKeys) && props.x === \"_x\" && props.y === \"_y\" && props.y0 === \"_y0\";\n  var stringMap;\n\n  if (preformattedData === false) {\n    // stringMap is not required if the data is preformatted\n    stringMap = {\n      x: expectedKeys.indexOf(\"x\") !== -1 ? createStringMap(props, \"x\") : undefined,\n      y: expectedKeys.indexOf(\"y\") !== -1 ? createStringMap(props, \"y\") : undefined,\n      y0: expectedKeys.indexOf(\"y0\") !== -1 ? createStringMap(props, \"y\") : undefined\n    };\n  }\n\n  var data = preformattedData ? dataset : dataset.reduce(function (dataArr, datum, index) {\n    // eslint-disable-line complexity\n    datum = parseDatum(datum);\n    var fallbackValues = {\n      x: index,\n      y: datum\n    };\n    var processedValues = expectedKeys.reduce(function (memo, type) {\n      var processedValue = accessor[type](datum);\n      var value = processedValue !== undefined ? processedValue : fallbackValues[type];\n\n      if (value !== undefined) {\n        if (typeof value === \"string\" && stringMap[type]) {\n          memo[\"\".concat(type, \"Name\")] = value;\n          memo[\"_\".concat(type)] = stringMap[type][value];\n        } else {\n          memo[\"_\".concat(type)] = value;\n        }\n      }\n\n      return memo;\n    }, {});\n\n    var formattedDatum = _assign({}, processedValues, datum);\n\n    if (!_isEmpty(formattedDatum)) {\n      dataArr.push(formattedDatum);\n    }\n\n    return dataArr;\n  }, []);\n  var sortedData = sortData(data, props.sortKey, props.sortOrder);\n  var cleanedData = cleanData(sortedData, props);\n  return addEventKeys(props, cleanedData);\n}\n/**\n * Returns generated x and y data based on domain and sample from props\n * @param {Object} props: the props object\n * @returns {Array} an array of data\n */\n\n\nfunction generateData(props) {\n  var xValues = generateDataArray(props, \"x\");\n  var yValues = generateDataArray(props, \"y\");\n  var values = xValues.map(function (x, i) {\n    return {\n      x: x,\n      y: yValues[i]\n    };\n  });\n  return values;\n}\n/**\n * Returns an array of categories for a given axis\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @returns {Array} an array of categories\n */\n\n\nfunction getCategories(props, axis) {\n  return props.categories && !Array.isArray(props.categories) ? props.categories[axis] : props.categories;\n}\n/**\n * Returns an array of formatted data\n * @param {Object} props: the props object\n * @returns {Array} an array of data\n */\n\n\nfunction getData(props) {\n  return props.data ? formatData(props.data, props) : formatData(generateData(props), props);\n}\n/**\n * Returns an array of strings from axis tickValues for a given axis\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @returns {Array} an array of strings\n */\n\n\nfunction getStringsFromAxes(props, axis) {\n  var tickValues = props.tickValues,\n      tickFormat = props.tickFormat;\n  var tickValueArray;\n\n  if (!tickValues || !Array.isArray(tickValues) && !tickValues[axis]) {\n    tickValueArray = tickFormat && Array.isArray(tickFormat) ? tickFormat : [];\n  } else {\n    tickValueArray = tickValues[axis] || tickValues;\n  }\n\n  return tickValueArray.filter(function (val) {\n    return typeof val === \"string\";\n  });\n}\n/**\n * Returns an array of strings from categories for a given axis\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @returns {Array} an array of strings\n */\n\n\nfunction getStringsFromCategories(props, axis) {\n  if (!props.categories) {\n    return [];\n  }\n\n  var categories = getCategories(props, axis);\n  var categoryStrings = categories && categories.filter(function (val) {\n    return typeof val === \"string\";\n  });\n  return categoryStrings ? Collection.removeUndefined(categoryStrings) : [];\n}\n/**\n * Returns an array of strings from data\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @returns {Array} an array of strings\n */\n\n\nfunction getStringsFromData(props, axis) {\n  var isArrayOrIterable = Array.isArray(props.data) || Immutable.isIterable(props.data);\n\n  if (!isArrayOrIterable) {\n    return [];\n  }\n\n  var key = props[axis] === undefined ? axis : props[axis];\n  var accessor = Helpers.createAccessor(key); // support immutable data\n\n  var data = props.data.reduce(function (memo, d) {\n    memo.push(parseDatum(d));\n    return memo;\n  }, []);\n  var sortedData = sortData(data, props.sortKey, props.sortOrder);\n  var dataStrings = sortedData.reduce(function (dataArr, datum) {\n    datum = parseDatum(datum);\n    dataArr.push(accessor(datum));\n    return dataArr;\n  }, []).filter(function (datum) {\n    return typeof datum === \"string\";\n  }); // return a unique set of strings\n\n  return dataStrings.reduce(function (prev, curr) {\n    if (curr !== undefined && curr !== null && prev.indexOf(curr) === -1) {\n      prev.push(curr);\n    }\n\n    return prev;\n  }, []);\n}\n/**\n * Checks whether a given component can be used to calculate data\n * @param {Component} component: a React component instance\n * @returns {Boolean} Returns true if the given component has a role included in the whitelist\n */\n\n\nfunction isDataComponent(component) {\n  var getRole = function (child) {\n    return child && child.type ? child.type.role : \"\";\n  };\n\n  var role = getRole(component);\n\n  if (role === \"portal\") {\n    var children = React.Children.toArray(component.props.children);\n    role = children.length ? getRole(children[0]) : \"\";\n  }\n\n  var whitelist = [\"area\", \"bar\", \"boxplot\", \"candlestick\", \"errorbar\", \"group\", \"histogram\", \"line\", \"pie\", \"scatter\", \"stack\", \"voronoi\"];\n  return _includes(whitelist, role);\n}\n\nexport default {\n  createStringMap: createStringMap,\n  downsample: downsample,\n  formatData: formatData,\n  formatDataFromDomain: formatDataFromDomain,\n  generateData: generateData,\n  getCategories: getCategories,\n  getData: getData,\n  getStringsFromAxes: getStringsFromAxes,\n  getStringsFromCategories: getStringsFromCategories,\n  getStringsFromData: getStringsFromData,\n  isDataComponent: isDataComponent\n};","import _isDate from \"lodash/isDate\";\nimport _includes from \"lodash/includes\";\nimport _isFunction from \"lodash/isFunction\";\nimport _sortedUniq from \"lodash/sortedUniq\";\nimport _isPlainObject from \"lodash/isPlainObject\";\nimport _flatten from \"lodash/flatten\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\n/* eslint-disable func-style */\n\n/* eslint-disable no-use-before-define */\nimport React from \"react\";\nimport Data from \"./data\";\nimport Scale from \"./scale\";\nimport Helpers from \"./helpers\";\nimport Collection from \"./collection\"; // Private Methods\n\nfunction cleanDomain(domain, props, axis) {\n  var scaleType = Scale.getScaleType(props, axis);\n\n  if (scaleType !== \"log\") {\n    return domain;\n  }\n\n  var rules = function (dom) {\n    var almostZero = dom[0] < 0 || dom[1] < 0 ? -1 / Number.MAX_SAFE_INTEGER : 1 / Number.MAX_SAFE_INTEGER;\n    var domainOne = dom[0] === 0 ? almostZero : dom[0];\n    var domainTwo = dom[1] === 0 ? almostZero : dom[1];\n    return [domainOne, domainTwo];\n  };\n\n  return rules(domain);\n}\n\nfunction getDomainPadding(props, axis) {\n  var formatPadding = function (padding) {\n    return Array.isArray(padding) ? {\n      left: padding[0],\n      right: padding[1]\n    } : {\n      left: padding,\n      right: padding\n    };\n  };\n\n  return _isPlainObject(props.domainPadding) ? formatPadding(props.domainPadding[axis]) : formatPadding(props.domainPadding);\n}\n\nfunction getFlatData(dataset, axis) {\n  return _flatten(dataset).map(function (datum) {\n    return datum[\"_\".concat(axis)] && datum[\"_\".concat(axis)][1] !== undefined ? datum[\"_\".concat(axis)][1] : datum[\"_\".concat(axis)];\n  });\n}\n\nfunction getExtremeFromData(dataset, axis) {\n  var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"min\";\n\n  var getExtreme = function (arr) {\n    return type === \"max\" ? Math.max.apply(Math, _toConsumableArray(arr)) : Math.min.apply(Math, _toConsumableArray(arr));\n  };\n\n  var initialValue = type === \"max\" ? -Infinity : Infinity;\n  var containsDate = false;\n\n  var result = _flatten(dataset).reduce(function (memo, datum) {\n    var current0 = datum[\"_\".concat(axis, \"0\")] !== undefined ? datum[\"_\".concat(axis, \"0\")] : datum[\"_\".concat(axis)];\n    var current1 = datum[\"_\".concat(axis, \"1\")] !== undefined ? datum[\"_\".concat(axis, \"1\")] : datum[\"_\".concat(axis)];\n    var current = getExtreme([current0, current1]);\n    containsDate = containsDate || current0 instanceof Date || current1 instanceof Date;\n    return getExtreme([memo, current]);\n  }, initialValue);\n\n  return containsDate ? new Date(result) : result;\n} //eslint-disable-next-line max-statements\n\n\nfunction padDomain(domain, props, axis) {\n  if (!props.domainPadding) {\n    return domain;\n  }\n\n  var minDomain = getMinFromProps(props, axis);\n  var maxDomain = getMaxFromProps(props, axis);\n  var padding = getDomainPadding(props, axis);\n\n  if (!padding.left && !padding.right) {\n    return domain;\n  }\n\n  var min = Collection.getMinValue(domain);\n  var max = Collection.getMaxValue(domain);\n  var currentAxis = Helpers.getCurrentAxis(axis, props.horizontal);\n  var range = Helpers.getRange(props, currentAxis);\n  var rangeExtent = Math.abs(range[0] - range[1]);\n  var paddedRangeExtent = Math.max(rangeExtent - padding.left - padding.right, 1);\n  var paddedDomainExtent = Math.abs(max.valueOf() - min.valueOf()) / paddedRangeExtent * rangeExtent;\n  var simplePadding = {\n    left: paddedDomainExtent * padding.left / rangeExtent,\n    right: paddedDomainExtent * padding.right / rangeExtent\n  };\n  var paddedDomain = {\n    min: min.valueOf() - simplePadding.left,\n    max: max.valueOf() + simplePadding.right\n  };\n  var singleQuadrantDomainPadding = _isPlainObject(props.singleQuadrantDomainPadding) ? props.singleQuadrantDomainPadding[axis] : props.singleQuadrantDomainPadding;\n  var addsQuadrants = min >= 0 && paddedDomain.min <= 0 || max <= 0 && paddedDomain.max >= 0;\n\n  var adjust = function (val, type) {\n    var coerce = type === \"min\" && min >= 0 && val <= 0 || type === \"max\" && max <= 0 && val >= 0;\n    return coerce ? 0 : val;\n  };\n\n  if (addsQuadrants && singleQuadrantDomainPadding !== false) {\n    // Naive initial padding calculation\n    var initialPadding = {\n      left: Math.abs(max - min) * padding.left / rangeExtent,\n      right: Math.abs(max - min) * padding.right / rangeExtent\n    }; // Adjust the domain by the initial padding\n\n    var adjustedDomain = {\n      min: adjust(min.valueOf() - initialPadding.left, \"min\"),\n      max: adjust(max.valueOf() + initialPadding.right, \"max\")\n    }; // re-calculate padding, taking the adjusted domain into account\n\n    var finalPadding = {\n      left: Math.abs(adjustedDomain.max - adjustedDomain.min) * padding.left / rangeExtent,\n      right: Math.abs(adjustedDomain.max - adjustedDomain.min) * padding.right / rangeExtent\n    }; // Adjust the domain by the final padding\n\n    paddedDomain = {\n      min: adjust(min.valueOf() - finalPadding.left, \"min\"),\n      max: adjust(max.valueOf() + finalPadding.right, \"max\")\n    };\n  } // default to minDomain / maxDomain if they exist\n\n\n  var finalDomain = {\n    min: minDomain !== undefined ? minDomain : paddedDomain.min,\n    max: maxDomain !== undefined ? maxDomain : paddedDomain.max\n  };\n  return min instanceof Date || max instanceof Date ? getDomainFromMinMax(new Date(finalDomain.min), new Date(finalDomain.max)) : getDomainFromMinMax(finalDomain.min, finalDomain.max);\n} // Public Methods\n\n/**\n * Returns a getDomain function\n * @param {Function} getDomainFromDataFunction: a function that takes props and axis and\n * returns a domain based on data\n * @param {Function} formatDomainFunction: a function that takes domain, props, and axis and\n * returns a formatted domain\n * @returns {Function} a function that takes props and axis and returns a formatted domain\n */\n\n\nfunction createDomainFunction(getDomainFromDataFunction, formatDomainFunction) {\n  getDomainFromDataFunction = _isFunction(getDomainFromDataFunction) ? getDomainFromDataFunction : getDomainFromData;\n  formatDomainFunction = _isFunction(formatDomainFunction) ? formatDomainFunction : formatDomain;\n  return function (props, axis) {\n    var propsDomain = getDomainFromProps(props, axis);\n\n    if (propsDomain) {\n      return formatDomainFunction(propsDomain, props, axis);\n    }\n\n    var categories = Data.getCategories(props, axis);\n    var domain = categories ? getDomainFromCategories(props, axis, categories) : getDomainFromDataFunction(props, axis);\n    return domain ? formatDomainFunction(domain, props, axis) : undefined;\n  };\n}\n/**\n * Returns a formatted domain.\n * @param {Array} domain: a domain in the form of a two element array\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @returns {Array} a domain in the form of a two element array\n */\n\n\nfunction formatDomain(domain, props, axis) {\n  return cleanDomain(padDomain(domain, props, axis), props, axis);\n}\n/**\n * Returns a domain for a given axis based on props, category, or data\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @returns {Array} the domain for the given axis\n */\n\n\nfunction getDomain(props, axis) {\n  return createDomainFunction()(props, axis);\n}\n/**\n * Returns a domain based on categories if they exist\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @param {Array} categories: an array of categories corresponding to a given axis\n * @returns {Array|undefined} returns a domain from categories or undefined\n */\n\n\nfunction getDomainFromCategories(props, axis, categories) {\n  categories = categories || Data.getCategories(props, axis);\n  var polar = props.polar,\n      _props$startAngle = props.startAngle,\n      startAngle = _props$startAngle === void 0 ? 0 : _props$startAngle,\n      _props$endAngle = props.endAngle,\n      endAngle = _props$endAngle === void 0 ? 360 : _props$endAngle;\n\n  if (!categories) {\n    return undefined;\n  }\n\n  var minDomain = getMinFromProps(props, axis);\n  var maxDomain = getMaxFromProps(props, axis);\n  var stringArray = Collection.containsStrings(categories) ? Data.getStringsFromCategories(props, axis) : [];\n  var stringMap = stringArray.length === 0 ? null : stringArray.reduce(function (memo, string, index) {\n    memo[string] = index + 1;\n    return memo;\n  }, {});\n  var categoryValues = stringMap ? categories.map(function (value) {\n    return stringMap[value];\n  }) : categories;\n  var min = minDomain !== undefined ? minDomain : Collection.getMinValue(categoryValues);\n  var max = maxDomain !== undefined ? maxDomain : Collection.getMaxValue(categoryValues);\n  var categoryDomain = getDomainFromMinMax(min, max);\n  return polar && axis === \"x\" && Math.abs(startAngle - endAngle) === 360 ? getSymmetricDomain(categoryDomain, categoryValues) : categoryDomain;\n}\n/**\n * Returns a domain from a dataset for a given axis\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @param {Array} dataset: an array of data\n * @returns {Array} the domain based on data\n */\n\n\nfunction getDomainFromData(props, axis, dataset) {\n  dataset = dataset || Data.getData(props);\n  var polar = props.polar,\n      _props$startAngle2 = props.startAngle,\n      startAngle = _props$startAngle2 === void 0 ? 0 : _props$startAngle2,\n      _props$endAngle2 = props.endAngle,\n      endAngle = _props$endAngle2 === void 0 ? 360 : _props$endAngle2;\n  var minDomain = getMinFromProps(props, axis);\n  var maxDomain = getMaxFromProps(props, axis);\n\n  if (dataset.length < 1) {\n    return minDomain !== undefined && maxDomain !== undefined ? getDomainFromMinMax(minDomain, maxDomain) : undefined;\n  }\n\n  var min = minDomain !== undefined ? minDomain : getExtremeFromData(dataset, axis, \"min\");\n  var max = maxDomain !== undefined ? maxDomain : getExtremeFromData(dataset, axis, \"max\");\n  var domain = getDomainFromMinMax(min, max);\n  return polar && axis === \"x\" && Math.abs(startAngle - endAngle) === 360 ? getSymmetricDomain(domain, getFlatData(dataset, axis)) : domain;\n}\n/**\n * Returns a domain in the form of a two element array given a min and max value.\n * @param {Number|Date} min: the props object\n * @param {Number|Date} max: the current axis\n * @returns {Array} the minDomain based on props\n */\n\n\nfunction getDomainFromMinMax(min, max) {\n  var getSinglePointDomain = function (val) {\n    // d3-scale does not properly resolve very small differences.\n    var verySmallNumber = // eslint-disable-next-line no-magic-numbers\n    val === 0 ? 2 * Math.pow(10, -10) : Math.pow(10, -10);\n    var verySmallDate = 1;\n    var minVal = val instanceof Date ? new Date(+val - verySmallDate) : +val - verySmallNumber;\n    var maxVal = val instanceof Date ? new Date(+val + verySmallDate) : +val + verySmallNumber;\n    return val === 0 ? [0, maxVal] : [minVal, maxVal];\n  };\n\n  return +min === +max ? getSinglePointDomain(max) : [min, max];\n}\n/**\n * Returns a the domain for a given axis if domain is given in props\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @returns {Array|undefined} the domain based on props\n */\n\n\nfunction getDomainFromProps(props, axis) {\n  var minDomain = getMinFromProps(props, axis);\n  var maxDomain = getMaxFromProps(props, axis);\n\n  if (_isPlainObject(props.domain) && props.domain[axis]) {\n    return props.domain[axis];\n  } else if (Array.isArray(props.domain)) {\n    return props.domain;\n  } else if (minDomain !== undefined && maxDomain !== undefined) {\n    return getDomainFromMinMax(minDomain, maxDomain);\n  }\n\n  return undefined;\n}\n/**\n * Returns a domain for a given axis. This method forces the domain to include\n * zero unless the domain is explicitly specified in props.\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @returns {Array} the domain for the given axis\n */\n\n\nfunction getDomainWithZero(props, axis) {\n  var propsDomain = getDomainFromProps(props, axis);\n\n  if (propsDomain) {\n    return propsDomain;\n  }\n\n  var dataset = Data.getData(props);\n  var y0Min = dataset.reduce(function (min, datum) {\n    return datum._y0 < min ? datum._y0 : min;\n  }, Infinity);\n\n  var ensureZero = function (domain) {\n    if (axis === \"x\") {\n      return domain;\n    }\n\n    var defaultMin = y0Min !== Infinity ? y0Min : 0;\n    var maxDomainProp = getMaxFromProps(props, axis);\n    var minDomainProp = getMinFromProps(props, axis);\n    var max = maxDomainProp !== undefined ? maxDomainProp : Collection.getMaxValue(domain, defaultMin);\n    var min = minDomainProp !== undefined ? minDomainProp : Collection.getMinValue(domain, defaultMin);\n    return getDomainFromMinMax(min, max);\n  };\n\n  var getDomainFunction = function () {\n    return getDomainFromData(props, axis, dataset);\n  };\n\n  var formatDomainFunction = function (domain) {\n    return formatDomain(ensureZero(domain), props, axis);\n  };\n\n  return createDomainFunction(getDomainFunction, formatDomainFunction)(props, axis);\n}\n/**\n * Returns the maxDomain from props if it exists\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @returns {Number|Date|undefined} the maxDomain based on props\n */\n\n\nfunction getMaxFromProps(props, axis) {\n  if (_isPlainObject(props.maxDomain) && props.maxDomain[axis] !== undefined) {\n    return props.maxDomain[axis];\n  }\n\n  return typeof props.maxDomain === \"number\" || _isDate(props.maxDomain) ? props.maxDomain : undefined;\n}\n/**\n * Returns the minDomain from props if it exists\n * @param {Object} props: the props object\n * @param {String} axis: the current axis\n * @returns {Number|Date|undefined} the minDomain based on props\n */\n\n\nfunction getMinFromProps(props, axis) {\n  if (_isPlainObject(props.minDomain) && props.minDomain[axis] !== undefined) {\n    return props.minDomain[axis];\n  }\n\n  return typeof props.minDomain === \"number\" || _isDate(props.minDomain) ? props.minDomain : undefined;\n}\n/**\n * Returns a symmetrically padded domain for polar charts\n * @param {Array} domain: the original domain\n * @param {Array} values: a flat array of values corresponding to either tickValues, or data values\n * for a given dimension i.e. only x values.\n * @returns {Array} the symmetric domain\n */\n\n\nfunction getSymmetricDomain(domain, values) {\n  var processedData = _sortedUniq(values.sort(function (a, b) {\n    return a - b;\n  }));\n\n  var step = processedData[1] - processedData[0];\n  return [domain[0], domain[1] + step];\n}\n/**\n * Checks whether a given component can be used to calculate domain\n * @param {Component} component: a React component instance\n * @returns {Boolean} Returns true if the given component has a role included in the whitelist\n */\n\n\nfunction isDomainComponent(component) {\n  var getRole = function (child) {\n    return child && child.type ? child.type.role : \"\";\n  };\n\n  var role = getRole(component);\n\n  if (role === \"portal\") {\n    var children = React.Children.toArray(component.props.children);\n    role = children.length ? getRole(children[0]) : \"\";\n  }\n\n  var whitelist = [\"area\", \"axis\", \"bar\", \"boxplot\", \"candlestick\", \"errorbar\", \"group\", \"histogram\", \"line\", \"pie\", \"scatter\", \"stack\", \"voronoi\"];\n  return _includes(whitelist, role);\n}\n\nexport default {\n  createDomainFunction: createDomainFunction,\n  formatDomain: formatDomain,\n  getDomain: getDomain,\n  getDomainFromCategories: getDomainFromCategories,\n  getDomainFromData: getDomainFromData,\n  getDomainFromMinMax: getDomainFromMinMax,\n  getDomainFromProps: getDomainFromProps,\n  getDomainWithZero: getDomainWithZero,\n  getMaxFromProps: getMaxFromProps,\n  getMinFromProps: getMinFromProps,\n  getSymmetricDomain: getSymmetricDomain,\n  isDomainComponent: isDomainComponent\n};","import _without from \"lodash/without\";\nimport _includes from \"lodash/includes\";\nimport _values from \"lodash/values\";\nimport _orderBy from \"lodash/orderBy\";\nimport _range from \"lodash/range\";\nimport _uniq from \"lodash/uniq\";\nimport _invert from \"lodash/invert\";\nimport _isObject from \"lodash/isObject\";\nimport _isFunction from \"lodash/isFunction\";\nimport _identity from \"lodash/identity\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\n/* eslint-disable func-style */\nimport React from \"react\";\nimport Collection from \"./collection\";\nimport Domain from \"./domain\";\nimport Helpers from \"./helpers\";\n/**\n * Returns the axis (x or y) of a particular axis component\n * @param {Object} props: the props object.\n * @param {Boolean} horizontal: true for horizontal charts\n * @returns {String} the dimension appropriate for the axis given its props\n */\n\nfunction getAxis(props) {\n  var dependentAxis = props.dependentAxis;\n  return dependentAxis ? \"y\" : \"x\";\n}\n/**\n * Returns all axis components that pass a given predicate\n * @param {Array} childComponents: an array of children\n * @param {Function} predicate: a predicate function that will be called with each\n * @returns {Array} all axis components that pass the given predicate or []\n */\n\n\nfunction findAxisComponents(childComponents, predicate) {\n  predicate = predicate || _identity;\n\n  var findAxes = function (children) {\n    return children.reduce(function (memo, child) {\n      if (child.type && child.type.role === \"axis\" && predicate(child)) {\n        return memo.concat(child);\n      } else if (child.props && child.props.children) {\n        return memo.concat(findAxes(React.Children.toArray(child.props.children)));\n      }\n\n      return memo;\n    }, []);\n  };\n\n  return findAxes(childComponents);\n}\n/**\n * Returns a single axis component of the desired axis type (x or y)\n * @param {Array} childComponents: an array of children\n * @param {String} axis: desired axis either \"x\" or \"y\".\n * @returns {ReactComponent} an axis component of the desired axis or undefined\n */\n\n\nfunction getAxisComponent(childComponents, axis) {\n  var matchesAxis = function (component) {\n    var type = component.type.getAxis(component.props);\n    return type === axis;\n  };\n\n  return findAxisComponents(childComponents, matchesAxis)[0];\n}\n/**\n * Returns all axis components of the desired axis type (x or y) along with any\n * parent components excluding VictoryChart\n * @param {Array} childComponents: an optional array of children.\n * @param {String} type: desired axis either \"dependent\" or \"independent\".\n * @returns {ReactComponent} an axis component of the desired type or undefined\n */\n\n\nfunction getAxisComponentsWithParent(childComponents, type) {\n  var matchesType = function (child) {\n    return type === \"dependent\" ? child.props.dependentAxis : !child.props.dependentAxis;\n  };\n\n  var findComponents = function (children) {\n    return children.reduce(function (memo, child) {\n      if (child.type && child.type.role === \"axis\" && matchesType(child)) {\n        return memo.concat(child);\n      } else if (child.props && child.props.children) {\n        var childAxis = findComponents(React.Children.toArray(child.props.children));\n        return childAxis.length > 0 ? memo.concat(child) : memo;\n      }\n\n      return memo;\n    }, []);\n  };\n\n  return findComponents(childComponents);\n}\n\nfunction getOrigin(domain) {\n  var getSingleOrigin = function (d) {\n    var domainMin = Math.min.apply(Math, _toConsumableArray(d));\n    var domainMax = Math.max.apply(Math, _toConsumableArray(d));\n    return domainMax < 0 ? domainMax : Math.max(0, domainMin);\n  };\n\n  return {\n    x: Collection.containsDates(domain.x) ? new Date(Math.min.apply(Math, _toConsumableArray(domain.x))) : getSingleOrigin(domain.x),\n    y: Collection.containsDates(domain.y) ? new Date(Math.min.apply(Math, _toConsumableArray(domain.y))) : getSingleOrigin(domain.y)\n  };\n}\n\nfunction getOriginSign(origin, domain) {\n  var getSign = function () {\n    return origin <= 0 && Math.max.apply(Math, _toConsumableArray(domain)) <= 0 ? \"negative\" : \"positive\";\n  };\n\n  return Collection.containsDates(domain) ? \"positive\" : getSign();\n}\n/**\n * @param {Object} props: axis component props\n * @returns {Boolean} true when the axis is vertical\n */\n\n\nfunction isVertical(props) {\n  var orientation = props.orientation || (props.dependentAxis ? \"left\" : \"bottom\");\n  var vertical = {\n    top: false,\n    bottom: false,\n    left: true,\n    right: true\n  };\n  return vertical[orientation];\n}\n/**\n * @param {Object} props: axis component props\n * @returns {Boolean} true when tickValues contain strings\n */\n\n\nfunction stringTicks(props) {\n  return props.tickValues !== undefined && Collection.containsStrings(props.tickValues);\n}\n\nfunction getDefaultTickFormat(props) {\n  var tickValues = props.tickValues;\n  var axis = getAxis(props);\n  var stringMap = props.stringMap && props.stringMap[axis];\n  var fallbackFormat = tickValues && !Collection.containsDates(tickValues) ? function (x) {\n    return x;\n  } : undefined;\n\n  if (!stringMap) {\n    return stringTicks(props) ? function (x, index) {\n      return tickValues[index];\n    } : fallbackFormat;\n  } else {\n    var invertedStringMap = stringMap && _invert(stringMap);\n\n    var tickValueArray = _orderBy(_values(stringMap), function (n) {\n      return n;\n    });\n\n    var dataNames = tickValueArray.map(function (tick) {\n      return invertedStringMap[tick];\n    }); // string ticks should have one tick of padding at the beginning\n\n    var dataTicks = [\"\"].concat(_toConsumableArray(dataNames), [\"\"]);\n    return function (x) {\n      return dataTicks[x];\n    };\n  }\n}\n\nfunction getStringTicks(props) {\n  var axis = getAxis(props);\n  var stringMap = props.stringMap && props.stringMap[axis];\n  var categories = Array.isArray(props.categories) ? props.categories : props.categories && props.categories[axis];\n  var ticksFromCategories = categories && Collection.containsOnlyStrings(categories) ? categories.map(function (tick) {\n    return stringMap[tick];\n  }) : undefined;\n\n  var ticksFromStringMap = stringMap && _values(stringMap);\n\n  return ticksFromCategories && ticksFromCategories.length !== 0 ? ticksFromCategories : ticksFromStringMap;\n}\n\nfunction getTickArray(props) {\n  var tickValues = props.tickValues,\n      tickFormat = props.tickFormat;\n  var axis = getAxis(props);\n  var stringMap = props.stringMap && props.stringMap[axis];\n\n  var getTicksFromFormat = function () {\n    if (!tickFormat || !Array.isArray(tickFormat)) {\n      return undefined;\n    }\n\n    return Collection.containsStrings(tickFormat) ? tickFormat.map(function (t, i) {\n      return i;\n    }) : tickFormat;\n  };\n\n  var ticks = tickValues;\n\n  if (stringMap) {\n    ticks = getStringTicks(props);\n  }\n\n  if (tickValues && Collection.containsStrings(tickValues)) {\n    ticks = stringMap ? tickValues.map(function (tick) {\n      return stringMap[tick];\n    }) : _range(1, tickValues.length + 1);\n  }\n\n  var tickArray = ticks ? _uniq(ticks) : getTicksFromFormat(props);\n\n  var buildTickArray = function (arr) {\n    var newTickArray = [];\n    var domain = props.domain && props.domain[axis] || props.domain;\n\n    if (arr) {\n      arr.forEach(function (t, index) {\n        if (Array.isArray(domain)) {\n          if (t >= Collection.getMinValue(domain) && t <= Collection.getMaxValue(domain)) {\n            newTickArray.push({\n              value: t,\n              index: index\n            });\n          }\n        } else {\n          newTickArray.push({\n            value: t,\n            index: index\n          });\n        }\n      });\n      return newTickArray;\n    } else return undefined;\n  };\n\n  return Array.isArray(tickArray) && tickArray.length ? buildTickArray(tickArray) : undefined;\n}\n\nfunction getTickFormat(props, scale) {\n  var tickFormat = props.tickFormat;\n  var axis = getAxis(props);\n  var stringMap = props.stringMap && props.stringMap[axis];\n\n  if (!tickFormat) {\n    var defaultTickFormat = getDefaultTickFormat(props);\n    var scaleTickFormat = scale.tickFormat && _isFunction(scale.tickFormat) ? scale.tickFormat() : function (x) {\n      return x;\n    };\n    return defaultTickFormat || scaleTickFormat;\n  } else if (tickFormat && Array.isArray(tickFormat)) {\n    var tickArray = getTickArray(props);\n    var tickArrayIndices = tickArray ? tickArray.map(function (v) {\n      return v.index;\n    }) : undefined;\n    var filteredTickFormat = tickFormat.filter(function (t, index) {\n      return tickArrayIndices.includes(index);\n    });\n    return function (x, index) {\n      return filteredTickFormat[index];\n    };\n  } else if (tickFormat && _isFunction(tickFormat)) {\n    var applyStringTicks = function (tick, index, ticks) {\n      var invertedStringMap = _invert(stringMap);\n\n      var stringTickArray = ticks.map(function (t) {\n        return invertedStringMap[t];\n      });\n      return props.tickFormat(invertedStringMap[tick], index, stringTickArray);\n    };\n\n    return stringMap ? applyStringTicks : tickFormat;\n  } else {\n    return function (x) {\n      return x;\n    };\n  }\n}\n\nfunction downsampleTicks(ticks, tickCount) {\n  if (!tickCount || !Array.isArray(ticks) || ticks.length <= tickCount) {\n    return ticks;\n  }\n\n  var k = Math.floor(ticks.length / tickCount);\n  return ticks.filter(function (d, i) {\n    return i % k === 0;\n  });\n}\n\nfunction getTicks(props, scale, filterZero) {\n  var tickCount = props.tickCount;\n  var tickArray = getTickArray(props);\n  var tickValues = tickArray ? tickArray.map(function (v) {\n    return v.value;\n  }) : undefined;\n\n  if (tickValues) {\n    return downsampleTicks(tickValues, tickCount);\n  } else if (scale.ticks && _isFunction(scale.ticks)) {\n    // eslint-disable-next-line no-magic-numbers\n    var defaultTickCount = tickCount || 5;\n    var scaleTicks = scale.ticks(defaultTickCount);\n    var scaledTickArray = Array.isArray(scaleTicks) && scaleTicks.length ? scaleTicks : scale.domain();\n    var ticks = downsampleTicks(scaledTickArray, tickCount);\n\n    if (filterZero) {\n      var filteredTicks = _includes(ticks, 0) ? _without(ticks, 0) : ticks;\n      return filteredTicks.length ? filteredTicks : ticks;\n    }\n\n    return ticks;\n  }\n\n  return scale.domain();\n}\n/**\n * Returns a domain based tickValues\n * @param {Object} props: the props object\n * @param {String} axis: either x or y\n * @returns {Array} returns a domain from tickValues\n */\n//eslint-disable-next-line max-statements\n\n\nfunction getDomainFromData(props, axis) {\n  var polar = props.polar,\n      _props$startAngle = props.startAngle,\n      startAngle = _props$startAngle === void 0 ? 0 : _props$startAngle,\n      _props$endAngle = props.endAngle,\n      endAngle = _props$endAngle === void 0 ? 360 : _props$endAngle;\n  var tickArray = getTickArray(props);\n  var tickValues = tickArray ? tickArray.map(function (v) {\n    return v.value;\n  }) : undefined;\n\n  if (!Array.isArray(tickValues)) {\n    return undefined;\n  }\n\n  var minDomain = Domain.getMinFromProps(props, axis);\n  var maxDomain = Domain.getMaxFromProps(props, axis);\n  var tickStrings = stringTicks(props);\n  var ticks = tickValues.map(function (value) {\n    return +value;\n  });\n  var defaultMin = tickStrings ? 1 : Collection.getMinValue(ticks);\n  var defaultMax = tickStrings ? tickValues.length : Collection.getMaxValue(ticks);\n  var min = minDomain !== undefined ? minDomain : defaultMin;\n  var max = maxDomain !== undefined ? maxDomain : defaultMax;\n  var initialDomain = Domain.getDomainFromMinMax(min, max);\n  var domain = polar && axis === \"x\" && Math.abs(startAngle - endAngle) === 360 ? Domain.getSymmetricDomain(initialDomain, ticks) : initialDomain;\n\n  if (isVertical(props) && !polar) {\n    domain.reverse();\n  }\n\n  return domain;\n} // exposed for use by VictoryChart\n\n\nfunction getDomain(props, axis) {\n  var inherentAxis = getAxis(props);\n\n  if (axis && axis !== inherentAxis) {\n    return undefined;\n  }\n\n  return Domain.createDomainFunction(getDomainFromData)(props, inherentAxis);\n}\n\nfunction getAxisValue(props, axis) {\n  if (!props.axisValue) {\n    return undefined;\n  }\n\n  var scaleAxis = axis === \"x\" ? \"y\" : \"x\";\n  var scale = _isObject(props.scale) && _isFunction(props.scale[scaleAxis]) ? props.scale[scaleAxis] : undefined;\n\n  if (!scale) {\n    return undefined;\n  }\n\n  var stringMapAxis = axis === \"x\" ? \"y\" : \"x\";\n  var stringMap = _isObject(props.stringMap) && props.stringMap[stringMapAxis];\n  var axisValue = stringMap && typeof props.axisValue === \"string\" ? stringMap[props.axisValue] : props.axisValue;\n  return scale(axisValue);\n}\n\nfunction modifyProps(props, fallbackProps) {\n  if (!_isObject(props.theme)) {\n    return Helpers.modifyProps(props, fallbackProps, \"axis\");\n  }\n\n  var role = \"axis\";\n\n  if (props.dependentAxis && props.theme.dependentAxis) {\n    role = \"dependentAxis\";\n  } else if (!props.dependentAxis && props.theme.independentAxis) {\n    role = \"independentAxis\";\n  }\n\n  if (role === \"axis\") {\n    return Helpers.modifyProps(props, fallbackProps, \"axis\");\n  }\n\n  var axisTheme = _defaults({}, props.theme[role], props.theme.axis);\n\n  var theme = _assign({}, props.theme, {\n    axis: axisTheme\n  });\n\n  return Helpers.modifyProps(_assign({}, props, {\n    theme: theme\n  }), fallbackProps, \"axis\");\n}\n\nexport default {\n  getTicks: getTicks,\n  getTickFormat: getTickFormat,\n  getAxis: getAxis,\n  getAxisComponent: getAxisComponent,\n  getAxisComponentsWithParent: getAxisComponentsWithParent,\n  getAxisValue: getAxisValue,\n  findAxisComponents: findAxisComponents,\n  getOrigin: getOrigin,\n  getOriginSign: getOriginSign,\n  getDomain: getDomain,\n  isVertical: isVertical,\n  modifyProps: modifyProps,\n  stringTicks: stringTicks\n};","import _keys from \"lodash/keys\";\nimport _identity from \"lodash/identity\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\nimport React from \"react\";\n\nfunction getDatumKey(datum, idx) {\n  return (datum.key || idx).toString();\n}\n\nfunction getKeyedData(data) {\n  return data.reduce(function (keyedData, datum, idx) {\n    var key = getDatumKey(datum, idx);\n    keyedData[key] = datum;\n    return keyedData;\n  }, {});\n}\n\nfunction getKeyedDataDifference(a, b) {\n  var hasDifference = false;\n\n  var difference = _keys(a).reduce(function (_difference, key) {\n    if (!(key in b)) {\n      hasDifference = true;\n      _difference[key] = true;\n    }\n\n    return _difference;\n  }, {});\n\n  return hasDifference && difference;\n}\n/**\n * Calculate which data-points exist in oldData and not nextData -\n * these are the `exiting` data-points.  Also calculate which\n * data-points exist in nextData and not oldData - these are the\n * `entering` data-points.\n *\n * @param  {Array} oldData   this.props.data Array\n * @param  {Array} nextData  this.props.data Array\n *\n * @return {Object}          Object with `entering` and `exiting` properties.\n *                           entering[datum.key] will be true if the data is\n *                           entering, and similarly for `exiting`.\n */\n\n\nfunction getNodeTransitions(oldData, nextData) {\n  var oldDataKeyed = oldData && getKeyedData(oldData);\n  var nextDataKeyed = nextData && getKeyedData(nextData);\n  return {\n    entering: oldDataKeyed && getKeyedDataDifference(nextDataKeyed, oldDataKeyed),\n    exiting: nextDataKeyed && getKeyedDataDifference(oldDataKeyed, nextDataKeyed)\n  };\n}\n\nfunction getChildData(child) {\n  if (child.type && child.type.getData) {\n    return child.type.getData(child.props);\n  }\n\n  return child.props && child.props.data || false;\n}\n/**\n * If a parent component has animation enabled, calculate the transitions\n * for any data of any child component that supports data transitions\n * Data transitions are defined as any two datasets where data nodes exist\n * in the first set and not the second, in the second and not the first,\n * or both.\n *\n * @param  {Children}  oldChildren   this.props.children from old props\n * @param  {Children}  nextChildren  this.props.children from next props\n *\n * @return {Object}                  Object with the following properties:\n *                                    - nodesWillExit\n *                                    - nodesWillEnter\n *                                    - childrenTransitions\n *                                    - nodesShouldEnter\n */\n\n\nfunction getInitialTransitionState(oldChildren, nextChildren) {\n  var nodesWillExit = false;\n  var nodesWillEnter = false;\n\n  var getTransition = function (oldChild, newChild) {\n    if (!newChild || oldChild.type !== newChild.type) {\n      return {};\n    }\n\n    var _ref = getNodeTransitions(getChildData(oldChild), getChildData(newChild)) || {},\n        entering = _ref.entering,\n        exiting = _ref.exiting;\n\n    nodesWillExit = nodesWillExit || !!exiting;\n    nodesWillEnter = nodesWillEnter || !!entering;\n    return {\n      entering: entering || false,\n      exiting: exiting || false\n    };\n  };\n\n  var getTransitionsFromChildren = function (old, next) {\n    return old.map(function (child, idx) {\n      if (child && child.props && child.props.children && next[idx]) {\n        return getTransitionsFromChildren(React.Children.toArray(old[idx].props.children), React.Children.toArray(next[idx].props.children));\n      } // get Transition entering and exiting nodes\n\n\n      return getTransition(child, next[idx]);\n    });\n  };\n\n  var childrenTransitions = getTransitionsFromChildren(React.Children.toArray(oldChildren), React.Children.toArray(nextChildren));\n  return {\n    nodesWillExit: nodesWillExit,\n    nodesWillEnter: nodesWillEnter,\n    childrenTransitions: childrenTransitions,\n    // TODO: This may need to be refactored for the following situation.\n    //       The component receives new props, and the data provided\n    //       is a perfect match for the previous data and domain except\n    //       for new nodes. In this case, we wouldn't want a delay before\n    //       the new nodes appear.\n    nodesShouldEnter: false\n  };\n}\n\nfunction getInitialChildProps(animate, data) {\n  var after = animate.onEnter && animate.onEnter.after ? animate.onEnter.after : _identity;\n  return {\n    data: data.map(function (datum, idx) {\n      return _assign({}, datum, after(datum, idx, data));\n    })\n  };\n} // eslint-disable-next-line max-params\n\n\nfunction getChildBeforeLoad(animate, child, data, cb) {\n  animate = _assign({}, animate, {\n    onEnd: cb\n  });\n\n  if (animate && animate.onLoad && !animate.onLoad.duration) {\n    return {\n      animate: animate,\n      data: data\n    };\n  }\n\n  var before = animate.onLoad && animate.onLoad.before ? animate.onLoad.before : _identity; // If nodes need to exit, transform them with the provided onLoad.before function.\n\n  data = data.map(function (datum, idx) {\n    return _assign({}, datum, before(datum, idx, data));\n  });\n  return {\n    animate: animate,\n    data: data,\n    clipWidth: 0\n  };\n} // eslint-disable-next-line max-params\n\n\nfunction getChildOnLoad(animate, data, cb) {\n  animate = _assign({}, animate, {\n    onEnd: cb\n  });\n\n  if (animate && animate.onLoad && !animate.onLoad.duration) {\n    return {\n      animate: animate,\n      data: data\n    };\n  }\n\n  var after = animate.onLoad && animate.onLoad.after ? animate.onLoad.after : _identity; // If nodes need to exit, transform them with the provided onLoad.after function.\n\n  data = data.map(function (datum, idx) {\n    return _assign({}, datum, after(datum, idx, data));\n  });\n  return {\n    animate: animate,\n    data: data\n  };\n} // eslint-disable-next-line max-params, max-len\n\n\nfunction getChildPropsOnExit(animate, child, data, exitingNodes, cb) {\n  // Whether or not _this_ child has exiting nodes, we want the exit-\n  // transition for all children to have the same duration, delay, etc.\n  var onExit = animate && animate.onExit;\n  animate = _assign({}, animate, onExit);\n\n  if (exitingNodes) {\n    // After the exit transition occurs, trigger the animations for\n    // nodes that are neither exiting or entering.\n    animate.onEnd = cb;\n    var before = animate.onExit && animate.onExit.before ? animate.onExit.before : _identity; // If nodes need to exit, transform them with the provided onExit.before function.\n\n    data = data.map(function (datum, idx) {\n      var key = (datum.key || idx).toString();\n      return exitingNodes[key] ? _assign({}, datum, before(datum, idx, data)) : datum;\n    });\n  }\n\n  return {\n    animate: animate,\n    data: data\n  };\n} // eslint-disable-next-line max-params,max-len\n\n\nfunction getChildPropsBeforeEnter(animate, child, data, enteringNodes, cb) {\n  if (enteringNodes) {\n    // Perform a normal animation here, except - when it finishes - trigger\n    // the transition for entering nodes.\n    animate = _assign({}, animate, {\n      onEnd: cb\n    });\n    var before = animate.onEnter && animate.onEnter.before ? animate.onEnter.before : _identity; // We want the entering nodes to be included in the transition target\n    // domain.  However, we may not want these nodes to be displayed initially,\n    // so perform the `onEnter.before` transformation on each node.\n\n    data = data.map(function (datum, idx) {\n      var key = (datum.key || idx).toString();\n      return enteringNodes[key] ? _assign({}, datum, before(datum, idx, data)) : datum;\n    });\n  }\n\n  return {\n    animate: animate,\n    data: data\n  };\n} // eslint-disable-next-line max-params, max-len\n\n\nfunction getChildPropsOnEnter(animate, data, enteringNodes, cb) {\n  // Whether or not _this_ child has entering nodes, we want the entering-\n  // transition for all children to have the same duration, delay, etc.\n  var onEnter = animate && animate.onEnter;\n  animate = _assign({}, animate, onEnter);\n\n  if (enteringNodes) {\n    // Old nodes have been transitioned to their new values, and the\n    // domain should encompass the nodes that will now enter. So perform\n    // the `onEnter.after` transformation on each node.\n    animate.onEnd = cb;\n    var after = animate.onEnter && animate.onEnter.after ? animate.onEnter.after : _identity;\n    data = data.map(function (datum, idx) {\n      var key = getDatumKey(datum, idx);\n      return enteringNodes[key] ? _assign({}, datum, after(datum, idx, data)) : datum;\n    });\n  }\n\n  return {\n    animate: animate,\n    data: data\n  };\n}\n/**\n * getTransitionPropsFactory - putting the Java in JavaScript.  This will return a\n * function that returns prop transformations for a child, given that child's props\n * and its index in the parent's children array.\n *\n * In particular, this will include an `animate` object that is set appropriately\n * so that each child will be synchoronized for each stage of a transition\n * animation.  It will also include a transformed `data` object, where each datum\n * is transformed by `animate.onExit` and `animate.onEnter` `before` and `after`\n * functions.\n *\n * @param  {Object}  props       `this.props` for the parent component.\n * @param  {Object} state        `this.state` for the parent component.\n * @param  {Function} setState    Function that, when called, will `this.setState` on\n *                                 the parent component with the provided object.\n *\n * @return {Function}              Child-prop transformation function.\n */\n\n\nfunction getTransitionPropsFactory(props, state, setState) {\n  var nodesWillExit = state && state.nodesWillExit;\n  var nodesWillEnter = state && state.nodesWillEnter;\n  var nodesShouldEnter = state && state.nodesShouldEnter;\n  var nodesShouldLoad = state && state.nodesShouldLoad;\n  var nodesDoneLoad = state && state.nodesDoneLoad;\n  var childrenTransitions = state && state.childrenTransitions || [];\n  var transitionDurations = {\n    enter: props.animate && props.animate.onEnter && props.animate.onEnter.duration,\n    exit: props.animate && props.animate.onExit && props.animate.onExit.duration,\n    load: props.animate && props.animate.onLoad && props.animate.onLoad.duration,\n    move: props.animate && props.animate.duration\n  };\n\n  var onLoad = function (child, data, animate) {\n    if (nodesShouldLoad) {\n      return getChildOnLoad(animate, data, function () {\n        setState({\n          nodesShouldLoad: false,\n          nodesDoneLoad: true\n        });\n      });\n    }\n\n    return getChildBeforeLoad(animate, child, data, function () {\n      setState({\n        nodesDoneLoad: true\n      });\n    });\n  }; // eslint-disable-next-line max-params\n\n\n  var onExit = function (nodes, child, data, animate) {\n    return getChildPropsOnExit(animate, child, data, nodes, function () {\n      setState({\n        nodesWillExit: false\n      });\n    });\n  }; // eslint-disable-next-line max-params\n\n\n  var onEnter = function (nodes, child, data, animate) {\n    if (nodesShouldEnter) {\n      return getChildPropsOnEnter(animate, data, nodes, function () {\n        setState({\n          nodesWillEnter: false\n        });\n      });\n    }\n\n    return getChildPropsBeforeEnter(animate, child, data, nodes, function () {\n      setState({\n        nodesShouldEnter: true\n      });\n    });\n  };\n\n  var getChildTransitionDuration = function (child, type) {\n    var animate = child.props.animate;\n\n    if (!child.type) {\n      return {};\n    }\n\n    var defaultTransitions = child.props && child.props.polar ? child.type.defaultPolarTransitions || child.type.defaultTransitions : child.type.defaultTransitions;\n\n    if (defaultTransitions) {\n      var animationDuration = animate[type] && animate[type].duration;\n      return animationDuration !== undefined ? animationDuration : defaultTransitions[type] && defaultTransitions[type].duration;\n    } else {\n      return {};\n    }\n  }; // eslint-disable-next-line max-statements, complexity, max-len\n\n\n  return function getTransitionProps(child, index) {\n    var data = getChildData(child) || [];\n\n    var animate = _defaults({}, props.animate, child.props.animate);\n\n    var defaultTransitions = child.props.polar ? child.type.defaultPolarTransitions || child.type.defaultTransitions : child.type.defaultTransitions;\n    animate.onExit = _defaults({}, animate.onExit, defaultTransitions && defaultTransitions.onExit);\n    animate.onEnter = _defaults({}, animate.onEnter, defaultTransitions && defaultTransitions.onEnter);\n    animate.onLoad = _defaults({}, animate.onLoad, defaultTransitions && defaultTransitions.onLoad);\n    var childTransitions = childrenTransitions[index] || childrenTransitions[0];\n\n    if (!nodesDoneLoad) {\n      // should do onLoad animation\n      var load = transitionDurations.load !== undefined ? transitionDurations.load : getChildTransitionDuration(child, \"onLoad\");\n      var animation = {\n        duration: load\n      };\n      return onLoad(child, data, _assign({}, animate, animation));\n    } else if (nodesWillExit) {\n      var exitingNodes = childTransitions && childTransitions.exiting;\n      var exit = transitionDurations.exit !== undefined ? transitionDurations.exit : getChildTransitionDuration(child, \"onExit\"); // if nodesWillExit, but this child has no exiting nodes, set a delay instead of a duration\n\n      var _animation = exitingNodes ? {\n        duration: exit\n      } : {\n        delay: exit\n      };\n\n      return onExit(exitingNodes, child, data, _assign({}, animate, _animation));\n    } else if (nodesWillEnter) {\n      var enteringNodes = childTransitions && childTransitions.entering;\n      var enter = transitionDurations.enter !== undefined ? transitionDurations.enter : getChildTransitionDuration(child, \"onEnter\");\n      var move = transitionDurations.move !== undefined ? transitionDurations.move : child.props.animate && child.props.animate.duration;\n      var _animation2 = {\n        duration: nodesShouldEnter && enteringNodes ? enter : move\n      };\n      return onEnter(enteringNodes, child, data, _assign({}, animate, _animation2));\n    } else if (!state && animate && animate.onExit) {\n      // This is the initial render, and nodes may enter when props change. Because\n      // animation interpolation is determined by old- and next- props, data may need\n      // to be augmented with certain properties.\n      //\n      // For example, it may be desired that exiting nodes go from `opacity: 1` to\n      // `opacity: 0`. Without setting this on a per-datum basis, the interpolation\n      // might go from `opacity: undefined` to `opacity: 0`, which would result in\n      // interpolated `opacity: NaN` values.\n      //\n      return getInitialChildProps(animate, data);\n    }\n\n    return {\n      animate: animate,\n      data: data\n    };\n  };\n}\n\nexport default {\n  getInitialTransitionState: getInitialTransitionState,\n  getTransitionPropsFactory: getTransitionPropsFactory\n};","import _keys from \"lodash/keys\";\nimport _includes from \"lodash/includes\";\nimport _uniq from \"lodash/uniq\";\nimport _omitBy from \"lodash/omitBy\";\nimport _pickBy from \"lodash/pickBy\";\nimport _without from \"lodash/without\";\nimport _isFunction from \"lodash/isFunction\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _assign from \"lodash/assign\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nvar GLOBAL_EVENT_REGEX = /^onGlobal(.*)$/;\nexport default {\n  /* Returns all own and shared events that should be attached to a single target element,\n   * i.e. an individual bar specified by target: \"data\", eventKey: [index].\n   * Returned events are scoped to the appropriate state. Either that of the component itself\n   * (i.e. VictoryBar) in the case of own events, or that of the parent component\n   * (i.e. VictoryChart) in the case of shared events\n   */\n  // eslint-disable-next-line max-params\n  getEvents: function (props, target, eventKey, getScopedEvents) {\n    var _this = this;\n\n    // Returns all events that apply to a particular target element\n    var getEventsByTarget = function (events) {\n      var getSelectedEvents = function () {\n        var targetEvents = events.reduce(function (memo, event) {\n          if (event.target !== undefined) {\n            var matchesTarget = Array.isArray(event.target) ? _includes(event.target, target) : \"\".concat(event.target) === \"\".concat(target);\n            return matchesTarget ? memo.concat(event) : memo;\n          }\n\n          return memo.concat(event);\n        }, []);\n\n        if (eventKey !== undefined && target !== \"parent\") {\n          return targetEvents.filter(function (obj) {\n            var targetKeys = obj.eventKey;\n\n            var useKey = function (key) {\n              return key ? \"\".concat(key) === \"\".concat(eventKey) : true;\n            };\n\n            return Array.isArray(targetKeys) ? targetKeys.some(function (k) {\n              return useKey(k);\n            }) : useKey(targetKeys);\n          });\n        }\n\n        return targetEvents;\n      };\n\n      var selectedEvents = getSelectedEvents();\n      return Array.isArray(selectedEvents) && selectedEvents.reduce(function (memo, event) {\n        return event ? _assign(memo, event.eventHandlers) : memo;\n      }, {});\n    };\n    /* Returns all events from props and defaultEvents from components. Events handlers\n     * specified in props will override handlers for the same event if they are also\n     * specified in defaultEvents of a sub-component\n     */\n\n\n    var getAllEvents = function () {\n      if (Array.isArray(_this.componentEvents)) {\n        var _this$componentEvents;\n\n        return Array.isArray(props.events) ? (_this$componentEvents = _this.componentEvents).concat.apply(_this$componentEvents, _toConsumableArray(props.events)) : _this.componentEvents;\n      }\n\n      return props.events;\n    };\n\n    var allEvents = getAllEvents();\n    var ownEvents = allEvents && _isFunction(getScopedEvents) ? getScopedEvents(getEventsByTarget(allEvents), target) : undefined;\n\n    if (!props.sharedEvents) {\n      return ownEvents;\n    }\n\n    var getSharedEvents = props.sharedEvents.getEvents;\n    var sharedEvents = props.sharedEvents.events && getSharedEvents(getEventsByTarget(props.sharedEvents.events), target);\n    return _assign({}, sharedEvents, ownEvents);\n  },\n\n  /* Returns a modified events object where each event handler is replaced by a new\n   * function that calls the original handler and then calls setState with the return\n   * of the original event handler assigned to state property that maps to the target\n   * element.\n   */\n  // eslint-disable-next-line max-params\n  getScopedEvents: function (events, namespace, childType, baseProps) {\n    var _this2 = this;\n\n    if (_isEmpty(events)) {\n      return {};\n    }\n\n    baseProps = baseProps || this.baseProps; // returns the original base props or base state of a given target element\n\n    var getTargetProps = function (identifier, type) {\n      var childName = identifier.childName,\n          target = identifier.target,\n          key = identifier.key;\n      var baseType = type === \"props\" ? baseProps : _this2.state || {};\n      var base = childName === undefined || childName === null || !baseType[childName] ? baseType : baseType[childName];\n      return key === \"parent\" ? base.parent : base[key] && base[key][target];\n    }; // Returns the state object with the mutation caused by a given eventReturn\n    // applied to the appropriate property on the state object\n\n\n    var parseEvent = function (eventReturn, eventKey) {\n      var childNames = namespace === \"parent\" ? eventReturn.childName : eventReturn.childName || childType;\n      var target = eventReturn.target || namespace; // returns all eventKeys to modify for a targeted childName\n\n      var getKeys = function (childName) {\n        if (target === \"parent\") {\n          return \"parent\";\n        }\n\n        if (eventReturn.eventKey === \"all\") {\n          return baseProps[childName] ? _without(_keys(baseProps[childName]), \"parent\") : _without(_keys(baseProps), \"parent\");\n        } else if (eventReturn.eventKey === undefined && eventKey === \"parent\") {\n          return baseProps[childName] ? _keys(baseProps[childName]) : _keys(baseProps);\n        }\n\n        return eventReturn.eventKey !== undefined ? eventReturn.eventKey : eventKey;\n      }; // returns the state object with mutated props applied for a single key\n\n\n      var getMutationObject = function (key, childName) {\n        var baseState = _this2.state || {};\n\n        if (!_isFunction(eventReturn.mutation)) {\n          return baseState;\n        }\n\n        var mutationTargetProps = getTargetProps({\n          childName: childName,\n          key: key,\n          target: target\n        }, \"props\");\n        var mutationTargetState = getTargetProps({\n          childName: childName,\n          key: key,\n          target: target\n        }, \"state\");\n        var mutatedProps = eventReturn.mutation(_assign({}, mutationTargetProps, mutationTargetState), baseProps);\n        var childState = baseState[childName] || {};\n\n        var filterState = function (state) {\n          if (state[key] && state[key][target]) {\n            delete state[key][target];\n          }\n\n          if (state[key] && !_keys(state[key]).length) {\n            delete state[key];\n          }\n\n          return state;\n        };\n\n        var extendState = function (state) {\n          return target === \"parent\" ? _assign(state, _defineProperty({}, key, _assign(state[key], mutatedProps))) : _assign(state, _defineProperty({}, key, _assign(state[key], _defineProperty({}, target, mutatedProps))));\n        };\n\n        var updateState = function (state) {\n          return mutatedProps ? extendState(state) : filterState(state);\n        };\n\n        return childName !== undefined && childName !== null ? _assign(baseState, _defineProperty({}, childName, updateState(childState))) : updateState(baseState);\n      }; // returns entire mutated state for a given childName\n\n\n      var getReturnByChild = function (childName) {\n        var mutationKeys = getKeys(childName);\n        return Array.isArray(mutationKeys) ? mutationKeys.reduce(function (memo, key) {\n          return _assign(memo, getMutationObject(key, childName));\n        }, {}) : getMutationObject(mutationKeys, childName);\n      }; // returns an entire mutated state for all children\n\n\n      var allChildNames = childNames === \"all\" ? _without(_keys(baseProps), \"parent\") : childNames;\n      return Array.isArray(allChildNames) ? allChildNames.reduce(function (memo, childName) {\n        return _assign(memo, getReturnByChild(childName));\n      }, {}) : getReturnByChild(allChildNames);\n    }; // Parses an array of event returns into a single state mutation\n\n\n    var parseEventReturn = function (eventReturn, eventKey) {\n      return Array.isArray(eventReturn) ? eventReturn.reduce(function (memo, props) {\n        memo = _assign({}, memo, parseEvent(props, eventKey));\n        return memo;\n      }, {}) : parseEvent(eventReturn, eventKey);\n    };\n\n    var compileCallbacks = function (eventReturn) {\n      var getCallback = function (obj) {\n        return _isFunction(obj.callback) && obj.callback;\n      };\n\n      var callbacks = Array.isArray(eventReturn) ? eventReturn.map(function (evtObj) {\n        return getCallback(evtObj);\n      }) : [getCallback(eventReturn)];\n      var callbackArray = callbacks.filter(function (callback) {\n        return callback !== false;\n      });\n      return callbackArray.length ? function () {\n        return callbackArray.forEach(function (callback) {\n          return callback();\n        });\n      } : undefined;\n    }; // A function that calls a particular event handler, parses its return\n    // into a state mutation, and calls setState\n    // eslint-disable-next-line max-params\n\n\n    var onEvent = function (evt, childProps, eventKey, eventName) {\n      var eventReturn = events[eventName](evt, childProps, eventKey, _this2);\n\n      if (!_isEmpty(eventReturn)) {\n        var callbacks = compileCallbacks(eventReturn);\n\n        _this2.setState(parseEventReturn(eventReturn, eventKey), callbacks);\n      }\n    }; // returns a new events object with enhanced event handlers\n\n\n    return _keys(events).reduce(function (memo, event) {\n      memo[event] = onEvent;\n      return memo;\n    }, {});\n  },\n\n  /* Returns a partially applied event handler for a specific target element\n   * This allows event handlers to have access to props controlling each element\n   */\n  getPartialEvents: function (events, eventKey, childProps) {\n    return events ? _keys(events).reduce(function (memo, eventName) {\n      var appliedEvent = function (evt) {\n        return events[eventName](evt, childProps, eventKey, eventName);\n      };\n\n      memo[eventName] = appliedEvent;\n      return memo;\n    }, {}) : {};\n  },\n\n  /* Returns the property of the state object corresponding to event changes for\n   * a particular element\n   */\n  getEventState: function (eventKey, namespace, childType) {\n    var state = this.state || {};\n\n    if (!childType) {\n      return eventKey === \"parent\" ? state[eventKey] && state[eventKey][namespace] || state[eventKey] : state[eventKey] && state[eventKey][namespace];\n    }\n\n    return state[childType] && state[childType][eventKey] && state[childType][eventKey][namespace];\n  },\n\n  /**\n   * Returns a set of all mutations for shared events\n   *\n   * @param  {Array} mutations an array of mutations objects\n   * @param  {Object} baseProps an object that describes all props for children of VictorySharedEvents\n   * @param  {Object} baseState an object that describes state for children of VictorySharedEvents\n   * @param  {Array} childNames an array of childNames\n   *\n   * @return {Object} a object describing all mutations for VictorySharedEvents\n   */\n  // eslint-disable-next-line max-params\n  getExternalMutationsWithChildren: function (mutations, baseProps, baseState, childNames) {\n    var _this3 = this;\n\n    baseProps = baseProps || {};\n    baseState = baseState || {};\n    return childNames.reduce(function (memo, childName) {\n      var childState = baseState[childName];\n\n      var mutation = _this3.getExternalMutations(mutations, baseProps[childName], baseState[childName], childName);\n\n      memo[childName] = mutation ? mutation : childState;\n      return _pickBy(memo, function (v) {\n        return !_isEmpty(v);\n      });\n    }, {});\n  },\n\n  /**\n   * Returns a set of all mutations for a component\n   *\n   * @param  {Array} mutations an array of mutations objects\n   * @param  {Object} baseProps a props object (scoped to a childName when used by shared events)\n   * @param  {Object} baseState a state object (scoped to a childName when used by shared events)\n   * @param  {String} childName an optional childName\n   *\n   * @return {Object} a object describing mutations for a given component\n   */\n  // eslint-disable-next-line max-params\n  getExternalMutations: function (mutations, baseProps, baseState, childName) {\n    var _this4 = this;\n\n    baseProps = baseProps || {};\n    baseState = baseState || {};\n\n    var eventKeys = _keys(baseProps);\n\n    return eventKeys.reduce(function (memo, eventKey) {\n      var keyState = baseState[eventKey] || {};\n      var keyProps = baseProps[eventKey] || {};\n\n      if (eventKey === \"parent\") {\n        var identifier = {\n          eventKey: eventKey,\n          target: \"parent\"\n        };\n\n        var mutation = _this4.getExternalMutation(mutations, keyProps, keyState, identifier);\n\n        memo[eventKey] = mutation !== undefined ? _assign({}, keyState, mutation) : keyState;\n      } else {\n        // use keys from both state and props so that elements not intially included in baseProps\n        // will be used. (i.e. labels)\n        var targets = _uniq(_keys(keyProps).concat(_keys(keyState)));\n\n        memo[eventKey] = targets.reduce(function (m, target) {\n          var identifier = {\n            eventKey: eventKey,\n            target: target,\n            childName: childName\n          };\n\n          var mutation = _this4.getExternalMutation(mutations, keyProps[target], keyState[target], identifier);\n\n          m[target] = mutation !== undefined ? _assign({}, keyState[target], mutation) : keyState[target];\n          return _pickBy(m, function (v) {\n            return !_isEmpty(v);\n          });\n        }, {});\n      }\n\n      return _pickBy(memo, function (v) {\n        return !_isEmpty(v);\n      });\n    }, {});\n  },\n\n  /**\n   * Returns a set of mutations for a particular element given scoped baseProps and baseState\n   *\n   * @param  {Array} mutations an array of mutations objects\n   * @param  {Object} baseProps a props object (scoped the element specified by the identifier)\n   * @param  {Object} baseState a state object (scoped the element specified by the identifier)\n   * @param  {Object} identifier { eventKey, target, childName }\n   *\n   * @return {Object | undefined} a object describing mutations for a given element, or undefined\n   */\n  // eslint-disable-next-line max-params\n  getExternalMutation: function (mutations, baseProps, baseState, identifier) {\n    var filterMutations = function (mutation, type) {\n      if (typeof mutation[type] === \"string\") {\n        return mutation[type] === \"all\" || mutation[type] === identifier[type];\n      } else if (Array.isArray(mutation[type])) {\n        // coerce arrays to strings before matching\n        var stringArray = mutation[type].map(function (m) {\n          return \"\".concat(m);\n        });\n        return _includes(stringArray, identifier[type]);\n      } else {\n        return false;\n      }\n    };\n\n    mutations = Array.isArray(mutations) ? mutations : [mutations];\n    var scopedMutations = mutations;\n\n    if (identifier.childName) {\n      scopedMutations = mutations.filter(function (m) {\n        return filterMutations(m, \"childName\");\n      });\n    } // find any mutation objects that match the target\n\n\n    var targetMutations = scopedMutations.filter(function (m) {\n      return filterMutations(m, \"target\");\n    });\n\n    if (_isEmpty(targetMutations)) {\n      return undefined;\n    }\n\n    var keyMutations = targetMutations.filter(function (m) {\n      return filterMutations(m, \"eventKey\");\n    });\n\n    if (_isEmpty(keyMutations)) {\n      return undefined;\n    }\n\n    return keyMutations.reduce(function (memo, curr) {\n      var mutationFunction = curr && _isFunction(curr.mutation) ? curr.mutation : function () {\n        return undefined;\n      };\n      var currentMutation = mutationFunction(_assign({}, baseProps, baseState));\n      return _assign({}, memo, currentMutation);\n    }, {});\n  },\n\n  /* Returns an array of defaultEvents from sub-components of a given component.\n   * i.e. any static `defaultEvents` on `labelComponent` will be returned\n   */\n  getComponentEvents: function (props, components) {\n    var events = Array.isArray(components) && components.reduce(function (memo, componentName) {\n      var _memo;\n\n      var component = props[componentName];\n      var defaultEvents = component && component.type && component.type.defaultEvents;\n      var componentEvents = _isFunction(defaultEvents) ? defaultEvents(component.props) : defaultEvents;\n      memo = Array.isArray(componentEvents) ? (_memo = memo).concat.apply(_memo, _toConsumableArray(componentEvents)) : memo;\n      return memo;\n    }, []);\n    return events && events.length ? events : undefined;\n  },\n  getGlobalEventNameFromKey: function (key) {\n    var match = key.match(GLOBAL_EVENT_REGEX);\n    return match && match[1] && match[1].toLowerCase();\n  },\n  getGlobalEvents: function (events) {\n    return _pickBy(events, function (_, key) {\n      return GLOBAL_EVENT_REGEX.test(key);\n    });\n  },\n  omitGlobalEvents: function (events) {\n    return _omitBy(events, function (_, key) {\n      return GLOBAL_EVENT_REGEX.test(key);\n    });\n  },\n  emulateReactEvent: function (event) {\n    return _assign(event, {\n      nativeEvent: event\n    });\n  }\n};","import _isPlainObject from \"lodash/isPlainObject\";\nimport _values from \"lodash/values\";\nimport _uniqBy from \"lodash/uniqBy\";\nimport _groupBy from \"lodash/groupBy\";\nimport _some from \"lodash/some\";\nimport _uniq from \"lodash/uniq\";\nimport _isFunction from \"lodash/isFunction\";\nimport _flatten from \"lodash/flatten\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nimport React from \"react\";\nimport Axis from \"./axis\";\nimport Style from \"./style\";\nimport Transitions from \"./transitions\";\nimport Data from \"./data\";\nimport Domain from \"./domain\";\nimport Events from \"./events\";\nimport Collection from \"./collection\";\nimport Helpers from \"./helpers\";\nimport Scale from \"./scale\";\nimport Log from \"./log\";\nexport default {\n  getData: function (props, childComponents) {\n    if (props.data) {\n      return Data.getData(props);\n    }\n\n    childComponents = childComponents || React.Children.toArray(props.children);\n    return this.getDataFromChildren(childComponents);\n  },\n  getDefaultDomainPadding: function (props, axis, childComponents) {\n    if (props.polar || axis !== \"x\") {\n      return undefined;\n    }\n\n    var groupComponent = childComponents.filter(function (child) {\n      return child.type && child.type.role && child.type.role === \"group\";\n    });\n\n    if (groupComponent.length < 1) {\n      return undefined;\n    }\n\n    var _groupComponent$0$pro = groupComponent[0].props,\n        offset = _groupComponent$0$pro.offset,\n        children = _groupComponent$0$pro.children;\n\n    if (!offset) {\n      return undefined;\n    }\n\n    var firstChild = Array.isArray(children) && children[0];\n    var barWidth = firstChild.props.barWidth;\n    var dataLength = firstChild.props.data && firstChild.props.data.length || 1;\n\n    if (firstChild && firstChild.type.role === \"stack\") {\n      var nestedChild = firstChild.props.children && firstChild.props.children[0];\n      barWidth = nestedChild.props.barWidth;\n      dataLength = firstChild.props.children.length;\n    }\n\n    var width = barWidth || this.getWidth(props, children.length, dataLength);\n    return {\n      x: width * children.length / 2 + (offset - width * ((children.length - 1) / 2))\n    };\n  },\n  getDomain: function (props, axis, childComponents) {\n    childComponents = childComponents || React.Children.toArray(props.children);\n    var propsDomain = Domain.getDomainFromProps(props, axis);\n    var domainPadding = this.getDefaultDomainPadding(props, axis, childComponents);\n    var domain;\n\n    if (propsDomain) {\n      domain = propsDomain;\n    } else {\n      var minDomain = Domain.getMinFromProps(props, axis);\n      var maxDomain = Domain.getMaxFromProps(props, axis);\n      var dataset = (props.data || props.y) && Data.getData(props);\n      var dataDomain = dataset ? Domain.getDomainFromData(props, axis, dataset) : [];\n      var childDomain = this.getDomainFromChildren(props, axis, childComponents);\n      var min = minDomain || Collection.getMinValue(_toConsumableArray(dataDomain).concat(_toConsumableArray(childDomain)));\n      var max = maxDomain || Collection.getMaxValue(_toConsumableArray(dataDomain).concat(_toConsumableArray(childDomain)));\n      domain = Domain.getDomainFromMinMax(min, max);\n    }\n\n    return Domain.formatDomain(domain, _assign({\n      domainPadding: domainPadding\n    }, props), axis);\n  },\n  getScale: function (props, axis, childComponents) {\n    if (props.data) {\n      return Scale.getBaseScale(props, axis);\n    }\n\n    var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n\n    var iteratee = function (child) {\n      var sharedProps = _assign({}, child.props, {\n        horizontal: props.horizontal\n      });\n\n      return Scale.getScaleType(sharedProps, axis);\n    };\n\n    var childScale = _uniq(Helpers.reduceChildren(children, iteratee, props)); // default to linear scale if more than one uniq scale type is given by children\n\n\n    return childScale.length > 1 ? Scale.getScaleFromName(\"linear\") : Scale.getScaleFromName(childScale[0]);\n  },\n  setAnimationState: function (props, nextProps) {\n    if (!props.animate) {\n      return;\n    }\n\n    if (props.animate.parentState) {\n      var nodesWillExit = props.animate.parentState.nodesWillExit;\n      var oldProps = nodesWillExit ? props : null;\n      this.setState(_defaults({\n        oldProps: oldProps,\n        nextProps: nextProps\n      }, props.animate.parentState));\n    } else {\n      var oldChildren = React.Children.toArray(props.children);\n      var nextChildren = React.Children.toArray(nextProps.children);\n\n      var isContinuous = function (child) {\n        var check = function (c) {\n          return c.type && c.type.continuous;\n        };\n\n        return Array.isArray(child) ? _some(child, check) : check(child);\n      };\n\n      var continuous = !props.polar && _some(oldChildren, function (child) {\n        return isContinuous(child) || child.props.children && isContinuous(child.props.children);\n      });\n\n      var _Transitions$getIniti = Transitions.getInitialTransitionState(oldChildren, nextChildren),\n          _nodesWillExit = _Transitions$getIniti.nodesWillExit,\n          nodesWillEnter = _Transitions$getIniti.nodesWillEnter,\n          childrenTransitions = _Transitions$getIniti.childrenTransitions,\n          nodesShouldEnter = _Transitions$getIniti.nodesShouldEnter;\n\n      this.setState({\n        nodesWillExit: _nodesWillExit,\n        nodesWillEnter: nodesWillEnter,\n        nodesShouldEnter: nodesShouldEnter,\n        childrenTransitions: Collection.isArrayOfArrays(childrenTransitions) ? childrenTransitions[0] : childrenTransitions,\n        oldProps: _nodesWillExit ? props : null,\n        nextProps: nextProps,\n        continuous: continuous\n      });\n    }\n  },\n  getAllEvents: function (props) {\n    var components = [\"groupComponent\", \"containerComponent\", \"labelComponent\"];\n    this.componentEvents = Events.getComponentEvents(props, components);\n    var events = props.events;\n\n    if (Array.isArray(this.componentEvents)) {\n      var _componentEvents;\n\n      events = Array.isArray(props.events) ? (_componentEvents = this.componentEvents).concat.apply(_componentEvents, _toConsumableArray(props.events)) : this.componentEvents;\n    }\n\n    return events || [];\n  },\n  getAnimationProps: function (props, child, index) {\n    var _this = this;\n\n    if (!props.animate) {\n      return child.props.animate;\n    }\n\n    var getFilteredState = function () {\n      var childrenTransitions = _this.state && _this.state.childrenTransitions;\n      childrenTransitions = Collection.isArrayOfArrays(childrenTransitions) ? childrenTransitions[index] : childrenTransitions;\n      return _defaults({\n        childrenTransitions: childrenTransitions\n      }, _this.state);\n    };\n\n    var getTransitions = props.animate && props.animate.getTransitions;\n    var state = getFilteredState();\n    var parentState = props.animate && props.animate.parentState || state;\n\n    if (!getTransitions) {\n      var getTransitionProps = Transitions.getTransitionPropsFactory(props, state, function (newState) {\n        return _this.setState(newState);\n      });\n\n      getTransitions = function (childComponent) {\n        return getTransitionProps(childComponent, index);\n      };\n    }\n\n    return _defaults({\n      getTransitions: getTransitions,\n      parentState: parentState\n    }, props.animate, child.props.animate);\n  },\n  getDomainFromChildren: function (props, axis, childComponents) {\n    // eslint-disable-line max-statements, complexity, max-len\n    var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n    var parentData = props.data ? Data.getData(props, axis) : undefined;\n    var polar = props.polar,\n        startAngle = props.startAngle,\n        endAngle = props.endAngle,\n        categories = props.categories,\n        minDomain = props.minDomain,\n        maxDomain = props.maxDomain,\n        horizontal = props.horizontal;\n    var baseParentProps = {\n      horizontal: horizontal,\n      polar: polar,\n      startAngle: startAngle,\n      endAngle: endAngle,\n      minDomain: minDomain,\n      maxDomain: maxDomain,\n      categories: categories\n    };\n    var parentProps = parentData ? _assign(baseParentProps, {\n      data: parentData\n    }) : baseParentProps;\n\n    var iteratee = function (child) {\n      var sharedProps = _assign({}, child.props, parentProps);\n\n      if (!Domain.isDomainComponent(child)) {\n        return null;\n      } else if (child.type && _isFunction(child.type.getDomain)) {\n        return child.props && child.type.getDomain(sharedProps, axis);\n      } else {\n        return Domain.getDomain(sharedProps, axis);\n      }\n    };\n\n    var childDomains = Helpers.reduceChildren(children, iteratee, props);\n    var min = childDomains.length === 0 ? 0 : Collection.getMinValue(childDomains);\n    var max = childDomains.length === 0 ? 1 : Collection.getMaxValue(childDomains);\n    return [min, max];\n  },\n  addBinsToParentPropsIfHistogram: function (_ref) {\n    var children = _ref.children,\n        props = _ref.props,\n        childComponents = _ref.childComponents,\n        parentProps = _ref.parentProps;\n    var someChildrenAreHistograms = children.some(function (child) {\n      return child.type && child.type.role === \"histogram\";\n    });\n    var allChildrenAreHistograms = someChildrenAreHistograms && children.length && children.every(function (child) {\n      return child.type && child.type.role === \"histogram\";\n    });\n\n    if (someChildrenAreHistograms && !allChildrenAreHistograms) {\n      Log.warn(\"VictoryHistogram only supports being stacked with other VictoryHistogram components. Check to make sure that you are only passing VictoryHistogram components to VictoryStack\");\n    } // if we are stacking histograms, we need to generate explicit bins\n    // or else each histogram may end up having different bins\n\n\n    if (!allChildrenAreHistograms) {\n      return parentProps;\n    }\n\n    var childBins = props.bins || childComponents[0].props.bins; // if we have explicit bins then we don't need to calculate them\n\n    if (!Array.isArray(childBins)) {\n      var combinedData = children.reduce(function (memo, child) {\n        var xAccessor = Helpers.createAccessor(child.props.x || \"x\");\n        return memo.concat(child.props.data.map(function (datum) {\n          return {\n            x: xAccessor(datum)\n          };\n        }));\n      }, []); // use the same function to generate bins as VictoryHistogram but with\n      // the combined data from above, then get explicit bins from that\n\n      var getFormattedHistogramData = children[0].type.getFormattedData;\n      childBins = getFormattedHistogramData({\n        data: combinedData,\n        bins: childBins\n      }).reduce(function (memo, _ref2, index) {\n        var x0 = _ref2.x0,\n            x1 = _ref2.x1;\n        return index === 0 ? memo.concat([x0, x1]) : memo.concat(x1);\n      }, []);\n    }\n\n    return _objectSpread({}, parentProps, {\n      bins: childBins\n    });\n  },\n  getDataFromChildren: function (props, childComponents) {\n    var polar = props.polar,\n        startAngle = props.startAngle,\n        endAngle = props.endAngle,\n        categories = props.categories,\n        minDomain = props.minDomain,\n        maxDomain = props.maxDomain;\n    var parentProps = {\n      polar: polar,\n      startAngle: startAngle,\n      endAngle: endAngle,\n      categories: categories,\n      minDomain: minDomain,\n      maxDomain: maxDomain\n    };\n    var stack = 0;\n    var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n    parentProps = this.addBinsToParentPropsIfHistogram({\n      children: children,\n      props: props,\n      childComponents: childComponents,\n      parentProps: parentProps\n    });\n\n    var iteratee = function (child, childName, parent) {\n      var childProps = _assign({}, child.props, parentProps);\n\n      var childData;\n\n      if (!Data.isDataComponent(child)) {\n        return null;\n      } else if (child.type && _isFunction(child.type.getData)) {\n        child = parent ? React.cloneElement(child, parent.props) : child;\n        childData = child.type.getData(childProps);\n      } else {\n        childData = Data.getData(childProps);\n      }\n\n      stack += 1;\n      return childData.map(function (datum, index) {\n        return _assign({\n          _stack: stack,\n          _group: index\n        }, datum);\n      });\n    };\n\n    var stacked = children.filter(function (c) {\n      return c.type && c.type.role === \"stack\";\n    }).length;\n\n    var combine = function (memo, val) {\n      return memo.concat(_uniqBy(val, \"_group\"));\n    };\n\n    var datasets = Helpers.reduceChildren(children, iteratee, props, [], combine);\n    var group = stacked ? \"_group\" : \"_stack\";\n    return _values(_groupBy(datasets, group));\n  },\n  getColor: function (calculatedProps, child, index) {\n    // check for styles first\n    var style = calculatedProps.style;\n    var colorScale = calculatedProps.colorScale,\n        color = calculatedProps.color;\n\n    if (style && style.data && style.data.fill) {\n      return style.data.fill;\n    }\n\n    colorScale = child.props && child.props.colorScale ? child.props.colorScale : colorScale;\n    color = child.props && child.props.color ? child.props.color : color;\n\n    if (!colorScale && !color) {\n      return undefined;\n    }\n\n    var colors = Array.isArray(colorScale) ? colorScale : Style.getColorScale(colorScale);\n    return color || colors[index % colors.length];\n  },\n  getWidth: function (props, groupLength, seriesLength) {\n    var datasets = props.datasets,\n        horizontal = props.horizontal;\n    var range = horizontal ? Helpers.getRange(props, \"y\") : Helpers.getRange(props, \"x\");\n    var extent = Math.abs(range[1] - range[0]);\n    seriesLength = seriesLength !== undefined ? seriesLength : Array.isArray(datasets[0]) && datasets[0].length || 1;\n    groupLength = groupLength || datasets.length;\n    var bars = groupLength * seriesLength;\n    var barRatio = 0.5;\n    return Math.round(barRatio * extent / bars);\n  },\n  getStyle: function (theme, style, role) {\n    var defaultStyle = theme && theme[role] && theme[role].style ? theme[role].style : {};\n    return Helpers.getStyles(style, defaultStyle);\n  },\n  getChildStyle: function (child, index, calculatedProps) {\n    var style = calculatedProps.style,\n        role = calculatedProps.role;\n    var childStyle = child.props.style || {};\n\n    if (Array.isArray(childStyle)) {\n      return childStyle;\n    }\n\n    var childRole = child.type && child.type.role;\n    var defaultFill = childRole === \"stack\" ? undefined : this.getColor(calculatedProps, child, index);\n    var defaultColor = childRole === \"line\" ? {\n      fill: \"none\",\n      stroke: defaultFill\n    } : {\n      fill: defaultFill\n    };\n    var dataWidth = role === \"stack\" ? {} : {\n      width: this.getWidth(calculatedProps)\n    };\n\n    var dataStyle = _defaults({}, childStyle.data, _assign({}, dataWidth, style.data, defaultColor));\n\n    var labelsStyle = _defaults({}, childStyle.labels, style.labels);\n\n    return {\n      parent: style.parent,\n      data: dataStyle,\n      labels: labelsStyle\n    };\n  },\n  getStringsFromCategories: function (childComponents, axis) {\n    var iteratee = function (child) {\n      var childProps = child.props || {};\n\n      if (!Domain.isDomainComponent(child) || !childProps.categories) {\n        return null;\n      } else {\n        var categories = childProps.categories && !Array.isArray(childProps.categories) ? childProps.categories[axis] : childProps.props.categories;\n        var categoryStrings = categories && categories.filter(function (val) {\n          return typeof val === \"string\";\n        });\n        return categoryStrings ? Collection.removeUndefined(categoryStrings) : [];\n      }\n    };\n\n    return Helpers.reduceChildren(childComponents.slice(0), iteratee);\n  },\n  getStringsFromData: function (childComponents) {\n    var iteratee = function (child) {\n      var childProps = child.props || {};\n      var data;\n\n      if (!Data.isDataComponent(child)) {\n        return null;\n      } else if (child.type && _isFunction(child.type.getData)) {\n        data = child.type.getData(childProps);\n      } else {\n        data = Data.getData(childProps);\n      }\n\n      return data.map(function (d) {\n        return {\n          x: d.xName,\n          y: d.yName\n        };\n      });\n    };\n\n    var initialMemo = {\n      x: [],\n      y: []\n    };\n\n    var combine = function (memo, datum) {\n      var x = Array.isArray(datum) ? datum.map(function (d) {\n        return d.x;\n      }).filter(Boolean) : datum.x;\n      var y = Array.isArray(datum) ? datum.map(function (d) {\n        return d.y;\n      }).filter(Boolean) : datum.y;\n      return {\n        x: x !== undefined ? memo.x.concat(x) : memo.x,\n        y: y !== undefined ? memo.y.concat(y) : memo.y\n      };\n    };\n\n    return Helpers.reduceChildren(childComponents.slice(0), iteratee, {}, initialMemo, combine);\n  },\n  getCategoryAndAxisStringsFromChildren: function (props, axis, childComponents) {\n    var categories = _isPlainObject(props.categories) ? props.categories[axis] : props.categories;\n    var axisComponent = Axis.getAxisComponent(childComponents, axis);\n    var axisStrings = axisComponent ? Data.getStringsFromAxes(axisComponent.props, axis) : [];\n    var categoryStrings = categories || this.getStringsFromCategories(childComponents, axis);\n    return _uniq(_flatten(_toConsumableArray(categoryStrings).concat(_toConsumableArray(axisStrings))));\n  },\n  getStringsFromChildren: function (props, childComponents) {\n    childComponents = childComponents || React.Children.toArray(props.children);\n    var xStrings = this.getCategoryAndAxisStringsFromChildren(props, \"x\", childComponents);\n    var yStrings = this.getCategoryAndAxisStringsFromChildren(props, \"y\", childComponents);\n    var dataStrings = this.getStringsFromData(childComponents);\n    return {\n      x: _uniq(_flatten(_toConsumableArray(xStrings).concat(_toConsumableArray(dataStrings.x)))),\n      y: _uniq(_flatten(_toConsumableArray(yStrings).concat(_toConsumableArray(dataStrings.y))))\n    };\n  },\n  getCategories: function (props, childComponents, allStrings) {\n    var xPropCategories = props.categories && !Array.isArray(props.categories) ? props.categories.x : props.categories;\n    var yPropCategories = props.categories && !Array.isArray(props.categories) ? props.categories.y : props.categories;\n    var fallbackRequired = !xPropCategories || !yPropCategories;\n    var fallbackProps = fallbackRequired ? allStrings || this.getStringsFromChildren(props, childComponents) : {};\n    var xCategories = xPropCategories || fallbackProps.x;\n    var yCategories = yPropCategories || fallbackProps.y;\n    return {\n      x: xCategories.length > 0 ? xCategories : undefined,\n      y: yCategories.length > 0 ? yCategories : undefined\n    };\n  }\n};","/**\n * Given an object with CSS/SVG transform definitions, return the string value\n * for use with the `transform` CSS property or SVG attribute. Note that we\n * can't always guarantee the order will match the author's intended order, so\n * authors should only use the object notation if they know that their transform\n * is commutative or that there is only one.\n * @param {Object} obj An object of transform definitions.\n * @returns {String} The generated transform string.\n */\nvar toTransformString = function (obj) {\n  for (var _len = arguments.length, more = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    more[_key - 1] = arguments[_key];\n  }\n\n  if (more.length > 0) {\n    return more.reduce(function (memo, currentObj) {\n      return [memo, toTransformString(currentObj)].join(\" \");\n    }, toTransformString(obj)).trim();\n  } else {\n    if (obj === undefined || obj === null || typeof obj === \"string\") {\n      return obj;\n    }\n\n    var transforms = [];\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        var value = obj[key];\n        transforms.push(\"\".concat(key, \"(\").concat(value, \")\"));\n      }\n    }\n\n    return transforms.join(\" \").trim();\n  }\n};\n\nexport default {\n  toTransformString: toTransformString,\n\n  /**\n   * Given the name of a color scale, getColorScale will return an array\n   * of 5 hex string values in that color scale. If no 'name' parameter\n   * is given, it will return the Victory default grayscale.\n   * @param {String} name The name of the color scale to return (optional).\n   * @returns {Array} An array of 5 hex string values composing a color scale.\n   */\n  getColorScale: function (name) {\n    var scales = {\n      grayscale: [\"#cccccc\", \"#969696\", \"#636363\", \"#252525\"],\n      qualitative: [\"#334D5C\", \"#45B29D\", \"#EFC94C\", \"#E27A3F\", \"#DF5A49\", \"#4F7DA1\", \"#55DBC1\", \"#EFDA97\", \"#E2A37F\", \"#DF948A\"],\n      heatmap: [\"#428517\", \"#77D200\", \"#D6D305\", \"#EC8E19\", \"#C92B05\"],\n      warm: [\"#940031\", \"#C43343\", \"#DC5429\", \"#FF821D\", \"#FFAF55\"],\n      cool: [\"#2746B9\", \"#0B69D4\", \"#2794DB\", \"#31BB76\", \"#60E83B\"],\n      red: [\"#FCAE91\", \"#FB6A4A\", \"#DE2D26\", \"#A50F15\", \"#750B0E\"],\n      blue: [\"#002C61\", \"#004B8F\", \"#006BC9\", \"#3795E5\", \"#65B4F4\"],\n      green: [\"#354722\", \"#466631\", \"#649146\", \"#8AB25C\", \"#A9C97E\"]\n    };\n    return name ? scales[name] : scales.grayscale;\n  }\n};","import _isRegExp from \"lodash/isRegExp\";\nimport _find from \"lodash/find\";\nimport _isFunction from \"lodash/isFunction\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Log from \"./log\";\nimport PropTypes from \"prop-types\";\n/**\n * Return a new validator based on `validator` but with the option to chain\n * `isRequired` onto the validation. This is nearly identical to how React\n * does it internally, but they don't expose their helper for us to use.\n * @param {Function} validator Validation function.\n * @returns {Function} Validator with `isRequired` option.\n */\n\nvar makeChainable = function (validator) {\n  /* eslint-disable max-params */\n  var _chainable = function (isRequired, props, propName, componentName) {\n    var value = props[propName];\n\n    if (value === undefined || value === null) {\n      if (isRequired) {\n        return new Error(\"Required `\".concat(propName, \"` was not specified in `\").concat(componentName, \"`.\"));\n      }\n\n      return null;\n    }\n\n    for (var _len = arguments.length, rest = new Array(_len > 4 ? _len - 4 : 0), _key = 4; _key < _len; _key++) {\n      rest[_key - 4] = arguments[_key];\n    }\n\n    return validator.apply(void 0, [props, propName, componentName].concat(rest));\n  };\n\n  var chainable = _chainable.bind(null, false);\n\n  chainable.isRequired = _chainable.bind(null, true);\n  return chainable;\n};\n\nvar nullConstructor = function () {\n  return null;\n};\n\nvar undefinedConstructor = function () {\n  return undefined;\n};\n/**\n * Get the constructor of `value`. If `value` is null or undefined, return the\n * special singletons `nullConstructor` or `undefinedConstructor`, respectively.\n * @param {*} value Instance to return the constructor of.\n * @returns {Function} Constructor of `value`.\n */\n\n\nvar getConstructor = function (value) {\n  if (value === undefined) {\n    return undefinedConstructor;\n  } else if (value === null) {\n    return nullConstructor;\n  } else {\n    return value.constructor;\n  }\n};\n/**\n * Get the name of the constructor used to create `value`, using\n * `Object.protoype.toString`. If the value is null or undefined, return\n * \"null\" or \"undefined\", respectively.\n * @param {*} value Instance to return the constructor name of.\n * @returns {String} Name of the constructor.\n */\n\n\nvar getConstructorName = function (value) {\n  if (value === undefined) {\n    return \"undefined\";\n  } else if (value === null) {\n    return \"null\";\n  }\n\n  return Object.prototype.toString.call(value).slice(8, -1); // eslint-disable-line no-magic-numbers\n};\n\nexport default {\n  /**\n   * Return a new validator based on `propType` but which logs a `console.error`\n   * with `explanation` if used.\n   * @param {Function} propType The old, deprecated propType.\n   * @param {String} explanation The message to provide the user of the deprecated propType.\n   * @returns {Function} Validator which logs usage of this propType\n   */\n  deprecated: function (propType, explanation) {\n    return function (props, propName, componentName) {\n      var value = props[propName];\n\n      if (value !== null && value !== undefined) {\n        Log.warn(\"\\\"\".concat(propName, \"\\\" property of \\\"\").concat(componentName, \"\\\" has been deprecated \").concat(explanation));\n      }\n\n      return PropTypes.checkPropTypes(_defineProperty({}, propName, propType), props, propName, componentName);\n    };\n  },\n\n  /**\n   * Return a new validator which returns true\n   * if and only if all validators passed as arguments return true.\n   * Like React.propTypes.oneOfType, except \"all\" instead of \"any\"\n   * @param {Array} validators Validation functions.\n   * @returns {Function} Combined validator function\n   */\n  allOfType: function (validators) {\n    return makeChainable(function (props, propName, componentName) {\n      for (var _len2 = arguments.length, rest = new Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {\n        rest[_key2 - 3] = arguments[_key2];\n      }\n\n      return validators.reduce(function (result, validator) {\n        return result || validator.apply(void 0, [props, propName, componentName].concat(rest));\n      }, undefined);\n    });\n  },\n\n  /**\n   * Check that the value is a non-negative number.\n   */\n  nonNegative: makeChainable(function (props, propName, componentName) {\n    var value = props[propName];\n\n    if (typeof value !== \"number\" || value < 0) {\n      return new Error(\"`\".concat(propName, \"` in `\").concat(componentName, \"` must be a non-negative number.\"));\n    }\n\n    return undefined;\n  }),\n\n  /**\n   * Check that the value is an integer.\n   */\n  integer: makeChainable(function (props, propName, componentName) {\n    var value = props[propName];\n\n    if (typeof value !== \"number\" || value % 1 !== 0) {\n      return new Error(\"`\".concat(propName, \"` in `\").concat(componentName, \"` must be an integer.\"));\n    }\n\n    return undefined;\n  }),\n\n  /**\n   * Check that the value is greater than zero.\n   */\n  greaterThanZero: makeChainable(function (props, propName, componentName) {\n    var value = props[propName];\n\n    if (typeof value !== \"number\" || value <= 0) {\n      return new Error(\"`\".concat(propName, \"` in `\").concat(componentName, \"` must be a number greater than zero.\"));\n    }\n\n    return undefined;\n  }),\n\n  /**\n   * Check that the value is an Array of two unique values.\n   */\n  domain: makeChainable(function (props, propName, componentName) {\n    var value = props[propName];\n\n    if (!Array.isArray(value) || value.length !== 2 || value[1] === value[0]) {\n      return new Error(\"`\".concat(propName, \"` in `\").concat(componentName, \"` must be an array of two unique numeric values.\"));\n    }\n\n    return undefined;\n  }),\n\n  /**\n   * Check that the value looks like a d3 `scale` function.\n   */\n  scale: makeChainable(function (props, propName, componentName) {\n    var supportedScaleStrings = [\"linear\", \"time\", \"log\", \"sqrt\"];\n\n    var validScale = function (scl) {\n      if (_isFunction(scl)) {\n        return _isFunction(scl.copy) && _isFunction(scl.domain) && _isFunction(scl.range);\n      } else if (typeof scl === \"string\") {\n        return supportedScaleStrings.indexOf(scl) !== -1;\n      }\n\n      return false;\n    };\n\n    var value = props[propName];\n\n    if (!validScale(value)) {\n      return new Error(\"`\".concat(propName, \"` in `\").concat(componentName, \"` must be a d3 scale.\"));\n    }\n\n    return undefined;\n  }),\n\n  /**\n   * Check that an array contains items of the same type.\n   */\n  homogeneousArray: makeChainable(function (props, propName, componentName) {\n    var values = props[propName];\n\n    if (!Array.isArray(values)) {\n      return new Error(\"`\".concat(propName, \"` in `\").concat(componentName, \"` must be an array.\"));\n    }\n\n    if (values.length < 2) {\n      return undefined;\n    }\n\n    var comparisonConstructor = getConstructor(values[0]);\n\n    var typeMismatchedValue = _find(values, function (value) {\n      return comparisonConstructor !== getConstructor(value);\n    });\n\n    if (typeMismatchedValue) {\n      var constructorName = getConstructorName(values[0]);\n      var otherConstructorName = getConstructorName(typeMismatchedValue);\n      return new Error(\"Expected `\".concat(propName, \"` in `\").concat(componentName, \"` to be a \") + \"homogeneous array, but found types `\".concat(constructorName, \"` and \") + \"`\".concat(otherConstructorName, \"`.\"));\n    }\n\n    return undefined;\n  }),\n\n  /**\n   * Check that array prop length matches props.data.length\n   */\n  matchDataLength: makeChainable(function (props, propName) {\n    if (props[propName] && Array.isArray(props[propName]) && props[propName].length !== props.data.length) {\n      return new Error(\"Length of data and \".concat(propName, \" arrays must match.\"));\n    }\n\n    return undefined;\n  }),\n\n  /**\n   * Check that the value is a regular expression\n   */\n  regExp: makeChainable(function (props, propName, componentName) {\n    if (props[propName] && !_isRegExp(props[propName])) {\n      return new Error(\"`\".concat(propName, \"` in `\").concat(componentName, \"` must be a regular expression.\"));\n    }\n\n    return undefined;\n  })\n};","import PropTypes from \"prop-types\";\nimport CustomPropTypes from \"./prop-types\";\nvar dataProps = {\n  categories: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.string), PropTypes.shape({\n    x: PropTypes.arrayOf(PropTypes.string),\n    y: PropTypes.arrayOf(PropTypes.string)\n  })]),\n  data: PropTypes.oneOfType([PropTypes.array, PropTypes.object]),\n  dataComponent: PropTypes.element,\n  disableInlineStyles: PropTypes.bool,\n  labelComponent: PropTypes.element,\n  labels: PropTypes.oneOfType([PropTypes.func, PropTypes.array]),\n  samples: CustomPropTypes.nonNegative,\n  sortKey: PropTypes.oneOfType([PropTypes.func, CustomPropTypes.allOfType([CustomPropTypes.integer, CustomPropTypes.nonNegative]), PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  sortOrder: PropTypes.oneOf([\"ascending\", \"descending\"]),\n  style: PropTypes.shape({\n    parent: PropTypes.object,\n    data: PropTypes.object,\n    labels: PropTypes.object\n  }),\n  x: PropTypes.oneOfType([PropTypes.func, CustomPropTypes.allOfType([CustomPropTypes.integer, CustomPropTypes.nonNegative]), PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  y: PropTypes.oneOfType([PropTypes.func, CustomPropTypes.allOfType([CustomPropTypes.integer, CustomPropTypes.nonNegative]), PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  y0: PropTypes.oneOfType([PropTypes.func, CustomPropTypes.allOfType([CustomPropTypes.integer, CustomPropTypes.nonNegative]), PropTypes.string, PropTypes.arrayOf(PropTypes.string)])\n};\nvar baseProps = {\n  animate: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  containerComponent: PropTypes.element,\n  domain: PropTypes.oneOfType([CustomPropTypes.domain, PropTypes.shape({\n    x: CustomPropTypes.domain,\n    y: CustomPropTypes.domain\n  })]),\n  maxDomain: PropTypes.oneOfType([PropTypes.number, PropTypes.instanceOf(Date), PropTypes.shape({\n    x: PropTypes.oneOfType([PropTypes.number, PropTypes.instanceOf(Date)]),\n    y: PropTypes.oneOfType([PropTypes.number, PropTypes.instanceOf(Date)])\n  })]),\n  minDomain: PropTypes.oneOfType([PropTypes.number, PropTypes.instanceOf(Date), PropTypes.shape({\n    x: PropTypes.oneOfType([PropTypes.number, PropTypes.instanceOf(Date)]),\n    y: PropTypes.oneOfType([PropTypes.number, PropTypes.instanceOf(Date)])\n  })]),\n  domainPadding: PropTypes.oneOfType([PropTypes.shape({\n    x: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)]),\n    y: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)])\n  }), PropTypes.number, PropTypes.arrayOf(PropTypes.number)]),\n  eventKey: PropTypes.oneOfType([PropTypes.func, CustomPropTypes.allOfType([CustomPropTypes.integer, CustomPropTypes.nonNegative]), PropTypes.string]),\n  events: PropTypes.arrayOf(PropTypes.shape({\n    target: PropTypes.oneOf([\"data\", \"labels\", \"parent\"]),\n    eventKey: PropTypes.oneOfType([PropTypes.array, CustomPropTypes.allOfType([CustomPropTypes.integer, CustomPropTypes.nonNegative]), PropTypes.string]),\n    eventHandlers: PropTypes.object\n  })),\n  externalEventMutations: PropTypes.arrayOf(PropTypes.shape({\n    callback: PropTypes.function,\n    childName: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n    eventKey: PropTypes.oneOfType([PropTypes.array, CustomPropTypes.allOfType([CustomPropTypes.integer, CustomPropTypes.nonNegative]), PropTypes.string]),\n    mutation: PropTypes.function,\n    target: PropTypes.oneOfType([PropTypes.string, PropTypes.array])\n  })),\n  groupComponent: PropTypes.element,\n  height: CustomPropTypes.nonNegative,\n  name: PropTypes.string,\n  origin: PropTypes.shape({\n    x: PropTypes.number,\n    y: PropTypes.number\n  }),\n  padding: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    top: PropTypes.number,\n    bottom: PropTypes.number,\n    left: PropTypes.number,\n    right: PropTypes.number\n  })]),\n  polar: PropTypes.bool,\n  range: PropTypes.oneOfType([CustomPropTypes.domain, PropTypes.shape({\n    x: CustomPropTypes.domain,\n    y: CustomPropTypes.domain\n  })]),\n  scale: PropTypes.oneOfType([CustomPropTypes.scale, PropTypes.shape({\n    x: CustomPropTypes.scale,\n    y: CustomPropTypes.scale\n  })]),\n  sharedEvents: PropTypes.shape({\n    events: PropTypes.array,\n    getEventState: PropTypes.func\n  }),\n  singleQuadrantDomainPadding: PropTypes.oneOfType([PropTypes.bool, PropTypes.shape({\n    x: PropTypes.oneOfType([PropTypes.bool]),\n    y: PropTypes.oneOfType([PropTypes.bool])\n  })]),\n  standalone: PropTypes.bool,\n  theme: PropTypes.object,\n  width: CustomPropTypes.nonNegative\n};\nvar primitiveProps = {\n  active: PropTypes.bool,\n  ariaLabel: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  className: PropTypes.string,\n  clipPath: PropTypes.string,\n  data: PropTypes.oneOfType([PropTypes.array, PropTypes.object]),\n  desc: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  disableInlineStyles: PropTypes.bool,\n  events: PropTypes.object,\n  id: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  index: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  origin: PropTypes.shape({\n    x: PropTypes.number,\n    y: PropTypes.number\n  }),\n  polar: PropTypes.bool,\n  role: PropTypes.string,\n  scale: PropTypes.oneOfType([CustomPropTypes.scale, PropTypes.shape({\n    x: CustomPropTypes.scale,\n    y: CustomPropTypes.scale\n  })]),\n  shapeRendering: PropTypes.string,\n  style: PropTypes.object,\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n  transform: PropTypes.string\n};\nexport default {\n  baseProps: baseProps,\n  dataProps: dataProps,\n  primitiveProps: primitiveProps\n};","import _keys from \"lodash/keys\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport CustomPropTypes from \"../victory-util/prop-types\";\n\nvar Portal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Portal, _React$Component);\n\n  function Portal(props) {\n    var _this;\n\n    _classCallCheck(this, Portal);\n\n    _this = _possibleConstructorReturn(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).call(this, props));\n    _this.map = {};\n    _this.index = 1;\n    _this.portalUpdate = _this.portalUpdate.bind(_assertThisInitialized(_this));\n    _this.portalRegister = _this.portalRegister.bind(_assertThisInitialized(_this));\n    _this.portalDeregister = _this.portalDeregister.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Portal, [{\n    key: \"portalRegister\",\n    value: function portalRegister() {\n      return ++this.index;\n    }\n  }, {\n    key: \"portalUpdate\",\n    value: function portalUpdate(key, element) {\n      this.map[key] = element;\n      this.forceUpdate();\n    }\n  }, {\n    key: \"portalDeregister\",\n    value: function portalDeregister(key) {\n      delete this.map[key];\n      this.forceUpdate();\n    }\n  }, {\n    key: \"getChildren\",\n    value: function getChildren() {\n      var _this2 = this;\n\n      return _keys(this.map).map(function (key) {\n        var el = _this2.map[key];\n        return el ? React.cloneElement(el, {\n          key: key\n        }) : el;\n      });\n    } // Overridden in victory-core-native\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"svg\", this.props, this.getChildren());\n    }\n  }]);\n\n  return Portal;\n}(React.Component);\n\nObject.defineProperty(Portal, \"displayName\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: \"Portal\"\n});\nObject.defineProperty(Portal, \"propTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    className: PropTypes.string,\n    height: CustomPropTypes.nonNegative,\n    style: PropTypes.object,\n    viewBox: PropTypes.string,\n    width: CustomPropTypes.nonNegative\n  }\n});\nexport { Portal as default };","import React from \"react\";\n/**\n * The React context object consumers may use to access the context of the\n * portal.\n */\n\nvar PortalContext = React.createContext({});\nPortalContext.displayName = \"PortalContext\";\nexport default PortalContext;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { timer, now } from \"d3-timer\";\n\nvar Timer =\n/*#__PURE__*/\nfunction () {\n  function Timer() {\n    _classCallCheck(this, Timer);\n\n    this.shouldAnimate = true;\n    this.subscribers = [];\n    this.loop = this.loop.bind(this);\n    this.timer = null;\n    this.activeSubscriptions = 0;\n  }\n\n  _createClass(Timer, [{\n    key: \"bypassAnimation\",\n    value: function bypassAnimation() {\n      this.shouldAnimate = false;\n    }\n  }, {\n    key: \"resumeAnimation\",\n    value: function resumeAnimation() {\n      this.shouldAnimate = true;\n    }\n  }, {\n    key: \"loop\",\n    value: function loop() {\n      this.subscribers.forEach(function (s) {\n        s.callback(now() - s.startTime, s.duration);\n      });\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      if (!this.timer) {\n        this.timer = timer(this.loop);\n      }\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      if (this.timer) {\n        this.timer.stop();\n        this.timer = null;\n      }\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(callback, duration) {\n      duration = this.shouldAnimate ? duration : 0;\n      var subscriptionID = this.subscribers.push({\n        startTime: now(),\n        callback: callback,\n        duration: duration\n      });\n      this.activeSubscriptions++;\n      this.start();\n      return subscriptionID;\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(id) {\n      if (id !== null && this.subscribers[id - 1]) {\n        delete this.subscribers[id - 1];\n        this.activeSubscriptions--;\n      }\n\n      if (this.activeSubscriptions === 0) {\n        this.stop();\n      }\n    }\n  }]);\n\n  return Timer;\n}();\n\nexport { Timer as default };","import React from \"react\";\nimport Timer from \"./timer\";\n/**\n * The React context object consumers may use to access or override the global\n * timer.\n */\n\nvar TimerContext = React.createContext({\n  transitionTimer: new Timer(),\n  animationTimer: new Timer()\n});\nTimerContext.displayName = \"TimerContext\";\nexport default TimerContext;","import _isFunction from \"lodash/isFunction\";\nimport _isObject from \"lodash/isObject\";\nimport _uniqueId from \"lodash/uniqueId\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport CustomPropTypes from \"../victory-util/prop-types\";\nimport Portal from \"../victory-portal/portal\";\nimport PortalContext from \"../victory-portal/portal-context\";\nimport TimerContext from \"../victory-util/timer-context\";\nimport Helpers from \"../victory-util/helpers\";\n\nvar VictoryContainer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(VictoryContainer, _React$Component);\n\n  function VictoryContainer(props) {\n    var _this;\n\n    _classCallCheck(this, VictoryContainer);\n\n    _this = _possibleConstructorReturn(this, (VictoryContainer.__proto__ || Object.getPrototypeOf(VictoryContainer)).call(this, props));\n    _this.containerId = !_isObject(props) || props.containerId === undefined ? _uniqueId(\"victory-container-\") : props.containerId;\n\n    _this.savePortalRef = function (portal) {\n      _this.portalRef = portal;\n      return portal;\n    };\n\n    _this.portalUpdate = function (key, el) {\n      return _this.portalRef.portalUpdate(key, el);\n    };\n\n    _this.portalRegister = function () {\n      return _this.portalRef.portalRegister();\n    };\n\n    _this.portalDeregister = function (key) {\n      return _this.portalRef.portalDeregister(key);\n    };\n\n    _this.saveContainerRef = props && _isFunction(props.containerRef) ? props.containerRef : function (container) {\n      _this.containerRef = container;\n      return container;\n    };\n    _this.shouldHandleWheel = props && props.events && props.events.onWheel;\n\n    if (_this.shouldHandleWheel) {\n      _this.handleWheel = function (e) {\n        return e.preventDefault();\n      };\n    }\n\n    return _this;\n  }\n\n  _createClass(VictoryContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.shouldHandleWheel && this.containerRef) {\n        this.containerRef.addEventListener(\"wheel\", this.handleWheel);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.shouldHandleWheel && this.containerRef) {\n        this.containerRef.removeEventListener(\"wheel\", this.handleWheel);\n      }\n    }\n  }, {\n    key: \"getIdForElement\",\n    value: function getIdForElement(elementName) {\n      return \"\".concat(this.containerId, \"-\").concat(elementName);\n    } // overridden in custom containers\n\n  }, {\n    key: \"getChildren\",\n    value: function getChildren(props) {\n      return props.children;\n    } // Get props defined by the Open UI Automation (OUIA) 1.0-RC spec\n    // See https://ouia.readthedocs.io/en/latest/README.html#ouia-component\n\n  }, {\n    key: \"getOUIAProps\",\n    value: function getOUIAProps(props) {\n      var ouiaId = props.ouiaId,\n          ouiaSafe = props.ouiaSafe,\n          ouiaType = props.ouiaType;\n      return _objectSpread({}, ouiaId && {\n        \"data-ouia-component-id\": ouiaId\n      }, ouiaType && {\n        \"data-ouia-component-type\": ouiaType\n      }, ouiaSafe !== undefined && {\n        \"data-ouia-safe\": ouiaSafe\n      });\n    }\n  }, {\n    key: \"renderContainer\",\n    value: function renderContainer(props, svgProps, style) {\n      var title = props.title,\n          desc = props.desc,\n          portalComponent = props.portalComponent,\n          className = props.className,\n          width = props.width,\n          height = props.height,\n          portalZIndex = props.portalZIndex,\n          responsive = props.responsive;\n      var children = this.getChildren(props);\n      var dimensions = responsive ? {\n        width: \"100%\",\n        height: \"100%\"\n      } : {\n        width: width,\n        height: height\n      };\n\n      var divStyle = _assign({\n        pointerEvents: \"none\",\n        touchAction: \"none\",\n        position: \"relative\"\n      }, dimensions);\n\n      var portalDivStyle = _assign({\n        zIndex: portalZIndex,\n        position: \"absolute\",\n        top: 0,\n        left: 0\n      }, dimensions);\n\n      var svgStyle = _assign({\n        pointerEvents: \"all\"\n      }, dimensions);\n\n      var portalSvgStyle = _assign({\n        overflow: \"visible\"\n      }, dimensions);\n\n      var portalProps = {\n        width: width,\n        height: height,\n        viewBox: svgProps.viewBox,\n        preserveAspectRatio: svgProps.preserveAspectRatio,\n        style: portalSvgStyle\n      };\n      return React.createElement(PortalContext.Provider, {\n        value: {\n          portalUpdate: this.portalUpdate,\n          portalRegister: this.portalRegister,\n          portalDeregister: this.portalDeregister\n        }\n      }, React.createElement(\"div\", _extends({\n        style: _defaults({}, style, divStyle),\n        className: className,\n        ref: this.saveContainerRef\n      }, this.getOUIAProps(props)), React.createElement(\"svg\", _extends({}, svgProps, {\n        style: svgStyle\n      }), title ? React.createElement(\"title\", {\n        id: this.getIdForElement(\"title\")\n      }, title) : null, desc ? React.createElement(\"desc\", {\n        id: this.getIdForElement(\"desc\")\n      }, desc) : null, children), React.createElement(\"div\", {\n        style: portalDivStyle\n      }, React.cloneElement(portalComponent, _objectSpread({}, portalProps, {\n        ref: this.savePortalRef\n      })))));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _props = this.props,\n          width = _props.width,\n          height = _props.height,\n          responsive = _props.responsive,\n          events = _props.events,\n          title = _props.title,\n          desc = _props.desc,\n          tabIndex = _props.tabIndex,\n          preserveAspectRatio = _props.preserveAspectRatio,\n          role = _props.role;\n      var style = responsive ? this.props.style : Helpers.omit(this.props.style, [\"height\", \"width\"]);\n\n      var svgProps = _assign({\n        width: width,\n        height: height,\n        tabIndex: tabIndex,\n        role: role,\n        \"aria-labelledby\": [title && this.getIdForElement(\"title\"), this.props[\"aria-labelledby\"]].filter(Boolean).join(\" \") || undefined,\n        \"aria-describedby\": [desc && this.getIdForElement(\"desc\"), this.props[\"aria-describedby\"]].filter(Boolean).join(\" \") || undefined,\n        viewBox: responsive ? \"0 0 \".concat(width, \" \").concat(height) : undefined,\n        preserveAspectRatio: responsive ? preserveAspectRatio : undefined\n      }, events);\n\n      return this.renderContainer(this.props, svgProps, style);\n    }\n  }]);\n\n  return VictoryContainer;\n}(React.Component);\n\nObject.defineProperty(VictoryContainer, \"displayName\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: \"VictoryContainer\"\n});\nObject.defineProperty(VictoryContainer, \"role\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: \"container\"\n});\nObject.defineProperty(VictoryContainer, \"propTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    \"aria-describedby\": PropTypes.string,\n    \"aria-labelledby\": PropTypes.string,\n    children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n    className: PropTypes.string,\n    containerId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    containerRef: PropTypes.func,\n    desc: PropTypes.string,\n    events: PropTypes.object,\n    height: CustomPropTypes.nonNegative,\n    name: PropTypes.string,\n    origin: PropTypes.shape({\n      x: CustomPropTypes.nonNegative,\n      y: CustomPropTypes.nonNegative\n    }),\n    ouiaId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    ouiaSafe: PropTypes.bool,\n    ouiaType: PropTypes.string,\n    polar: PropTypes.bool,\n    portalComponent: PropTypes.element,\n    portalZIndex: CustomPropTypes.integer,\n    preserveAspectRatio: PropTypes.string,\n    responsive: PropTypes.bool,\n    role: PropTypes.string,\n    style: PropTypes.object,\n    tabIndex: PropTypes.number,\n    theme: PropTypes.object,\n    title: PropTypes.string,\n    width: CustomPropTypes.nonNegative\n  }\n});\nObject.defineProperty(VictoryContainer, \"defaultProps\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    className: \"VictoryContainer\",\n    portalComponent: React.createElement(Portal, null),\n    portalZIndex: 99,\n    responsive: true,\n    role: \"img\"\n  }\n});\nObject.defineProperty(VictoryContainer, \"contextType\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: TimerContext\n});\nexport { VictoryContainer as default };","import _assign from \"lodash/assign\";\n// *\n// * Colors\n// *\nvar yellow200 = \"#FFF59D\";\nvar deepOrange600 = \"#F4511E\";\nvar lime300 = \"#DCE775\";\nvar lightGreen500 = \"#8BC34A\";\nvar teal700 = \"#00796B\";\nvar cyan900 = \"#006064\";\nvar colors = [deepOrange600, yellow200, lime300, lightGreen500, teal700, cyan900];\nvar blueGrey50 = \"#ECEFF1\";\nvar blueGrey300 = \"#90A4AE\";\nvar blueGrey700 = \"#455A64\";\nvar grey900 = \"#212121\"; // *\n// * Typography\n// *\n\nvar sansSerif = \"'Helvetica Neue', 'Helvetica', sans-serif\";\nvar letterSpacing = \"normal\";\nvar fontSize = 12; // *\n// * Layout\n// *\n\nvar padding = 8;\nvar baseProps = {\n  width: 350,\n  height: 350,\n  padding: 50\n}; // *\n// * Labels\n// *\n\nvar baseLabelStyles = {\n  fontFamily: sansSerif,\n  fontSize: fontSize,\n  letterSpacing: letterSpacing,\n  padding: padding,\n  fill: blueGrey700,\n  stroke: \"transparent\",\n  strokeWidth: 0\n};\n\nvar centeredLabelStyles = _assign({\n  textAnchor: \"middle\"\n}, baseLabelStyles); // *\n// * Strokes\n// *\n\n\nvar strokeDasharray = \"10, 5\";\nvar strokeLinecap = \"round\";\nvar strokeLinejoin = \"round\";\nexport default {\n  area: _assign({\n    style: {\n      data: {\n        fill: grey900\n      },\n      labels: baseLabelStyles\n    }\n  }, baseProps),\n  axis: _assign({\n    style: {\n      axis: {\n        fill: \"transparent\",\n        stroke: blueGrey300,\n        strokeWidth: 2,\n        strokeLinecap: strokeLinecap,\n        strokeLinejoin: strokeLinejoin\n      },\n      axisLabel: _assign({}, centeredLabelStyles, {\n        padding: padding,\n        stroke: \"transparent\"\n      }),\n      grid: {\n        fill: \"none\",\n        stroke: blueGrey50,\n        strokeDasharray: strokeDasharray,\n        strokeLinecap: strokeLinecap,\n        strokeLinejoin: strokeLinejoin,\n        pointerEvents: \"painted\"\n      },\n      ticks: {\n        fill: \"transparent\",\n        size: 5,\n        stroke: blueGrey300,\n        strokeWidth: 1,\n        strokeLinecap: strokeLinecap,\n        strokeLinejoin: strokeLinejoin\n      },\n      tickLabels: _assign({}, baseLabelStyles, {\n        fill: blueGrey700\n      })\n    }\n  }, baseProps),\n  polarDependentAxis: _assign({\n    style: {\n      ticks: {\n        fill: \"transparent\",\n        size: 1,\n        stroke: \"transparent\"\n      }\n    }\n  }),\n  bar: _assign({\n    style: {\n      data: {\n        fill: blueGrey700,\n        padding: padding,\n        strokeWidth: 0\n      },\n      labels: baseLabelStyles\n    }\n  }, baseProps),\n  boxplot: _assign({\n    style: {\n      max: {\n        padding: padding,\n        stroke: blueGrey700,\n        strokeWidth: 1\n      },\n      maxLabels: _assign({}, baseLabelStyles, {\n        padding: 3\n      }),\n      median: {\n        padding: padding,\n        stroke: blueGrey700,\n        strokeWidth: 1\n      },\n      medianLabels: _assign({}, baseLabelStyles, {\n        padding: 3\n      }),\n      min: {\n        padding: padding,\n        stroke: blueGrey700,\n        strokeWidth: 1\n      },\n      minLabels: _assign({}, baseLabelStyles, {\n        padding: 3\n      }),\n      q1: {\n        padding: padding,\n        fill: blueGrey700\n      },\n      q1Labels: _assign({}, baseLabelStyles, {\n        padding: 3\n      }),\n      q3: {\n        padding: padding,\n        fill: blueGrey700\n      },\n      q3Labels: _assign({}, baseLabelStyles, {\n        padding: 3\n      })\n    },\n    boxWidth: 20\n  }, baseProps),\n  candlestick: _assign({\n    style: {\n      data: {\n        stroke: blueGrey700\n      },\n      labels: _assign({}, baseLabelStyles, {\n        padding: 5\n      })\n    },\n    candleColors: {\n      positive: \"#ffffff\",\n      negative: blueGrey700\n    }\n  }, baseProps),\n  chart: baseProps,\n  errorbar: _assign({\n    borderWidth: 8,\n    style: {\n      data: {\n        fill: \"transparent\",\n        opacity: 1,\n        stroke: blueGrey700,\n        strokeWidth: 2\n      },\n      labels: baseLabelStyles\n    }\n  }, baseProps),\n  group: _assign({\n    colorScale: colors\n  }, baseProps),\n  histogram: _assign({\n    style: {\n      data: {\n        fill: blueGrey700,\n        stroke: grey900,\n        strokeWidth: 2\n      },\n      labels: baseLabelStyles\n    }\n  }, baseProps),\n  legend: {\n    colorScale: colors,\n    gutter: 10,\n    orientation: \"vertical\",\n    titleOrientation: \"top\",\n    style: {\n      data: {\n        type: \"circle\"\n      },\n      labels: baseLabelStyles,\n      title: _assign({}, baseLabelStyles, {\n        padding: 5\n      })\n    }\n  },\n  line: _assign({\n    style: {\n      data: {\n        fill: \"transparent\",\n        opacity: 1,\n        stroke: blueGrey700,\n        strokeWidth: 2\n      },\n      labels: baseLabelStyles\n    }\n  }, baseProps),\n  pie: _assign({\n    colorScale: colors,\n    style: {\n      data: {\n        padding: padding,\n        stroke: blueGrey50,\n        strokeWidth: 1\n      },\n      labels: _assign({}, baseLabelStyles, {\n        padding: 20\n      })\n    }\n  }, baseProps),\n  scatter: _assign({\n    style: {\n      data: {\n        fill: blueGrey700,\n        opacity: 1,\n        stroke: \"transparent\",\n        strokeWidth: 0\n      },\n      labels: baseLabelStyles\n    }\n  }, baseProps),\n  stack: _assign({\n    colorScale: colors\n  }, baseProps),\n  tooltip: {\n    style: _assign({}, baseLabelStyles, {\n      padding: 0,\n      pointerEvents: \"none\"\n    }),\n    flyoutStyle: {\n      stroke: grey900,\n      strokeWidth: 1,\n      fill: \"#f0f0f0\",\n      pointerEvents: \"none\"\n    },\n    flyoutPadding: 5,\n    cornerRadius: 5,\n    pointerLength: 10\n  },\n  voronoi: _assign({\n    style: {\n      data: {\n        fill: \"transparent\",\n        stroke: \"transparent\",\n        strokeWidth: 0\n      },\n      labels: _assign({}, baseLabelStyles, {\n        padding: 5,\n        pointerEvents: \"none\"\n      }),\n      flyout: {\n        stroke: grey900,\n        strokeWidth: 1,\n        fill: \"#f0f0f0\",\n        pointerEvents: \"none\"\n      }\n    }\n  }, baseProps)\n};","import _assign from \"lodash/assign\";\n// *\n// * Colors\n// *\nvar colors = [\"#252525\", \"#525252\", \"#737373\", \"#969696\", \"#bdbdbd\", \"#d9d9d9\", \"#f0f0f0\"];\nvar charcoal = \"#252525\";\nvar grey = \"#969696\"; // *\n// * Typography\n// *\n\nvar sansSerif = \"'Gill Sans', 'Seravek', 'Trebuchet MS', sans-serif\";\nvar letterSpacing = \"normal\";\nvar fontSize = 14; // *\n// * Layout\n// *\n\nvar baseProps = {\n  width: 450,\n  height: 300,\n  padding: 50,\n  colorScale: colors\n}; // *\n// * Labels\n// *\n\nvar baseLabelStyles = {\n  fontFamily: sansSerif,\n  fontSize: fontSize,\n  letterSpacing: letterSpacing,\n  padding: 10,\n  fill: charcoal,\n  stroke: \"transparent\"\n};\n\nvar centeredLabelStyles = _assign({\n  textAnchor: \"middle\"\n}, baseLabelStyles); // *\n// * Strokes\n// *\n\n\nvar strokeLinecap = \"round\";\nvar strokeLinejoin = \"round\";\nexport default {\n  area: _assign({\n    style: {\n      data: {\n        fill: charcoal\n      },\n      labels: baseLabelStyles\n    }\n  }, baseProps),\n  axis: _assign({\n    style: {\n      axis: {\n        fill: \"transparent\",\n        stroke: charcoal,\n        strokeWidth: 1,\n        strokeLinecap: strokeLinecap,\n        strokeLinejoin: strokeLinejoin\n      },\n      axisLabel: _assign({}, centeredLabelStyles, {\n        padding: 25\n      }),\n      grid: {\n        fill: \"none\",\n        stroke: \"none\",\n        pointerEvents: \"painted\"\n      },\n      ticks: {\n        fill: \"transparent\",\n        size: 1,\n        stroke: \"transparent\"\n      },\n      tickLabels: baseLabelStyles\n    }\n  }, baseProps),\n  bar: _assign({\n    style: {\n      data: {\n        fill: charcoal,\n        padding: 8,\n        strokeWidth: 0\n      },\n      labels: baseLabelStyles\n    }\n  }, baseProps),\n  boxplot: _assign({\n    style: {\n      max: {\n        padding: 8,\n        stroke: charcoal,\n        strokeWidth: 1\n      },\n      maxLabels: _assign({}, baseLabelStyles, {\n        padding: 3\n      }),\n      median: {\n        padding: 8,\n        stroke: charcoal,\n        strokeWidth: 1\n      },\n      medianLabels: _assign({}, baseLabelStyles, {\n        padding: 3\n      }),\n      min: {\n        padding: 8,\n        stroke: charcoal,\n        strokeWidth: 1\n      },\n      minLabels: _assign({}, baseLabelStyles, {\n        padding: 3\n      }),\n      q1: {\n        padding: 8,\n        fill: grey\n      },\n      q1Labels: _assign({}, baseLabelStyles, {\n        padding: 3\n      }),\n      q3: {\n        padding: 8,\n        fill: grey\n      },\n      q3Labels: _assign({}, baseLabelStyles, {\n        padding: 3\n      })\n    },\n    boxWidth: 20\n  }, baseProps),\n  candlestick: _assign({\n    style: {\n      data: {\n        stroke: charcoal,\n        strokeWidth: 1\n      },\n      labels: _assign({}, baseLabelStyles, {\n        padding: 5\n      })\n    },\n    candleColors: {\n      positive: \"#ffffff\",\n      negative: charcoal\n    }\n  }, baseProps),\n  chart: baseProps,\n  errorbar: _assign({\n    borderWidth: 8,\n    style: {\n      data: {\n        fill: \"transparent\",\n        stroke: charcoal,\n        strokeWidth: 2\n      },\n      labels: baseLabelStyles\n    }\n  }, baseProps),\n  group: _assign({\n    colorScale: colors\n  }, baseProps),\n  histogram: _assign({\n    style: {\n      data: {\n        fill: grey,\n        stroke: charcoal,\n        strokeWidth: 2\n      },\n      labels: baseLabelStyles\n    }\n  }, baseProps),\n  legend: {\n    colorScale: colors,\n    gutter: 10,\n    orientation: \"vertical\",\n    titleOrientation: \"top\",\n    style: {\n      data: {\n        type: \"circle\"\n      },\n      labels: baseLabelStyles,\n      title: _assign({}, baseLabelStyles, {\n        padding: 5\n      })\n    }\n  },\n  line: _assign({\n    style: {\n      data: {\n        fill: \"transparent\",\n        stroke: charcoal,\n        strokeWidth: 2\n      },\n      labels: baseLabelStyles\n    }\n  }, baseProps),\n  pie: {\n    style: {\n      data: {\n        padding: 10,\n        stroke: \"transparent\",\n        strokeWidth: 1\n      },\n      labels: _assign({}, baseLabelStyles, {\n        padding: 20\n      })\n    },\n    colorScale: colors,\n    width: 400,\n    height: 400,\n    padding: 50\n  },\n  scatter: _assign({\n    style: {\n      data: {\n        fill: charcoal,\n        stroke: \"transparent\",\n        strokeWidth: 0\n      },\n      labels: baseLabelStyles\n    }\n  }, baseProps),\n  stack: _assign({\n    colorScale: colors\n  }, baseProps),\n  tooltip: {\n    style: _assign({}, baseLabelStyles, {\n      padding: 0,\n      pointerEvents: \"none\"\n    }),\n    flyoutStyle: {\n      stroke: charcoal,\n      strokeWidth: 1,\n      fill: \"#f0f0f0\",\n      pointerEvents: \"none\"\n    },\n    flyoutPadding: 5,\n    cornerRadius: 5,\n    pointerLength: 10\n  },\n  voronoi: _assign({\n    style: {\n      data: {\n        fill: \"transparent\",\n        stroke: \"transparent\",\n        strokeWidth: 0\n      },\n      labels: _assign({}, baseLabelStyles, {\n        padding: 5,\n        pointerEvents: \"none\"\n      }),\n      flyout: {\n        stroke: charcoal,\n        strokeWidth: 1,\n        fill: \"#f0f0f0\",\n        pointerEvents: \"none\"\n      }\n    }\n  }, baseProps)\n};","import materialTheme from \"./material\";\nimport grayscaleTheme from \"./grayscale\";\nexport default {\n  material: materialTheme,\n  grayscale: grayscaleTheme\n};","import _orderBy from \"lodash/orderBy\";\nimport _keys from \"lodash/keys\";\nimport _assign from \"lodash/assign\";\nimport React from \"react\";\nimport { Helpers, Scale, Wrapper } from \"victory-core\";\nvar fallbackProps = {\n  width: 450,\n  height: 300,\n  padding: 50\n}; // Assumes data in `datasets` is sorted by `Data.getData`.\n\nfunction fillData(props, datasets) {\n  var fillInMissingData = props.fillInMissingData;\n  var xMap = datasets.reduce(function (prev, dataset) {\n    dataset.forEach(function (datum) {\n      prev[datum._x instanceof Date ? datum._x.getTime() : datum._x] = true;\n    });\n    return prev;\n  }, {});\n\n  var xKeys = _keys(xMap).map(function (k) {\n    return +k;\n  });\n\n  var xArr = _orderBy(xKeys);\n\n  return datasets.map(function (dataset) {\n    var indexOffset = 0;\n    var isDate = dataset[0] && dataset[0]._x instanceof Date;\n    var filledInData = xArr.map(function (x, index) {\n      x = +x;\n      var datum = dataset[index - indexOffset];\n\n      if (datum) {\n        var x1 = isDate ? datum._x.getTime() : datum._x;\n\n        if (x1 === x) {\n          return datum;\n        } else {\n          indexOffset++;\n          var y = fillInMissingData ? 0 : null;\n          x = isDate ? new Date(x) : x;\n          return {\n            x: x,\n            y: y,\n            _x: x,\n            _y: y\n          };\n        }\n      } else {\n        var _y = fillInMissingData ? 0 : null;\n\n        x = isDate ? new Date(x) : x;\n        return {\n          x: x,\n          y: _y,\n          _x: x,\n          _y: _y\n        };\n      }\n    });\n    return filledInData;\n  });\n}\n\nfunction getY0(datum, index, datasets) {\n  if (datum.y0) {\n    return datum.y0;\n  }\n\n  var y = datum._y;\n  var group = datum._group;\n  var firstDatasetBaseline = datasets[0].map(function (d) {\n    return d.y0;\n  });\n  var previousDatasets = datasets.slice(0, index);\n  var previousPoints = previousDatasets.reduce(function (prev, dataset) {\n    return prev.concat(dataset.filter(function (previousDatum) {\n      return datum._x instanceof Date ? previousDatum._x.getTime() === datum._x.getTime() : previousDatum._x === datum._x;\n    }).map(function (previousDatum) {\n      return previousDatum._y || 0;\n    }));\n  }, []);\n  var y0 = previousPoints.length && previousPoints.reduce(function (memo, value) {\n    var sameSign = y < 0 && value < 0 || y >= 0 && value >= 0;\n    return sameSign ? +value + memo : memo;\n  }, firstDatasetBaseline[group] || 0);\n  return previousPoints.some(function (point) {\n    return point instanceof Date;\n  }) ? new Date(y0) : y0;\n}\n/* eslint-disable no-nested-ternary */\n\n\nfunction addLayoutData(props, datasets, index) {\n  var xOffset = props.xOffset || 0;\n  return datasets[index].map(function (datum) {\n    var yOffset = getY0(datum, index, datasets) || 0;\n    return _assign({}, datum, {\n      _y0: !(datum._y instanceof Date) ? yOffset : yOffset ? new Date(yOffset) : datum._y,\n      _y1: datum._y === null ? null : datum._y instanceof Date ? new Date(+datum._y + +yOffset) : datum._y + yOffset,\n      _x1: datum._x === null ? null : datum._x instanceof Date ? new Date(+datum._x + +xOffset) : datum._x + xOffset\n    });\n  });\n}\n/* eslint-enable no-nested-ternary */\n\n\nfunction stackData(props, childComponents) {\n  var dataFromChildren = Wrapper.getDataFromChildren(props, childComponents);\n  var filterNullChildData = dataFromChildren.map(function (dataset) {\n    return dataset.filter(function (datum) {\n      return datum._x !== null && datum._y !== null;\n    });\n  });\n  var datasets = fillData(props, filterNullChildData);\n  return datasets.map(function (d, i) {\n    return addLayoutData(props, datasets, i);\n  });\n}\n\nfunction getCalculatedProps(props, childComponents) {\n  childComponents = childComponents || React.Children.toArray(props.children);\n  var role = \"stack\";\n  props = Helpers.modifyProps(props, fallbackProps, role);\n  var style = Wrapper.getStyle(props.theme, props.style, role);\n  var categories = props.categories || Wrapper.getCategories(props, childComponents);\n  var datasets = props.datasets || stackData(props, childComponents);\n  var children = childComponents.map(function (c, i) {\n    return React.cloneElement(c, {\n      data: datasets[i]\n    });\n  });\n  var domain = {\n    x: Wrapper.getDomain(_assign({}, props, {\n      categories: categories\n    }), \"x\", children),\n    y: Wrapper.getDomain(_assign({}, props, {\n      categories: categories\n    }), \"y\", children)\n  };\n  var range = props.range || {\n    x: Helpers.getRange(props, \"x\"),\n    y: Helpers.getRange(props, \"y\")\n  };\n  var baseScale = {\n    x: Scale.getScaleFromProps(props, \"x\") || Wrapper.getScale(props, \"x\"),\n    y: Scale.getScaleFromProps(props, \"y\") || Wrapper.getScale(props, \"y\")\n  };\n  var scale = {\n    x: baseScale.x.domain(domain.x).range(props.horizontal ? range.y : range.x),\n    y: baseScale.y.domain(domain.y).range(props.horizontal ? range.x : range.y)\n  };\n  var _props = props,\n      colorScale = _props.colorScale,\n      horizontal = _props.horizontal;\n  return {\n    datasets: datasets,\n    categories: categories,\n    range: range,\n    domain: domain,\n    horizontal: horizontal,\n    scale: scale,\n    style: style,\n    colorScale: colorScale,\n    role: role\n  };\n}\n\nfunction getLabels(props, datasets, index) {\n  if (!props.labels) {\n    return undefined;\n  }\n\n  return datasets.length === index + 1 ? props.labels : undefined;\n}\n\nfunction getChildProps(props, calculatedProps) {\n  var categories = calculatedProps.categories,\n      domain = calculatedProps.domain,\n      range = calculatedProps.range,\n      scale = calculatedProps.scale,\n      horizontal = calculatedProps.horizontal;\n  return {\n    height: props.height,\n    width: props.width,\n    padding: Helpers.getPadding(props),\n    standalone: false,\n    theme: props.theme,\n    categories: categories,\n    domain: domain,\n    range: range,\n    scale: scale,\n    horizontal: horizontal\n  };\n}\n\nfunction getColorScale(props, child) {\n  var role = child.type && child.type.role;\n  var colorScaleOptions = child.props.colorScale || props.colorScale;\n\n  if (role !== \"group\" && role !== \"stack\") {\n    return undefined;\n  }\n\n  return props.theme ? colorScaleOptions || props.theme.props.colorScale : colorScaleOptions;\n}\n\nfunction getChildren(props, childComponents, calculatedProps) {\n  props = Helpers.modifyProps(props, fallbackProps, \"stack\");\n  childComponents = childComponents || React.Children.toArray(props.children);\n  calculatedProps = calculatedProps || getCalculatedProps(props, childComponents);\n  var _calculatedProps = calculatedProps,\n      datasets = _calculatedProps.datasets;\n  var childProps = getChildProps(props, calculatedProps);\n  var parentName = props.name || \"stack\";\n  return childComponents.map(function (child, index) {\n    var role = child.type && child.type.role;\n    var data = datasets[index];\n    var style = Wrapper.getChildStyle(child, index, calculatedProps);\n    var labels = props.labels ? getLabels(props, datasets, index) : child.props.labels;\n    var name = child.props.name || \"\".concat(parentName, \"-\").concat(role, \"-\").concat(index);\n    return React.cloneElement(child, _assign({\n      key: \"\".concat(name, \"-key-\").concat(index),\n      labels: labels,\n      name: name,\n      domainPadding: child.props.domainPadding || props.domainPadding,\n      theme: props.theme,\n      labelComponent: props.labelComponent || child.props.labelComponent,\n      style: style,\n      colorScale: getColorScale(props, child),\n      data: data,\n      polar: props.polar\n    }, childProps));\n  });\n}\n\nexport { getChildren, getCalculatedProps };","import _isEmpty from \"lodash/isEmpty\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { Helpers, VictoryContainer, VictoryTheme, CommonProps, Wrapper, PropTypes as CustomPropTypes } from \"victory-core\";\nimport { VictorySharedEvents } from \"victory-shared-events\";\nimport { getChildren, getCalculatedProps } from \"./helper-methods\";\nimport isEqual from \"react-fast-compare\";\nvar fallbackProps = {\n  width: 450,\n  height: 300,\n  padding: 50\n};\n\nvar VictoryStack =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(VictoryStack, _React$Component);\n\n  function VictoryStack(props) {\n    var _this;\n\n    _classCallCheck(this, VictoryStack);\n\n    _this = _possibleConstructorReturn(this, (VictoryStack.__proto__ || Object.getPrototypeOf(VictoryStack)).call(this, props));\n\n    if (props.animate) {\n      _this.state = {\n        nodesShouldLoad: false,\n        nodesDoneLoad: false,\n        animating: true\n      };\n      _this.setAnimationState = Wrapper.setAnimationState.bind(_assertThisInitialized(_this));\n    }\n\n    return _this;\n  }\n\n  _createClass(VictoryStack, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      if (this.props.animate) {\n        if (!isEqual(this.props, nextProps)) {\n          this.setAnimationState(this.props, nextProps);\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: \"getNewChildren\",\n    value: function getNewChildren(props, childComponents, calculatedProps) {\n      var children = getChildren(props, childComponents, calculatedProps);\n      var getAnimationProps = Wrapper.getAnimationProps.bind(this);\n      var newChildren = children.map(function (child, index) {\n        var childProps = _assign({\n          animate: getAnimationProps(props, child, index)\n        }, child.props);\n\n        return React.cloneElement(child, childProps);\n      });\n      /*\n        reverse render order for children of `VictoryStack` so that higher children in the stack\n        are rendered behind lower children. This looks nicer for stacked bars with cornerRadius, and\n        areas with strokes\n      */\n\n      return newChildren.reverse();\n    }\n  }, {\n    key: \"renderContainer\",\n    value: function renderContainer(containerComponent, props) {\n      var containerProps = _defaults({}, containerComponent.props, props);\n\n      return React.cloneElement(containerComponent, containerProps);\n    }\n  }, {\n    key: \"getContainerProps\",\n    value: function getContainerProps(props, calculatedProps) {\n      var width = props.width,\n          height = props.height,\n          standalone = props.standalone,\n          theme = props.theme,\n          polar = props.polar,\n          horizontal = props.horizontal,\n          name = props.name;\n      var domain = calculatedProps.domain,\n          scale = calculatedProps.scale,\n          style = calculatedProps.style,\n          origin = calculatedProps.origin;\n      return {\n        domain: domain,\n        scale: scale,\n        width: width,\n        height: height,\n        standalone: standalone,\n        theme: theme,\n        style: style.parent,\n        horizontal: horizontal,\n        polar: polar,\n        origin: origin,\n        name: name\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var role = this.constructor.role;\n      var props = this.state && this.state.nodesWillExit ? this.state.oldProps || this.props : this.props;\n      var modifiedProps = Helpers.modifyProps(props, fallbackProps, role);\n      var eventKey = modifiedProps.eventKey,\n          containerComponent = modifiedProps.containerComponent,\n          standalone = modifiedProps.standalone,\n          groupComponent = modifiedProps.groupComponent,\n          externalEventMutations = modifiedProps.externalEventMutations;\n      var childComponents = React.Children.toArray(modifiedProps.children);\n      var calculatedProps = getCalculatedProps(modifiedProps, childComponents);\n      var newChildren = this.getNewChildren(modifiedProps, childComponents, calculatedProps);\n      var containerProps = standalone ? this.getContainerProps(modifiedProps, calculatedProps) : {};\n      var container = standalone ? this.renderContainer(containerComponent, containerProps) : groupComponent;\n      var events = Wrapper.getAllEvents(props);\n\n      if (!_isEmpty(events)) {\n        return React.createElement(VictorySharedEvents, {\n          container: container,\n          eventKey: eventKey,\n          events: events,\n          externalEventMutations: externalEventMutations\n        }, newChildren);\n      }\n\n      return React.cloneElement(container, container.props, newChildren);\n    }\n  }]);\n\n  return VictoryStack;\n}(React.Component);\n\nObject.defineProperty(VictoryStack, \"displayName\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: \"VictoryStack\"\n});\nObject.defineProperty(VictoryStack, \"role\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: \"stack\"\n});\nObject.defineProperty(VictoryStack, \"propTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: _objectSpread({}, CommonProps.baseProps, {\n    bins: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([CustomPropTypes.nonNegative, PropTypes.instanceOf(Date)])), CustomPropTypes.nonNegative]),\n    categories: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.string), PropTypes.shape({\n      x: PropTypes.arrayOf(PropTypes.string),\n      y: PropTypes.arrayOf(PropTypes.string)\n    })]),\n    children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n    colorScale: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.string), PropTypes.oneOf([\"grayscale\", \"qualitative\", \"heatmap\", \"warm\", \"cool\", \"red\", \"green\", \"blue\"])]),\n    fillInMissingData: PropTypes.bool,\n    horizontal: PropTypes.bool,\n    labelComponent: PropTypes.element,\n    labels: PropTypes.oneOfType([PropTypes.func, PropTypes.array]),\n    style: PropTypes.shape({\n      parent: PropTypes.object,\n      data: PropTypes.object,\n      labels: PropTypes.object\n    }),\n    xOffset: PropTypes.number\n  })\n});\nObject.defineProperty(VictoryStack, \"defaultProps\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    containerComponent: React.createElement(VictoryContainer, null),\n    groupComponent: React.createElement(\"g\", null),\n    standalone: true,\n    theme: VictoryTheme.grayscale,\n    fillInMissingData: true\n  }\n});\nObject.defineProperty(VictoryStack, \"expectedComponents\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: [\"groupComponent\", \"containerComponent\", \"labelComponent\"]\n});\nObject.defineProperty(VictoryStack, \"getChildren\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: getChildren\n});\nexport { VictoryStack as default };"],"sourceRoot":""}
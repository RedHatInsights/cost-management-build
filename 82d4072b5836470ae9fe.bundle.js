(self.webpackChunkkoku_ui=self.webpackChunkkoku_ui||[]).push([[7855],{65734:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>x});var r=o(90392),s=o(86208),l=o(45997),a=o(19078),i=o(23246),n=o(97522),c=o.n(n),p=o(79878),d=o(86588),u=o(57954),h=o(94377),m=o(79910),y=o(90203),g=o(44696),f=o(64764);const v=(0,h.X1)(((t,e)=>({selectWidgets:f.cm.selectWidgets(t),widgets:f.cm.selectCurrentWidgets(t)}))),S=(0,p.withTranslation)()((0,d.connect)(v,{})(g.X));var b=o(45572),_=o(82462);const E=(0,h.X1)(((t,e)=>({selectWidgets:_.P2.selectWidgets(t),widgets:_.P2.selectCurrentWidgets(t)}))),O=(0,p.withTranslation)()((0,d.connect)(E,{})(b.f)),B=u.Hb.ocpDetails,P="cost",C="ocp",F=(0,h.X1)(((t,e)=>{const o=(0,r.mB)(location.search),a=(0,i.pe)(o),n=(0,i.VL)(o),p=Object.assign(Object.assign(Object.assign({},o),{[l.eG]:void 0}),{filter:Object.assign(Object.assign({},o.filter),{limit:void 0,offset:void 0})}),d=(0,r.pm)(p),u=y.ZV.selectReport(t,C,P,d),h=y.ZV.selectReportError(t,C,P,d),g=y.ZV.selectReportFetchStatus(t,C,P,d),f=(0,s.H)(m.Vp),v=m.aX.selectProviders(t,"ocp",f),b=m.aX.selectProvidersFetchStatus(t,"ocp",f);return{costOverviewComponent:c().createElement(S,{filterBy:a,groupBy:n,report:u}),description:o[l.eG],detailsURL:B,emptyStateTitle:e.t("navigation.ocp_details"),filterBy:a,groupBy:n,historicalDataComponent:c().createElement(O,{filterBy:a,groupBy:n}),providers:v,providersFetchStatus:b,providerType:"ocp",query:o,queryString:d,report:u,reportError:h,reportFetchStatus:g,reportType:P,reportPathsType:C,tagReportPathsType:"ocp",title:a}})),k={fetchReport:y.nx.fetchReport},x=(0,p.withTranslation)()((0,d.connect)(F,k)(a.Z))},58988:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>ht});var r=o(48927),s=o(90392),l=o(86208),a=o(45997),i=o(73466),n=o(16679),c=o(13883),p=o(81787),d=o(46774),u=o(23246),h=o(8091),m=o(97522),y=o.n(m),g=o(79878),f=o(86588),v=o(94377),S=o(79910),b=o(90203);function _(t={}){return t.project?"project":t.cluster?"cluster":t.node?"node":"date"}var E=o(31447),O=o(55795),B=o(99163),P=o(2088),C=o(33307),F=o(901),k=o(57116);const x={delta:"cost",filter:{time_scope_units:"month",time_scope_value:-1,resolution:"monthly"}},T=[{label:"cluster",value:"cluster"},{label:"node",value:"node"},{label:"project",value:"project"}];class q extends y().Component{constructor(){super(...arguments),this.defaultState={},this.state=Object.assign({},this.defaultState)}render(){const{groupBy:t,onGroupByClicked:e,providers:o,providersError:s,report:l,t:a}=this.props,i=l&&!s&&o&&o.meta&&o.meta.count>0;let n=y().createElement(B.L,null),c=y().createElement(B.L,null),p=y().createElement(B.L,null);if(l&&l.meta&&l.meta.total){const t=l.meta.total.cost&&l.meta.total.cost.total,e=l.meta.total.supplementary&&l.meta.total.supplementary.total,o=l.meta.total.infrastructure&&l.meta.total.infrastructure.total;n=(0,F.Bw)(t?l.meta.total.cost.total.value:0,t?l.meta.total.cost.total.units:"USD"),c=(0,F.Bw)(e?l.meta.total.supplementary.total.value:0,e?l.meta.total.supplementary.total.units:"USD"),p=(0,F.Bw)(o?l.meta.total.infrastructure.total.value:0,o?l.meta.total.infrastructure.total.units:"USD")}return y().createElement("header",{style:k.W.header},y().createElement("div",null,y().createElement(r.Title,{headingLevel:"h2",style:k.W.title,size:"2xl"},a("ocp_details.title")),y().createElement(P.X,{getIdKeyForGroupBy:_,groupBy:t,isDisabled:!i,onItemClicked:e,options:T,showTags:!0,tagReportPathsType:"ocp"})),Boolean(i)&&y().createElement("div",{style:k.W.cost},y().createElement(r.Title,{headingLevel:"h2",style:k.W.costValue,size:"4xl"},y().createElement(r.Tooltip,{content:a("ocp_details.total_cost_tooltip",{supplementaryCost:c,infrastructureCost:p}),enableFlip:!0},y().createElement("span",null,n))),y().createElement("div",{style:k.W.costLabel},y().createElement("div",{style:k.W.costLabelUnit},a("cost"),y().createElement("span",{style:k.W.infoIcon},y().createElement(r.Popover,{"aria-label":a("ocp_details.supplementary_aria_label"),enableFlip:!0,bodyContent:y().createElement(y().Fragment,null,y().createElement("p",{style:k.W.infoTitle},a("ocp_details.supplementary_cost")),y().createElement("p",null,a("ocp_details.supplementary_cost_desc")),y().createElement("br",null),y().createElement("p",{style:k.W.infoTitle},a("ocp_details.infrastructure_cost")),y().createElement("p",null,a("ocp_details.infrastructure_cost_desc")))},y().createElement(r.Button,{variant:r.ButtonVariant.plain},y().createElement(O.iC,{style:k.W.info}))))),y().createElement("div",{style:k.W.costLabelDate},(0,C.J4)()))))}}const R=(0,v.X1)(((t,e)=>{const o=(0,s.pm)(x),r=(0,l.H)(S.Vp);return{providers:S.aX.selectProviders(t,"ocp",r),providersError:S.aX.selectProvidersError(t,"ocp",r),providersFetchStatus:S.aX.selectProvidersFetchStatus(t,"ocp",r),queryString:o}})),w=(0,g.withTranslation)()((0,f.connect)(R,{})(q));var j=o(54390),D=o(8812),A=o(55483),I=o(80878),M=o(55399),Z=o(57954),$=o(49382),V=o(12289),X=o(40794),L=o(11331),W=o(73861);const G={emptyState:{backgroundColor:$.ZP.value,display:"flex",justifyContent:"center",paddingTop:L.ZP.value,height:"35vh",width:"100%"},infoArrow:{position:"relative"},infoArrowDesc:{bottom:W.ZP.value},infoDescription:{color:V.ZP.value,fontSize:X.ZP.value}};class N extends y().Component{constructor(t){super(t),this.state={columns:[],rows:[]},this.buildCostLink=(t,e)=>{const{groupBy:o,query:r}=this.props,l=Object.assign(Object.assign(Object.assign({},r),e&&e!==t&&{[a.eG]:e}),{group_by:{[o]:t}});return`${Z.Hb.ocpDetailsBreakdown}?${(0,s.IV)(l)}`},this.initDatum=()=>{const{isAllSelected:t,query:e,report:o,selectedItems:s,t:l}=this.props;if(!e||!o)return;const a=_(e.group_by),i=this.getGroupByTagKey(),n=(0,F.xG)(o&&o.meta&&o.meta.total&&o.meta.total.cost&&o.meta.total.cost.total?o.meta.total.cost.total.value:0),c=i?[{title:l("ocp_details.tag_column_title")},{title:l("ocp_details.change_column_title")},{title:l("ocp_details.infrastructure_cost")},{title:l("ocp_details.supplementary_cost")},{orderBy:"cost",title:l("cost",{total:n}),transforms:[D.sortable]},{title:""}]:[{orderBy:a,title:l("ocp_details.name_column_title",{groupBy:a}),transforms:[D.sortable]},{title:l("ocp_details.change_column_title")},{orderBy:"infrastructure_cost",title:l("ocp_details.infrastructure_cost")},{orderBy:"supplementary_cost",title:l("ocp_details.supplementary_cost")},{orderBy:"cost",title:l("cost"),transforms:[D.sortable]},{title:""}],p=[];(0,E.c)({report:o,idKey:i||a}).map(((e,o)=>{const r=e&&null!==e.label?e.label:"",l=this.getMonthOverMonthCost(e,o),n=this.getInfrastructureCost(e,o),c=this.getSupplementaryCost(e,o),d=this.getTotalCost(e,o),u=this.getActions(e);let h=y().createElement(M.Link,{to:this.buildCostLink(r.toString(),e.id)},r);r!==`no-${a}`&&r!==`no-${i}`||(h=r);const m=e.id&&e.id!==e.label?y().createElement("div",{style:G.infoDescription},e.id):null;p.push({cells:[{title:y().createElement("div",null,h,m)},{title:y().createElement("div",null,l)},{title:y().createElement("div",null,n)},{title:y().createElement("div",null,c)},{title:y().createElement("div",null,d)},{title:y().createElement("div",null,u)}],disableSelection:e.label===`no-${a}`||e.label===`no-${i}`,isOpen:!1,item:e,selected:t||s&&void 0!==s.find((t=>t.id===e.id))})}));const d=[{heightAuto:!0,cells:[{props:{colSpan:7},title:y().createElement(r.Bullseye,null,y().createElement("div",{style:{textAlign:"center"}},y().createElement(r.Spinner,{size:"xl"})))}]}];this.setState({columns:c,loadingRows:d,rows:p,sortBy:{}})},this.getActions=t=>{const{groupBy:e,query:o}=this.props;return y().createElement(I.e,{groupBy:e,item:t,providerType:"ocp",query:o,reportPathsType:"ocp",showPriceListOption:"cluster"===e})},this.getEmptyState=()=>{const{query:t,t:e}=this.props;for(const e of Object.values(t.filter_by))if("*"!==e)return y().createElement(A.c,{filter:e,showMargin:!1});return y().createElement(r.EmptyState,null,y().createElement(r.EmptyStateIcon,{icon:j.Xk}),y().createElement(r.EmptyStateBody,null,e("ocp_details.empty_state")))},this.getSupplementaryCost=(t,e)=>{const{report:o,t:r}=this.props,s=o&&o.meta&&o.meta.total&&o.meta.total.cost&&o.meta.total.cost.total?o.meta.total.cost.total.value:0,l=0===s?s.toFixed(2):(t.supplementary.total.value/s*100).toFixed(2);return y().createElement(y().Fragment,null,(0,F.xG)(t.supplementary.total.value),y().createElement("div",{style:G.infoDescription,key:`total-cost-${e}`},r("percent_of_cost",{value:l})))},this.getGroupByTagKey=()=>{const{query:t}=this.props;let e;for(const o of Object.keys(t.group_by)){const t=o.indexOf(a.P);if(-1!==t){e=o.substring(t+a.P.length);break}}return e},this.getInfrastructureCost=(t,e)=>{const{report:o,t:r}=this.props,s=o&&o.meta&&o.meta.total&&o.meta.total.cost&&o.meta.total.cost.total?o.meta.total.cost.total.value:0,l=0===s?s.toFixed(2):(t.infrastructure.total.value/s*100).toFixed(2);return y().createElement(y().Fragment,null,(0,F.xG)(t.infrastructure.total.value),y().createElement("div",{style:G.infoDescription,key:`total-cost-${e}`},r("percent_of_cost",{value:l})))},this.getMonthOverMonthCost=(t,e)=>{const{t:o}=this.props,r=(0,F.xG)(Math.abs(t.cost.total.value-t.delta_value)),s=null!==t.delta_percent?Math.abs(t.delta_percent).toFixed(2):0,l=!(0===s||"0.00"===s),a=null!==t.delta_percent;let i;return l&&(i="iconOverride",null!==t.delta_percent&&t.delta_value<0&&(i+=" decrease"),null!==t.delta_percent&&t.delta_value>0&&(i+=" increase")),a?y().createElement("div",{className:"monthOverMonthOverride"},y().createElement("div",{className:i,key:`month-over-month-cost-${e}`},l?o("percent",{value:s}):y().createElement(B.L,null),Boolean(l&&null!==t.delta_percent&&t.delta_value>0)&&y().createElement("span",{className:"fa fa-sort-up",style:G.infoArrow,key:`month-over-month-icon-${e}`}),Boolean(l&&null!==t.delta_percent&&t.delta_value<0)&&y().createElement("span",{className:"fa fa-sort-down",style:Object.assign(Object.assign({},G.ininfoArrow),G.infoArrowDesc),key:`month-over-month-icon-${e}`})),y().createElement("div",{style:G.infoDescription,key:`month-over-month-info-${e}`},(0,C.Y)(r))):(0,C.Tf)()},this.getSortBy=()=>{const{query:t}=this.props,{columns:e}=this.state;let o=-1,r=D.SortByDirection.asc;for(const s of Object.keys(t.order_by)){let l=0;for(const a of e){if(a.orderBy===s){r="asc"===t.order_by[s]?D.SortByDirection.asc:D.SortByDirection.desc,o=l+1;break}l++}}return o>-1?{index:o,direction:r}:{}},this.getTotalCost=(t,e)=>{const{report:o,t:r}=this.props,s=o&&o.meta&&o.meta.total&&o.meta.total.cost&&o.meta.total.cost.total?o.meta.total.cost.total.value:0,l=0===s?s.toFixed(2):(t.cost.total.value/s*100).toFixed(2);return y().createElement(y().Fragment,null,(0,F.xG)(t.cost.total.value),y().createElement("div",{style:G.infoDescription,key:`total-cost-${e}`},r("percent_of_cost",{value:l})))},this.handleOnSelect=(t,e,o)=>{const{onSelected:r}=this.props;let s,l=[];-1===o?s=this.state.rows.map((t=>(t.selected=e,t))):(s=[...this.state.rows],s[o].selected=e,l=[s[o].item]),this.setState({rows:s},(()=>{r&&r(l,e)}))},this.handleOnSort=(t,e,o)=>{const{onSort:r}=this.props,{columns:s}=this.state;r&&r(s[e-1].orderBy,o===D.SortByDirection.asc)},this.handleOnSelect=this.handleOnSelect.bind(this),this.handleOnSort=this.handleOnSort.bind(this)}componentDidMount(){this.initDatum()}componentDidUpdate(t){const{query:e,report:o,selectedItems:r}=this.props,l=o&&o.data?JSON.stringify(o.data):"",a=t.report&&t.report.data?JSON.stringify(t.report.data):"";(0,s.pm)(t.query)===(0,s.pm)(e)&&a===l&&t.selectedItems===r||this.initDatum()}render(){const{isLoading:t}=this.props,{columns:e,loadingRows:o,rows:r}=this.state;return y().createElement(y().Fragment,null,y().createElement(D.Table,{"aria-label":"details-table",canSelectAll:!1,cells:e,className:"tableOverride",rows:t?o:r,sortBy:this.getSortBy(),onSelect:t?void 0:this.handleOnSelect,onSort:this.handleOnSort,gridBreakPoint:"grid-2xl"},y().createElement(D.TableHeader,null),y().createElement(D.TableBody,null)),Boolean(0===r.length)&&y().createElement("div",{style:G.emptyState},this.getEmptyState()))}}const J=(0,g.withTranslation)()(N);var U=o(17824),Q=o(66558),H=o(19853);const K="tag",z="ocp";class Y extends y().Component{constructor(){super(...arguments),this.defaultState={},this.state=Object.assign({},this.defaultState),this.getCategoryOptions=()=>{const{tagReport:t,t:e}=this.props,o=[{name:e("filter_by.values.cluster"),key:"cluster"},{name:e("filter_by.values.node"),key:"node"},{name:e("filter_by.values.project"),key:"project"},{name:e("filter_by.values.tag"),key:a.up}];return t&&t.data&&t.data.length?o:o.filter((t=>t.key!==a.up))}}componentDidMount(){const{fetchTag:t,queryString:e}=this.props;t(z,K,e),this.setState({categoryOptions:this.getCategoryOptions()})}componentDidUpdate(t){const{fetchTag:e,query:o,queryString:r,tagReport:s}=this.props;o&&!(0,H.X)(o,t.query)&&e(z,K,r),(0,H.X)(s,t.tagReport)||this.setState({categoryOptions:this.getCategoryOptions()})}render(){const{groupBy:t,isAllSelected:e,isExportDisabled:o,itemsPerPage:r,itemsTotal:s,onBulkSelected:l,onExportClicked:a,onFilterAdded:i,onFilterRemoved:n,pagination:c,query:p,selectedItems:d,tagReport:u}=this.props,{categoryOptions:h}=this.state;return y().createElement(U.k,{categoryOptions:h,groupBy:t,isAllSelected:e,isExportDisabled:o,itemsPerPage:r,itemsTotal:s,onBulkSelected:l,onExportClicked:a,onFilterAdded:i,onFilterRemoved:n,pagination:c,query:p,selectedItems:d,showBulkSelect:!0,showExport:!0,showFilter:!0,tagReport:u})}}const tt=(0,v.X1)(((t,e)=>{const o=(0,s.pm)({filter:{resolution:"monthly",time_scope_units:"month",time_scope_value:-1}});return{queryString:o,tagReport:Q.ux.selectTag(t,z,K,o),tagReportFetchStatus:Q.ux.selectTagFetchStatus(t,z,K,o)}})),et={fetchTag:Q.xr.Xt},ot=(0,f.connect)(tt,et)(Y),rt=(0,g.withTranslation)()(ot);var st=o(98499),lt=o(32412);const at={content:{paddingBottom:st.ZP.value,paddingTop:st.ZP.value},ocpDetails:{minHeight:"100%"},paginationContainer:{marginLeft:st.ZP.value,marginRight:st.ZP.value},pagination:{backgroundColor:$.ZP.value,padding:lt.ZP.value},tableContainer:{marginLeft:st.ZP.value,marginRight:st.ZP.value}},it={delta:"cost",filter:{limit:10,offset:0,resolution:"monthly",time_scope_units:"month",time_scope_value:-1},filter_by:{},group_by:{project:"*"},order_by:{cost:"desc"}},nt="cost",ct="ocp";class pt extends y().Component{constructor(t,e){super(t,e),this.defaultState={columns:[],isAllSelected:!1,isExportModalOpen:!1,rows:[],selectedItems:[]},this.state=Object.assign({},this.defaultState),this.getComputedItems=()=>{const{query:t,report:e}=this.props,o=_(t.group_by),r=(0,u.qV)(t);return(0,E.c)({report:e,idKey:r||o})},this.getExportModal=t=>{const{isAllSelected:e,isExportModalOpen:o,selectedItems:r}=this.state,{query:s,report:l}=this.props,i=_(s.group_by),n=(0,u.qV)(s),c=l&&l.meta?l.meta.count:0;return y().createElement(d.X,{isAllItems:(e||r.length===c)&&t.length>0,groupBy:n?`${a.P}${n}`:i,isOpen:o,items:r,onClose:this.handleExportModalClose,query:s,reportPathsType:ct,showTimeScope:!0})},this.getPagination=(t=!1)=>{const{report:e}=this.props,o=e&&e.meta?e.meta.count:0,s=e&&e.meta&&e.meta.filter&&e.meta.filter.limit?e.meta.filter.limit:it.filter.limit,l=(e&&e.meta&&e.meta.filter&&e.meta.filter.offset?e.meta.filter.offset:it.filter.offset)/s+1;return y().createElement(r.Pagination,{isCompact:!t,itemCount:o,onPerPageSelect:this.handlePerPageSelect,onSetPage:this.handleSetPage,page:l,perPage:s,variant:t?r.PaginationVariant.bottom:r.PaginationVariant.top,widgetId:"`pagination${isBottom ? '-bottom' : ''}`"})},this.getTable=()=>{const{query:t,report:e,reportFetchStatus:o}=this.props,{isAllSelected:r,selectedItems:s}=this.state,l=_(t.group_by),i=(0,u.qV)(t);return y().createElement(J,{groupBy:i?`${a.P}${i}`:l,isAllSelected:r,isLoading:1===o,onSelected:this.handleSelected,onSort:this.handleSort,query:t,report:e,selectedItems:s})},this.getToolbar=t=>{const{query:e,report:o}=this.props,{isAllSelected:r,selectedItems:s}=this.state,l=_(e.group_by),i=(0,u.qV)(e),n=o&&o.meta?o.meta.count:0;return y().createElement(rt,{groupBy:i?`${a.P}${i}`:l,isAllSelected:r,isExportDisabled:0===t.length||!r&&0===s.length,itemsPerPage:t.length,itemsTotal:n,onBulkSelected:this.handleBulkSelected,onExportClicked:this.handleExportModalOpen,onFilterAdded:this.handleFilterAdded,onFilterRemoved:this.handleFilterRemoved,pagination:this.getPagination(),query:e,selectedItems:s})},this.handleBulkSelected=t=>{const{isAllSelected:e}=this.state;"none"===t?this.setState({isAllSelected:!1,selectedItems:[]}):"page"===t?this.setState({isAllSelected:!1,selectedItems:this.getComputedItems()}):"all"===t&&this.setState({isAllSelected:!e,selectedItems:[]})},this.handleExportModalClose=t=>{this.setState({isExportModalOpen:t})},this.handleExportModalOpen=()=>{this.setState({isExportModalOpen:!0})},this.handleFilterAdded=(t,e)=>{const{history:o,query:r}=this.props,s=(0,h.W)(r,t,e);o.replace(this.getRouteForQuery(s,!0))},this.handleFilterRemoved=(t,e)=>{const{history:o,query:r}=this.props,s=(0,h.U)(r,t,e);o.replace(this.getRouteForQuery(s,!0))},this.handleGroupByClick=t=>{const{history:e,query:o}=this.props,r=t,s=Object.assign(Object.assign({},JSON.parse(JSON.stringify(o))),{group_by:{[r]:"*"},order_by:{cost:"desc"}});e.replace(this.getRouteForQuery(s,!0)),this.setState({isAllSelected:!1,selectedItems:[]})},this.handlePerPageSelect=(t,e)=>{const{history:o,query:r}=this.props,s=Object.assign({},JSON.parse(JSON.stringify(r)));s.filter=Object.assign(Object.assign({},r.filter),{limit:e});const l=this.getRouteForQuery(s,!0);o.replace(l)},this.handleSelected=(t,e=!1)=>{const{isAllSelected:o,selectedItems:r}=this.state;let s=[...o?this.getComputedItems():r];t&&t.length>0&&(e?t.map((t=>s.push(t))):t.map((t=>{s=s.filter((e=>e.id!==t.id))}))),this.setState({isAllSelected:!1,selectedItems:s})},this.handleSetPage=(t,e)=>{const{history:o,query:r,report:s}=this.props,l=s&&s.meta&&s.meta.filter&&s.meta.filter.limit?s.meta.filter.limit:it.filter.limit,a=e*l-l,i=Object.assign({},JSON.parse(JSON.stringify(r)));i.filter=Object.assign(Object.assign({},r.filter),{offset:a});const n=this.getRouteForQuery(i);o.replace(n)},this.handleSort=(t,e)=>{const{history:o,query:r}=this.props,s=Object.assign({},JSON.parse(JSON.stringify(r)));s.order_by={},s.order_by[t]=e?"asc":"desc";const l=this.getRouteForQuery(s);o.replace(l)},this.hasCurrentMonthData=()=>{const{providers:t}=this.props;let e=!1;if(t&&t.data)for(const o of t.data)if(o.current_month_data){e=!0;break}return e},this.updateReport=()=>{const{query:t,location:e,fetchReport:o,history:r,queryString:s}=this.props;e.search?o(ct,nt,s):r.replace(this.getRouteForQuery({filter_by:t?t.filter_by:void 0,group_by:t?t.group_by:void 0,order_by:{cost:"desc"}}))},this.handleBulkSelected=this.handleBulkSelected.bind(this),this.handleExportModalClose=this.handleExportModalClose.bind(this),this.handleExportModalOpen=this.handleExportModalOpen.bind(this),this.handleFilterAdded=this.handleFilterAdded.bind(this),this.handleFilterRemoved=this.handleFilterRemoved.bind(this),this.handlePerPageSelect=this.handlePerPageSelect.bind(this),this.handleSelected=this.handleSelected.bind(this),this.handleSetPage=this.handleSetPage.bind(this),this.handleSort=this.handleSort.bind(this)}componentDidMount(){this.updateReport()}componentDidUpdate(t,e){const{location:o,report:r,reportError:s,queryString:l}=this.props,{selectedItems:a}=this.state,i=t.queryString!==l,n=!r&&!s,c=!o.search,p=e.selectedItems!==a;(i||n||c||p)&&this.updateReport()}getRouteForQuery(t,e=!1){const{history:o}=this.props;return e&&(t.filter=Object.assign(Object.assign({},t.filter),{offset:it.filter.offset})),`${o.location.pathname}?${(0,s.IV)(t)}`}render(){const{providers:t,providersFetchStatus:e,query:o,report:r,reportError:s,reportFetchStatus:l,t:a}=this.props,d=_(o.group_by),u=this.getComputedItems(),h=a("navigation.ocp_details");if(s)return y().createElement(p.Z,{title:h});if(1===e&&1===l)return y().createElement(i.Z,{title:h});if(2===e&&2===l){if(t&&t.meta&&0===t.meta.count&&2===e)return y().createElement(c.Z,{providerType:"ocp",title:h});if(!this.hasCurrentMonthData())return y().createElement(n.Z,{title:h})}return y().createElement("div",{style:at.ocpDetails},y().createElement(w,{groupBy:d,onGroupByClicked:this.handleGroupByClick,report:r}),y().createElement("div",{style:at.content},this.getToolbar(u),this.getExportModal(u),1===l?y().createElement(i.Z,null):y().createElement(y().Fragment,null,y().createElement("div",{style:at.tableContainer},this.getTable()),y().createElement("div",{style:at.paginationContainer},y().createElement("div",{style:at.pagination},this.getPagination(!0))))))}}const dt=(0,v.X1)(((t,e)=>{const o=(0,s.mB)(location.search),r={delta:"cost",filter:Object.assign(Object.assign({},it.filter),o.filter),filter_by:o.filter_by||it.filter_by,group_by:o.group_by||it.group_by,order_by:o.order_by||it.order_by},a=(0,s.pm)(r),i=b.ZV.selectReport(t,ct,nt,a),n=b.ZV.selectReportError(t,ct,nt,a),c=b.ZV.selectReportFetchStatus(t,ct,nt,a),p=(0,l.H)(S.Vp);return{providers:S.aX.selectProviders(t,"ocp",p),providersFetchStatus:S.aX.selectProvidersFetchStatus(t,"ocp",p),query:r,queryString:a,report:i,reportError:n,reportFetchStatus:c}})),ut={fetchReport:b.nx.fetchReport},ht=(0,g.withTranslation)()((0,f.connect)(dt,ut)(pt))}}]);
//# sourceMappingURL=82d4072b5836470ae9fe.bundle.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{2588:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(2402),s=a(1),r=a.n(s),l=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(a[n[s]]=e[n[s]])}return a};const i=e=>{var{children:t}=e,a=l(e,["children"]);return r.a.createElement(n.a,Object.assign({onSubmit:e=>e.preventDefault()},a),t)}},2590:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(480),s=a(1),r=a.n(s),l=a(122);const i=Object(l.e)()(({children:e,t:t,isDisabled:a})=>a?r.a.createElement(n.a,{isContentLeftAligned:!0,content:r.a.createElement("div",null,t("cost_models.read_only_tooltip"))},r.a.createElement("div",{"data-testid":"read-only-tooltip"},e)):e)},2701:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return l}));const n=e=>(t,a)=>Object.assign(Object.assign({},e),{[t]:e[t]?[...e[t],a]:[a]}),s=e=>(t,a)=>Object.assign(Object.assign({},e),{[t]:a}),r=e=>(t,a)=>{if(void 0===e[t])return e;const n=e[t].filter(e=>e!==a);return 0===n.length?Object.keys(e).reduce((a,n)=>n===t?a:Object.assign(Object.assign({},a),{[n]:e[n]}),{}):Object.assign(Object.assign({},e),{[t]:n})},l=e=>(t,a)=>Object.keys(e).reduce((a,n)=>n===t?a:Object.assign(Object.assign({},a),{[n]:e[n]}),{})},2702:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(2356),s=a(2363),r=a(2405),l=a(2348);const i={headerDescription:{width:"97%",wordWrap:"break-word"},content:{paddingTop:n.a.value,height:"182vh"},costmodelsContainer:{marginLeft:n.a.value,marginRight:n.a.value,paddingBottom:s.a.value,paddingTop:s.a.value,paddingLeft:n.a.value,paddingRight:n.a.value},tableContainer:{marginLeft:n.a.value,marginRight:n.a.value},paginationContainer:{paddingBottom:s.a.value,paddingTop:s.a.value,paddingLeft:n.a.value,paddingRight:n.a.value,marginLeft:n.a.value,marginRight:n.a.value,marginBottom:n.a.value,backgroundColor:r.a.value},toolbarContainer:{paddingBottom:s.a.value,paddingTop:s.a.value,marginLeft:n.a.value,marginRight:n.a.value,backgroundColor:r.a.value},header:{padding:n.a.var,backgroundColor:r.a.var},headerCostModel:{padding:s.a.value,paddingBottom:0,backgroundColor:r.a.var},breadcrumb:{paddingBottom:s.a.var},title:{paddingBottom:l.a.var},sourceTypeTitle:{paddingBottom:s.a.var}}},2703:function(e,t,a){"use strict";var n=a(268),s=a(2442),r=a(2344),l=a(2447),i=a(137),o=a(1),c=a.n(o),m=a(122);t.a=Object(m.e)()(({t:e,onClose:t,onProceed:a,title:o,body:m,actionText:d,isProcessing:u=!1,isOpen:p=!1,isSmall:b=!1,error:g=""})=>{const h=c.a.createElement(n.a,{key:"cancel",variant:"link",onClick:t,isDisabled:u},e("dialog.cancel")),v=c.a.createElement(n.a,{key:"proceed",variant:"danger",onClick:a,isDisabled:u},d),_=c.a.createElement(n.a,{key:"close",variant:"primary",onClick:t,isDisabled:u},e("dialog.close")),E=""!==d?[v,h]:[_];return c.a.createElement(s.a,{header:c.a.createElement(r.a,{headingLevel:"h1",size:r.b["2xl"]},c.a.createElement(i.ExclamationTriangleIcon,{color:"orange"})," ",o),isOpen:p,onClose:t,actions:E,variant:b?"small":"default"},g&&c.a.createElement(l.a,{variant:"danger",title:""+g}),m)})},2821:function(e,t,a){"use strict";a.d(t,"f",(function(){return u})),a.d(t,"e",(function(){return p})),a.d(t,"g",(function(){return b})),a.d(t,"a",(function(){return h})),a.d(t,"c",(function(){return y})),a.d(t,"b",(function(){return f})),a.d(t,"d",(function(){return C}));var n=a(2456),s=a(2311),r=a(2419),l=a(2414),i=a(2422),o=a(2313),c=a(483),m=a(1),d=a.n(m);const u=e=>!isNaN(Number(e))&&Number(e)>0||""===e,p=e=>""===e||isNaN(Number(e))||Number(e)<=0,b=(e,t)=>{const a=t.reduce((e,t)=>{const a=void 0===e[t.metric]?{[t.measurement]:!0}:Object.assign(Object.assign({},e[t.metric]),{[t.measurement]:!0});return Object.assign(Object.assign({},e),{[t.metric]:a})},{});return Object.keys(e).reduce((t,n)=>{const s=Object.keys(e[n]).filter(e=>void 0===a[n]||void 0===a[n][e]).map(t=>e[n][t]);return 0===s.length?t:Object.assign(Object.assign({},t),{[n]:s.reduce((e,t)=>Object.assign(Object.assign({},e),{[t.label_measurement]:!0}),{})})},{})},g=({label:e,id:t,isDisabled:a=!1,value:l,onChange:i,defaultOption:o,options:c,isInvalid:m=!1,testId:u,helperText:p})=>d.a.createElement(n.a,{"data-testid":u,label:e,fieldId:t,helperText:p},d.a.createElement(s.a,{isDisabled:a,value:l,onChange:i,"aria-label":"form selector "+e,id:t,validated:m?"error":"default"},d.a.createElement(r.a,{isDisabled:!0,value:o.value,label:o.label}),c.map(e=>d.a.createElement(r.a,{key:""+e.value,value:e.value,label:e.label})))),h=({t:e,value:t,onChange:a,costTypes:n})=>{const s=n.map(t=>({value:t,label:e("cost_models."+t)})),r={value:t,label:e("cost_models."+t)};return d.a.createElement(g,{label:e("cost_models.add_rate_form.cost_type"),id:"rate-cost-type-selector",value:t,onChange:a,defaultOption:r,options:s,helperText:d.a.createElement("a",{href:""},e("cost_models.learn_more"))})},v=({t:e,value:t,onChange:a,isDisabled:n=!1,options:s,isInvalid:r=!1})=>d.a.createElement(g,{testId:"metric-selector",label:e("cost_models.add_rate_form.metric_select"),id:"metric-selector",value:t,onChange:a,defaultOption:{label:e("cost_models.add_rate_form.default_option"),value:""},options:s,isDisabled:n,isInvalid:r}),_=({t:e,value:t,onChange:a,isDisabled:n=!1,options:s,isInvalid:r=!1})=>d.a.createElement(g,{testId:"measurement-selector",label:e("cost_models.add_rate_form.measurement_select"),id:"measurement-selector",value:t,onChange:a,defaultOption:{label:e("cost_models.add_rate_form.default_option"),value:""},options:s,isDisabled:n,isInvalid:r}),E=({t:e,value:t,onChange:a,isInvalid:s=!1})=>d.a.createElement(n.a,{label:e("cost_models.add_rate_form.rate_input"),fieldId:"rate-input",helperTextInvalid:e("cost_models.add_rate_form.error_message"),validated:s?"error":"default"},d.a.createElement(l.a,null,d.a.createElement(i.a,null,d.a.createElement(c.DollarSignIcon,null)),d.a.createElement(o.a,{type:"text","aria-label":e("cost_models.add_rate_form.rate_input"),id:"rate-input",placeholder:"0.00",value:t,onChange:a,validated:s?"error":"default"}))),y=({t:e,onChange:t,value:a,options:n})=>d.a.createElement(v,{t:e,onChange:t,value:a,options:n}),f=({metricChange:e,metric:t,metricOptions:a,measurementChange:n,measurement:s,measurementOptions:r,t:l})=>d.a.createElement(d.a.Fragment,null,d.a.createElement(v,{t:l,onChange:e,value:t,options:a}),d.a.createElement(_,{t:l,onChange:n,value:s,options:r})),C=({metricChange:e,metric:t,metricOptions:a,measurementChange:n,measurement:s,measurementOptions:r,isMeasurementInvalid:l,rate:i,rateChange:o,isRateInvalid:c,costTypes:m,costType:u,costTypeChange:p,t:b})=>d.a.createElement(d.a.Fragment,null,d.a.createElement(v,{t:b,onChange:e,value:t,options:a}),d.a.createElement(_,{t:b,onChange:n,value:s,options:r,isInvalid:l}),d.a.createElement(E,{t:b,value:i,onChange:o,isInvalid:c}),d.a.createElement(h,{t:b,costTypes:m,value:u,onChange:p}))},2826:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(88),s=a(2449),r=a(2446),l=a(1),i=a.n(l),o=a(2459);const c=({t:e,tiers:t,actions:a,isCompact:l})=>i.a.createElement(n.b,{"aria-label":"price-list",variant:l?n.e.compact:void 0,rows:t.map(t=>[e("cost_models."+t.meta.label_metric),e("cost_models."+t.meta.label_measurement,{units:t.meta.label_measurement_unit}),""+Object(o.a)(Number(t.rate)),t.costType]),cells:[e("cost_models.table.metric"),e("cost_models.table.measurement"),e("cost_models.table.rate"),e("cost_models.table.cost_type")],actions:a},i.a.createElement(s.a,null),i.a.createElement(r.a,null))},2827:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(480),s=a(495),r=a(1),l=a.n(r);const i=({text:e})=>l.a.createElement(n.a,{content:e,enableFlip:!0},l.a.createElement(s.WarningTriangleIcon,{color:"orange"}))},3154:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(2452),s=a(6),r=a(172),l=a(3155),i=a(3156),o=a(1),c=a.n(o);const m=({options:e,placeholderText:t,setSelections:a,selections:o,isDisabled:m})=>c.a.createElement(l.a,{machine:i.a.withConfig({actions:{assignSelection:(e,t)=>{a(t.selection)}}})},({send:a,current:l})=>c.a.createElement(n.a,{isDisabled:m,variant:s.e.checkbox,placeholderText:t,selections:o,isOpen:l.matches("expanded"),onSelect:(e,t)=>a({type:"SELECT",selection:t}),onToggle:()=>a({type:"TOGGLE"})},e.map(e=>c.a.createElement(r.a,{key:e.value,value:e.value},e.label))))},3155:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(1),s=a.n(n),r=a(4335);class l extends s.a.Component{constructor(e){super(e),this.service=null,this.service=Object(r.a)(e.machine).onTransition(e=>this.setState({current:e})),this.state={current:e.machine.initialState}}componentDidMount(){this.service.start()}componentWillUnmount(){this.service.stop()}render(){const{current:e}=this.state,{send:t}=this.service;return this.props.children({current:e,send:t})}}},3156:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(4352);const s=Object(n.a)({context:{selection:[]},initial:"collapsed",states:{collapsed:{on:{TOGGLE:"expanded"}},expanded:{on:{TOGGLE:"collapsed",SELECT:{target:"collapsed",actions:["assignSelection"]}}}}})},3157:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(2452),s=a(172),r=a(2326),l=a(3155),i=a(3156),o=a(1),c=a.n(o);const m=({setPrimary:e,primary:t,options:a,isDisabled:o})=>c.a.createElement(l.a,{machine:i.a.withConfig({actions:{assignSelection:(t,a)=>{e(a.selection)}}})},({current:e,send:l})=>c.a.createElement(n.a,{isDisabled:o,toggleIcon:c.a.createElement(r.FilterIcon,null),isOpen:e.matches("expanded"),selections:t,onSelect:(e,t)=>l({type:"SELECT",selection:t}),onToggle:()=>l({type:"TOGGLE"})},a.map(e=>c.a.createElement(s.a,{key:e.value,value:e.value},e.label))))},3159:function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var n=a(2423),s=a(268),r=a(2417),l=a(2418),i=a(2344),o=a(2420),c=a(2421),m=a(2588),d=a(1),u=a.n(d),p=a(122),b=a(131),g=a(175),h=a(223),v=a(4352),_=a(2824),E=a(4335),y=a(2821);const f={form:{width:"350px"}},C=Object(v.a)({id:"add-new-rate-machine",context:{rate:"",metric:"",measurement:"",costType:""},initial:"setMetric",states:{setMetric:{on:{CHANGE_METRIC:{target:"setMeasurement",actions:["metric"]}},meta:{test:({queryAllByLabelText:e})=>{const t=e("cost_models.add_rate_form.metric_select");expect(t.length).toBe(1);const a=e("cost_models.add_rate_form.measurement_select");expect(a.length).toBe(0);const n=e("cost_models.add_rate_form.rate_inputs");expect(n.length).toBe(0)}}},setMeasurement:{on:{CHANGE_METRIC:{target:"setMeasurement",actions:["metric","resetMeasurement"]},CHANGE_MEASUREMENT:{target:"setRate",actions:["measurement"]}},meta:{test:({queryAllByLabelText:e})=>{const t=e("cost_models.add_rate_form.metric_select");expect(t.length).toBe(1);const a=e("cost_models.add_rate_form.measurement_select");expect(a.length).toBe(1);const n=e("cost_models.add_rate_form.rate_inputs");expect(n.length).toBe(0)}}},setRate:{initial:"init",on:{CHANGE_METRIC:[{target:".invalid",actions:["metric","resetMeasurement"]}],CHANGE_MEASUREMENT:[{target:".valid",actions:["measurement"],cond:"isValid"},{target:".invalid",actions:["measurement"]}],CHANGE_INFRA_COST:{actions:["cost_type"]},CHANGE_RATE:[{target:".valid",actions:["rate"],cond:"isValid"},{target:".invalid",actions:["rate"]}]},meta:{test:({queryAllByLabelText:e})=>{const t=e("cost_models.add_rate_form.metric_select");expect(t.length).toBe(1);const a=e("cost_models.add_rate_form.measurement_select");expect(a.length).toBe(1);const n=e("cost_models.add_rate_form.rate_input");expect(n.length).toBe(1)}},states:{invalid:{},valid:{},init:{}}}}},{actions:{metric:Object(_.b)({metric:(e,t)=>t.payload&&t.payload.metric}),measurement:Object(_.b)({measurement:(e,t)=>t.payload&&t.payload.measurement,costType:(e,t)=>t.payload&&t.payload.costType}),rate:Object(_.b)({rate:(e,t)=>t.payload&&t.payload.rate}),resetMeasurement:Object(_.b)({measurement:(e,t)=>"",costType:(e,t)=>"Supplementary"}),cost_type:Object(_.b)({costType:(e,t)=>t.payload&&t.payload.costType})},guards:{isValid:(e,t)=>{const a=Number(e.rate);switch(t.type){case"CHANGE_METRIC":return!isNaN(a)&&a>0&&""!==e.rate&&t.payload&&""!==t.payload.metric;case"CHANGE_MEASUREMENT":return!isNaN(a)&&a>0&&""!==e.rate&&t.payload&&""!==t.payload.measurement;case"CHANGE_RATE":return t.payload&&!isNaN(Number(t.payload.rate))&&Number(t.payload.rate)>0&&""!==e.measurement&&t.payload&&""!==t.payload.rate}}}});class O extends u.a.Component{constructor(){super(...arguments),this.state={current:C.initialState},this.service=Object(E.a)(C).onTransition(e=>this.setState({current:e}))}componentDidMount(){this.service.start()}componentWillUnmount(){this.service.stop()}renderForm(){const{current:{context:{metric:e,measurement:t,rate:a,costType:n}}}=this.state,{t:s,items:r,metricsHash:l,costTypes:i}=this.props,{send:o}=this.service,c=this.state.current.toStrings(),m=c.length>1?c[1]:c[0],d=Object(y.g)(l,r);switch(m){case"setMetric":return u.a.createElement(y.c,{t:s,options:Object.keys(d).map(e=>({label:s("cost_models."+e),value:e})),onChange:e=>o({type:"CHANGE_METRIC",payload:{metric:e}}),value:e});case"setMeasurement":return u.a.createElement(y.b,{t:s,metricOptions:Object.keys(d).map(e=>({label:s("cost_models."+e),value:e})),metricChange:e=>o({type:"CHANGE_METRIC",payload:{metric:e}}),metric:e,measurementOptions:Object.keys(d[e]).map(t=>({label:s("cost_models."+t,{units:l[e][t].label_measurement_unit}),value:t})),measurement:t,measurementChange:t=>o({type:"CHANGE_MEASUREMENT",payload:{measurement:t,costType:l[e][t].default_cost_type}})});case"setRate.init":case"setRate.valid":return u.a.createElement(y.d,{t:s,metricOptions:Object.keys(d).map(e=>({label:s("cost_models."+e),value:e})),metricChange:e=>o({type:"CHANGE_METRIC",payload:{metric:e}}),metric:e,measurement:t,measurementOptions:Object.keys(d[e]).map(t=>({label:s("cost_models."+t,{units:l[e][t].label_measurement_unit}),value:t})),measurementChange:t=>o({type:"CHANGE_MEASUREMENT",payload:{measurement:t,costType:l[e][t].default_cost_type}}),rate:a,rateChange:e=>o({type:"CHANGE_RATE",payload:{rate:e}}),isRateInvalid:!1,isMeasurementInvalid:!1,costTypes:i,costType:n,costTypeChange:e=>o({type:"CHANGE_INFRA_COST",payload:{costType:e}})});case"setRate.invalid":return u.a.createElement(u.a.Fragment,null,u.a.createElement(y.d,{t:s,metricOptions:Object.keys(d).map(e=>({label:s("cost_models."+e),value:e})),metricChange:e=>o({type:"CHANGE_METRIC",payload:{metric:e}}),metric:e,measurementOptions:Object.keys(d[e]).map(t=>({label:s("cost_models."+t,{units:l[e][t].label_measurement_unit}),value:t})),measurement:t,measurementChange:t=>o({type:"CHANGE_MEASUREMENT",payload:{measurement:t,costType:l[e][t].default_cost_type}}),rate:a,rateChange:e=>o({type:"CHANGE_RATE",payload:{rate:e}}),isRateInvalid:isNaN(Number(a))||""===a||Number(a)<=0,isMeasurementInvalid:""===t,costTypes:i,costType:n,costTypeChange:e=>o({type:"CHANGE_INFRA_COST",payload:{costType:e}})}))}}renderActions(){const{t:e,metricsHash:t,submitRate:a,cancel:r}=this.props,{current:l,current:{context:{metric:i,measurement:o,rate:c,costType:m}}}=this.state;return l.matches("setRate.valid")?u.a.createElement(n.a,null,u.a.createElement(s.a,{"data-testid":"add-rate-enable",variant:s.c.primary,onClick:()=>a({metric:i,measurement:o,rate:c,costType:m,meta:t[i][o]})},e("cost_models_wizard.price_list.add_rate")),u.a.createElement(s.a,{variant:s.c.link,onClick:r},e("cost_models_wizard.price_list.cancel"))):u.a.createElement(n.a,null,u.a.createElement(s.a,{"data-testid":"add-rate-disabled",variant:s.c.primary,isDisabled:!0},e("cost_models_wizard.price_list.add_rate")),u.a.createElement(s.a,{variant:s.c.link,onClick:r},e("cost_models_wizard.price_list.cancel")))}render(){const{t:e}=this.props;return u.a.createElement(r.a,{hasGutter:!0},u.a.createElement(l.a,null,u.a.createElement(i.a,{headingLevel:"h2",size:"xl"},e("cost_models_wizard.price_list.title"))),u.a.createElement(l.a,null,u.a.createElement(o.a,null,u.a.createElement(c.a,{component:c.b.h6},e("cost_models_wizard.price_list.sub_title_add")))),u.a.createElement(l.a,null,u.a.createElement(m.a,{style:f.form},this.renderForm())),u.a.createElement(l.a,null,this.renderActions()))}}t.b=Object(b.connect)(Object(g.a)(e=>({costTypes:h.c.costTypes(e)})))(Object(p.e)()(O))},3160:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(2455),s=a(2454),r=a(129),l=a(102),i=a(2413),o=a(1),c=a.n(o);const m={toolbar:{gridGap:a(2363).a.value}},d=({primary:e,secondaries:t,pagination:a,button:o,onClear:d,selected:u})=>c.a.createElement(n.a,{style:m.toolbar,clearAllFilters:d,id:"price-list-toolbar"},c.a.createElement(s.a,null,c.a.createElement(r.a,{variant:"filter-group"},c.a.createElement(l.a,null,e),t.map(e=>c.a.createElement(l.a,{key:e.name},c.a.createElement(i.a,{deleteChip:e.onRemove,chips:e.filters,categoryName:e.name},u===e.name?e.component:"")))),c.a.createElement(l.a,null,o),c.a.createElement(l.a,{variant:l.b.pagination},a)),c.a.createElement("hr",{className:"pf-c-divider"}))},3161:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));const n=(e,t)=>e.filter(e=>e!==t);var s=a(1),r=a.n(s);class l extends r.a.Component{constructor(e){super(e),this.state={filters:this.props.initialFilters},this.handleChange=this.handleChange.bind(this),this.onRemove=this.onRemove.bind(this),this.onSelect=this.onSelect.bind(this),this.onClearAll=this.onClearAll.bind(this)}handleChange(e){this.setState({filters:Object.assign(Object.assign({},this.state.filters),e)})}onClearAll(){this.setState({filters:Object.assign(Object.assign({},this.state.filters),{metrics:[],measurements:[]})})}onRemove(e,t){this.setState({filters:Object.assign(Object.assign({},this.state.filters),{[e]:n(this.state.filters[e],t)})})}onSelect(e,t){var a,s;this.setState({filters:Object.assign(Object.assign({},this.state.filters),{[e]:(a=this.state.filters[e],s=t,a.includes(s)?n(a,s):[...a,s])})})}render(){return this.props.children({onClearAll:this.onClearAll,onRemove:this.onRemove,onSelect:this.onSelect,setSearch:this.handleChange,search:this.state.filters})}}}}]);
//# sourceMappingURL=bf53365165812f70770b.bundle.js.map
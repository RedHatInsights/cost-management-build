(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{638:function(e,t,a){var n;!function(){var a={months:["January","February","March","April","May","June","July","August","September","October","November","December"],toUTC:function(e){var t=e?new Date(e):new Date;return t=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())},monthName:function(e){var t;return t="number"==typeof e?e:new Date(e).getMonth()+1,a.months[t-1]},relativeTime:function(e,t){var a,n,l,r,s,o,i=[];if("number"==typeof e?a=e:(r=new Date(e).getTime(),a=((new Date).getTime()-r)/1e3*-1),t||(t={}),t.futureSuffix||(t.futureSuffix="from now"),t.pastSuffix||(t.pastSuffix="ago"),t.presentText||(t.presentText="now"),t.returnObject||(t.returnObject=!1),s=a<0,a=Math.abs(a),n={seconds:Math.floor(a%31536e3%86400%3600%60),minutes:Math.floor(a%31536e3%86400%3600/60),hours:Math.floor(a%31536e3%86400/3600),days:Math.floor(a%31536e3/86400),years:Math.floor(a/31536e3),past:s},t.returnObject)return n;if(0===a)return t.presentText;function c(e,a){o&&(o=t.allUnits,i.push(e+" "+a+(e>1?"s":"")))}return l=n.past?t.pastSuffix:t.futureSuffix,o=!0,n.years&&c(n.years,"year"),n.days&&c(n.days,"day"),n.hours&&c(n.hours,"hour"),n.minutes&&c(n.minutes,"minute"),n.seconds&&c(n.seconds,"second"),i.join(", ")+" "+l},prettyPrint:function(e,t){var a,n,l,r,s,o,i,c,u;return e?"number"==typeof e&&(e=(new Date).setSeconds(e)):e=new Date,t||(t={}),t.showTime||(t.showTime=!1),r=(l=(a=new Date(e)).getDate())>3&&l<21?l+"th":l%10==1?l+"st":l%10==2?l+"nd":l%10==3?l+"rd":l+"th",s=a.getFullYear(),n=this.monthName(a.getMonth()+1)+" "+r+", "+s,i=a.getHours(),c=a.getMinutes(),u=i>=12?"pm":"am",o=(i=i%12?i%12:12)+":"+(c=c<10?"0"+c:c)+" "+u,t.showTime?n+" at "+o:n}};if(void 0===e||!e.exports)return!(void 0!==(n=function(){return a}.apply(t,[]))&&(e.exports=n));e.exports=a}()},866:function(e,t,a){"use strict";a.r(t);var n=a(82),l=a(40),r=a(38),s=a(210),o=a(91),i=a(101),c=a(297),u=a(296),p=a(361),m=a(295),d=a(298),h=a(235),g=a(573),b=a(570),y=a(568),v=a(2),_=a.n(v),f=a(204),E=a(229);var C=Object(f.d)()(class extends _.a.Component{shouldComponentUpdate(e){return e.filterQuery.name!==this.props.filterQuery.name||e.filterQuery.type!==this.props.filterQuery.type||e.count!==this.props.count}render(){const{t:e,onRemoveAll:t,onRemove:a,count:n,filterQuery:l}=this.props,r=Object.keys(l).filter(e=>["name","type"].includes(e)).filter(e=>l[e]).map(e=>l[e].split(",").map(t=>({name:e,value:t}))).reduce((e,t)=>[...e,...t],[]);return _.a.createElement(_.a.Fragment,null,_.a.createElement(u.a,null,_.a.createElement(c.a,null,_.a.createElement("h5",null,e("source_details.filter.results.count",{count:n})))),r.length>0&&_.a.createElement(_.a.Fragment,null,_.a.createElement(u.a,null,_.a.createElement(c.a,null,e("source_details.filter.results.active"))),_.a.createElement(u.a,null,_.a.createElement(c.a,null,r.map((t,n)=>_.a.createElement(E.a,{style:{paddingRight:"20px"},key:`${t.name}-${t.value}-${n}`,onClick:()=>{a(t.name,t.value)}},e(`source_details.filter.results.${t.name}`),": ",t.value)))),_.a.createElement(u.a,null,_.a.createElement(c.a,null,_.a.createElement(p.a,{onClick:t,variant:"plain"},e("source_details.filter.results.clear"))))))}}),x=a(331),S=a(332),k=a(335),O=a(41);var T=class extends _.a.Component{constructor(e){super(e),this.checkEnter=this.checkEnter.bind(this),this.onSelectType=this.onSelectType.bind(this)}checkEnter(e){if("Enter"===e.key&&this.props.value){const{selected:e,value:t}=this.props;this.props.onSearch({[e]:t})}}onSelectType(e){this.props.onSearch({type:e})}renderInput(){const{selected:e,value:t,onChange:a}=this.props;switch(e){case"type":return _.a.createElement(S.a,{"aria-label":O.a.t("source_details.filter.type_options_aria_label"),value:t,onChange:this.onSelectType},_.a.createElement(x.a,{key:"type-option-empty",value:"",label:"Choose source type"}),_.a.createElement(x.a,{key:"type-option-openshift",value:"OCP",label:O.a.t("source_details.type.OCP")}),_.a.createElement(x.a,{key:"type-option-aws",value:"AWS",label:O.a.t("source_details.type.AWS")}));default:return _.a.createElement(k.a,{value:t,placeholder:O.a.t("source_details.filter.placeholder",{value:e}),id:"sources filter value",onKeyPress:this.checkEnter,onChange:a("value")})}}render(){const{options:e,selected:t}=this.props;return _.a.createElement(u.a,null,_.a.createElement(c.a,null,_.a.createElement(S.a,{"aria-label":O.a.t("source_details.filter.type_aria_label"),value:t,onChange:this.props.onChange("type")},Object.keys(e).map(t=>_.a.createElement(x.a,{key:`option-${t}`,value:t,label:e[t]})))),_.a.createElement(c.a,null,this.renderInput()))}},w=a(362),j=a(351),$=a(352),F=a(3);const D=h.a.create({sourceSettings:{backgroundColor:F.global_BackgroundColor_300.var},content:{backgroundColor:F.global_BackgroundColor_300.var,paddingTop:F.global_spacer_xl.value},tableContainer:{marginLeft:F.global_spacer_xl.value,marginRight:F.global_spacer_xl.value},paginationContainer:{paddingBottom:F.global_spacer_md.value,paddingTop:F.global_spacer_md.value,paddingLeft:F.global_spacer_xl.value,paddingRight:F.global_spacer_xl.value,marginLeft:F.global_spacer_xl.value,marginRight:F.global_spacer_xl.value,marginBottom:F.global_spacer_xl.value,backgroundColor:F.global_BackgroundColor_100.value},toolbarContainer:{paddingBottom:F.global_spacer_md.value,paddingTop:F.global_spacer_md.value,paddingLeft:F.global_spacer_xl.value,paddingRight:F.global_spacer_xl.value,marginLeft:F.global_spacer_xl.value,marginRight:F.global_spacer_xl.value,backgroundColor:F.global_BackgroundColor_100.value},header:{padding:F.global_spacer_xl.var,backgroundColor:F.global_BackgroundColor_100.var},breadcrumb:{paddingBottom:F.global_spacer_xl.var},title:{paddingBottom:F.global_spacer_sm.var}});var M=({t:e})=>_.a.createElement("header",{className:Object(h.b)(D.header)},_.a.createElement($.a,{className:Object(h.b)(D.breadcrumb)},_.a.createElement(j.a,null,e("settings")),_.a.createElement(j.a,{isActive:!0},e("cost_management"))),_.a.createElement(w.a,{className:Object(h.b)(D.title),size:"2xl"},e("source_details.title"))),R=a(323),P=a(321),q=a(322),N=(a(42),a(142));const U=h.a.create({container:{display:"flex",justifyContent:"center",height:"100vh",marginTop:"150px"}});var B=Object(f.d)()(Object(l.connect)(null,{openModal:s.a.openModal})(class extends _.a.Component{render(){const{t:e,openModal:t}=this.props;return _.a.createElement("div",{className:Object(h.b)(U.container)},_.a.createElement(R.a,null,_.a.createElement(P.a,{icon:N.b}),_.a.createElement(w.a,{size:"lg"},e("source_details.no_sources.title")),_.a.createElement(q.a,null,_.a.createElement("p",null,e("source_details.no_sources.desc")),_.a.createElement("br",null),_.a.createElement("p",null,e("source_details.no_sources.sub_desc"))),_.a.createElement(p.a,{variant:"primary",onClick:t},e("source_details.no_sources.action"))))}})),A=a(358),L=a(360),Q=a(354);var J=class extends _.a.Component{constructor(e){super(e),this.onToggle=this.onToggle.bind(this),this.onSelect=this.onSelect.bind(this),this.state={isOpen:!1}}onToggle(e){this.setState({isOpen:e})}onSelect(){this.setState(e=>({isOpen:!e.isOpen}))}render(){return _.a.createElement(L.a,{onSelect:this.onSelect,toggle:_.a.createElement(Q.a,{onToggle:this.onToggle}),isOpen:this.state.isOpen,isPlain:!0,position:"right",dropdownItems:this.props.actions})}},z=a(638);const V=({name:e,type:t,date:a})=>_.a.createElement("div",null,_.a.createElement("div",{key:"relative"},Object(z.relativeTime)(new Date(a))),_.a.createElement("small",{key:"formated"},(e=>{const t=new Date(e),a=t.toUTCString().split(" "),n=a[2],l=a[3];return`${a[1]} ${n} ${l} ${t.getHours()}:${t.getMinutes()}`})(a))),H=({name:e,smallText:t})=>_.a.createElement("div",null,_.a.createElement("div",{key:"name"},e),_.a.createElement("small",{key:"small-text"},t));var I=(e,t,a)=>{const n=`${t.name}-${t.type}`,l=_.a.createElement(V,{key:`${n}-date`,name:t.name,type:t.type,date:t.created_timestamp}),r=_.a.createElement(H,{name:t.name,smallText:t.authentication.provider_resource_name}),s=_.a.createElement(J,{key:`${n}-actions`,actions:[_.a.createElement(A.a,{component:"button",onClick:a,key:`${n}-remove-action`},e("source_details.remove_source"))]});return[{title:r},{title:_.a.createElement("div",{key:`${n}-type`},e(`source_details.type.${t.type}`))},{title:_.a.createElement("div",{key:`${n}-added-by`},t.created_by.username)},{title:l},{title:s}]},W=a(244),Y=a(550);var K=({status:e,pagination:t,fetchSources:a})=>0===e?_.a.createElement("div",{style:{width:"130px"}},_.a.createElement(Y.Skeleton,{size:Y.SkeletonSize.md})):_.a.createElement(W.a,{itemCount:t.count,onPerPageSelect:(e,t)=>{a({offset:"0",limit:t.toString()})},onSetPage:(e,n)=>{const l=(n-1)*t.perPage;a({offset:l.toString(),limit:t.perPage.toString()})},page:t.page,perPage:t.perPage,variant:W.b.top}),G=a(855),X=a(104),Z=a(864),ee=a(559);const te=ee["a"]`
  &.pf-c-table {
    thead th + th + th + th {
      .pf-c-button {
        text-align: right;
      }
      text-align: right;
    }
    tbody td + td + td + td + td {
      text-align: right;
    }
    td {
      vertical-align: top;
    }
  }
`;var ae=({onCollapse:e,columns:t,rows:a})=>_.a.createElement("div",{className:Object(h.b)(D.tableContainer)},_.a.createElement(X.b,{"aria-label":"source-table",onCollapse:e,cells:t,className:te,rows:a},_.a.createElement(G.a,null),_.a.createElement(Z.a,null)));var ne=Object(f.d)()(class extends _.a.Component{constructor(e){super(e),this.state={selected:[],expanded:[]},this.onSelect=this.onSelect.bind(this),this.onCollapse=this.onCollapse.bind(this),this.onPaginationChange=this.onPaginationChange.bind(this),this.onFilterChange=this.onFilterChange.bind(this),this.onUpdateFilter=this.onUpdateFilter.bind(this),this.onRemove=this.onRemove.bind(this),this.resetFilter=this.resetFilter.bind(this)}componentDidMount(){this.props.fetch()}onRemove(e,t){const a=this.props.query[e];if(!a)return;const n=a.split(","),l=n.indexOf(t);if(l<-1)return;const r=[...n.slice(0,l),...n.slice(l+1)].join(",");this.updateResults(Object.assign({},this.props.query,{[e]:r}))}onUpdateFilter(e){let t=null;return"type"===e&&(t="currentFilterType"),"value"===e&&(t="currentFilterValue"),e=>{null!==t&&this.props.updateFilter({[t]:e})}}updateResults(e){const t=Object.keys(e).filter(t=>e[t]).reduce((t,a)=>{const n=`${a}=${e[a]}`;return null===t?n:`${t}&${n}`},null);this.props.fetch(t)}onPaginationChange(e){const t=Object.assign({},this.props.query,e);this.updateResults(t)}onFilterChange(e){let t=Object.assign({},this.props.query,e);if(e.name){let a=e.name.replace(/,/g,"");this.props.query.name&&(a=[...this.props.query.name.split(","),e.name.replace(/,/g,"")].join(",")),t=Object.assign({},this.props.query,{name:a})}this.updateResults(t)}onSelect(e,t,a){if(-1===a)return void this.setState(e=>({selected:t?this.props.sources.map(e=>`${e.name}-${e.type}`):[]}));const n=this.props.sources[a/2];t&&this.setState(e=>({selected:[...e.selected,`${n.name}-${n.type}`]})),t||this.setState(e=>{const t=e.selected.indexOf(`${n.name}-${n.type}`);return{selected:[...e.selected.slice(0,t),...e.selected.slice(t+1)]}})}resetFilter(){this.updateResults(Object.assign({},this.props.query,{name:null,type:null}))}onCollapse(e,t,a){const n=this.props.sources[t/2];a?this.setState(e=>({expanded:[...e.expanded,`${n.name}-${n.type}`]})):this.setState(e=>{const t=e.expanded.indexOf(`${n.name}-${n.type}`);return{expanded:[...e.expanded.slice(0,t),...e.expanded.slice(t+1)]}})}render(){const{pagination:e,sources:t,status:a,error:n,t:l,onAdd:r,remove:s,showDeleteDialog:o}=this.props,i=[l("source_details.column.name"),l("source_details.column.type"),l("source_details.column.added_by"),l("source_details.column.date_added"),""],v=t.map((e,t)=>({cells:I(l,e,()=>{o({name:e.name,type:e.type,onDelete:()=>{s(e.uuid)}})})})),f=Object.keys(this.props.query).filter(e=>["name","type"].includes(e)).find(e=>this.props.query[e]);return _.a.createElement("div",{className:Object(h.b)(D.sourceSettings)},_.a.createElement(M,{t:l}),_.a.createElement("div",{className:Object(h.b)(D.content)},0!==a&&null===n&&(v.length>0||f)&&_.a.createElement("div",{className:Object(h.b)(D.toolbarContainer)},_.a.createElement(d.a,null,_.a.createElement(m.a,{"aria-label":l("source_details.filter.section_below")},_.a.createElement(T,{onSearch:this.onFilterChange,options:{name:l("source_details.column.name"),type:l("source_details.column.type")},value:this.props.currentFilterValue,selected:this.props.currentFilterType,onChange:this.onUpdateFilter}),_.a.createElement(u.a,null,_.a.createElement(c.a,null,_.a.createElement(p.a,{onClick:()=>{r()},variant:"tertiary"},l("source_details.add_source")))),_.a.createElement(u.a,{style:{marginLeft:"auto"}},_.a.createElement(c.a,null,_.a.createElement(K,{status:a,fetchSources:this.onPaginationChange,pagination:e})))),_.a.createElement(m.a,{"aria-label":l("source_details.filter.section_below")},_.a.createElement(C,{count:e.count,filterQuery:this.props.query,onRemove:this.onRemove,onRemoveAll:this.resetFilter})))),2!==a&&_.a.createElement(y.a,null),2===a&&Boolean(n)&&_.a.createElement(b.a,{error:n}),2===a&&!Boolean(n)&&v.length>0&&_.a.createElement(_.a.Fragment,null,_.a.createElement(ae,{onCollapse:this.onCollapse,columns:i,rows:v}),_.a.createElement("div",{className:Object(h.b)(D.paginationContainer)},_.a.createElement(K,{status:a,fetchSources:this.onPaginationChange,pagination:e}))),2===a&&void 0===f&&0===v.length&&_.a.createElement(B,null),2===a&&f&&0===v.length&&_.a.createElement(g.a,{filter:this.props.query.name,subTitle:l("no_match_found_state.desc")})))}});t.default=Object(l.connect)(Object(r.a)(e=>({sources:i.c.sources(e)||[],error:i.c.error(e),status:i.c.status(e),pagination:i.c.pagination(e),query:i.c.query(e),currentFilterValue:i.c.currentFilterValue(e),currentFilterType:i.c.currentFilterType(e)})),{updateFilter:i.a.updateFilterToolbar,fetch:i.a.fetchSources,onAdd:s.a.openModal,remove:i.a.removeSource,showDeleteDialog:o.a.openModal,notify:n.addNotification})(ne)}}]);
//# sourceMappingURL=dc213c6708b91d1be86f.bundle.js.map
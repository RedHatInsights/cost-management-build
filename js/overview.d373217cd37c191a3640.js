"use strict";(self.webpackChunkkoku_ui=self.webpackChunkkoku_ui||[]).push([[2340],{84717:(e,t,r)=>{r.d(t,{H:()=>a});var s=r(80129);function a(e){return(0,s.stringify)(e,{encode:!1,indices:!1})}},37610:(e,t,r)=>{r.d(t,{T:()=>a});var s=r(80129);function a(e){return(0,s.stringify)(e,{encode:!1,indices:!1})}},6450:(e,t,r)=>{r.d(t,{F:()=>m,m:()=>h});var s=r(90154),a=r(97027),o=r(92950),c=r.n(o),i=r(74806),p=r(77760),n=r(1156),l=r(15829);const u={currencySelector:{display:"flex",alignItems:"center"},currencyLabel:{marginBottom:0,marginRight:r(32412).ZP.var,whiteSpace:"nowrap"}},h=[{label:a.Z.currencyOptions,value:"AUD"},{label:a.Z.currencyOptions,value:"CAD"},{label:a.Z.currencyOptions,value:"CHF"},{label:a.Z.currencyOptions,value:"CNY"},{label:a.Z.currencyOptions,value:"DKK"},{label:a.Z.currencyOptions,value:"EUR"},{label:a.Z.currencyOptions,value:"GBP"},{label:a.Z.currencyOptions,value:"HKD"},{label:a.Z.currencyOptions,value:"JPY"},{label:a.Z.currencyOptions,value:"NOK"},{label:a.Z.currencyOptions,value:"NZD"},{label:a.Z.currencyOptions,value:"SEK"},{label:a.Z.currencyOptions,value:"SGD"},{label:a.Z.currencyOptions,value:"USD"},{label:a.Z.currencyOptions,value:"ZAR"}];class d extends c().Component{constructor(){super(...arguments),this.defaultState={isSelectOpen:!1},this.state=Object.assign({},this.defaultState),this.getSelect=()=>{const{currency:e,isDisabled:t}=this.props,{isSelectOpen:r}=this.state,a=this.getSelectOptions(),o=a.find((t=>t.value===e));return c().createElement(s.Select,{className:"currencyOverride",id:"currencySelect",isDisabled:t,isOpen:r,onSelect:this.handleSelect,onToggle:this.handleToggle,selections:o,variant:s.SelectVariant.single},a.map((e=>c().createElement(s.SelectOption,{key:e.value,value:e}))))},this.getSelectOptions=()=>{const{intl:e}=this.props,t=[];return h.map((r=>{t.push({toString:()=>e.formatMessage(r.label,{units:r.value}),value:r.value})})),t},this.handleSelect=(e,t)=>{const{onSelect:r}=this.props;(0,l.NW)(t.value),this.setState({isSelectOpen:!1},(()=>{r&&r(t.value)}))},this.handleToggle=e=>{this.setState({isSelectOpen:e})}}render(){const{intl:e}=this.props;return(0,l.eu)(),c().createElement("div",{style:u.currencySelector},c().createElement(s.Title,{headingLevel:"h2",size:"md",style:u.currencyLabel},e.formatMessage(a.Z.currency)),this.getSelect())}}const y=(0,n.X1)((()=>({}))),g=(0,p.connect)(y,{})(d),m=(0,i.ZP)(g)},83819:(e,t,r)=>{r.d(t,{Z:()=>d});var s=r(90154),a=r(89376),o=r(39173),c=r(92950),i=r.n(c),p=r(7081),n=r(97027),l=r(74806);class u extends i().Component{render(){const{intl:e,showReload:t=!0}=this.props;return i().createElement(s.EmptyState,{variant:s.EmptyStateVariant.large,className:"pf-m-redhat-font"},i().createElement(s.EmptyStateIcon,{icon:p.wl}),i().createElement(s.Title,{headingLevel:"h5",size:"lg"},e.formatMessage(n.Z.noDataStateTitle)),i().createElement(s.EmptyStateBody,null,e.formatMessage(n.Z.noDataStateDesc)),t&&i().createElement(s.Button,{variant:"primary",onClick:()=>window.location.reload()},e.formatMessage(n.Z.noDataStateRefresh)))}}const h=(0,l.ZP)(u),d=({showReload:e,title:t})=>i().createElement(i().Fragment,null,t&&i().createElement(a.Z,null,i().createElement(o.Z,{title:t})),i().createElement(s.PageSection,null,i().createElement(h,{showReload:e})))},2985:(e,t,r)=>{r.d(t,{L:()=>f});var s=r(90154),a=r(89376),o=r(39173),c=r(92950),i=r.n(c),p=r(15265),n=r(7081),l=r(1326),u=r(97027),h=r(74806);const d=r(84735),y=(0,h.ZP)((({className:e,intl:t})=>i().createElement("img",{className:`cost-icon ${e}`,src:d,alt:t.formatMessage(u.Z.costManagement),"aria-hidden":"true"})));var g=r(68025),m=r(98499);const T={iconSpacer:{marginLeft:r(43789).ZP.value},viewSources:{marginTop:m.ZP.value}};class b extends i().Component{constructor(){super(...arguments),this.getDocLink=(e,t)=>{const{intl:r}=this.props;return i().createElement("a",{href:r.formatMessage(t),rel:"noreferrer",target:"_blank"},r.formatMessage(e),i().createElement("span",{style:T.iconSpacer},i().createElement(p.LA,null)))},this.getRouteToSources=()=>`${(0,g.IG)()}/settings/sources`}render(){const{intl:e,providerType:t}=this.props;let r,a,o,c=u.Z.noProvidersStateOverviewDesc,p=u.Z.noProvidersStateOverviewTitle;switch(t){case l.l.aws:c=u.Z.noProvidersStateAwsDesc,p=u.Z.noProvidersStateAwsTitle;break;case l.l.azure:c=u.Z.noProvidersStateAzureDesc,p=u.Z.noProvidersStateAzureTitle;break;case l.l.gcp:c=u.Z.noProvidersStateGcpDesc,p=u.Z.noProvidersStateGcpTitle;break;case l.l.ibm:c=u.Z.noProvidersStateIbmDesc,p=u.Z.noProvidersStateIbmTitle;break;case l.l.ocp:c=u.Z.noProvidersStateOcpDesc,r=u.Z.docsAddOcpSources,o=u.Z.noProvidersStateOcpAddSources,p=u.Z.noProvidersStateOcpTitle;break;default:a=y}return i().createElement(s.EmptyState,{variant:s.EmptyStateVariant.large,className:"pf-m-redhat-font"},i().createElement(s.EmptyStateIcon,{icon:a||n.wl}),i().createElement(s.Title,{headingLevel:"h1",size:"lg"},e.formatMessage(p)),i().createElement(s.EmptyStateBody,null,e.formatMessage(c)),r&&o?i().createElement("div",{style:T.viewSources},this.getDocLink(o,r)):i().createElement(s.Button,{variant:"primary",component:"a",href:this.getRouteToSources()},e.formatMessage(u.Z.noProvidersStateGetStarted)))}}const v=(0,h.ZP)(b),f=({providerType:e,title:t})=>i().createElement(i().Fragment,null,t&&i().createElement(a.Z,null,i().createElement(o.Z,{title:t})),i().createElement(s.PageSection,null,i().createElement(v,{providerType:e})))},76930:(e,t,r)=>{r.d(t,{X:()=>f});var s=r(97027),a=r(92950),o=r.n(a),c=r(22807);const i=[{label:s.Z.perspectiveValues,value:"aws"}],p=[{label:s.Z.perspectiveValues,value:"aws_ocp"}],n=[{label:s.Z.perspectiveValues,value:"azure"}],l=[{label:s.Z.perspectiveValues,value:"oci"}],u=[{label:s.Z.perspectiveValues,value:"azure_ocp"}],h=[{label:s.Z.perspectiveValues,value:"gcp"}],d=[{label:s.Z.perspectiveValues,value:"gcp_ocp"}],y=[{label:s.Z.perspectiveValues,value:"ibm"}],g=[{label:s.Z.perspectiveValues,value:"ibm_ocp"}],m=[{label:s.Z.perspectiveValues,value:"ocp_cloud"}],T=[{label:s.Z.perspectiveValues,value:"ocp"}],b=[{label:s.Z.perspectiveValues,value:"rhel"}],v=({hasAws:e,hasAwsOcp:t,hasAzure:r,hasAzureOcp:s,hasGcp:a,hasGcpOcp:o,hasIbm:c,hasIbmOcp:m,hasOci:T,isIbmFeatureEnabled:b})=>{const v=[];return e&&v.push(...i),t&&v.push(...p),a&&v.push(...h),o&&v.push(...d),c&&v.push(...y),m&&b&&v.push(...g),r&&v.push(...n),s&&v.push(...u),T&&v.push(...l),v},f=({currentItem:e,hasAws:t,hasAwsOcp:r,hasAzure:s,hasAzureOcp:a,hasGcp:i,hasGcpOcp:p,hasIbm:n,hasIbmOcp:l,hasOci:u,hasOcp:h,hasOcpCloud:d,hasRhel:y,isDisabled:g,isIbmFeatureEnabled:f,isInfrastructureTab:R,isRhelTab:P,onSelected:E})=>{const F=[];return void 0!==R||void 0!==P?R?(d&&F.push(...m),F.push(...v({hasAws:t,hasAwsOcp:r,hasAzure:s,hasAzureOcp:a,hasGcp:i,hasGcpOcp:p,hasIbm:n,hasIbmOcp:l,hasOci:u,isIbmFeatureEnabled:f}))):P?y&&F.push(...b):h&&F.push(...T):(h&&F.push(...T),d&&F.push(...m),y&&F.push(...b),F.push(...v({hasAws:t,hasAwsOcp:r,hasAzure:s,hasAzureOcp:a,hasGcp:i,hasGcpOcp:p,hasIbm:n,hasIbmOcp:l,hasOci:u,isIbmFeatureEnabled:f}))),o().createElement(c.o,{currentItem:e||F[0].value,isDisabled:g,onSelected:E,options:F})}},15817:(e,t,r)=>{r.r(t),r.d(t,{default:()=>zt});var s=r(90154),a=r(91290),o=r(1326),c=r(39333),i=r(84717),p=r(37610),n=r(91577),l=r(97027),u=r(92950),h=r.n(u),d=r(74806),y=r(77760),g=r(6450),m=r(52471),T=r(83819),b=r(2985),v=r(13764),f=r(76930);const R=({costType:e,currency:t,DashboardWidget:r,selectWidgets:a,widgets:o})=>h().createElement("div",null,h().createElement(s.Grid,{hasGutter:!0},o.map((o=>{const c=a[o];return c.details&&c.details.showHorizontal?h().createElement(s.GridItem,{sm:12,key:o},h().createElement(r,Object.assign({widgetId:o},e&&{costType:e},t&&{currency:t}))):h().createElement(s.GridItem,{lg:12,xl:6,xl2:4,key:o},h().createElement(r,Object.assign({widgetId:o},e&&{costType:e},t&&{currency:t})))}))));var P=r(39836),E=r(4996),F=r(16044),S=r(38470),Z=r(91919),O=r(1156),A=r(68025),V=r(20513),C=r(17918);const I={infoIcon:{fontSize:C.ZP.value}},w=(0,d.ZP)((({intl:e,report:t,status:r,title:o})=>{const c=t&&t.meta?t.meta.count:0,i=e.formatMessage(l.Z.optimizationsDetails,{count:c});return h().createElement(s.Card,{className:"summary"},h().createElement(s.CardTitle,null,h().createElement(s.Title,{headingLevel:"h2",size:s.TitleSizes.lg},e.formatMessage(o),h().createElement("span",{style:I.infoIcon},h().createElement(s.Popover,{"aria-label":e.formatMessage(l.Z.optimizationsInfoArialLabel),enableFlip:!0,bodyContent:h().createElement("p",{style:I.infoTitle},e.formatMessage(l.Z.optimizationsInfo))},h().createElement(s.Button,{"aria-label":e.formatMessage(l.Z.optimizationsInfoButtonArialLabel),variant:s.ButtonVariant.plain},h().createElement(a.iC,null)))))),h().createElement(s.CardBody,null,r===O.iF.inProgress?h().createElement(h().Fragment,null,h().createElement(s.Skeleton,{width:"16%"}),h().createElement(s.Skeleton,{className:"skeleton",width:V.N.md})):c>0?h().createElement(P.Link,{to:(0,A.dI)(Z._.optimizations.path)},i):i))}));var j=r(30564),D=r(91778);class z extends h().Component{constructor(){super(...arguments),this.defaultState={currentItem:this.props.options?this.props.options.find((e=>e.default)).value:void 0,isSelectOpen:!1},this.state=Object.assign({},this.defaultState),this.getSelect=()=>{const{isDisabled:e}=this.props,{currentItem:t,isSelectOpen:r}=this.state,a=this.getSelectOptions(),o=a.find((e=>e.value===t));return h().createElement(s.Select,{id:"comparisonSelect",isDisabled:e,isOpen:r,onSelect:this.handleSelect,onToggle:this.handleToggle,selections:o,variant:s.SelectVariant.single},a.map((e=>h().createElement(s.SelectOption,{key:e.value,value:e}))))},this.getSelectOptions=()=>{const{options:e}=this.props,t=[];return e.map((e=>{t.push({toString:()=>e.label,value:e.value})})),t},this.handleSelect=(e,t)=>{const{onItemClicked:r}=this.props;r&&r(t.value),this.setState({currentItem:t.value,isSelectOpen:!1})},this.handleToggle=e=>{this.setState({isSelectOpen:e})}}render(){return this.getSelect()}}const W=z;var M=r(91707),L=r(32412),K=r(57640);const k={chartAltHeight:250,chartHeight:180,containerAltHeight:250,containerTrendHeight:180,containerUsageHeight:180},_={comparison:{marginBottom:L.ZP.value},comparisonContainer:{display:"flex"},tabs:{marginTop:M.ZP.value},tabItems:{marginTop:K.ZP.value}};var H;!function(e){e.cumulative="cumulative",e.daily="daily"}(H||(H={}));class N extends h().Component{constructor(){super(...arguments),this.defaultState={activeTabKey:0,currentComparison:H.cumulative},this.state=Object.assign({},this.defaultState),this.buildDetailsLink=e=>{const{details:t,getIdKeyForTab:r}=this.props,s=r(e);return`${t.viewAllPath}?${(0,c.pm)({group_by:{[s]:"*"},order_by:{cost:"desc"}})}`},this.getChart=(e,t,r=!1)=>{const{chartType:s,trend:a}=this.props;return s===j.i.dailyTrend?this.getDailyTrendChart(e,t,r,a.showSupplementaryLabel):s===j.i.dailyCost?this.getDailyCostChart(e,t,r):s===j.i.trend?this.getTrendChart(e,t,r,a.showSupplementaryLabel):s===j.i.usage?this.getUsageChart(t,r):null},this.getChartComparison=()=>{const{intl:e,trend:t}=this.props,{currentComparison:r}=this.state,s=this.getFormattedUnits(),a=e.formatMessage(t.titleKey,{units:s}),o=[{label:e.formatMessage(t.dailyTitleKey,{units:s}),value:H.daily},{label:a,value:H.cumulative,default:!0}];return h().createElement(W,{currentItem:r||o[0].value,onItemClicked:this.handleComparisonClick,options:o})},this.getDailyCostChart=(e,t,r=!1)=>{const{chartFormatter:s,currentReport:a,previousReport:o,trend:c}=this.props,{currentComparison:i}=this.state,p=c.computedReportItem,n=c.computedReportItemValue,l=i===H.daily,u=l?E.yZ.rolling:c.datumType,d=(0,E.zJ)(a,u,"date",p,n),y=(0,E.zJ)(o,u,"date",p,n),g=this.getForecastData(a,c.computedForecastItem),m=l?S.V3:S.me;return h().createElement(h().Fragment,null,h().createElement("div",{style:_.comparisonContainer},h().createElement("div",{style:_.comparison},this.getChartComparison())),h().createElement(m,{adjustContainerHeight:r,containerHeight:e,currentCostData:d,forecastConeData:g.forecastConeData,forecastData:g.forecastData,formatOptions:c.formatOptions,formatter:s||D.xG,height:t,previousCostData:y,showForecast:void 0!==c.computedForecastItem}))},this.getDailyTrendChart=(e,t,r=!1,s=!1)=>{const{chartFormatter:a,chartName:o,currentReport:c,details:i,previousReport:p,trend:n}=this.props,{currentComparison:l}=this.state,u=n.computedReportItem,d=n.computedReportItemValue,y=l===H.daily,g=y?E.yZ.rolling:n.datumType,m=(0,E.zJ)(c,g,"date",u,d),T=(0,E.zJ)(p,g,"date",u,d),{forecastData:b,forecastConeData:v}=this.getForecastData(c,n.computedForecastItem),f=y?S.Y0:S.Nd;return h().createElement(h().Fragment,null,h().createElement("div",{style:_.comparisonContainer},h().createElement("div",{style:_.comparison},this.getChartComparison())),h().createElement(f,{adjustContainerHeight:r,chartName:o,containerHeight:e,currentData:m,forecastData:b,forecastConeData:v,formatOptions:n.formatOptions,formatter:a||D.bM,height:t,previousData:T,showForecast:void 0!==n.computedForecastItem,showSupplementaryLabel:s,showUsageLegendLabel:i.showUsageLegendLabel,units:this.getUnits()}))},this.getForecastData=(e,t="cost")=>{const{forecast:r,trend:s}=this.props,{currentComparison:a}=this.state,o=a===H.daily?E.yZ.rolling:s.datumType,c=(0,F.x1)(r,e,t,o);return{forecastData:(0,F.nB)(c,o,t),forecastConeData:(0,F.Qw)(c,o,t)}},this.getTrendChart=(e,t,r=!1,s=!1)=>{const{chartFormatter:a,chartName:o,currentReport:c,details:i,intl:p,previousReport:n,trend:l}=this.props,u=l.computedReportItem||"cost",d=l.computedReportItemValue,y=p.formatMessage(l.titleKey,{units:this.getFormattedUnits()}),g=(0,E.zJ)(c,l.datumType,"date",u,d),m=(0,E.zJ)(n,l.datumType,"date",u,d),{forecastData:T,forecastConeData:b}=this.getForecastData(c,l.computedForecastItem);return h().createElement(S.Nd,{adjustContainerHeight:r,containerHeight:e,chartName:o,currentData:g,forecastData:T,forecastConeData:b,formatOptions:l.formatOptions,formatter:a||D.bM,height:t,previousData:m,showForecast:void 0!==l.computedForecastItem,showSupplementaryLabel:s,showUsageLegendLabel:i.showUsageLegendLabel,title:y,units:this.getUnits()})},this.getUsageChart=(e,t=!1)=>{const{chartFormatter:r,chartName:s,currentReport:a,intl:o,previousReport:c,trend:i}=this.props,p=o.formatMessage(i.titleKey,{units:this.getFormattedUnits()}),n=(0,E.zJ)(a,i.datumType,"date","request"),l=(0,E.zJ)(c,i.datumType,"date","request"),u=(0,E.zJ)(a,i.datumType,"date","usage"),d=(0,E.zJ)(c,i.datumType,"date","usage");return h().createElement(S.I0,{adjustContainerHeight:t,chartName:s,containerHeight:k.containerUsageHeight,currentRequestData:n,currentUsageData:u,formatOptions:i.formatOptions,formatter:r||D.bM,height:e,previousRequestData:l,previousUsageData:d,title:p})},this.getDetails=()=>{const{chartType:e,currentReport:t,details:r,reportType:s,trend:a}=this.props,o=a.computedReportItem||"cost",c=a.computedReportItemValue||"total";return h().createElement(S.rN,{chartType:e,computedReportItem:o,computedReportItemValue:c,costLabel:this.getDetailsLabel(r.costKey),formatOptions:r.formatOptions,report:t,reportType:s,requestLabel:this.getDetailsLabel(r.requestKey),showTooltip:r.showTooltip,showUnits:r.showUnits,showUsageFirst:r.showUsageFirst,units:this.getUnits(),usageFormatOptions:r.usageFormatOptions,usageLabel:this.getDetailsLabel(r.usageKey)})},this.getDetailsLabel=e=>{const{intl:t}=this.props;return e?t.formatMessage(e):void 0},this.getDetailsLink=()=>{const{currentTab:e,details:t}=this.props;return t.viewAllPath?h().createElement(P.Link,{to:this.buildDetailsLink(e)},this.getDetailsLinkTitle(e)):null},this.getDetailsLinkTitle=e=>{const{getIdKeyForTab:t,intl:r}=this.props,s=t(e)||"";return r.formatMessage(l.Z.groupByAll,{value:s,count:2})},this.getFormattedUnits=()=>{const{intl:e,trend:t}=this.props,r=t.computedReportItem||"cost",s=this.getUnits();return r===E.LI.usage?e.formatMessage(l.Z.units,{units:(0,D.ZV)(s)}):e.formatMessage(l.Z.currencyUnits,{units:s})},this.getHorizontalLayout=()=>{const{containerAltHeight:e=k.containerAltHeight,chartAltHeight:t=k.chartAltHeight,currentReportFetchStatus:r,details:s}=this.props;return h().createElement(S.j0,{detailsLink:this.getDetailsLink(),status:r,tabs:this.getTabs(),title:this.getTitle()},this.getDetails(),this.getChart(e,t,s.adjustContainerHeight))},this.getOptimizationsSummary=()=>{const{rosReportFetchStatus:e,rosReport:t,titleKey:r}=this.props;return h().createElement(w,{status:e,report:t,title:r})},this.getTab=(e,t)=>{const{getIdKeyForTab:r,tabsReport:a,tabsReportFetchStatus:o}=this.props,c=r(e);return h().createElement(s.Tab,{eventKey:t,key:`${r(e)}-tab`,title:h().createElement(s.TabTitleText,null,this.getTabTitle(e))},h().createElement("div",{style:_.tabItems},h().createElement(S.mZ,{idKey:c,key:`${c}-items`,report:a,status:o},(({items:t})=>t.map((t=>this.getTabItem(e,t)))))))},this.getTabItem=(e,t)=>{const{availableTabs:r,getIdKeyForTab:s,tabsReport:a,topItems:o,trend:c}=this.props,{activeTabKey:i}=this.state,p=s(e),n=s(r[i]),l=c.computedReportItem||"cost",u=c.computedReportItemValue||"total";let d;const y=a&&a.meta&&a.meta.total;return l===E.LI.usage?y&&a.meta.total.usage&&(d=a.meta.total.usage.value):y&&a.meta.total[l]&&a.meta.total[l][u]&&(d=a.meta.total[l][u].value),n===p?h().createElement(S.EH,{formatOptions:o?o.formatOptions:void 0,key:`${t.id}-item`,label:t.label?t.label.toString():"",totalValue:d,units:this.getUnits(),value:t[l][u].value}):null},this.getTabs=()=>{const{availableTabs:e}=this.props;return h().createElement(s.Tabs,{isFilled:!0,activeKey:this.state.activeTabKey,onSelect:this.handleTabClick},e.map(((e,t)=>this.getTab(e,t))))},this.getTabTitle=e=>{const{getIdKeyForTab:t,intl:r}=this.props,s=t(e)||"";return r.formatMessage(l.Z.groupByTop,{value:s,count:2})},this.getTitle=()=>{const{intl:e,titleKey:t}=this.props;return e.formatMessage(t)},this.getUnits=()=>{const{currentReport:e,details:t,trend:r}=this.props,s=r.computedReportItem||"cost",a=r.computedReportItemValue||"total";if(t.units)return t.units;if(!e)return"";const o=e&&e.meta&&e.meta.total;return s===E.LI.usage?o&&e.meta.total.usage?e.meta.total.usage.units:void 0:o&&e.meta.total[s]&&e.meta.total[s][a]?e.meta.total[s][a].units:"USD"},this.getVerticalLayout=()=>{const{availableTabs:e,currentReportFetchStatus:t,details:r}=this.props;return h().createElement(S.iu,{detailsLink:this.getDetailsLink(),status:t,title:this.getTitle()},this.getDetails(),this.getChart(k.containerTrendHeight,k.chartHeight,r.adjustContainerHeight),Boolean(e)&&h().createElement("div",{style:_.tabs},this.getTabs()))},this.handleComparisonClick=e=>{this.setState({currentComparison:e})},this.handleTabClick=(e,t)=>{const{availableTabs:r,id:s,updateTab:a}=this.props;a(s,r[t]),this.setState({activeTabKey:t})},this.updateForecasts=()=>{const{fetchForecasts:e,widgetId:t}=this.props;e&&e(t)},this.updateReports=()=>{const{fetchReports:e,widgetId:t}=this.props;e&&e(t)},this.updateRosReports=()=>{const{fetchRosReports:e,isRosFeatureEnabled:t,widgetId:r}=this.props;e&&t&&e(r)}}componentDidMount(){const{availableTabs:e,details:t,id:r,trend:s,updateTab:a}=this.props;e&&a(r,e[0]),s&&void 0!==s.computedForecastItem&&this.updateForecasts(),t.showOptimizations||this.updateReports(),t.showOptimizations&&this.updateRosReports()}componentDidUpdate(e){const{costType:t,currency:r,trend:s}=this.props;e.costType===t&&e.currency===r||(this.updateReports(),s&&void 0!==s.computedForecastItem&&this.updateForecasts())}render(){const{details:e,isRosFeatureEnabled:t}=this.props;return e.showOptimizations?t?this.getOptimizationsSummary():null:e.showHorizontal?this.getHorizontalLayout():this.getVerticalLayout()}}const B=N;var U=r(81628),G=r(79277),J=r(15920),X=r(15829);const Q=e=>{switch(e){case U.IC.services:return"service";case U.IC.accounts:return"account";case U.IC.regions:return"region"}},x=(0,O.X1)(((e,{widgetId:t})=>{const r=U.Cv.selectWidget(e,t),s=U.Cv.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign(Object.assign({},r),{currency:(0,X.zC)(),costType:(0,X.uY)(),getIdKeyForTab:Q}),r.forecastPathsType&&r.forecastType&&{forecast:G.mj.selectForecast(e,r.forecastPathsType,r.forecastType,s.forecast),forecastError:G.mj.selectForecastError(e,r.forecastPathsType,r.forecastType,s.forecast),forecastFetchStatus:G.mj.selectForecastFetchStatus(e,r.forecastPathsType,r.forecastType,s.forecast)}),r.reportPathsType&&r.reportType&&{currentReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.current),currentReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.current),currentReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.current),previousReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.previous),previousReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.previous),previousReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.previous),tabsReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.tabs),tabsReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.tabs),tabsReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.tabs)})})),Y={fetchForecasts:U.Kf.v4,fetchReports:U.Kf.a4,updateTab:U.Kf.as},$=(0,d.ZP)((0,y.connect)(x,Y)(B)),q=(0,O.X1)(((e,t)=>({DashboardWidget:$,selectWidgets:U.Cv.selectWidgets(e),widgets:U.Cv.selectCurrentWidgets(e)}))),ee=(0,y.connect)(q,{})(R);var te=r(25566);const re=e=>{switch(e){case te.e1.services:return"service";case te.e1.accounts:return"account";case te.e1.regions:return"region"}},se=(0,O.X1)(((e,{widgetId:t})=>{const r=te.Hc.selectWidget(e,t),s=te.Hc.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign(Object.assign({},r),{currency:(0,X.zC)(),costType:(0,X.uY)(),getIdKeyForTab:re}),r.forecastPathsType&&r.forecastType&&{forecast:G.mj.selectForecast(e,r.forecastPathsType,r.forecastType,s.forecast),forecastError:G.mj.selectForecastError(e,r.forecastPathsType,r.forecastType,s.forecast),forecastFetchStatus:G.mj.selectForecastFetchStatus(e,r.forecastPathsType,r.forecastType,s.forecast)}),r.reportPathsType&&r.reportType&&{currentReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.current),currentReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.current),currentReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.current),previousReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.previous),previousReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.previous),previousReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.previous),tabsReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.tabs),tabsReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.tabs),tabsReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.tabs)})})),ae={fetchForecasts:te.NA.v4,fetchReports:te.NA.a4,updateTab:te.NA.as},oe=(0,d.ZP)((0,y.connect)(se,ae)(B)),ce=(0,O.X1)(((e,t)=>({DashboardWidget:oe,selectWidgets:te.Hc.selectWidgets(e),widgets:te.Hc.selectCurrentWidgets(e)}))),ie=(0,y.connect)(ce,{})(R);var pe=r(25976);const ne=e=>{switch(e){case pe.vY.service_names:return"service_name";case pe.vY.subscription_guids:return"subscription_guid";case pe.vY.resource_locations:return"resource_location"}},le=(0,O.X1)(((e,{widgetId:t})=>{const r=pe.rj.selectWidget(e,t),s=pe.rj.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign(Object.assign({},r),{currency:(0,X.zC)(),getIdKeyForTab:ne}),r.forecastPathsType&&r.forecastType&&{forecast:G.mj.selectForecast(e,r.forecastPathsType,r.forecastType,s.forecast),forecastError:G.mj.selectForecastError(e,r.forecastPathsType,r.forecastType,s.forecast),forecastFetchStatus:G.mj.selectForecastFetchStatus(e,r.forecastPathsType,r.forecastType,s.forecast)}),r.reportPathsType&&r.reportType&&{currentReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.current),currentReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.current),currentReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.current),previousReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.previous),previousReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.previous),previousReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.previous),tabsReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.tabs),tabsReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.tabs),tabsReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.tabs)})})),ue={fetchForecasts:pe.oc.v4,fetchReports:pe.oc.a4,updateTab:pe.oc.as},he=(0,d.ZP)((0,y.connect)(le,ue)(B)),de=(0,O.X1)(((e,t)=>({DashboardWidget:he,selectWidgets:pe.rj.selectWidgets(e),widgets:pe.rj.selectCurrentWidgets(e)}))),ye=(0,y.connect)(de,{})(R);var ge=r(76764);const me=e=>{switch(e){case ge.Vp.service_names:return"service_name";case ge.Vp.subscription_guids:return"subscription_guid";case ge.Vp.resource_locations:return"resource_location"}},Te=(0,O.X1)(((e,{widgetId:t})=>{const r=ge.MW.selectWidget(e,t),s=ge.MW.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign(Object.assign({},r),{currency:(0,X.zC)(),getIdKeyForTab:me}),r.forecastPathsType&&r.forecastType&&{forecast:G.mj.selectForecast(e,r.forecastPathsType,r.forecastType,s.forecast),forecastError:G.mj.selectForecastError(e,r.forecastPathsType,r.forecastType,s.forecast),forecastFetchStatus:G.mj.selectForecastFetchStatus(e,r.forecastPathsType,r.forecastType,s.forecast)}),r.reportPathsType&&r.reportType&&{currentReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.current),currentReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.current),currentReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.current),previousReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.previous),previousReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.previous),previousReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.previous),tabsReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.tabs),tabsReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.tabs),tabsReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.tabs)})})),be={fetchForecasts:ge._V.v4,fetchReports:ge._V.a4,updateTab:ge._V.as},ve=(0,d.ZP)((0,y.connect)(Te,be)(B)),fe=(0,O.X1)(((e,t)=>({DashboardWidget:ve,selectWidgets:ge.MW.selectWidgets(e),widgets:ge.MW.selectCurrentWidgets(e)}))),Re=(0,y.connect)(fe,{})(R);var Pe=r(67776);const Ee=e=>{switch(e){case Pe.BP.gcpProjects:return"gcp_project";case Pe.BP.regions:return"region";case Pe.BP.services:return"service"}},Fe=(0,O.X1)(((e,{widgetId:t})=>{const r=Pe.oS.selectWidget(e,t),s=Pe.oS.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign(Object.assign({},r),{currency:(0,X.zC)(),getIdKeyForTab:Ee}),r.forecastPathsType&&r.forecastType&&{forecast:G.mj.selectForecast(e,r.forecastPathsType,r.forecastType,s.forecast),forecastError:G.mj.selectForecastError(e,r.forecastPathsType,r.forecastType,s.forecast),forecastFetchStatus:G.mj.selectForecastFetchStatus(e,r.forecastPathsType,r.forecastType,s.forecast)}),r.reportPathsType&&r.reportType&&{currentReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.current),currentReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.current),currentReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.current),previousReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.previous),previousReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.previous),previousReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.previous),tabsReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.tabs),tabsReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.tabs),tabsReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.tabs)})})),Se={fetchForecasts:Pe.n5.v4,fetchReports:Pe.n5.a4,updateTab:Pe.n5.as},Ze=(0,d.ZP)((0,y.connect)(Fe,Se)(B)),Oe=(0,O.X1)(((e,t)=>({DashboardWidget:Ze,selectWidgets:Pe.oS.selectWidgets(e),widgets:Pe.oS.selectCurrentWidgets(e)}))),Ae=(0,y.connect)(Oe,{})(R);var Ve=r(99900);const Ce=e=>{switch(e){case Ve.VN.gcpProjects:return"gcp_project";case Ve.VN.regions:return"region";case Ve.VN.services:return"service"}},Ie=(0,O.X1)(((e,{widgetId:t})=>{const r=Ve.FF.selectWidget(e,t),s=Ve.FF.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign(Object.assign({},r),{currency:(0,X.zC)(),getIdKeyForTab:Ce}),r.forecastPathsType&&r.forecastType&&{forecast:G.mj.selectForecast(e,r.forecastPathsType,r.forecastType,s.forecast),forecastError:G.mj.selectForecastError(e,r.forecastPathsType,r.forecastType,s.forecast),forecastFetchStatus:G.mj.selectForecastFetchStatus(e,r.forecastPathsType,r.forecastType,s.forecast)}),r.reportPathsType&&r.reportType&&{currentReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.current),currentReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.current),currentReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.current),previousReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.previous),previousReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.previous),previousReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.previous),tabsReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.tabs),tabsReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.tabs),tabsReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.tabs)})})),we={fetchForecasts:Ve.uM.v4,fetchReports:Ve.uM.a4,updateTab:Ve.uM.as},je=(0,d.ZP)((0,y.connect)(Ie,we)(B)),De=(0,O.X1)(((e,t)=>({DashboardWidget:je,selectWidgets:Ve.FF.selectWidgets(e),widgets:Ve.FF.selectCurrentWidgets(e)}))),ze=(0,y.connect)(De,{})(R);var We=r(48788);const Me=e=>{switch(e){case We.DA.services:return"service";case We.DA.projects:return"project";case We.DA.regions:return"region"}},Le=(0,O.X1)(((e,{widgetId:t})=>{const r=We.Pi.selectWidget(e,t),s=We.Pi.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign(Object.assign({},r),{currency:(0,X.zC)(),getIdKeyForTab:Me}),r.forecastPathsType&&r.forecastType&&{forecast:G.mj.selectForecast(e,r.forecastPathsType,r.forecastType,s.forecast),forecastError:G.mj.selectForecastError(e,r.forecastPathsType,r.forecastType,s.forecast),forecastFetchStatus:G.mj.selectForecastFetchStatus(e,r.forecastPathsType,r.forecastType,s.forecast)}),r.reportPathsType&&r.reportType&&{currentReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.current),currentReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.current),currentReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.current),previousReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.previous),previousReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.previous),previousReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.previous),tabsReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.tabs),tabsReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.tabs),tabsReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.tabs)})})),Ke={fetchForecasts:We.lj.v4,fetchReports:We.lj.a4,updateTab:We.lj.as},ke=(0,d.ZP)((0,y.connect)(Le,Ke)(B)),_e=(0,O.X1)(((e,t)=>({DashboardWidget:ke,selectWidgets:We.Pi.selectWidgets(e),widgets:We.Pi.selectCurrentWidgets(e)}))),He=(0,y.connect)(_e,{})(R);var Ne=r(17568);const Be=e=>{switch(e){case Ne.Qr.accounts:return"account";case Ne.Qr.regions:return"region";case Ne.Qr.services:return"service"}},Ue=(0,O.X1)(((e,{widgetId:t})=>{const r=Ne.qN.selectWidget(e,t),s=Ne.qN.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign(Object.assign({},r),{currency:(0,X.zC)(),getIdKeyForTab:Be}),r.forecastPathsType&&r.forecastType&&{forecast:G.mj.selectForecast(e,r.forecastPathsType,r.forecastType,s.forecast),forecastError:G.mj.selectForecastError(e,r.forecastPathsType,r.forecastType,s.forecast),forecastFetchStatus:G.mj.selectForecastFetchStatus(e,r.forecastPathsType,r.forecastType,s.forecast)}),r.reportPathsType&&r.reportType&&{currentReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.current),currentReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.current),currentReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.current),previousReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.previous),previousReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.previous),previousReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.previous),tabsReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.tabs),tabsReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.tabs),tabsReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.tabs)})})),Ge={fetchForecasts:Ne.BV.v4,fetchReports:Ne.BV.a4,updateTab:Ne.BV.as},Je=(0,d.ZP)((0,y.connect)(Ue,Ge)(B)),Xe=(0,O.X1)(((e,t)=>({DashboardWidget:Je,selectWidgets:Ne.qN.selectWidgets(e),widgets:Ne.qN.selectCurrentWidgets(e)}))),Qe=(0,y.connect)(Xe,{})(R);var xe=r(60329),Ye=r(78898),$e=r(2136);const qe=e=>{switch(e){case xe.V7.clusters:return"cluster";case xe.V7.nodes:return"node";case xe.V7.projects:return"project"}},et=(0,O.X1)(((e,{widgetId:t})=>{const r=xe.nH.selectWidget(e,t),s=xe.nH.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},r),{currency:(0,X.zC)(),getIdKeyForTab:qe,chartAltHeight:250,containerAltHeight:250}),r.forecastPathsType&&r.forecastType&&{forecast:G.mj.selectForecast(e,r.forecastPathsType,r.forecastType,s.forecast),forecastError:G.mj.selectForecastError(e,r.forecastPathsType,r.forecastType,s.forecast),forecastFetchStatus:G.mj.selectForecastFetchStatus(e,r.forecastPathsType,r.forecastType,s.forecast)}),r.reportPathsType&&r.reportType&&{currentReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.current),currentReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.current),currentReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.current),previousReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.previous),previousReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.previous),previousReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.previous),tabsReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.tabs),tabsReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.tabs),tabsReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.tabs)}),r.rosPathsType&&r.rosType&&{isRosFeatureEnabled:Ye.iJ.selectIsRosFeatureEnabled(e),rosReport:$e.R0.selectRos(e,r.rosPathsType,r.rosType,s.optimizations),rosReportError:$e.R0.selectRosError(e,r.rosPathsType,r.rosType,s.optimizations),rosReportFetchStatus:$e.R0.selectRosFetchStatus(e,r.rosPathsType,r.rosType,s.optimizations)})})),tt={fetchForecasts:xe.U6.v4,fetchReports:xe.U6.a4,fetchRosReports:xe.U6.XE,updateTab:xe.U6.as},rt=(0,d.ZP)((0,y.connect)(et,tt)(B)),st=(0,O.X1)(((e,t)=>({DashboardWidget:rt,selectWidgets:xe.nH.selectWidgets(e),widgets:xe.nH.selectCurrentWidgets(e)}))),at=(0,y.connect)(st,{})(R);var ot=r(67522);const ct=e=>{switch(e){case ot.is.clusters:return"cluster";case ot.is.nodes:return"node";case ot.is.projects:return"project"}},it=(0,O.X1)(((e,{widgetId:t})=>{const r=ot.fO.selectWidget(e,t),s=ot.fO.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign(Object.assign({},r),{currency:(0,X.zC)(),getIdKeyForTab:ct,chartAltHeight:250,containerAltHeight:250}),r.forecastPathsType&&r.forecastType&&{forecast:G.mj.selectForecast(e,r.forecastPathsType,r.forecastType,s.forecast),forecastError:G.mj.selectForecastError(e,r.forecastPathsType,r.forecastType,s.forecast),forecastFetchStatus:G.mj.selectForecastFetchStatus(e,r.forecastPathsType,r.forecastType,s.forecast)}),r.reportPathsType&&r.reportType&&{currentReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.current),currentReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.current),currentReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.current),previousReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.previous),previousReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.previous),previousReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.previous),tabsReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.tabs),tabsReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.tabs),tabsReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.tabs)})})),pt={fetchForecasts:ot.BV.v4,fetchReports:ot.BV.a4,updateTab:ot.BV.as},nt=(0,d.ZP)((0,y.connect)(it,pt)(B)),lt=(0,O.X1)(((e,t)=>({DashboardWidget:nt,selectWidgets:ot.fO.selectWidgets(e),widgets:ot.fO.selectCurrentWidgets(e)}))),ut=(0,y.connect)(lt,{})(R);var ht=r(86482),dt=r(62331),yt=r(46919),gt=r(45087),mt=r(5842),Tt=r(96351),bt=r(77392);const vt=e=>{switch(e){case bt.FY.product_services:return"product_service";case bt.FY.payer_tenant_ids:return"payer_tenant_id";case bt.FY.regions:return"region"}},ft=(0,O.X1)(((e,{widgetId:t})=>{const r=bt.$h.selectWidget(e,t),s=bt.$h.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign(Object.assign({},r),{currency:(0,X.zC)(),getIdKeyForTab:vt}),r.forecastPathsType&&r.forecastType&&{forecast:G.mj.selectForecast(e,r.forecastPathsType,r.forecastType,s.forecast),forecastError:G.mj.selectForecastError(e,r.forecastPathsType,r.forecastType,s.forecast),forecastFetchStatus:G.mj.selectForecastFetchStatus(e,r.forecastPathsType,r.forecastType,s.forecast)}),r.reportPathsType&&r.reportType&&{currentReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.current),currentReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.current),currentReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.current),previousReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.previous),previousReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.previous),previousReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.previous),tabsReport:J.ZV.selectReport(e,r.reportPathsType,r.reportType,s.tabs),tabsReportError:J.ZV.selectReportError(e,r.reportPathsType,r.reportType,s.tabs),tabsReportFetchStatus:J.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.tabs)})})),Rt={fetchForecasts:bt.eb.v4,fetchReports:bt.eb.a4,updateTab:bt.eb.as},Pt=(0,d.ZP)((0,y.connect)(ft,Rt)(B)),Et=(0,O.X1)(((e,t)=>({DashboardWidget:Pt,selectWidgets:bt.$h.selectWidgets(e),widgets:bt.$h.selectCurrentWidgets(e)}))),Ft=(0,y.connect)(Et,{})(R);var St=r(49382),Zt=r(98499);const Ot={date:{alignSelf:"center",flexGrow:1,textAlign:"end"},costType:{marginLeft:L.ZP.var},header:{backgroundColor:St.ZP.var,padding:Zt.ZP.var},headerContent:{display:"flex",justifyContent:"space-between"},headerContentLeft:{display:"flex"},headerContentRight:{display:"flex"},infoIcon:{fontSize:C.ZP.value},infoTitle:{fontWeight:"bold"},main:{padding:Zt.ZP.value},tabs:{backgroundColor:St.ZP.var,paddingBottom:Zt.ZP.var,paddingTop:Zt.ZP.var}};var At,Vt,Ct,It;!function(e){e.aws="aws",e.awsOcp="aws_ocp",e.azure="azure",e.azureOcp="azure_ocp",e.gcp="gcp",e.gcpOcp="gcp_ocp",e.ibm="ibm",e.ibmOcp="ibm_ocp",e.oci="oci",e.ocpCloud="ocp_cloud"}(At||(At={})),function(e){e.ocp="ocp"}(Vt||(Vt={})),function(e){e.infrastructure="infrastructure",e.ocp="ocp",e.rhel="rhel"}(Ct||(Ct={})),function(e){e.rhel="rhel"}(It||(It={}));const wt=e=>{switch(e){case Ct.infrastructure:return"infrastructure";case Ct.ocp:return"ocp";case Ct.rhel:return"rhel"}};class jt extends h().Component{constructor(){super(...arguments),this.defaultState={activeTabKey:0},this.state=Object.assign({},this.defaultState),this.getAvailableTabs=()=>{const{isFinsightsFeatureEnabled:e}=this.props,t=[],r=this.isAwsAvailable()||this.isAzureAvailable()||this.isGcpAvailable()||this.isIbmAvailable()||this.isOciAvailable()||this.isOcpCloudAvailable()?[{contentRef:h().createRef(),tab:Ct.infrastructure}]:void 0,s=this.isOcpAvailable()?[{contentRef:h().createRef(),tab:Ct.ocp}]:void 0,a=this.isRhelAvailable()?[{contentRef:h().createRef(),tab:Ct.rhel}]:void 0;return e?(r&&t.push(...r),a&&t.push(...a),s&&t.push(...s)):(s&&t.push(...s),r&&t.push(...r)),t},this.getCostType=()=>{const{costType:e}=this.props,{currentInfrastructurePerspective:t,currentOcpPerspective:r}=this.state,s=this.getCurrentTab()===Ct.infrastructure?t:r;return s===At.aws||s===At.awsOcp?h().createElement("div",{style:Ot.costType},h().createElement(v.T,{costType:e,onSelect:this.handleCostTypeSelected})):null},this.getCurrency=()=>{const{currency:e}=this.props;return h().createElement(g.F,{onSelect:this.handleCurrencySelected,currency:e})},this.getCurrentTab=()=>{const{isFinsightsFeatureEnabled:e}=this.props,{activeTabKey:t}=this.state,r=this.isAwsAvailable(),s=this.isAzureAvailable(),a=this.isOciAvailable(),o=this.isGcpAvailable(),c=this.isIbmAvailable(),i=this.isOcpAvailable(),p=this.isOcpCloudAvailable(),n=this.isRhelAvailable(),l=r||s||a||o||c||p,u=l&&!i&&!n,h=n&&!l&&!i;if(i&&!l&&!n)return Ct.ocp;if(u)return Ct.infrastructure;if(h)return Ct.rhel;if(e)switch(t){case 0:return Ct.infrastructure;case 1:return Ct.rhel;case 2:return Ct.ocp}switch(t){case 0:return Ct.ocp;case 1:return Ct.infrastructure}},this.getDefaultInfrastructurePerspective=()=>{const{perspective:e}=this.props;switch(e){case At.aws:case At.awsOcp:case At.azure:case At.oci:case At.azureOcp:case At.gcp:case At.gcpOcp:case At.ibm:case At.ibmOcp:case At.ocpCloud:return e}return this.isOcpCloudAvailable()?At.ocpCloud:this.isAwsAvailable()?At.aws:this.isAzureAvailable()?At.azure:this.isOciAvailable()?At.oci:this.isGcpAvailable()?At.gcp:this.isIbmAvailable()?At.ibm:void 0},this.getDefaultOcpPerspective=()=>{const{ocpProviders:e,perspective:t,userAccess:r}=this.props;return t===Vt.ocp?t:(0,Tt.mn)(r,e)?Vt.ocp:void 0},this.getDefaultRhelPerspective=()=>{const{perspective:e,rhelProviders:t,userAccess:r}=this.props;return e===It.rhel?e:(0,Tt.ZC)(r,t)?It.rhel:void 0},this.getPerspective=()=>{const{isIbmFeatureEnabled:e}=this.props,{currentInfrastructurePerspective:t,currentOcpPerspective:r,currentRhelPerspective:s}=this.state,a=this.isAwsAvailable(),o=this.isAzureAvailable(),c=this.isGcpAvailable(),i=this.isIbmAvailable(),p=this.isOciAvailable(),n=this.isOcpAvailable(),l=this.isRhelAvailable();if(!(a||o||c||i||p||n||l))return null;let u;const d=this.getCurrentTab();switch(d){case Ct.infrastructure:u=t;break;case Ct.ocp:u=r;break;case Ct.rhel:u=s}return h().createElement(f.X,{currentItem:u,hasAws:a,hasAwsOcp:this.isAwsOcpAvailable(),hasAzure:o,hasAzureOcp:this.isAzureOcpAvailable(),hasGcp:c,hasGcpOcp:this.isGcpOcpAvailable(),hasIbm:i,hasIbmOcp:this.isIbmOcpAvailable(),hasOci:p,hasOcp:n,hasOcpCloud:this.isOcpCloudAvailable(),hasRhel:l,isIbmFeatureEnabled:e,isInfrastructureTab:Ct.infrastructure===d,isRhelTab:Ct.rhel===d,onSelected:this.handlePerspectiveSelected})},this.getRouteForQuery=e=>{const{router:t}=this.props;return`${t.location.pathname}?${function(e){return c.IV(e)}(e)}`},this.getTab=(e,t,r)=>h().createElement(s.Tab,{eventKey:r,key:`${wt(e)}-tab`,tabContentId:`tab-${r}`,tabContentRef:t,title:h().createElement(s.TabTitleText,null,this.getTabTitle(e))}),this.getTabContent=e=>e.map(((e,t)=>h().createElement(s.TabContent,{eventKey:t,key:`${wt(e.tab)}-tabContent`,id:`tab-${t}`,ref:e.contentRef},this.getTabItem(e.tab,t)))),this.getTabItem=(e,t)=>{const{awsProviders:r,azureProviders:s,ociProviders:a,costType:o,currency:c,gcpProviders:i,ibmProviders:p,ocpProviders:n,rhelProviders:l}=this.props,{activeTabKey:u,currentInfrastructurePerspective:d,currentOcpPerspective:y,currentRhelPerspective:g}=this.state,m=h().createElement(h().Fragment,null),b=h().createElement(T.Z,{showReload:!1});if(u!==t)return m;const v=wt(e);if(v===Ct.infrastructure)return d===At.ocpCloud?(0,ht.Bj)(r,n)||(0,ht.Bj)(s,n)||(0,ht.Bj)(i,n)||(0,ht.Bj)(p,n)?h().createElement(Qe,{currency:c}):b:d===At.aws?(0,ht.g8)(r)||(0,ht.rL)(r)?h().createElement(ee,{costType:o}):b:d===At.awsOcp?(0,ht.at)(r,n)||(0,ht.D2)(r,n)?h().createElement(ie,{currency:c}):b:d===At.azure?(0,ht.g8)(s)||(0,ht.rL)(s)?h().createElement(ye,{currency:c}):b:d===At.azureOcp?(0,ht.at)(s,n)||(0,ht.D2)(s,n)?h().createElement(Re,{currency:c}):b:d===At.gcp?(0,ht.g8)(i)||(0,ht.rL)(i)?h().createElement(Ae,{currency:c}):b:d===At.gcpOcp?(0,ht.at)(i,n)||(0,ht.D2)(i,n)?h().createElement(ze,{currency:c}):b:d===At.ibm?(0,ht.g8)(p)||(0,ht.rL)(p)?h().createElement(He,{currency:c}):b:d===At.oci&&((0,ht.g8)(a)||(0,ht.rL)(a))?h().createElement(Ft,{currency:c}):b;if(v===Ct.ocp){const e=(0,ht.g8)(n)||(0,ht.rL)(n);return y===Vt.ocp&&e?h().createElement(at,{currency:c}):b}if(v===Ct.rhel){const e=(0,ht.g8)(l)||(0,ht.rL)(l);return g===It.rhel&&e?h().createElement(ut,{currency:c}):b}return m},this.getTabs=e=>{const{activeTabKey:t}=this.state;return h().createElement(s.Tabs,{activeKey:t,onSelect:this.handleTabClick},e.map(((e,t)=>this.getTab(e.tab,e.contentRef,t))))},this.getTabTitle=e=>{const{intl:t,isFinsightsFeatureEnabled:r}=this.props;return e===Ct.infrastructure?r?t.formatMessage(l.Z.summary):t.formatMessage(l.Z.infrastructure):e===Ct.ocp?t.formatMessage(l.Z.openShift):e===Ct.rhel?t.formatMessage(l.Z.rhel):void 0},this.handleCostTypeSelected=()=>{const{query:e,router:t}=this.props,r=Object.assign({},JSON.parse(JSON.stringify(e)));t.navigate(this.getRouteForQuery(r),{replace:!0})},this.handleCurrencySelected=()=>{const{router:e,query:t}=this.props,r=Object.assign({},JSON.parse(JSON.stringify(t)));e.navigate(this.getRouteForQuery(r),{replace:!0})},this.handlePerspectiveSelected=e=>{const{query:t,router:r}=this.props,s=this.getCurrentTab();this.setState(Object.assign(Object.assign({},s===Ct.infrastructure&&{currentInfrastructurePerspective:e}),s===Ct.ocp&&{currentOcpPerspective:e}),(()=>{const s=Object.assign(Object.assign({},JSON.parse(JSON.stringify(t))),{perspective:e});r.navigate(this.getRouteForQuery(s),{replace:!0})}))},this.handleTabClick=(e,t)=>{const{query:r,router:s}=this.props,{activeTabKey:a}=this.state;a!==t&&this.setState({activeTabKey:t},(()=>{const e=Object.assign(Object.assign({},JSON.parse(JSON.stringify(r))),{tabKey:t});s.navigate(this.getRouteForQuery(e),{replace:!0})}))},this.isAwsAvailable=()=>{const{awsProviders:e,userAccess:t}=this.props;return(0,Tt.n9)(t,e)},this.isAwsOcpAvailable=()=>{const{awsProviders:e,ocpProviders:t,userAccess:r}=this.props;return(0,Tt.KT)(r)&&(0,ht.JY)(e,t)},this.isAzureAvailable=()=>{const{azureProviders:e,userAccess:t}=this.props;return(0,Tt.hn)(t,e)},this.isAzureOcpAvailable=()=>{const{azureProviders:e,ocpProviders:t,userAccess:r}=this.props;return(0,Tt.FW)(r)&&(0,ht.JY)(e,t)},this.isGcpAvailable=()=>{const{gcpProviders:e,userAccess:t}=this.props;return(0,Tt.FE)(t,e)},this.isGcpOcpAvailable=()=>{const{gcpProviders:e,ocpProviders:t,userAccess:r}=this.props;return(0,Tt.Sv)(r)&&(0,ht.JY)(e,t)},this.isIbmAvailable=()=>{const{ibmProviders:e,userAccess:t}=this.props;return(0,Tt.Es)(t,e)},this.isIbmOcpAvailable=()=>{const{ibmProviders:e,ocpProviders:t,userAccess:r}=this.props;return(0,Tt.tt)(r)&&(0,ht.JY)(e,t)},this.isOciAvailable=()=>{const{ociProviders:e,userAccess:t}=this.props;return(0,Tt.HC)(t,e)},this.isOcpAvailable=()=>{const{ocpProviders:e,userAccess:t}=this.props;return(0,Tt.mn)(t,e)},this.isOcpCloudAvailable=()=>{const e=this.isAwsOcpAvailable(),t=this.isAzureOcpAvailable(),r=this.isGcpOcpAvailable(),s=this.isIbmOcpAvailable();return e||t||r||s},this.isRhelAvailable=()=>{const{isFinsightsFeatureEnabled:e,rhelProviders:t,userAccess:r}=this.props;return e&&(0,Tt.ZC)(r,t)}}componentDidMount(){const{tabKey:e}=this.props;this.setState({activeTabKey:e,currentInfrastructurePerspective:this.getDefaultInfrastructurePerspective(),currentOcpPerspective:this.getDefaultOcpPerspective(),currentRhelPerspective:this.getDefaultRhelPerspective()})}componentDidUpdate(e){const{providers:t,tabKey:r,userAccess:s}=this.props;e.userAccess===s&&e.providers===t||this.setState({activeTabKey:r,currentInfrastructurePerspective:this.getDefaultInfrastructurePerspective(),currentOcpPerspective:this.getDefaultOcpPerspective(),currentRhelPerspective:this.getDefaultRhelPerspective()})}render(){const{providersFetchStatus:e,intl:t,isFinsightsFeatureEnabled:r,isIbmFeatureEnabled:o,userAccessFetchStatus:c}=this.props,i=!(e!==O.iF.complete||this.isAwsAvailable()||this.isAzureAvailable()||this.isGcpAvailable()||this.isIbmAvailable()||this.isOciAvailable()||this.isOcpAvailable()||this.isRhelAvailable()),p=e===O.iF.inProgress||c===O.iF.inProgress,n=this.getAvailableTabs(),u=t.formatMessage(l.Z.overviewTitle);return p?h().createElement(m.g,{title:u}):i?h().createElement(b.L,{title:u}):h().createElement(h().Fragment,null,h().createElement("header",{style:Ot.header},h().createElement("div",{style:Ot.headerContent},h().createElement(s.Title,{headingLevel:"h1",size:s.TitleSizes["2xl"]},u,h().createElement("span",{style:Ot.infoIcon},h().createElement(s.Popover,{"aria-label":t.formatMessage(l.Z.overviewInfoArialLabel),enableFlip:!0,bodyContent:h().createElement(h().Fragment,null,h().createElement("p",{style:Ot.infoTitle},t.formatMessage(l.Z.openShiftCloudInfrastructure)),h().createElement("p",null,t.formatMessage(l.Z.openShiftCloudInfrastructureDesc)),h().createElement("br",null),h().createElement("p",{style:Ot.infoTitle},t.formatMessage(l.Z.openShift)),h().createElement("p",null,t.formatMessage(l.Z.openShiftDesc)),h().createElement("br",null),r&&h().createElement(h().Fragment,null,h().createElement("p",{style:Ot.infoTitle},t.formatMessage(l.Z.rhel)),h().createElement("p",null,t.formatMessage(l.Z.rhelDesc)),h().createElement("br",null)),h().createElement("p",{style:Ot.infoTitle},t.formatMessage(l.Z.aws)),h().createElement("p",null,t.formatMessage(l.Z.awsDesc)),h().createElement("br",null),h().createElement("p",{style:Ot.infoTitle},t.formatMessage(l.Z.gcp)),h().createElement("p",null,t.formatMessage(l.Z.gcpDesc)),o&&h().createElement(h().Fragment,null,h().createElement("br",null),h().createElement("p",{style:Ot.infoTitle},t.formatMessage(l.Z.ibm)),h().createElement("p",null,t.formatMessage(l.Z.ibmDesc))),h().createElement("br",null),h().createElement("p",{style:Ot.infoTitle},t.formatMessage(l.Z.azure)),h().createElement("p",null,t.formatMessage(l.Z.azureDesc)),h().createElement("br",null),h().createElement("p",{style:Ot.infoTitle},t.formatMessage(l.Z.oci)),h().createElement("p",null,t.formatMessage(l.Z.ociDesc)))},h().createElement(s.Button,{"aria-label":t.formatMessage(l.Z.overviewInfoButtonArialLabel),variant:s.ButtonVariant.plain},h().createElement(a.iC,null))))),h().createElement("div",{style:Ot.headerContentRight},this.getCurrency())),h().createElement("div",{style:Ot.tabs},this.getTabs(n)),h().createElement("div",{style:Ot.headerContent},h().createElement("div",{style:Ot.headerContentLeft},this.getPerspective(),this.getCostType()),h().createElement("div",{style:Ot.date},(0,gt.J4)()))),h().createElement("div",{style:Ot.main},this.getTabContent(n)))}}const Dt=(0,O.X1)(((e,{router:t})=>{const r=function(e){return c.mB(e)}(t.location.search),s=r.tabKey&&!Number.isNaN(r.tabKey)?Number(r.tabKey):0,a=r.perspective,l=(0,X.zC)(),u=a===At.aws||a===At.awsOcp?(0,X.uY)():void 0,h=Object.assign({},r),d=(0,i.H)(dt.NT),y=dt.aX.selectProviders(e,o.l.all,d),g=dt.aX.selectProvidersError(e,o.l.all,d),m=dt.aX.selectProvidersFetchStatus(e,o.l.all,d),T=(0,p.T)(yt.QR),b=yt.JO.selectUserAccess(e,n.n.all,T),v=yt.JO.selectUserAccessError(e,n.n.all,T),f=yt.JO.selectUserAccessFetchStatus(e,n.n.all,T);return{awsProviders:(0,ht.BV)(y,o.l.aws),azureProviders:(0,ht.BV)(y,o.l.azure),costType:u,currency:l,gcpProviders:(0,ht.BV)(y,o.l.gcp),ibmProviders:(0,ht.BV)(y,o.l.ibm),isFinsightsFeatureEnabled:Ye.iJ.selectIsFinsightsFeatureEnabled(e),isIbmFeatureEnabled:Ye.iJ.selectIsIbmFeatureEnabled(e),ociProviders:(0,ht.BV)(y,o.l.oci),ocpProviders:(0,ht.BV)(y,o.l.ocp),providers:y,providersError:g,providersFetchStatus:m,perspective:a,query:h,rhelProviders:(0,ht.BV)(y,o.l.rhel),tabKey:s,userAccess:b,userAccessError:v,userAccessFetchStatus:f,userAccessQueryString:T}})),zt=(0,d.ZP)((0,mt.E)((0,y.connect)(Dt,{})(jt)))},86482:(e,t,r)=>{var s;r.d(t,{BV:()=>o,Bj:()=>n,D2:()=>l,JY:()=>u,Mg:()=>d,at:()=>p,g8:()=>h,rL:()=>y}),function(e){e.currentMonthData="current_month_data",e.hasData="has_data",e.previousMonthData="previous_month_data"}(s||(s={}));const a=(e,t)=>{let r;if(e&&e.data)for(const s of e.data)if(s.infrastructure&&s.infrastructure.uuid===t){r=s;break}return r},o=(e,t)=>{if(!e)return e;const r=e.data.filter((e=>e.source_type.toLowerCase()===t)),s=Object.assign(Object.assign({},e.meta),{count:r.length});return Object.assign(Object.assign({},e),{meta:s,data:r})},c=(e,t)=>{let r=!1;if(e&&e.data)for(const s of e.data)if(s[t]){r=!0;break}return r},i=(e,t,r)=>{let s=!1;if(e&&e.data)for(const o of e.data){const e=a(t,o.uuid);if(e&&e[r]){s=!0;break}}return s},p=(e,t)=>i(e,t,s.currentMonthData),n=(e,t)=>i(e,t,s.hasData),l=(e,t)=>i(e,t,s.previousMonthData),u=(e,t)=>((e,t)=>{let r=!1;if(e&&e.data)for(const s of e.data)if(a(t,s.uuid)){r=!0;break}return r})(e,t),h=e=>c(e,s.currentMonthData),d=e=>c(e,s.hasData),y=e=>c(e,s.previousMonthData)},96351:(e,t,r)=>{r.d(t,{Es:()=>m,F4:()=>R,FE:()=>y,FW:()=>p,HC:()=>u,KT:()=>c,Rt:()=>T,Sv:()=>d,Xd:()=>l,ZC:()=>f,hn:()=>n,mn:()=>b,n9:()=>i,ot:()=>h,tt:()=>g,yY:()=>v});var s=r(91577);const a=(e,t)=>{let r=!1;if(e&&Array.isArray(e.data)){const s=e.data.find((e=>e.type===t));r=s&&s.access}else r=e&&!0===e.data;return r},o=e=>{let t=!1;return e&&e.meta&&(t=e.meta.count>0),t},c=e=>a(e,s.n.aws),i=(e,t)=>c(e)&&o(t),p=e=>a(e,s.n.azure),n=(e,t)=>p(e)&&o(t),l=e=>a(e,s.n.oci),u=(e,t)=>l(e)&&o(t),h=e=>a(e,s.n.cost_model),d=e=>a(e,s.n.gcp),y=(e,t)=>a(e,s.n.gcp)&&o(t),g=e=>d(e),m=(e,t)=>g(e)&&o(t),T=e=>a(e,s.n.ocp),b=(e,t)=>T(e)&&o(t),v=e=>a(e,s.n.rhel),f=(e,t)=>v(e)&&o(t),R=e=>a(e,s.n.ros)},84735:(e,t,r)=>{e.exports=r.p+"fonts/Cost-icon.svg"}}]);
//# sourceMappingURL=../sourcemaps/overview.dc7f8acbb3a2f74c281361219f97ca50.js.map
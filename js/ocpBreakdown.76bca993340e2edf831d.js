"use strict";(self.webpackChunkkoku_ui=self.webpackChunkkoku_ui||[]).push([[8141],{55512:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Y});var o=r(1326),s=r(79112),c=r(84717),i=r(6456),a=r(50081),n=r(97027),l=r(92950),p=r.n(l),u=r(74806),d=r(77760),g=r(91919),m=r(55246),y=r(44374),h=r(37269),f=r(54583),b=r(86482),R=r(1156),v=r(78898),O=r(62331),C=r(15920),E=r(20997),S=r(15829),_=r(68025),j=r(14483),F=r(5842),P=r(67709),T=r(73903);const Z=(0,R.X1)(((e,{title:t})=>({selectWidgets:T.cm.selectWidgets(e),widgets:T.cm.selectCurrentWidgets(e),title:t}))),k=(0,d.connect)(Z,{})(P.X);var B=r(87935),w=r(70982);const z=(0,R.X1)(((e,t)=>({selectWidgets:w.P2.selectWidgets(e),widgets:w.P2.selectCurrentWidgets(e)}))),V=(0,d.connect)(z,{})(B.f);var W=r(90154),X=r(39333),x=r(52016),D=r(89256),L=r(2136);const G=D.v.recommendations,M=D.N.ros;class Q extends p().Component{constructor(){super(...arguments),this.defaultState={},this.state=Object.assign({},this.defaultState),this.updateReport=()=>{const{fetchReport:e,reportFetchStatus:t,reportQueryString:r}=this.props;t!==R.iF.inProgress&&e(G,M,r)}}componentDidMount(){this.updateReport()}render(){const{intl:e,report:t}=this.props,r=t&&t.meta?t.meta.count:0;return p().createElement(W.Badge,{screenReaderText:e.formatMessage(n.Z.optimizationsDetails,{count:r})},r)}}const q=(0,R.X1)(((e,{router:t})=>{const r=(0,x.mB)(t.location.search),o=(0,h.VL)(r),s=(0,h.pe)(r),c=Object.assign(Object.assign({},o&&{[o]:s}),{limit:r.limit||10,offset:r.offset||0}),i=(0,X.pm)(c);return{query:c,report:L.R0.selectRos(e,G,M,i),reportError:L.R0.selectRosError(e,G,M,i),reportFetchStatus:L.R0.selectRosFetchStatus(e,G,M,i),reportQueryString:i}})),I={fetchReport:L.Ze.fetchRosReport},N=(0,u.ZP)((0,F.E)((0,d.connect)(q,I)(Q))),A=(0,_.dI)(g._.ocpDetails.path),H=i.C.cost,J=i.K.ocp,K=(0,R.X1)(((e,{intl:t,router:r})=>{const i=(0,s.mB)(r.location.search),l=(0,h.VL)(i),u=(0,h.pe)(i),d=(0,S.zC)(),g={filter:{resolution:"monthly",time_scope_units:"month",time_scope_value:-1},filter_by:Object.assign(Object.assign({},i&&i.filter_by&&i.filter_by),i&&i.filter&&i.filter.category&&{category:i.filter.category}),exclude:Object.assign({},i&&i.exclude&&i.exclude),group_by:Object.assign({},l&&{[l]:u}),category:i.category},m=(0,s.pm)(Object.assign(Object.assign({},g),{category:void 0,currency:d,filter_by:Object.assign(Object.assign({},g.filter_by),l&&"*"!==u&&{[l]:void 0})})),R=C.ZV.selectReport(e,J,H,m),E=C.ZV.selectReportError(e,J,H,m),_=C.ZV.selectReportFetchStatus(e,J,H,m),F=(0,c.H)(O.NT),P=O.aX.selectProviders(e,o.l.all,F),T=O.aX.selectProvidersFetchStatus(e,o.l.all,F),Z=i[j.yG]?i[j.yG]:u;return{costOverviewComponent:p().createElement(k,{currency:d,groupBy:l,isPlatformCosts:(0,f.yW)(i),report:R,title:Z}),currency:d,description:i[j.eG],detailsURL:A,emptyStateTitle:t.formatMessage(n.Z.ocpDetailsTitle),groupBy:l,groupByValue:u,historicalDataComponent:p().createElement(V,{currency:d}),isOptimizationsTab:void 0!==i.optimizationsTab,isRosFeatureEnabled:v.iJ.selectIsRosFeatureEnabled(e),optimizationsBadgeComponent:p().createElement(N,null),optimizationsComponent:"project"===l&&"*"!==u?p().createElement(y.Z,null):void 0,providers:(0,b.BV)(P,o.l.ocp),providersFetchStatus:T,providerType:o.l.ocp,query:i,report:R,reportError:E,reportFetchStatus:_,reportType:H,reportPathsType:J,reportQueryString:m,tagReportPathsType:a.L.ocp,title:Z}})),U={closeOptimizationsDrawer:E.Aw.Zv,fetchReport:C.nx.fetchReport},Y=(0,u.ZP)((0,F.E)((0,d.connect)(K,U)(m.C)))}}]);
//# sourceMappingURL=../sourcemaps/ocpBreakdown.af0f47f14932d5362390ed5a7348a298.js.map
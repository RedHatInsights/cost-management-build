"use strict";(self.webpackChunkkoku_ui=self.webpackChunkkoku_ui||[]).push([[2340],{37610:(e,t,s)=>{s.d(t,{T:()=>a});var r=s(80129);function a(e){return(0,r.stringify)(e,{encode:!1,indices:!1})}},1903:(e,t,s)=>{s.d(t,{X:()=>P});var r=s(97027),a=s(92950),c=s.n(a),i=s(76481),o=s(74806);const n={perspectiveSelector:{display:"flex",alignItems:"center"},perspectiveLabel:{marginBottom:0,marginRight:s(32412).ZP.var,whiteSpace:"nowrap"},perspectiveOptionLabel:{marginBottom:6,marginLeft:8,marginTop:6}};class p extends c().Component{constructor(){super(...arguments),this.defaultState={isSelectOpen:!1},this.state=Object.assign({},this.defaultState),this.getSelectOptions=()=>{const{intl:e,options:t}=this.props,s=[];return t.map((t=>{s.push({toString:()=>e.formatMessage(t.label,{value:t.value}),value:t.value})})),s},this.getSelect=()=>{const{currentItem:e,intl:t,isDisabled:s,options:r}=this.props,{isSelectOpen:a}=this.state;if(1===r.length)return c().createElement("div",{style:n.perspectiveOptionLabel},t.formatMessage(r[0].label,{value:r[0].value}));const o=this.getSelectOptions(),p=o.find((t=>t.value===e));return c().createElement(i.Select,{id:"perspectiveSelect",isDisabled:s,isOpen:a,onSelect:this.handleSelect,onToggle:this.handleToggle,selections:p,variant:i.SelectVariant.single},o.map((e=>c().createElement(i.SelectOption,{key:e.value,value:e}))))},this.handleSelect=(e,t)=>{const{onSelected:s}=this.props;s&&s(t.value),this.setState({isSelectOpen:!1})},this.handleToggle=e=>{this.setState({isSelectOpen:e})}}render(){const{intl:e}=this.props;return c().createElement("div",{style:n.perspectiveSelector},c().createElement(i.Title,{headingLevel:"h3",size:"md",style:n.perspectiveLabel},e.formatMessage(r.Z.perspective)),this.getSelect())}}const l=(0,o.ZP)(p),u=[{label:r.Z.perspectiveValues,value:"aws"}],h=[{label:r.Z.perspectiveValues,value:"aws_ocp"}],d=[{label:r.Z.perspectiveValues,value:"azure"}],g=[{label:r.Z.perspectiveValues,value:"oci"}],b=[{label:r.Z.perspectiveValues,value:"azure_ocp"}],m=[{label:r.Z.perspectiveValues,value:"gcp"}],v=[{label:r.Z.perspectiveValues,value:"gcp_ocp"}],y=[{label:r.Z.perspectiveValues,value:"ibm"}],T=[{label:r.Z.perspectiveValues,value:"ibm_ocp"}],f=[{label:r.Z.perspectiveValues,value:"ocp_cloud"}],F=[{label:r.Z.perspectiveValues,value:"ocp"}],R=[{label:r.Z.perspectiveValues,value:"rhel"}],O=({hasAws:e,hasAwsOcp:t,hasAzure:s,hasAzureOcp:r,hasGcp:a,hasGcpOcp:c,hasIbm:i,hasIbmOcp:o,hasOci:n,isIbmFeatureEnabled:p,isOciFeatureEnabled:l})=>{const f=[];return e&&f.push(...u),t&&f.push(...h),a&&f.push(...m),c&&f.push(...v),i&&f.push(...y),o&&p&&f.push(...T),s&&f.push(...d),r&&f.push(...b),n&&l&&f.push(...g),f},P=({currentItem:e,hasAws:t,hasAwsOcp:s,hasAzure:r,hasAzureOcp:a,hasGcp:i,hasGcpOcp:o,hasIbm:n,hasIbmOcp:p,hasOci:u,hasOcp:h,hasOcpCloud:d,hasRhel:g,isDisabled:b,isIbmFeatureEnabled:m,isInfrastructureTab:v,isOciFeatureEnabled:y,isRhelTab:T,onSelected:P})=>{const C=[];return void 0!==v||void 0!==T?v?(d&&C.push(...f),C.push(...O({hasAws:t,hasAwsOcp:s,hasAzure:r,hasAzureOcp:a,hasGcp:i,hasGcpOcp:o,hasIbm:n,hasIbmOcp:p,hasOci:u,isIbmFeatureEnabled:m,isOciFeatureEnabled:y}))):T?g&&C.push(...R):h&&C.push(...F):(h&&C.push(...F),d&&C.push(...f),g&&C.push(...R),C.push(...O({hasAws:t,hasAwsOcp:s,hasAzure:r,hasAzureOcp:a,hasGcp:i,hasGcpOcp:o,hasIbm:n,hasIbmOcp:p,hasOci:u,isIbmFeatureEnabled:m,isOciFeatureEnabled:y}))),c().createElement(l,{currentItem:e||C[0].value,isDisabled:b,onSelected:P,options:C})}},72249:(e,t,s)=>{s.r(t),s.d(t,{default:()=>wt});var r=s(76481),a=s(91290),c=s(1326),i=s(39333),o=s(84717),n=s(37610),p=s(91577),l=s(97027),u=s(92950),h=s.n(u),d=s(74806),g=s(77760),b=s(6450),m=s(52471),v=s(83819),y=s(2985),T=s(11058),f=s(1903);const F=({costType:e,currency:t,DashboardWidget:s,selectWidgets:a,widgets:c})=>h().createElement("div",null,h().createElement(r.Grid,{hasGutter:!0},c.map((c=>a[c].details.showHorizontal?h().createElement(r.GridItem,{sm:12,key:c},h().createElement(s,Object.assign({widgetId:c},e&&{costType:e},t&&{currency:t}))):h().createElement(r.GridItem,{lg:12,xl:6,xl2:4,key:c},h().createElement(s,Object.assign({widgetId:c},e&&{costType:e},t&&{currency:t})))))));var R=s(76966),O=s(44439),P=s(39836),C=s(60553),E=s(38470),S=s(30564),I=s(91778);class A extends h().Component{constructor(){super(...arguments),this.defaultState={currentItem:this.props.options?this.props.options.find((e=>e.default)).value:void 0,isSelectOpen:!1},this.state=Object.assign({},this.defaultState),this.getSelect=()=>{const{isDisabled:e}=this.props,{currentItem:t,isSelectOpen:s}=this.state,a=this.getSelectOptions(),c=a.find((e=>e.value===t));return h().createElement(r.Select,{id:"comparisonSelect",isDisabled:e,isOpen:s,onSelect:this.handleSelect,onToggle:this.handleToggle,selections:c,variant:r.SelectVariant.single},a.map((e=>h().createElement(r.SelectOption,{key:e.value,value:e}))))},this.getSelectOptions=()=>{const{options:e}=this.props,t=[];return e.map((e=>{t.push({toString:()=>e.label,value:e.value})})),t},this.handleSelect=(e,t)=>{const{onItemClicked:s}=this.props;s&&s(t.value),this.setState({currentItem:t.value,isSelectOpen:!1})},this.handleToggle=e=>{this.setState({isSelectOpen:e})}}render(){return this.getSelect()}}const Z=A;var w=s(91707),V=s(32412),D=s(57640);const j={chartAltHeight:250,chartHeight:180,containerAltHeight:250,containerTrendHeight:180,containerUsageHeight:180},W={comparison:{marginBottom:V.ZP.value},comparisonContainer:{display:"flex"},tabs:{marginTop:w.ZP.value},tabItems:{marginTop:D.ZP.value}};var z;!function(e){e.cumulative="cumulative",e.daily="daily"}(z||(z={}));class Q extends h().Component{constructor(){super(...arguments),this.state={activeTabKey:0,currentComparison:z.cumulative},this.buildDetailsLink=e=>{const{details:t,getIdKeyForTab:s}=this.props,r=s(e);return`${t.viewAllPath}?${(0,R.pm)({group_by:{[r]:"*"},order_by:{cost:"desc"}})}`},this.getChart=(e,t,s=!1)=>{const{chartType:r,trend:a}=this.props;return r===S.i.dailyTrend?this.getDailyTrendChart(e,t,s,a.showSupplementaryLabel):r===S.i.dailyCost?this.getDailyCostChart(e,t,s):r===S.i.trend?this.getTrendChart(e,t,s,a.showSupplementaryLabel):r===S.i.usage?this.getUsageChart(t,s):null},this.getChartComparison=()=>{const{intl:e,trend:t}=this.props,{currentComparison:s}=this.state,r=this.getFormattedUnits(),a=e.formatMessage(t.titleKey,{units:r}),c=[{label:e.formatMessage(t.dailyTitleKey,{units:r}),value:z.daily},{label:a,value:z.cumulative,default:!0}];return h().createElement(Z,{currentItem:s||c[0].value,onItemClicked:this.handleComparisonClick,options:c})},this.getDailyCostChart=(e,t,s=!1)=>{const{chartFormatter:r,currentReport:a,previousReport:c,trend:i}=this.props,{currentComparison:o}=this.state,n=i.computedReportItem,p=i.computedReportItemValue,l=o===z.daily,u=l?C.yZ.rolling:i.datumType,d=(0,C.zJ)(a,u,"date",n,p),g=(0,C.zJ)(c,u,"date",n,p),b=this.getForecastData(a,i.computedForecastItem),m=l?E.V3:E.me;return h().createElement(h().Fragment,null,h().createElement("div",{style:W.comparisonContainer},h().createElement("div",{style:W.comparison},this.getChartComparison())),h().createElement(m,{adjustContainerHeight:s,containerHeight:e,currentCostData:d,forecastConeData:b.forecastConeData,forecastData:b.forecastData,formatOptions:i.formatOptions,formatter:r||I.xG,height:t,previousCostData:g,showForecast:void 0!==i.computedForecastItem}))},this.getDailyTrendChart=(e,t,s=!1,r=!1)=>{const{chartFormatter:a,chartName:c,currentReport:i,details:o,previousReport:n,trend:p}=this.props,{currentComparison:l}=this.state,u=p.computedReportItem,d=p.computedReportItemValue,g=l===z.daily,b=g?C.yZ.rolling:p.datumType,m=(0,C.zJ)(i,b,"date",u,d),v=(0,C.zJ)(n,b,"date",u,d),{forecastData:y,forecastConeData:T}=this.getForecastData(i,p.computedForecastItem),f=g?E.Y0:E.Nd;return h().createElement(h().Fragment,null,h().createElement("div",{style:W.comparisonContainer},h().createElement("div",{style:W.comparison},this.getChartComparison())),h().createElement(f,{adjustContainerHeight:s,chartName:c,containerHeight:e,currentData:m,forecastData:y,forecastConeData:T,formatOptions:p.formatOptions,formatter:a||I.bM,height:t,previousData:v,showForecast:void 0!==p.computedForecastItem,showSupplementaryLabel:r,showUsageLegendLabel:o.showUsageLegendLabel,units:this.getUnits()}))},this.getForecastData=(e,t="cost")=>{const{forecast:s,trend:r}=this.props,{currentComparison:a}=this.state,c=a===z.daily?C.yZ.rolling:r.datumType;let i,o;if(t){const r=(0,O.cloneDeep)(s);if(r&&(r.data=[]),s&&e&&e.data){const a=e.meta&&e.meta.total&&e.meta.total[t]?e.meta.total[t].total.value:0,i=e.meta&&e.meta.total&&e.meta.total[t]?e.meta.total[t].total.units:"USD",o=e.data.filter((e=>e.values.length)),n=o[o.length-1]?o[o.length-1].date:void 0;if(s&&s.data&&s.data.length>0){const e=new Date(n),t=e.getMonth()+1;for(const a of s.data){const s=new Date(a.date),c=s.getMonth()+1;s>e&&t===c&&r.data.push(a)}if(c===C.yZ.cumulative){const e=s.data[0].values&&s.data[0].values.length>0?s.data[0].values[0].date:void 0,t=1===this.getNumberOfDays(n,e)?n:e;r.data.unshift({date:t,values:[{date:t,cost:{confidence_max:{value:0},confidence_min:{value:0},total:{value:a,units:i}},infrastructure:{confidence_max:{value:0},confidence_min:{value:0},total:{value:a,units:i}},supplementary:{confidence_max:{value:0},confidence_min:{value:0},total:{value:a,units:i}}}]})}}}i=(0,C.nB)(r,c,t),o=(0,C.Qw)(r,c,t)}return{forecastData:i,forecastConeData:o}},this.getNumberOfDays=(e,t)=>{const s=new Date(e),r=new Date(t).getTime()-s.getTime();return Math.round(r/864e5)},this.getTrendChart=(e,t,s=!1,r=!1)=>{const{chartFormatter:a,chartName:c,currentReport:i,details:o,intl:n,previousReport:p,trend:l}=this.props,u=l.computedReportItem||"cost",d=l.computedReportItemValue,g=n.formatMessage(l.titleKey,{units:this.getFormattedUnits()}),b=(0,C.zJ)(i,l.datumType,"date",u,d),m=(0,C.zJ)(p,l.datumType,"date",u,d),{forecastData:v,forecastConeData:y}=this.getForecastData(i,l.computedForecastItem);return h().createElement(E.Nd,{adjustContainerHeight:s,containerHeight:e,chartName:c,currentData:b,forecastData:v,forecastConeData:y,formatOptions:l.formatOptions,formatter:a||I.bM,height:t,previousData:m,showForecast:void 0!==l.computedForecastItem,showSupplementaryLabel:r,showUsageLegendLabel:o.showUsageLegendLabel,title:g,units:this.getUnits()})},this.getUsageChart=(e,t=!1)=>{const{chartFormatter:s,chartName:r,currentReport:a,intl:c,previousReport:i,trend:o}=this.props,n=c.formatMessage(o.titleKey,{units:this.getFormattedUnits()}),p=(0,C.zJ)(a,o.datumType,"date","request"),l=(0,C.zJ)(i,o.datumType,"date","request"),u=(0,C.zJ)(a,o.datumType,"date","usage"),d=(0,C.zJ)(i,o.datumType,"date","usage");return h().createElement(E.I0,{adjustContainerHeight:t,chartName:r,containerHeight:j.containerUsageHeight,currentRequestData:p,currentUsageData:u,formatOptions:o.formatOptions,formatter:s||I.bM,height:e,previousRequestData:l,previousUsageData:d,title:n})},this.getDetails=()=>{const{chartType:e,currentReport:t,details:s,reportType:r,trend:a}=this.props,c=a.computedReportItem||"cost",i=a.computedReportItemValue||"total";return h().createElement(E.rN,{chartType:e,computedReportItem:c,computedReportItemValue:i,costLabel:this.getDetailsLabel(s.costKey),formatOptions:s.formatOptions,report:t,reportType:r,requestLabel:this.getDetailsLabel(s.requestKey),showTooltip:s.showTooltip,showUnits:s.showUnits,showUsageFirst:s.showUsageFirst,units:this.getUnits(),usageFormatOptions:s.usageFormatOptions,usageLabel:this.getDetailsLabel(s.usageKey)})},this.getDetailsLabel=e=>{const{intl:t}=this.props;return e?t.formatMessage(e):void 0},this.getDetailsLink=()=>{const{currentTab:e,details:t}=this.props;return t.viewAllPath?h().createElement(P.Link,{to:this.buildDetailsLink(e)},this.getDetailsLinkTitle(e)):null},this.getDetailsLinkTitle=e=>{const{getIdKeyForTab:t,intl:s}=this.props,r=t(e)||"";return s.formatMessage(l.Z.groupByAll,{value:r,count:2})},this.getFormattedUnits=()=>{const{intl:e,trend:t}=this.props,s=t.computedReportItem||"cost",r=this.getUnits();return s===C.LI.usage?e.formatMessage(l.Z.units,{units:(0,I.ZV)(r)}):e.formatMessage(l.Z.currencyUnits,{units:r})},this.getHorizontalLayout=()=>{const{containerAltHeight:e=j.containerAltHeight,chartAltHeight:t=j.chartAltHeight,currentReportFetchStatus:s,details:r}=this.props;return h().createElement(E.j0,{detailsLink:this.getDetailsLink(),status:s,tabs:this.getTabs(),title:this.getTitle()},this.getDetails(),this.getChart(e,t,r.adjustContainerHeight))},this.getTab=(e,t)=>{const{getIdKeyForTab:s,tabsReport:a,tabsReportFetchStatus:c}=this.props,i=s(e);return h().createElement(r.Tab,{eventKey:t,key:`${s(e)}-tab`,title:h().createElement(r.TabTitleText,null,this.getTabTitle(e))},h().createElement("div",{style:W.tabItems},h().createElement(E.mZ,{idKey:i,key:`${i}-items`,report:a,status:c},(({items:t})=>t.map((t=>this.getTabItem(e,t)))))))},this.getTabItem=(e,t)=>{const{availableTabs:s,getIdKeyForTab:r,tabsReport:a,topItems:c,trend:i}=this.props,{activeTabKey:o}=this.state,n=r(e),p=r(s[o]),l=i.computedReportItem||"cost",u=i.computedReportItemValue||"total";let d;const g=a&&a.meta&&a.meta.total;return l===C.LI.usage?g&&a.meta.total.usage&&(d=a.meta.total.usage.value):g&&a.meta.total[l]&&a.meta.total[l][u]&&(d=a.meta.total[l][u].value),p===n?h().createElement(E.EH,{formatOptions:c?c.formatOptions:void 0,key:`${t.id}-item`,label:t.label?t.label.toString():"",totalValue:d,units:this.getUnits(),value:t[l][u].value}):null},this.getTabs=()=>{const{availableTabs:e}=this.props;return h().createElement(r.Tabs,{isFilled:!0,activeKey:this.state.activeTabKey,onSelect:this.handleTabClick},e.map(((e,t)=>this.getTab(e,t))))},this.getTabTitle=e=>{const{getIdKeyForTab:t,intl:s}=this.props,r=t(e)||"";return s.formatMessage(l.Z.groupByTop,{value:r,count:2})},this.getTitle=()=>{const{intl:e,titleKey:t}=this.props;return e.formatMessage(t)},this.getUnits=()=>{const{currentReport:e,details:t,trend:s}=this.props,r=s.computedReportItem||"cost",a=s.computedReportItemValue||"total";if(t.units)return t.units;if(!e)return"";const c=e&&e.meta&&e.meta.total;return r===C.LI.usage?c&&e.meta.total.usage?e.meta.total.usage.units:void 0:c&&e.meta.total[r]&&e.meta.total[r][a]?e.meta.total[r][a].units:"USD"},this.getVerticalLayout=()=>{const{availableTabs:e,currentReportFetchStatus:t,details:s}=this.props;return h().createElement(E.iu,{detailsLink:this.getDetailsLink(),status:t,title:this.getTitle()},this.getDetails(),this.getChart(j.containerTrendHeight,j.chartHeight,s.adjustContainerHeight),Boolean(e)&&h().createElement("div",{style:W.tabs},this.getTabs()))},this.handleComparisonClick=e=>{this.setState({currentComparison:e})},this.handleTabClick=(e,t)=>{const{availableTabs:s,id:r,updateTab:a}=this.props;a(r,s[t]),this.setState({activeTabKey:t})}}componentDidMount(){const{availableTabs:e,fetchForecasts:t,fetchReports:s,id:r,trend:a,updateTab:c,widgetId:i}=this.props;e&&c(r,e[0]),s&&s(i),void 0!==a.computedForecastItem&&t(i)}componentDidUpdate(e){const{costType:t,currency:s,fetchReports:r,fetchForecasts:a,trend:c,widgetId:i}=this.props;e.costType===t&&e.currency===s||(r(i),void 0!==c.computedForecastItem&&a(i))}render(){const{details:e}=this.props;return e.showHorizontal?this.getHorizontalLayout():this.getVerticalLayout()}}const L=Q;var K=s(1156),M=s(81628),_=s(78898),J=s(79277),H=s(15920),k=s(22928),U=s(15829);const N=e=>{switch(e){case M.IC.services:return"service";case M.IC.accounts:return"account";case M.IC.regions:return"region"}},B=(0,K.X1)(((e,{widgetId:t})=>{const s=M.Cv.selectWidget(e,t),r=M.Cv.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign({},s),_.iJ.selectIsCurrencyFeatureEnabled(e)&&{currency:(0,U.zC)()}),{costType:(0,k.u)(),getIdKeyForTab:N,currentQuery:r.current,forecastQuery:r.forecast,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.current),currentReportFetchStatus:H.ZV.selectReportFetchStatus(e,s.reportPathsType,s.reportType,r.current),forecast:J.mj.selectForecast(e,s.forecastPathsType,s.forecastType,r.forecast),previousReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.previous),tabsReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.tabs),tabsReportFetchStatus:H.ZV.selectReportFetchStatus(e,s.reportPathsType,s.reportType,r.tabs)})})),X={fetchForecasts:M.Kf.v4,fetchReports:M.Kf.a4,updateTab:M.Kf.as},G=(0,d.ZP)((0,g.connect)(B,X)(L)),x=(0,K.X1)(((e,t)=>({DashboardWidget:G,selectWidgets:M.Cv.selectWidgets(e),widgets:M.Cv.selectCurrentWidgets(e)}))),q=(0,g.connect)(x,{})(F);var $=s(25566);const Y=e=>{switch(e){case $.e1.services:return"service";case $.e1.accounts:return"account";case $.e1.regions:return"region"}},ee=(0,K.X1)(((e,{widgetId:t})=>{const s=$.Hc.selectWidget(e,t),r=$.Hc.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign(Object.assign({},s),_.iJ.selectIsCurrencyFeatureEnabled(e)&&{currency:(0,U.zC)()}),_.iJ.selectIsCostTypeFeatureEnabled(e)&&{costType:(0,k.u)()}),{getIdKeyForTab:Y,currentQuery:r.current,forecastQuery:r.forecast,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.current),currentReportFetchStatus:H.ZV.selectReportFetchStatus(e,s.reportPathsType,s.reportType,r.current),forecast:J.mj.selectForecast(e,s.forecastPathsType,s.forecastType,r.forecast),previousReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.previous),tabsReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.tabs),tabsReportFetchStatus:H.ZV.selectReportFetchStatus(e,s.reportPathsType,s.reportType,r.tabs)})})),te={fetchForecasts:$.NA.v4,fetchReports:$.NA.a4,updateTab:$.NA.as},se=(0,d.ZP)((0,g.connect)(ee,te)(L)),re=(0,K.X1)(((e,t)=>({DashboardWidget:se,selectWidgets:$.Hc.selectWidgets(e),widgets:$.Hc.selectCurrentWidgets(e)}))),ae=(0,g.connect)(re,{})(F);var ce=s(25976);const ie=e=>{switch(e){case ce.vY.service_names:return"service_name";case ce.vY.subscription_guids:return"subscription_guid";case ce.vY.resource_locations:return"resource_location"}},oe=(0,K.X1)(((e,{widgetId:t})=>{const s=ce.rj.selectWidget(e,t),r=ce.rj.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign({},s),_.iJ.selectIsCurrencyFeatureEnabled(e)&&{currency:(0,U.zC)()}),{getIdKeyForTab:ie,currentQuery:r.current,forecastQuery:r.forecast,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.current),currentReportFetchStatus:H.ZV.selectReportFetchStatus(e,s.reportPathsType,s.reportType,r.current),forecast:J.mj.selectForecast(e,s.forecastPathsType,s.forecastType,r.forecast),previousReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.previous),tabsReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.tabs),tabsReportFetchStatus:H.ZV.selectReportFetchStatus(e,s.reportPathsType,s.reportType,r.tabs)})})),ne={fetchForecasts:ce.oc.v4,fetchReports:ce.oc.a4,updateTab:ce.oc.as},pe=(0,d.ZP)((0,g.connect)(oe,ne)(L)),le=(0,K.X1)(((e,t)=>({DashboardWidget:pe,selectWidgets:ce.rj.selectWidgets(e),widgets:ce.rj.selectCurrentWidgets(e)}))),ue=(0,g.connect)(le,{})(F);var he=s(76764);const de=e=>{switch(e){case he.Vp.service_names:return"service_name";case he.Vp.subscription_guids:return"subscription_guid";case he.Vp.resource_locations:return"resource_location"}},ge=(0,K.X1)(((e,{widgetId:t})=>{const s=he.MW.selectWidget(e,t),r=he.MW.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign({},s),_.iJ.selectIsCurrencyFeatureEnabled(e)&&{currency:(0,U.zC)()}),{getIdKeyForTab:de,currentQuery:r.current,forecastQuery:r.forecast,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.current),currentReportFetchStatus:H.ZV.selectReportFetchStatus(e,s.reportPathsType,s.reportType,r.current),forecast:J.mj.selectForecast(e,s.forecastPathsType,s.forecastType,r.forecast),previousReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.previous),tabsReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.tabs),tabsReportFetchStatus:H.ZV.selectReportFetchStatus(e,s.reportPathsType,s.reportType,r.tabs)})})),be={fetchForecasts:he._V.v4,fetchReports:he._V.a4,updateTab:he._V.as},me=(0,d.ZP)((0,g.connect)(ge,be)(L)),ve=(0,K.X1)(((e,t)=>({DashboardWidget:me,selectWidgets:he.MW.selectWidgets(e),widgets:he.MW.selectCurrentWidgets(e)}))),ye=(0,g.connect)(ve,{})(F);var Te=s(67776);const fe=e=>{switch(e){case Te.BP.gcpProjects:return"gcp_project";case Te.BP.regions:return"region";case Te.BP.services:return"service"}},Fe=(0,K.X1)(((e,{widgetId:t})=>{const s=Te.oS.selectWidget(e,t),r=Te.oS.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign({},s),_.iJ.selectIsCurrencyFeatureEnabled(e)&&{currency:(0,U.zC)()}),{getIdKeyForTab:fe,currentQuery:r.current,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.current),currentReportFetchStatus:H.ZV.selectReportFetchStatus(e,s.reportPathsType,s.reportType,r.current),forecast:J.mj.selectForecast(e,s.forecastPathsType,s.forecastType,r.forecast),previousReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.previous),tabsReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.tabs),tabsReportFetchStatus:H.ZV.selectReportFetchStatus(e,s.reportPathsType,s.reportType,r.tabs)})})),Re={fetchForecasts:Te.n5.v4,fetchReports:Te.n5.a4,updateTab:Te.n5.as},Oe=(0,d.ZP)((0,g.connect)(Fe,Re)(L)),Pe=(0,K.X1)(((e,t)=>({DashboardWidget:Oe,selectWidgets:Te.oS.selectWidgets(e),widgets:Te.oS.selectCurrentWidgets(e)}))),Ce=(0,g.connect)(Pe,{})(F);var Ee=s(99900);const Se=e=>{switch(e){case Ee.VN.gcpProjects:return"gcp_project";case Ee.VN.regions:return"region";case Ee.VN.services:return"service"}},Ie=(0,K.X1)(((e,{widgetId:t})=>{const s=Ee.FF.selectWidget(e,t),r=Ee.FF.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign({},s),_.iJ.selectIsCurrencyFeatureEnabled(e)&&{currency:(0,U.zC)()}),{getIdKeyForTab:Se,currentQuery:r.current,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.current),currentReportFetchStatus:H.ZV.selectReportFetchStatus(e,s.reportPathsType,s.reportType,r.current),forecast:J.mj.selectForecast(e,s.forecastPathsType,s.forecastType,r.forecast),previousReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.previous),tabsReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.tabs),tabsReportFetchStatus:H.ZV.selectReportFetchStatus(e,s.reportPathsType,s.reportType,r.tabs)})})),Ae={fetchForecasts:Ee.uM.v4,fetchReports:Ee.uM.a4,updateTab:Ee.uM.as},Ze=(0,d.ZP)((0,g.connect)(Ie,Ae)(L)),we=(0,K.X1)(((e,t)=>({DashboardWidget:Ze,selectWidgets:Ee.FF.selectWidgets(e),widgets:Ee.FF.selectCurrentWidgets(e)}))),Ve=(0,g.connect)(we,{})(F);var De=s(48788);const je=e=>{switch(e){case De.DA.services:return"service";case De.DA.projects:return"project";case De.DA.regions:return"region"}},We=(0,K.X1)(((e,{widgetId:t})=>{const s=De.Pi.selectWidget(e,t),r=De.Pi.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign({},s),_.iJ.selectIsCurrencyFeatureEnabled(e)&&{currency:(0,U.zC)()}),{getIdKeyForTab:je,currentQuery:r.current,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.current),currentReportFetchStatus:H.ZV.selectReportFetchStatus(e,s.reportPathsType,s.reportType,r.current),forecast:J.mj.selectForecast(e,s.forecastPathsType,s.forecastType,r.forecast),previousReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.previous),tabsReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.tabs),tabsReportFetchStatus:H.ZV.selectReportFetchStatus(e,s.reportPathsType,s.reportType,r.tabs)})})),ze={fetchForecasts:De.lj.v4,fetchReports:De.lj.a4,updateTab:De.lj.as},Qe=(0,d.ZP)((0,g.connect)(We,ze)(L)),Le=(0,K.X1)(((e,t)=>({DashboardWidget:Qe,selectWidgets:De.Pi.selectWidgets(e),widgets:De.Pi.selectCurrentWidgets(e)}))),Ke=(0,g.connect)(Le,{})(F);var Me=s(17568);const _e=e=>{switch(e){case Me.Qr.accounts:return"account";case Me.Qr.regions:return"region";case Me.Qr.services:return"service"}},Je=(0,K.X1)(((e,{widgetId:t})=>{const s=Me.qN.selectWidget(e,t),r=Me.qN.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign({},s),_.iJ.selectIsCurrencyFeatureEnabled(e)&&{currency:(0,U.zC)()}),{getIdKeyForTab:_e,currentQuery:r.current,forecastQuery:r.forecast,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.current),currentReportFetchStatus:H.ZV.selectReportFetchStatus(e,s.reportPathsType,s.reportType,r.current),forecast:J.mj.selectForecast(e,s.forecastPathsType,s.forecastType,r.forecast),previousReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.previous),tabsReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.tabs),tabsReportFetchStatus:H.ZV.selectReportFetchStatus(e,s.reportPathsType,s.reportType,r.tabs)})})),He={fetchForecasts:Me.BV.v4,fetchReports:Me.BV.a4,updateTab:Me.BV.as},ke=(0,d.ZP)((0,g.connect)(Je,He)(L)),Ue=(0,K.X1)(((e,t)=>({DashboardWidget:ke,selectWidgets:Me.qN.selectWidgets(e),widgets:Me.qN.selectCurrentWidgets(e)}))),Ne=(0,g.connect)(Ue,{})(F);var Be=s(60329);const Xe=e=>{switch(e){case Be.V7.clusters:return"cluster";case Be.V7.nodes:return"node";case Be.V7.projects:return"project"}},Ge=(0,K.X1)(((e,{widgetId:t})=>{const s=Be.nH.selectWidget(e,t),r=Be.nH.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign({},s),_.iJ.selectIsCurrencyFeatureEnabled(e)&&{currency:(0,U.zC)()}),{getIdKeyForTab:Xe,chartAltHeight:250,containerAltHeight:250,currentQuery:r.current,forecastQuery:r.forecast,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.current),currentReportFetchStatus:H.ZV.selectReportFetchStatus(e,s.reportPathsType,s.reportType,r.current),forecast:J.mj.selectForecast(e,s.forecastPathsType,s.forecastType,r.forecast),previousReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.previous),tabsReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.tabs),tabsReportFetchStatus:H.ZV.selectReportFetchStatus(e,s.reportPathsType,s.reportType,r.tabs)})})),xe={fetchForecasts:Be.U6.v4,fetchReports:Be.U6.a4,updateTab:Be.U6.as},qe=(0,d.ZP)((0,g.connect)(Ge,xe)(L)),$e=(0,K.X1)(((e,t)=>({DashboardWidget:qe,selectWidgets:Be.nH.selectWidgets(e),widgets:Be.nH.selectCurrentWidgets(e)}))),Ye=(0,g.connect)($e,{})(F);var et=s(67522);const tt=e=>{switch(e){case et.is.clusters:return"cluster";case et.is.nodes:return"node";case et.is.projects:return"project"}},st=(0,K.X1)(((e,{widgetId:t})=>{const s=et.fO.selectWidget(e,t),r=et.fO.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign({},s),_.iJ.selectIsCurrencyFeatureEnabled(e)&&{currency:(0,U.zC)()}),{getIdKeyForTab:tt,chartAltHeight:250,containerAltHeight:250,currentQuery:r.current,forecastQuery:r.forecast,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.current),currentReportFetchStatus:H.ZV.selectReportFetchStatus(e,s.reportPathsType,s.reportType,r.current),forecast:J.mj.selectForecast(e,s.forecastPathsType,s.forecastType,r.forecast),previousReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.previous),tabsReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.tabs),tabsReportFetchStatus:H.ZV.selectReportFetchStatus(e,s.reportPathsType,s.reportType,r.tabs)})})),rt={fetchForecasts:et.BV.v4,fetchReports:et.BV.a4,updateTab:et.BV.as},at=(0,d.ZP)((0,g.connect)(st,rt)(L)),ct=(0,K.X1)(((e,t)=>({DashboardWidget:at,selectWidgets:et.fO.selectWidgets(e),widgets:et.fO.selectCurrentWidgets(e)}))),it=(0,g.connect)(ct,{})(F);var ot=s(86482),nt=s(62331),pt=s(46919),lt=s(45087),ut=s(5842),ht=s(96351),dt=s(77392);const gt=e=>{switch(e){case dt.FY.product_services:return"product_service";case dt.FY.payer_tenant_ids:return"payer_tenant_id";case dt.FY.regions:return"region"}},bt=(0,K.X1)(((e,{widgetId:t})=>{const s=dt.$h.selectWidget(e,t),r=dt.$h.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign({},s),_.iJ.selectIsCurrencyFeatureEnabled(e)&&{currency:(0,U.zC)()}),{getIdKeyForTab:gt,currentQuery:r.current,forecastQuery:r.forecast,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.current),currentReportFetchStatus:H.ZV.selectReportFetchStatus(e,s.reportPathsType,s.reportType,r.current),forecast:J.mj.selectForecast(e,s.forecastPathsType,s.forecastType,r.forecast),previousReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.previous),tabsReport:H.ZV.selectReport(e,s.reportPathsType,s.reportType,r.tabs),tabsReportFetchStatus:H.ZV.selectReportFetchStatus(e,s.reportPathsType,s.reportType,r.tabs)})})),mt={fetchForecasts:dt.eb.v4,fetchReports:dt.eb.a4,updateTab:dt.eb.as},vt=(0,d.ZP)((0,g.connect)(bt,mt)(L)),yt=(0,K.X1)(((e,t)=>({DashboardWidget:vt,selectWidgets:dt.$h.selectWidgets(e),widgets:dt.$h.selectCurrentWidgets(e)}))),Tt=(0,g.connect)(yt,{})(F);var ft=s(49382),Ft=s(17918),Rt=s(98499);const Ot={date:{alignSelf:"center",flexGrow:1,textAlign:"end"},costType:{marginLeft:V.ZP.var},header:{backgroundColor:ft.ZP.var,padding:Rt.ZP.var},headerContent:{display:"flex",justifyContent:"space-between"},headerContentLeft:{display:"flex"},headerContentRight:{display:"flex"},infoIcon:{fontSize:Ft.ZP.value},infoTitle:{fontWeight:"bold"},main:{padding:Rt.ZP.value},tabs:{backgroundColor:ft.ZP.var,paddingBottom:Rt.ZP.var,paddingTop:Rt.ZP.var}};var Pt,Ct,Et,St;!function(e){e.aws="aws",e.awsOcp="aws_ocp",e.azure="azure",e.azureOcp="azure_ocp",e.gcp="gcp",e.gcpOcp="gcp_ocp",e.ibm="ibm",e.ibmOcp="ibm_ocp",e.oci="oci",e.ocpCloud="ocp_cloud"}(Pt||(Pt={})),function(e){e.ocp="ocp"}(Ct||(Ct={})),function(e){e.infrastructure="infrastructure",e.ocp="ocp",e.rhel="rhel"}(Et||(Et={})),function(e){e.rhel="rhel"}(St||(St={}));const It=e=>{switch(e){case Et.infrastructure:return"infrastructure";case Et.ocp:return"ocp";case Et.rhel:return"rhel"}};class At extends h().Component{constructor(){super(...arguments),this.defaultState={activeTabKey:0},this.state=Object.assign({},this.defaultState),this.getAvailableTabs=()=>{const{isFinsightsFeatureEnabled:e}=this.props,t=[],s=this.isAwsAvailable()||this.isAzureAvailable()||this.isGcpAvailable()||this.isIbmAvailable()||this.isOciAvailable()||this.isOcpCloudAvailable()?[{contentRef:h().createRef(),tab:Et.infrastructure}]:void 0,r=this.isOcpAvailable()?[{contentRef:h().createRef(),tab:Et.ocp}]:void 0,a=this.isRhelAvailable()?[{contentRef:h().createRef(),tab:Et.rhel}]:void 0;return e?(s&&t.push(...s),a&&t.push(...a),r&&t.push(...r)):(r&&t.push(...r),s&&t.push(...s)),t},this.getCostType=()=>{const{costType:e,isCostTypeFeatureEnabled:t}=this.props,{currentInfrastructurePerspective:s,currentOcpPerspective:r}=this.state,a=this.getCurrentTab()===Et.infrastructure?s:r;return a===Pt.aws||a===Pt.awsOcp&&t?h().createElement("div",{style:Ot.costType},h().createElement(T.T,{costType:e,onSelect:this.handleCostTypeSelected})):null},this.getCurrency=()=>{const{currency:e}=this.props;return h().createElement(b.F,{onSelect:this.handleCurrencySelected,currency:e})},this.getCurrentTab=()=>{const{isFinsightsFeatureEnabled:e}=this.props,{activeTabKey:t}=this.state,s=this.isAwsAvailable(),r=this.isAzureAvailable(),a=this.isOciAvailable(),c=this.isGcpAvailable(),i=this.isIbmAvailable(),o=this.isOcpAvailable(),n=this.isOcpCloudAvailable(),p=this.isRhelAvailable(),l=s||r||a||c||i||n,u=l&&!o&&!p,h=p&&!l&&!o;if(o&&!l&&!p)return Et.ocp;if(u)return Et.infrastructure;if(h)return Et.rhel;if(e)switch(t){case 0:return Et.infrastructure;case 1:return Et.rhel;case 2:return Et.ocp}switch(t){case 0:return Et.ocp;case 1:return Et.infrastructure}},this.getDefaultInfrastructurePerspective=()=>{const{perspective:e}=this.props;switch(e){case Pt.aws:case Pt.awsOcp:case Pt.azure:case Pt.oci:case Pt.azureOcp:case Pt.gcp:case Pt.gcpOcp:case Pt.ibm:case Pt.ibmOcp:case Pt.ocpCloud:return e}return this.isOcpCloudAvailable()?Pt.ocpCloud:this.isAwsAvailable()?Pt.aws:this.isAzureAvailable()?Pt.azure:this.isOciAvailable()?Pt.oci:this.isGcpAvailable()?Pt.gcp:this.isIbmAvailable()?Pt.ibm:void 0},this.getDefaultOcpPerspective=()=>{const{ocpProviders:e,perspective:t,userAccess:s}=this.props;return t===Ct.ocp?t:(0,ht.mn)(s,e)?Ct.ocp:void 0},this.getDefaultRhelPerspective=()=>{const{perspective:e,rhelProviders:t,userAccess:s}=this.props;return e===St.rhel?e:(0,ht.ZC)(s,t)?St.rhel:void 0},this.getPerspective=()=>{const{isIbmFeatureEnabled:e,isOciFeatureEnabled:t}=this.props,{currentInfrastructurePerspective:s,currentOcpPerspective:r,currentRhelPerspective:a}=this.state,c=this.isAwsAvailable(),i=this.isAzureAvailable(),o=this.isGcpAvailable(),n=this.isIbmAvailable(),p=this.isOciAvailable(),l=this.isOcpAvailable(),u=this.isRhelAvailable();if(!(c||i||o||n||p||l||u))return null;let d;const g=this.getCurrentTab();switch(g){case Et.infrastructure:d=s;break;case Et.ocp:d=r;break;case Et.rhel:d=a}return h().createElement(f.X,{currentItem:d,hasAws:c,hasAwsOcp:this.isAwsOcpAvailable(),hasAzure:i,hasAzureOcp:this.isAzureOcpAvailable(),hasGcp:o,hasGcpOcp:this.isGcpOcpAvailable(),hasIbm:n,hasIbmOcp:this.isIbmOcpAvailable(),hasOci:p,hasOcp:l,hasOcpCloud:this.isOcpCloudAvailable(),hasRhel:u,isIbmFeatureEnabled:e,isInfrastructureTab:Et.infrastructure===g,isOciFeatureEnabled:t,isRhelTab:Et.rhel===g,onSelected:this.handlePerspectiveSelected})},this.getRouteForQuery=e=>{const{router:t}=this.props;return`${t.location.pathname}?${function(e){return i.IV(e)}(e)}`},this.getTab=(e,t,s)=>h().createElement(r.Tab,{eventKey:s,key:`${It(e)}-tab`,tabContentId:`tab-${s}`,tabContentRef:t,title:h().createElement(r.TabTitleText,null,this.getTabTitle(e))}),this.getTabContent=e=>e.map(((e,t)=>h().createElement(r.TabContent,{eventKey:t,key:`${It(e.tab)}-tabContent`,id:`tab-${t}`,ref:e.contentRef},this.getTabItem(e.tab,t)))),this.getTabItem=(e,t)=>{const{awsProviders:s,azureProviders:r,ociProviders:a,costType:c,currency:i,gcpProviders:o,ibmProviders:n,ocpProviders:p,rhelProviders:l}=this.props,{activeTabKey:u,currentInfrastructurePerspective:d,currentOcpPerspective:g,currentRhelPerspective:b}=this.state,m=h().createElement(h().Fragment,null),y=h().createElement(v.Z,{showReload:!1});if(u!==t)return m;const T=It(e);if(T===Et.infrastructure)return d===Pt.ocpCloud?(0,ot.Bj)(s,p)||(0,ot.Bj)(r,p)||(0,ot.Bj)(o,p)||(0,ot.Bj)(n,p)?h().createElement(Ne,{currency:i}):y:d===Pt.aws?(0,ot.g8)(s)||(0,ot.rL)(s)?h().createElement(q,{costType:c}):y:d===Pt.awsOcp?(0,ot.at)(s,p)||(0,ot.D2)(s,p)?h().createElement(ae,{currency:i}):y:d===Pt.azure?(0,ot.g8)(r)||(0,ot.rL)(r)?h().createElement(ue,{currency:i}):y:d===Pt.azureOcp?(0,ot.at)(r,p)||(0,ot.D2)(r,p)?h().createElement(ye,{currency:i}):y:d===Pt.gcp?(0,ot.g8)(o)||(0,ot.rL)(o)?h().createElement(Ce,{currency:i}):y:d===Pt.gcpOcp?(0,ot.at)(o,p)||(0,ot.D2)(o,p)?h().createElement(Ve,{currency:i}):y:d===Pt.ibm?(0,ot.g8)(n)||(0,ot.rL)(n)?h().createElement(Ke,{currency:i}):y:d===Pt.oci&&((0,ot.g8)(a)||(0,ot.rL)(a))?h().createElement(Tt,{currency:i}):y;if(T===Et.ocp){const e=(0,ot.g8)(p)||(0,ot.rL)(p);return g===Ct.ocp&&e?h().createElement(Ye,{currency:i}):y}if(T===Et.rhel){const e=(0,ot.g8)(l)||(0,ot.rL)(l);return b===St.rhel&&e?h().createElement(it,{currency:i}):y}return m},this.getTabs=e=>{const{activeTabKey:t}=this.state;return h().createElement(r.Tabs,{activeKey:t,onSelect:this.handleTabClick},e.map(((e,t)=>this.getTab(e.tab,e.contentRef,t))))},this.getTabTitle=e=>{const{intl:t,isFinsightsFeatureEnabled:s}=this.props;return e===Et.infrastructure?s?t.formatMessage(l.Z.summary):t.formatMessage(l.Z.infrastructure):e===Et.ocp?t.formatMessage(l.Z.openShift):e===Et.rhel?t.formatMessage(l.Z.rhel):void 0},this.handleCostTypeSelected=()=>{const{query:e,router:t}=this.props,s=Object.assign({},JSON.parse(JSON.stringify(e)));t.navigate(this.getRouteForQuery(s),{replace:!0})},this.handleCurrencySelected=()=>{const{router:e,query:t}=this.props,s=Object.assign({},JSON.parse(JSON.stringify(t)));e.navigate(this.getRouteForQuery(s),{replace:!0})},this.handlePerspectiveSelected=e=>{const{query:t,router:s}=this.props,r=this.getCurrentTab();this.setState(Object.assign(Object.assign({},r===Et.infrastructure&&{currentInfrastructurePerspective:e}),r===Et.ocp&&{currentOcpPerspective:e}),(()=>{const r=Object.assign(Object.assign({},JSON.parse(JSON.stringify(t))),{perspective:e});s.navigate(this.getRouteForQuery(r),{replace:!0})}))},this.handleTabClick=(e,t)=>{const{query:s,router:r}=this.props,{activeTabKey:a}=this.state;a!==t&&this.setState({activeTabKey:t},(()=>{const e=Object.assign(Object.assign({},JSON.parse(JSON.stringify(s))),{tabKey:t});r.navigate(this.getRouteForQuery(e),{replace:!0})}))},this.isAwsAvailable=()=>{const{awsProviders:e,userAccess:t}=this.props;return(0,ht.n9)(t,e)},this.isAwsOcpAvailable=()=>{const{awsProviders:e,ocpProviders:t,userAccess:s}=this.props;return(0,ht.KT)(s)&&(0,ot.JY)(e,t)},this.isAzureAvailable=()=>{const{azureProviders:e,userAccess:t}=this.props;return(0,ht.hn)(t,e)},this.isAzureOcpAvailable=()=>{const{azureProviders:e,ocpProviders:t,userAccess:s}=this.props;return(0,ht.FW)(s)&&(0,ot.JY)(e,t)},this.isGcpAvailable=()=>{const{gcpProviders:e,userAccess:t}=this.props;return(0,ht.FE)(t,e)},this.isGcpOcpAvailable=()=>{const{gcpProviders:e,ocpProviders:t,userAccess:s}=this.props;return(0,ht.Sv)(s)&&(0,ot.JY)(e,t)},this.isIbmAvailable=()=>{const{ibmProviders:e,userAccess:t}=this.props;return(0,ht.Es)(t,e)},this.isIbmOcpAvailable=()=>{const{ibmProviders:e,ocpProviders:t,userAccess:s}=this.props;return(0,ht.tt)(s)&&(0,ot.JY)(e,t)},this.isOciAvailable=()=>{const{ociProviders:e,userAccess:t}=this.props;return(0,ht.HC)(t,e)},this.isOcpAvailable=()=>{const{ocpProviders:e,userAccess:t}=this.props;return(0,ht.mn)(t,e)},this.isOcpCloudAvailable=()=>{const e=this.isAwsOcpAvailable(),t=this.isAzureOcpAvailable(),s=this.isGcpOcpAvailable(),r=this.isIbmOcpAvailable();return e||t||s||r},this.isRhelAvailable=()=>{const{isFinsightsFeatureEnabled:e,rhelProviders:t,userAccess:s}=this.props;return e&&(0,ht.ZC)(s,t)}}componentDidMount(){const{tabKey:e}=this.props;this.setState({activeTabKey:e,currentInfrastructurePerspective:this.getDefaultInfrastructurePerspective(),currentOcpPerspective:this.getDefaultOcpPerspective(),currentRhelPerspective:this.getDefaultRhelPerspective()})}componentDidUpdate(e){const{providers:t,tabKey:s,userAccess:r}=this.props;e.userAccess===r&&e.providers===t||this.setState({activeTabKey:s,currentInfrastructurePerspective:this.getDefaultInfrastructurePerspective(),currentOcpPerspective:this.getDefaultOcpPerspective(),currentRhelPerspective:this.getDefaultRhelPerspective()})}render(){const{providersFetchStatus:e,intl:t,isCurrencyFeatureEnabled:s,isFinsightsFeatureEnabled:c,isIbmFeatureEnabled:i,isOciFeatureEnabled:o,userAccessFetchStatus:n}=this.props,p=!(e!==K.iF.complete||this.isAwsAvailable()||this.isAzureAvailable()||this.isGcpAvailable()||this.isIbmAvailable()||this.isOciAvailable()||this.isOcpAvailable()||this.isRhelAvailable()),u=e===K.iF.inProgress||n===K.iF.inProgress,d=this.getAvailableTabs(),g=t.formatMessage(l.Z.overviewTitle);return u?h().createElement(m.g,{title:g}):p?h().createElement(y.L,{title:g}):h().createElement(h().Fragment,null,h().createElement("header",{style:Ot.header},h().createElement("div",{style:Ot.headerContent},h().createElement(r.Title,{headingLevel:"h1",size:r.TitleSizes["2xl"]},g,h().createElement("span",{style:Ot.infoIcon},h().createElement(r.Popover,{"aria-label":t.formatMessage(l.Z.overviewInfoArialLabel),enableFlip:!0,bodyContent:h().createElement(h().Fragment,null,h().createElement("p",{style:Ot.infoTitle},t.formatMessage(l.Z.openShiftCloudInfrastructure)),h().createElement("p",null,t.formatMessage(l.Z.openShiftCloudInfrastructureDesc)),h().createElement("br",null),h().createElement("p",{style:Ot.infoTitle},t.formatMessage(l.Z.openShift)),h().createElement("p",null,t.formatMessage(l.Z.openShiftDesc)),h().createElement("br",null),c&&h().createElement(h().Fragment,null,h().createElement("p",{style:Ot.infoTitle},t.formatMessage(l.Z.rhel)),h().createElement("p",null,t.formatMessage(l.Z.rhelDesc)),h().createElement("br",null)),h().createElement("p",{style:Ot.infoTitle},t.formatMessage(l.Z.aws)),h().createElement("p",null,t.formatMessage(l.Z.awsDesc)),h().createElement("br",null),h().createElement("p",{style:Ot.infoTitle},t.formatMessage(l.Z.gcp)),h().createElement("p",null,t.formatMessage(l.Z.gcpDesc)),i&&h().createElement(h().Fragment,null,h().createElement("br",null),h().createElement("p",{style:Ot.infoTitle},t.formatMessage(l.Z.ibm)),h().createElement("p",null,t.formatMessage(l.Z.ibmDesc))),h().createElement("br",null),h().createElement("p",{style:Ot.infoTitle},t.formatMessage(l.Z.azure)),h().createElement("p",null,t.formatMessage(l.Z.azureDesc)),o&&h().createElement(h().Fragment,null,h().createElement("br",null),h().createElement("p",{style:Ot.infoTitle},t.formatMessage(l.Z.oci)),h().createElement("p",null,t.formatMessage(l.Z.ociDesc))))},h().createElement(r.Button,{"aria-label":t.formatMessage(l.Z.overviewInfoButtonArialLabel),variant:r.ButtonVariant.plain},h().createElement(a.iC,null))))),h().createElement("div",{style:Ot.headerContentRight},s&&this.getCurrency())),h().createElement("div",{style:Ot.tabs},this.getTabs(d)),h().createElement("div",{style:Ot.headerContent},h().createElement("div",{style:Ot.headerContentLeft},this.getPerspective(),this.getCostType()),h().createElement("div",{style:Ot.date},(0,lt.J4)()))),h().createElement("div",{style:Ot.main},this.getTabContent(d)))}}const Zt=(0,K.X1)(((e,{router:t})=>{const s=function(e){return i.mB(e)}(t.location.search),r=s.tabKey&&!Number.isNaN(s.tabKey)?Number(s.tabKey):0,a=s.perspective,l=_.iJ.selectIsCurrencyFeatureEnabled(e),u=l?(0,U.zC)():void 0,h=_.iJ.selectIsCostTypeFeatureEnabled(e),d=a===Pt.aws||a===Pt.awsOcp&&h?(0,k.u)():void 0,g=Object.assign({tabKey:r},a&&{perspective:a}),b=(0,o.H)(nt.NT),m=nt.aX.selectProviders(e,c.l.all,b),v=nt.aX.selectProvidersError(e,c.l.all,b),y=nt.aX.selectProvidersFetchStatus(e,c.l.all,b),T=(0,n.T)(pt.QR),f=pt.JO.selectUserAccess(e,p.n.all,T),F=pt.JO.selectUserAccessError(e,p.n.all,T),R=pt.JO.selectUserAccessFetchStatus(e,p.n.all,T);return{awsProviders:(0,ot.BV)(m,c.l.aws),azureProviders:(0,ot.BV)(m,c.l.azure),costType:d,currency:u,gcpProviders:(0,ot.BV)(m,c.l.gcp),ibmProviders:(0,ot.BV)(m,c.l.ibm),isCostTypeFeatureEnabled:h,isCurrencyFeatureEnabled:l,isFinsightsFeatureEnabled:_.iJ.selectIsFinsightsFeatureEnabled(e),isIbmFeatureEnabled:_.iJ.selectIsIbmFeatureEnabled(e),isOciFeatureEnabled:_.iJ.selectIsOciFeatureEnabled(e),ociProviders:(0,ot.BV)(m,c.l.oci),ocpProviders:(0,ot.BV)(m,c.l.ocp),providers:m,providersError:v,providersFetchStatus:y,perspective:a,query:g,rhelProviders:(0,ot.BV)(m,c.l.rhel),tabKey:r,userAccess:f,userAccessError:F,userAccessFetchStatus:R,userAccessQueryString:T}})),wt=(0,d.ZP)((0,ut.E)((0,g.connect)(Zt,{})(At)))},96351:(e,t,s)=>{s.d(t,{Es:()=>m,F4:()=>F,FE:()=>g,FW:()=>n,HC:()=>u,KT:()=>i,Rt:()=>v,Sv:()=>d,Xd:()=>l,ZC:()=>f,hn:()=>p,mn:()=>y,n9:()=>o,ot:()=>h,tt:()=>b,yY:()=>T});var r=s(91577);const a=(e,t)=>{let s=!1;if(e&&Array.isArray(e.data)){const r=e.data.find((e=>e.type===t));s=r&&r.access}else s=e&&!0===e.data;return s},c=e=>{let t=!1;return e&&e.meta&&(t=e.meta.count>0),t},i=e=>a(e,r.n.aws),o=(e,t)=>i(e)&&c(t),n=e=>a(e,r.n.azure),p=(e,t)=>n(e)&&c(t),l=e=>a(e,r.n.oci),u=(e,t)=>l(e)&&c(t),h=e=>a(e,r.n.cost_model),d=e=>a(e,r.n.gcp),g=(e,t)=>a(e,r.n.gcp)&&c(t),b=e=>d(e),m=(e,t)=>b(e)&&c(t),v=e=>a(e,r.n.ocp),y=(e,t)=>v(e)&&c(t),T=e=>a(e,r.n.rhel),f=(e,t)=>T(e)&&c(t),F=e=>a(e,r.n.ros)}}]);
//# sourceMappingURL=../sourcemaps/overview.38515b1b282d378d85e4488992bab6fb.js.map
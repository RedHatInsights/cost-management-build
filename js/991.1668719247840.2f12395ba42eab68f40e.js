"use strict";(self.webpackChunkkoku_ui=self.webpackChunkkoku_ui||[]).push([[991],{55672:(e,t,r)=>{r.d(t,{J:()=>a.Z});var a=r(83819)},47947:(e,t,r)=>{r.d(t,{W:()=>c});var a=r(14748),s=r(80123),o=r(39173),i=r(15984),l=r(92950),n=r.n(l);const c=(0,r(16550).EN)((({title:e})=>n().createElement(n().Fragment,null,e&&n().createElement(s.Z,null,n().createElement(o.Z,{title:e})),n().createElement(a.Z,null,n().createElement(i.Z,null)))))},40493:(e,t,r)=>{r.d(t,{X:()=>J});var a=r(69726),s=r(39333),o=r(95147),i=r(97027),l=r(44439),n=r(92950),c=r.n(n),p=r(74806),u=r(78741),d=r(1156),h=r(90303),g=r(78898),y=r(32412),m=r(48196),b=r(43789);const v={alert:{marginBottom:y.ZP.var},form:{marginLeft:m.ZP.var},modal:{input:{marginRight:b.ZP.var},ul:{marginLeft:m.ZP.var}},title:{marginBottom:y.ZP.var}};var f=r(6456),B=r(4135),S=r(43703),O=r(35823),_=r.n(O),T=r(30467),G=r(77789),C=r(22928),x=r(45087),E=r(64703);const M=f.C.cost;class k extends c().Component{constructor(e,t){super(e,t),this.defaultState={fetchReportClicked:!1},this.state=Object.assign({},this.defaultState),this.getExport=()=>{const{report:e,reportFetchStatus:t}=this.props;e&&t===d.iF.complete&&(_()(e.data,this.getFileName(),"text/csv"),this.handleClose())},this.getFileName=()=>{const{endDate:e,groupBy:t,intl:r,reportPathsType:a,resolution:o,startDate:l}=this.props;return`${r.formatMessage(i.Z.exportFileName,{endDate:e,provider:a,groupBy:-1!==t.indexOf(s.P)?"tag":t,resolution:o,startDate:l})}.csv`},this.handleClose=()=>{const{reportError:e}=this.props;this.setState(Object.assign({},this.defaultState),(()=>{e||this.props.onClose(!1)}))},this.handleFetchReport=()=>{const{exportReport:e,isExportsFeatureEnabled:t,queryString:r,reportPathsType:a}=this.props;e(a,M,r,t),this.setState({fetchReportClicked:!0},(()=>{this.getExport()}))}}componentDidUpdate(e){const{report:t,reportError:r}=this.props,{fetchReportClicked:a}=this.state;e.report!==t&&a&&this.getExport(),r&&this.props.onError(r)}render(){const{disabled:e,intl:t,reportFetchStatus:r}=this.props;return c().createElement(a.Button,{ouiaId:"submit-btn",isDisabled:e||r===d.iF.inProgress,key:"confirm",onClick:this.handleFetchReport,variant:a.ButtonVariant.primary},t.formatMessage(i.Z.exportGenerate))}}const Z=(0,d.X1)(((e,t)=>{const{groupBy:r,isAllItems:a,items:i,perspective:l,query:n,reportPathsType:c,resolution:p,timeScope:u}=t,d=g.iJ.selectIsCostTypeFeatureEnabled(e),y=l===T.cW.aws||l===T.cW.awsOcp&&d?(0,C.u)():void 0,m=g.iJ.selectIsCurrencyFeatureEnabled(e)?(0,E.zC)():void 0;let{end_date:b,start_date:v}=(0,G.H7)(n);if(!n.dateRangeType){const e="previous"===u,t=(0,x.x2)();e&&t.setMonth(t.getMonth()-1),b=(0,o.Z)(e?(0,B.Z)(t):t,"yyyy-MM-dd"),v=(0,o.Z)((0,S.Z)(t),"yyyy-MM-dd")}const f=(()=>{const e=Object.assign(Object.assign({},JSON.parse(JSON.stringify(n))),{filter:{limit:void 0,offset:void 0,resolution:p||void 0},filter_by:{},limit:0,order_by:void 0,perspective:void 0,dateRangeType:void 0,delta:void 0,cost_type:y,currency:m,start_date:v,end_date:b});if(n.filter_by)for(const t of Object.keys(n.filter_by))void 0===e.filter_by[t]&&(e.filter_by[t]=[]),e.filter_by[t].push(n.filter_by[t]);if(a)r===s.dV&&(void 0===e.filter_by[s.dV]&&(e.filter_by[s.dV]=[]),e.filter_by[s.dV].push(n.group_by[s.dV]));else if(r===s.dV)for(const t of i){const r="organizational_unit"===t.type?s.dV:t.type;void 0===e.filter_by[r]&&(e.filter_by[r]=[]),e.filter_by[r].push(t.id)}else for(const t of i)void 0===e.filter_by[r]&&(e.filter_by[r]=[]),e.filter_by[r].push(t.id);return(0,s.pm)(e)})(),O=h.$S.selectExport(e,c,M,f),_=h.$S.selectExportError(e,c,M,f),k=h.$S.selectExportFetchStatus(e,c,M,f);return{endDate:b,isExportsFeatureEnabled:g.iJ.selectIsExportsFeatureEnabled(e),queryString:f,report:O,reportError:_,reportFetchStatus:k,startDate:v}})),R={exportReport:h.HY.Hy},w=(0,u.connect)(Z,R)(k),F=(0,p.ZP)(w),I=[{label:i.Z.exportFormatType,value:"csv"},{label:i.Z.exportFormatType,value:"json"}],P=[{label:i.Z.exportResolution,value:"daily"},{label:i.Z.exportResolution,value:"monthly"}],D=[{label:i.Z.exportTimeScope,value:"current"},{label:i.Z.exportTimeScope,value:"previous"}];class V extends c().Component{constructor(e,t){super(e,t),this.defaultState={error:void 0,formatType:"csv",timeScope:"current",resolution:this.props.resolution||"monthly"},this.state=Object.assign({},this.defaultState),this.handleClose=()=>{this.setState(Object.assign({},this.defaultState),(()=>{this.props.onClose(!1)}))},this.handleError=e=>{this.setState({error:e})},this.handleMonthChange=(e,t)=>{this.setState({timeScope:t.currentTarget.value})},this.handleNameChange=(e,t)=>{this.setState({name:t.currentTarget.value})},this.handleResolutionChange=(e,t)=>{this.setState({resolution:t.currentTarget.value})},this.handleTypeChange=(e,t)=>{this.setState({formatType:t.currentTarget.value})},this.nameValidator=e=>0===e.trim().length?i.Z.exportNameRequired:e.length>50?i.Z.exportNameTooLong:void 0,this.handleMonthChange=this.handleMonthChange.bind(this),this.handleResolutionChange=this.handleResolutionChange.bind(this),this.handleTypeChange=this.handleTypeChange.bind(this)}render(){const{count:e=0,groupBy:t,intl:r,isAllItems:n,isExportsFeatureEnabled:p,items:u,perspective:d,query:h,reportPathsType:g,showAggregateType:y=!0,showFormatType:m=!0,showTimeScope:b=!0}=this.props,{error:f,formatType:B,name:S,resolution:O,timeScope:_}=this.state;let T=[...u];this.props.isOpen&&(T=u&&0===u.length&&n?[{label:r.formatMessage(i.Z.exportAll)}]:(0,l.orderBy)(T,["label"],["asc"]));let G=r.formatMessage(i.Z.exportSelected,{groupBy:t,count:e});-1!==t.indexOf(s.P)&&(G=r.formatMessage(i.Z.exportSelected,{groupBy:"tag",count:e}));const C=new Date,x=(new Date).setMonth(C.getMonth()-1),E=(0,o.Z)(C,"MMMM yyyy"),M=(0,o.Z)(x-1,"MMMM yyyy"),k=void 0!==S?S:r.formatMessage(i.Z.exportName,{provider:g,groupBy:-1!==t.indexOf(s.P)?"tag":t}),Z=p?this.nameValidator(k):void 0,R=Z?"error":"default";return c().createElement(a.Modal,{style:v.modal,isOpen:this.props.isOpen,onClose:this.handleClose,title:r.formatMessage(i.Z.exportTitle),variant:"small",actions:[c().createElement(F,{disabled:"error"===R,formatType:B,groupBy:t,isAllItems:n,items:u,key:"confirm",timeScope:b?_:void 0,onClose:this.handleClose,onError:this.handleError,perspective:d,name:k,query:h,reportPathsType:g,resolution:O}),c().createElement(a.Button,{ouiaId:"cancel-btn",key:"cancel",onClick:this.handleClose,variant:a.ButtonVariant.link},r.formatMessage(i.Z.cancel))]},f&&c().createElement(a.Alert,{variant:"danger",style:v.alert,title:r.formatMessage(i.Z.exportError)}),c().createElement("div",{style:v.title},p?c().createElement("span",null,r.formatMessage(i.Z.exportDesc,{value:c().createElement("b",null,r.formatMessage(i.Z.exportsTitle))})):c().createElement("span",null,r.formatMessage(i.Z.exportHeading,{groupBy:t}))),c().createElement(a.Form,{style:v.form},c().createElement(a.Grid,{hasGutter:!0,md:6},p&&c().createElement(a.GridItem,{span:12},c().createElement(a.FormGroup,{fieldId:"exportName",helperTextInvalid:Z?r.formatMessage(Z):void 0,label:r.formatMessage(i.Z.names,{count:1}),isRequired:!0,validated:R},c().createElement(a.TextInput,{isRequired:!0,type:"text",id:"exportName",name:"exportName",value:k,onChange:this.handleNameChange}))),y&&c().createElement(a.FormGroup,{fieldId:"aggregate-type",label:r.formatMessage(i.Z.exportAggregateType),isRequired:!0},c().createElement(c().Fragment,null,P.map(((e,t)=>c().createElement(a.Radio,{key:t,id:`resolution-${t}`,isValid:void 0!==e.value,label:r.formatMessage(e.label,{value:e.value}),value:e.value,checked:O===e.value,name:"resolution",onChange:this.handleResolutionChange,"aria-label":r.formatMessage(e.label,{value:e.value})}))))),b&&c().createElement(a.FormGroup,{fieldId:"timeScope",label:r.formatMessage(i.Z.exportTimeScopeTitle),isRequired:!0},c().createElement(c().Fragment,null,D.map(((e,t)=>c().createElement(a.Radio,{key:t,id:`timeScope-${t}`,isValid:void 0!==e.value,label:r.formatMessage(e.label,{date:"previous"===e.value?M:E,value:e.value}),value:e.value,checked:_===e.value,name:"timeScope",onChange:this.handleMonthChange,"aria-label":r.formatMessage(e.label,{date:"previous"===e.value?M:E,value:e.value})}))))),m&&p&&c().createElement(a.GridItem,{span:12},c().createElement(a.FormGroup,{fieldId:"formatType",label:r.formatMessage(i.Z.exportFormatTypeTitle),isRequired:!0},I.map(((e,t)=>c().createElement(a.Radio,{key:t,id:`formatType-${t}`,isValid:void 0!==e.value,label:r.formatMessage(e.label,{value:e.value}),value:e.value,checked:B===e.value,name:"formatType",onChange:this.handleTypeChange,"aria-label":r.formatMessage(e.label,{value:e.value})}))))),c().createElement(a.GridItem,{span:12},c().createElement(a.FormGroup,{label:G,fieldId:"selectedLabels"},c().createElement("ul",null,T.map(((e,t)=>c().createElement("li",{key:t},e.label)))))))))}}const j=(0,d.X1)((e=>({isExportsFeatureEnabled:g.iJ.selectIsExportsFeatureEnabled(e)}))),z={exportReport:h.HY.Hy},N=(0,u.connect)(j,z)(V),J=(0,p.ZP)(N)},87560:(e,t,r)=>{r.d(t,{X:()=>k});var a=r(69726),s=r(96740),o=r(39333),i=r(50081),l=r(97027),n=r(92950),c=r.n(n),p=r(74806),u=r(78741),d=r(77789),h=r(1156),g=r(98449),y=r(81278);const m={groupBySelector:{display:"flex",alignItems:"center"},groupBySelectorLabel:{marginBottom:0,marginRight:r(32412).ZP.var,whiteSpace:"nowrap"}};class b extends c().Component{constructor(e){super(e),this.defaultState={defaultItem:this.props.groupBy||this.props.options[0].value,isGroupByOpen:!1},this.state=Object.assign({},this.defaultState),this.getCurrentGroupBy=()=>{const{getIdKeyForGroupBy:e}=this.props,t=(0,o.mB)(location.search),r=t&&t.group_by?Object.keys(t.group_by):[];let a=e(t.group_by);for(const e of r)if(-1!==e.indexOf(o.dV)){a=t.group_by[o.dV];break}return a},this.getGroupByItems=()=>{const{orgReport:e}=this.props;if(!e||!e.data)return[];const t=e.data.sort(((e,t)=>e[o.iP]<t[o.iP]?-1:e[o.iP]>t[o.iP]?1:0)),r=t.filter((e=>0===e.level)),a=t.filter((e=>0!==e.level));return r.map((e=>{const r=t.find((t=>t[o.dV]===e[o.dV]));a.unshift(r)})),a.map((e=>({id:e[o.dV],toString:()=>e[o.iP]})))},this.handleGroupByClear=()=>{this.setState({currentItem:void 0})},this.handleGroupBySelected=(e,t)=>{const{onSelected:r}=this.props;this.setState({currentItem:t.id,isGroupByOpen:!1}),r&&r(`${o.dV}${t.id}`)},this.handleGroupByToggle=e=>{this.setState({isGroupByOpen:e})},this.handleGroupByClear=this.handleGroupByClear.bind(this),this.handleGroupBySelected=this.handleGroupBySelected.bind(this),this.handleGroupByToggle=this.handleGroupByToggle.bind(this)}componentDidMount(){this.setState({currentItem:this.getCurrentGroupBy()})}componentDidUpdate(e){const{groupBy:t}=this.props;e.groupBy!==t&&this.setState({currentItem:this.getCurrentGroupBy()})}render(){const{isDisabled:e=!1,intl:t}=this.props,{currentItem:r,isGroupByOpen:s}=this.state,o=this.getGroupByItems(),i=o.find((e=>e.id===r));return c().createElement("div",{style:m.groupBySelector},c().createElement(a.Select,{"aria-label":t.formatMessage(l.Z.filterByOrgUnitAriaLabel),isDisabled:e,onClear:this.handleGroupByClear,onToggle:this.handleGroupByToggle,onSelect:this.handleGroupBySelected,isOpen:s,placeholderText:t.formatMessage(l.Z.filterByOrgUnitPlaceholder),selections:i,variant:a.SelectVariant.typeahead},o.map((e=>c().createElement(a.SelectOption,{description:e.id,key:e.id,value:e})))))}}const v=(0,p.ZP)(b);var f=r(44439);class B extends c().Component{constructor(e){super(e),this.defaultState={isGroupByOpen:!1},this.state=Object.assign({},this.defaultState),this.getGroupByItems=()=>{const{tagReport:e}=this.props;if(!e||!e.data)return[];let t=!1;for(const r of e.data)if(r.hasOwnProperty("key")){t=!0;break}let r=[];if(t){const t=e.data.map((e=>{var{type:t}=e;return function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]])}return r}(e,["type"])}));r=(0,f.uniqBy)(t,"key")}else r=(0,f.uniq)(e.data);return r.map(((e,r)=>{const s=t?e.key:e;return c().createElement(a.SelectOption,{key:`${s}:${r}`,value:s})}))},this.getCurrentGroupBy=()=>{const e=(0,o.mB)(location.search),t=e&&e.group_by?Object.keys(e.group_by):[];let r;for(const e of t)if(-1!==e.indexOf(o.P)){r=e.slice(o.P.length);break}return r},this.handleGroupByClear=()=>{this.setState({currentItem:void 0})},this.handleGroupBySelected=(e,t)=>{const{onSelected:r}=this.props;this.setState({currentItem:t,isGroupByOpen:!1}),r&&r(`${o.P}${t}`)},this.handleGroupByToggle=e=>{this.setState({isGroupByOpen:e})},this.handleGroupByClear=this.handleGroupByClear.bind(this),this.handleGroupBySelected=this.handleGroupBySelected.bind(this),this.handleGroupByToggle=this.handleGroupByToggle.bind(this)}componentDidMount(){this.setState({currentItem:this.getCurrentGroupBy()})}componentDidUpdate(e){const{groupBy:t}=this.props;e.groupBy!==t&&this.setState({currentItem:this.getCurrentGroupBy()})}render(){const{isDisabled:e,intl:t}=this.props,{currentItem:r,isGroupByOpen:s}=this.state;return c().createElement("div",{style:m.groupBySelector},c().createElement(a.Select,{"aria-label":t.formatMessage(l.Z.filterByTagKeyAriaLabel),isDisabled:e,onClear:this.handleGroupByClear,onToggle:this.handleGroupByToggle,onSelect:this.handleGroupBySelected,isOpen:s,placeholderText:t.formatMessage(l.Z.filterByTagKeyPlaceholder),selections:r,variant:a.SelectVariant.typeahead},this.getGroupByItems()))}}const S=(0,p.ZP)(B),O=[{label:o.dV,value:o.dV}],_=[{label:o.up,value:o.up}],T=s.J.org,G=i.Q.tag;class C extends c().Component{constructor(e,t){super(e,t),this.defaultState={defaultItem:this.props.groupBy||this.props.options[0].value,isGroupByOpen:!1,isGroupByOrgVisible:!1,isGroupByTagVisible:!1},this.state=Object.assign({},this.defaultState),this.getCurrentGroupBy=()=>{const{getIdKeyForGroupBy:e}=this.props,{defaultItem:t}=this.state,r=(0,o.mB)(location.search);if(!r||!r.group_by)return t;let a=e(r.group_by);const s=r&&r.group_by?Object.keys(r.group_by):[];for(const e of s){let t=e.indexOf(o.P);if(-1!==t){a=o.up,this.setState({isGroupByTagVisible:!0});break}if(t=e.indexOf(o.dV),-1!==t){a=o.dV,this.setState({isGroupByOrgVisible:!0});break}}return"date"!==a?a:t},this.getGroupBy=()=>{const{isDisabled:e}=this.props,{currentItem:t,isGroupByOpen:r}=this.state,s=this.getGroupByOptions(),o=s.find((e=>e.value===t));return c().createElement(a.Select,{id:"groupBySelect",isDisabled:e,isOpen:r,onSelect:this.handleGroupBySelected,onToggle:this.handleGroupByToggle,selections:o,variant:a.SelectVariant.single},s.map((e=>c().createElement(a.SelectOption,{key:e.value,value:e}))))},this.getGroupByOptions=()=>{const{options:e,orgReport:t,tagReport:r,intl:a}=this.props,s=[...e];return t&&t.data&&t.data.length>0&&s.push(...O),r&&r.data&&r.data.length>0&&s.push(..._),s.map((e=>({toString:()=>a.formatMessage(l.Z.groupByValuesTitleCase,{value:e.label,count:1}),value:e.value})))},this.handleGroupBySelected=(e,t)=>{const{onSelected:r}=this.props;t.value===o.dV||t.value===o.up?this.setState({currentItem:t.value,isGroupByOpen:!1,isGroupByOrgVisible:t.value===o.dV,isGroupByTagVisible:t.value===o.up}):this.setState({currentItem:t.value,isGroupByOpen:!1,isGroupByOrgVisible:!1,isGroupByTagVisible:!1},(()=>{r&&r(t.value)}))},this.handleGroupByToggle=e=>{this.setState({isGroupByOpen:e})},this.handleGroupBySelected=this.handleGroupBySelected.bind(this),this.handleGroupByToggle=this.handleGroupByToggle.bind(this)}componentDidMount(){const{fetchOrg:e,fetchTag:t,orgReportFetchStatus:r,orgReportPathsType:a,queryString:s,showOrgs:o,showTags:i,tagReportFetchStatus:l,tagReportPathsType:n}=this.props;this.setState({currentItem:this.getCurrentGroupBy()},(()=>{o&&r!==h.iF.inProgress&&e(a,T,s),i&&l!==h.iF.inProgress&&t(n,G,s)}))}componentDidUpdate(e){const{fetchOrg:t,fetchTag:r,groupBy:a,orgReportFetchStatus:s,orgReportPathsType:o,perspective:i,queryString:l,showOrgs:n,showTags:c,tagReportFetchStatus:p,tagReportPathsType:u}=this.props;if(e.groupBy!==a||e.perspective!==i){let a;e.perspective!==i&&(a={isGroupByOrgVisible:!1,isGroupByTagVisible:!1}),this.setState(Object.assign({currentItem:this.getCurrentGroupBy()},a||{}),(()=>{n&&s!==h.iF.inProgress&&t(o,T,l),c&&p!==h.iF.inProgress&&r(u,G,l)}))}}render(){const{getIdKeyForGroupBy:e,groupBy:t,isDisabled:r=!1,onSelected:s,orgReport:o,intl:i,tagReport:n}=this.props,{isGroupByOrgVisible:p,isGroupByTagVisible:u}=this.state;return c().createElement("div",{style:m.groupBySelector},c().createElement(a.Title,{headingLevel:"h3",size:"md",style:m.groupBySelectorLabel},i.formatMessage(l.Z.groupByLabel)),this.getGroupBy(),Boolean(p)&&c().createElement(v,{getIdKeyForGroupBy:e,groupBy:t,isDisabled:r,onSelected:s,options:O,orgReport:o}),Boolean(u)&&c().createElement(S,{groupBy:t,isDisabled:r,onSelected:s,options:_,tagReport:n}))}}const x=(0,h.X1)(((e,{orgReportPathsType:t,tagReportPathsType:r})=>{const a=(0,o.mB)(location.search);let s={filter:{resolution:"monthly",time_scope_units:"month",time_scope_value:-1}};if(a.dateRangeType){const{end_date:e,start_date:t}=(0,d.H7)(a);s={end_date:e,start_date:t}}const i=(0,o.pm)(Object.assign(Object.assign({},s),{key_only:!0,limit:1e3})),l=y.ux.selectTag(e,r,G,i),n=y.ux.selectTagFetchStatus(e,r,G,i);return{orgReport:g.zE.selectOrg(e,t,T,i),orgReportFetchStatus:g.zE.selectOrgFetchStatus(e,t,T,i),queryString:i,tagReport:l,tagReportFetchStatus:n}})),E={fetchOrg:g.Lp.T7,fetchTag:y.xr.Xt},M=(0,u.connect)(x,E)(C),k=(0,p.ZP)(M)},30467:(e,t,r)=>{r.d(t,{$w:()=>S,BF:()=>_,Cs:()=>h,Fg:()=>x,J0:()=>G,KB:()=>M,KL:()=>E,RQ:()=>k,T4:()=>C,TL:()=>T,cW:()=>a,rn:()=>d,rs:()=>O});var a,s=r(96740),o=r(6456),i=r(36116),l=r(50081),n=r(97027),c=r(60553),p=r(86482),u=r(96351);!function(e){e.aws="aws",e.awsOcp="aws_ocp",e.azure="azure",e.azureOcp="azure_ocp",e.gcp="gcp",e.gcpOcp="gcp_ocp",e.ibm="ibm",e.ibmOcp="ibm_ocp",e.oci="oci",e.ocp="ocp",e.ocpCloud="ocp_cloud"}(a||(a={}));const d={filter:{limit:10,offset:0},exclude:{},filter_by:{},order_by:{cost:"desc"}},h=[{label:n.Z.explorerDateRange,value:"current_month_to_date"},{label:n.Z.explorerDateRange,value:"previous_month"},{label:n.Z.explorerDateRange,value:"previous_month_to_date"},{label:n.Z.explorerDateRange,value:"last_thirty_days"},{label:n.Z.explorerDateRange,value:"last_sixty_days"},{label:n.Z.explorerDateRange,value:"last_ninety_days"},{label:n.Z.explorerDateRange,value:"custom"}],g=[{label:"account",value:"account"},{label:"service",value:"service"},{label:"region",value:"region"}],y=[{label:"subscription_guid",value:"subscription_guid"},{label:"service_name",value:"service_name"},{label:"resource_location",value:"resource_location"}],m=[{label:"account",value:"account"},{label:"gcp_project",value:"gcp_project"},{label:"service",value:"service"},{label:"region",value:"region"}],b=[{label:"account",value:"account"},{label:"gcp_project",value:"gcp_project"},{label:"service",value:"service"},{label:"region",value:"region"}],v=[{label:"account",value:"account"},{label:"project",value:"project"},{label:"service",value:"service"},{label:"region",value:"region"}],f=[{label:"payer_tenant_id",value:"payer_tenant_id"},{label:"product_service",value:"product_service"},{label:"region",value:"region"}],B=[{label:"cluster",value:"cluster"},{label:"node",value:"node"},{label:"project",value:"project"}],S=(n.Z.perspectiveValues,e=>{let t;return t=c.LI.cost,t}),O=e=>{let t;return t=c.Qf.total,t},_=({awsProviders:e,azureProviders:t,ociProviders:r,gcpProviders:s,ibmProviders:o,ocpProviders:i,queryFromRoute:l,userAccess:n})=>{const c=l.perspective;switch(c){case a.aws:case a.awsOcp:case a.azure:case a.azureOcp:case a.gcp:case a.gcpOcp:case a.ibm:case a.ibmOcp:case a.oci:case a.ocpCloud:return c}if((0,u.mn)(n,i))return a.ocp;const d=(0,u.KT)(n)&&(0,p.JY)(e,i),h=(0,u.FW)(n)&&(0,p.JY)(t,i),g=(0,u.Sv)(n)&&(0,p.JY)(s,i),y=(0,u.tt)(n)&&(0,p.JY)(o,i);return d||h||g||y?a.ocpCloud:(0,u.n9)(n,e)?a.aws:(0,u.hn)(n,t)?a.azure:(0,u.FE)(n,s)?a.gcp:(0,u.Es)(n,o)?a.ibm:(0,u.HC)(n,r)?a.oci:void 0},T=e=>{let t;switch(e){case a.aws:case a.awsOcp:case a.gcp:case a.gcpOcp:case a.ibm:t="account";break;case a.azure:case a.azureOcp:t="subscription_guid";break;case a.ocp:case a.ocpCloud:t="project";break;case a.oci:t="payer_tenant_id";break;default:t=void 0}return t},G=e=>{let t;switch(e){case a.aws:case a.awsOcp:t=g;break;case a.azure:case a.azureOcp:t=y;break;case a.gcp:t=m;break;case a.gcpOcp:t=b;break;case a.ibm:t=v;break;case a.oci:t=f;break;case a.ocp:case a.ocpCloud:t=B;break;default:t=void 0}return t},C=e=>{let t;return t=e===a.aws?s.t.aws:void 0,t},x=e=>{let t;return t=o.C.cost,t},E=e=>{let t;switch(e){case a.aws:t=o.K.aws;break;case a.awsOcp:t=o.K.awsOcp;break;case a.azure:t=o.K.azure;break;case a.azureOcp:t=o.K.azureOcp;break;case a.gcp:t=o.K.gcp;break;case a.gcpOcp:t=o.K.gcpOcp;break;case a.ibm:t=o.K.ibm;break;case a.oci:t=o.K.oci;break;case a.ocp:t=o.K.ocp;break;case a.ocpCloud:t=o.K.ocpCloud;break;default:t=void 0}return t},M=e=>{let t;switch(e){case a.aws:return i.C.aws;case a.awsOcp:return i.C.awsOcp;case a.azure:return i.C.azure;case a.azureOcp:return i.C.azureOcp;case a.gcp:return i.C.gcp;case a.gcpOcp:return i.C.gcpOcp;case a.ibm:return i.C.ibm;case a.ocp:return i.C.ocp;case a.ocpCloud:return i.C.ocpCloud;default:t=void 0}return t},k=e=>{let t;switch(e){case a.aws:return l.L.aws;case a.awsOcp:return l.L.awsOcp;case a.azure:return l.L.azure;case a.azureOcp:return l.L.azureOcp;case a.gcp:return l.L.gcp;case a.gcpOcp:return l.L.gcpOcp;case a.ibm:return l.L.ibm;case a.ocp:return l.L.ocp;case a.ocpCloud:return l.L.ocpCloud;default:t=void 0}return t}},77789:(e,t,r)=>{r.d(t,{H7:()=>l,NU:()=>a,jv:()=>i});var a,s=r(4135),o=r(45087);!function(e){e.currentMonthToDate="current_month_to_date",e.custom="custom",e.previousMonth="previous_month",e.previousMonthToDate="previous_month_to_date",e.lastNinetyDays="last_ninety_days",e.lastSixtyDays="last_sixty_days",e.lastSixtyFiveDays="last_sixty_days",e.lastThirtyDays="last_thirty_days"}(a||(a={}));const i=e=>e.dateRangeType||a.currentMonthToDate,l=e=>{let t,r;return e.dateRangeType===a.custom&&(t=e.end_date,r=e.start_date),t&&r?{end_date:t,start_date:r}:((e,t=!0)=>{const r=new Date,i=new Date;let l;switch(e){case a.previousMonth:r.setDate(1),i.setDate(1),r.setMonth(r.getMonth()-1),i.setMonth(i.getMonth()-1),l=(0,o.$M)(i,(0,s.Z)(r),t);break;case a.previousMonthToDate:i.setDate(1),i.setMonth(i.getMonth()-1),l=(0,o.$M)(i,r,t);break;case a.lastNinetyDays:l=(0,o.mI)(t);break;case a.lastSixtyDays:l=(0,o.vI)(t);break;case a.lastThirtyDays:l=(0,o.Gg)(t);break;case a.currentMonthToDate:default:l=(0,o.tw)(t)}return l})(i(e))}},89662:(e,t,r)=>{r.d(t,{$3:()=>n,$9:()=>u,ZE:()=>o,_s:()=>i,jl:()=>l,q7:()=>c,xh:()=>p,yB:()=>d});var a=r(39333),s=r(9256);const o=(e,t,r=!1)=>(r&&(t.filter=Object.assign(Object.assign({},t.filter),{offset:0})),`${e.location.pathname}?${(0,a.IV)(t)}`),i=(e,t,r,a=!1)=>{const s=Object.assign({},JSON.parse(JSON.stringify(t)));e.replace(o(e,s,a))},l=(e,t,r,a=!1)=>{const s=Object.assign({},JSON.parse(JSON.stringify(t)));e.replace(o(e,s,a))},n=(e,t,r)=>{const a=(0,s.oQ)(t,r);e.replace(o(e,a,!0))},c=(e,t,r)=>{const a=(0,s.cJ)(t,r);e.replace(o(e,a,!0))},p=(e,t,r)=>{const a=Object.assign({},JSON.parse(JSON.stringify(t)));a.filter=Object.assign(Object.assign({},t.filter),{limit:r});const s=o(e,a,!0);e.replace(s)},u=(e,t,r,a)=>{const s=r&&r.meta&&r.meta.filter&&r.meta.filter.limit?r.meta.filter.limit:10,i=a*s-s,l=Object.assign({},JSON.parse(JSON.stringify(t)));l.filter=Object.assign(Object.assign({},t.filter),{offset:i});const n=o(e,l);e.replace(n)},d=(e,t,r,a,s)=>{const i=Object.assign({},JSON.parse(JSON.stringify(t)));i.order_by={},i.order_by[r]=a?"asc":"desc",s&&(i.order_by.date=s);const l=o(e,i);e.replace(l)}}}]);
//# sourceMappingURL=../sourcemaps/991.c14ef436218b4df7209f364f69d052fb.js.map
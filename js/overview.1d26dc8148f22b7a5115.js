"use strict";(self.webpackChunkkoku_ui=self.webpackChunkkoku_ui||[]).push([[2340],{37610:(e,t,r)=>{r.d(t,{T:()=>a});var s=r(80129);function a(e){return(0,s.stringify)(e,{encode:!1,indices:!1})}},76930:(e,t,r)=>{r.d(t,{X:()=>f});var s=r(97027),a=r(92950),c=r.n(a),i=r(22807);const o=[{label:s.Z.perspectiveValues,value:"aws"}],n=[{label:s.Z.perspectiveValues,value:"aws_ocp"}],p=[{label:s.Z.perspectiveValues,value:"azure"}],l=[{label:s.Z.perspectiveValues,value:"oci"}],u=[{label:s.Z.perspectiveValues,value:"azure_ocp"}],h=[{label:s.Z.perspectiveValues,value:"gcp"}],d=[{label:s.Z.perspectiveValues,value:"gcp_ocp"}],b=[{label:s.Z.perspectiveValues,value:"ibm"}],g=[{label:s.Z.perspectiveValues,value:"ibm_ocp"}],m=[{label:s.Z.perspectiveValues,value:"ocp_cloud"}],y=[{label:s.Z.perspectiveValues,value:"ocp"}],v=[{label:s.Z.perspectiveValues,value:"rhel"}],T=({hasAws:e,hasAwsOcp:t,hasAzure:r,hasAzureOcp:s,hasGcp:a,hasGcpOcp:c,hasIbm:i,hasIbmOcp:m,hasOci:y,isIbmFeatureEnabled:v,isOciFeatureEnabled:T})=>{const f=[];return e&&f.push(...o),t&&f.push(...n),a&&f.push(...h),c&&f.push(...d),i&&f.push(...b),m&&v&&f.push(...g),r&&f.push(...p),s&&f.push(...u),y&&T&&f.push(...l),f},f=({currentItem:e,hasAws:t,hasAwsOcp:r,hasAzure:s,hasAzureOcp:a,hasGcp:o,hasGcpOcp:n,hasIbm:p,hasIbmOcp:l,hasOci:u,hasOcp:h,hasOcpCloud:d,hasRhel:b,isDisabled:g,isIbmFeatureEnabled:f,isInfrastructureTab:F,isOciFeatureEnabled:R,isRhelTab:O,onSelected:P})=>{const E=[];return void 0!==F||void 0!==O?F?(d&&E.push(...m),E.push(...T({hasAws:t,hasAwsOcp:r,hasAzure:s,hasAzureOcp:a,hasGcp:o,hasGcpOcp:n,hasIbm:p,hasIbmOcp:l,hasOci:u,isIbmFeatureEnabled:f,isOciFeatureEnabled:R}))):O?b&&E.push(...v):h&&E.push(...y):(h&&E.push(...y),d&&E.push(...m),b&&E.push(...v),E.push(...T({hasAws:t,hasAwsOcp:r,hasAzure:s,hasAzureOcp:a,hasGcp:o,hasGcpOcp:n,hasIbm:p,hasIbmOcp:l,hasOci:u,isIbmFeatureEnabled:f,isOciFeatureEnabled:R}))),c().createElement(i.o,{currentItem:e||E[0].value,isDisabled:g,onSelected:P,options:E})}},40356:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Wt});var s=r(90154),a=r(91290),c=r(1326),i=r(39333),o=r(84717),n=r(37610),p=r(91577),l=r(97027),u=r(92950),h=r.n(u),d=r(74806),b=r(77760),g=r(6450),m=r(52471),y=r(83819),v=r(2985),T=r(11058),f=r(76930);const F=({costType:e,currency:t,DashboardWidget:r,selectWidgets:a,widgets:c})=>h().createElement("div",null,h().createElement(s.Grid,{hasGutter:!0},c.map((c=>{const i=a[c];return i.details&&i.details.showHorizontal?h().createElement(s.GridItem,{sm:12,key:c},h().createElement(r,Object.assign({widgetId:c},e&&{costType:e},t&&{currency:t}))):h().createElement(s.GridItem,{lg:12,xl:6,xl2:4,key:c},h().createElement(r,Object.assign({widgetId:c},e&&{costType:e},t&&{currency:t})))}))));var R=r(39836),O=r(4996),P=r(16044),E=r(38470),C=r(91919),I=r(1156),A=r(68025),S=r(20513);const Z=(0,d.ZP)((({intl:e,report:t,status:r,title:a})=>{const c=t&&t.meta?t.meta.count:0,i=e.formatMessage(l.Z.recommendationsDetails,{count:c});return h().createElement(s.Card,{className:"summary"},h().createElement(s.CardTitle,null,h().createElement(s.Title,{headingLevel:"h2",size:s.TitleSizes.lg},e.formatMessage(a))),h().createElement(s.CardBody,null,r===I.iF.inProgress?h().createElement(h().Fragment,null,h().createElement(s.Skeleton,{width:"16%"}),h().createElement(s.Skeleton,{className:"skeleton",width:S.N.md})):c>0?h().createElement(R.Link,{to:(0,A.dI)(C._.recommendations.path)},i):i))}));var w=r(30564),V=r(91778);class j extends h().Component{constructor(){super(...arguments),this.defaultState={currentItem:this.props.options?this.props.options.find((e=>e.default)).value:void 0,isSelectOpen:!1},this.state=Object.assign({},this.defaultState),this.getSelect=()=>{const{isDisabled:e}=this.props,{currentItem:t,isSelectOpen:r}=this.state,a=this.getSelectOptions(),c=a.find((e=>e.value===t));return h().createElement(s.Select,{id:"comparisonSelect",isDisabled:e,isOpen:r,onSelect:this.handleSelect,onToggle:this.handleToggle,selections:c,variant:s.SelectVariant.single},a.map((e=>h().createElement(s.SelectOption,{key:e.value,value:e}))))},this.getSelectOptions=()=>{const{options:e}=this.props,t=[];return e.map((e=>{t.push({toString:()=>e.label,value:e.value})})),t},this.handleSelect=(e,t)=>{const{onItemClicked:r}=this.props;r&&r(t.value),this.setState({currentItem:t.value,isSelectOpen:!1})},this.handleToggle=e=>{this.setState({isSelectOpen:e})}}render(){return this.getSelect()}}const D=j;var W=r(91707),z=r(32412),Q=r(57640);const K={chartAltHeight:250,chartHeight:180,containerAltHeight:250,containerTrendHeight:180,containerUsageHeight:180},L={comparison:{marginBottom:z.ZP.value},comparisonContainer:{display:"flex"},tabs:{marginTop:W.ZP.value},tabItems:{marginTop:Q.ZP.value}};var M;!function(e){e.cumulative="cumulative",e.daily="daily"}(M||(M={}));class J extends h().Component{constructor(){super(...arguments),this.defaultState={activeTabKey:0,currentComparison:M.cumulative},this.state=Object.assign({},this.defaultState),this.buildDetailsLink=e=>{const{details:t,getIdKeyForTab:r}=this.props,s=r(e);return`${t.viewAllPath}?${(0,i.pm)({group_by:{[s]:"*"},order_by:{cost:"desc"}})}`},this.getChart=(e,t,r=!1)=>{const{chartType:s,trend:a}=this.props;return s===w.i.dailyTrend?this.getDailyTrendChart(e,t,r,a.showSupplementaryLabel):s===w.i.dailyCost?this.getDailyCostChart(e,t,r):s===w.i.trend?this.getTrendChart(e,t,r,a.showSupplementaryLabel):s===w.i.usage?this.getUsageChart(t,r):null},this.getChartComparison=()=>{const{intl:e,trend:t}=this.props,{currentComparison:r}=this.state,s=this.getFormattedUnits(),a=e.formatMessage(t.titleKey,{units:s}),c=[{label:e.formatMessage(t.dailyTitleKey,{units:s}),value:M.daily},{label:a,value:M.cumulative,default:!0}];return h().createElement(D,{currentItem:r||c[0].value,onItemClicked:this.handleComparisonClick,options:c})},this.getDailyCostChart=(e,t,r=!1)=>{const{chartFormatter:s,currentReport:a,previousReport:c,trend:i}=this.props,{currentComparison:o}=this.state,n=i.computedReportItem,p=i.computedReportItemValue,l=o===M.daily,u=l?O.yZ.rolling:i.datumType,d=(0,O.zJ)(a,u,"date",n,p),b=(0,O.zJ)(c,u,"date",n,p),g=this.getForecastData(a,i.computedForecastItem),m=l?E.V3:E.me;return h().createElement(h().Fragment,null,h().createElement("div",{style:L.comparisonContainer},h().createElement("div",{style:L.comparison},this.getChartComparison())),h().createElement(m,{adjustContainerHeight:r,containerHeight:e,currentCostData:d,forecastConeData:g.forecastConeData,forecastData:g.forecastData,formatOptions:i.formatOptions,formatter:s||V.xG,height:t,previousCostData:b,showForecast:void 0!==i.computedForecastItem}))},this.getDailyTrendChart=(e,t,r=!1,s=!1)=>{const{chartFormatter:a,chartName:c,currentReport:i,details:o,previousReport:n,trend:p}=this.props,{currentComparison:l}=this.state,u=p.computedReportItem,d=p.computedReportItemValue,b=l===M.daily,g=b?O.yZ.rolling:p.datumType,m=(0,O.zJ)(i,g,"date",u,d),y=(0,O.zJ)(n,g,"date",u,d),{forecastData:v,forecastConeData:T}=this.getForecastData(i,p.computedForecastItem),f=b?E.Y0:E.Nd;return h().createElement(h().Fragment,null,h().createElement("div",{style:L.comparisonContainer},h().createElement("div",{style:L.comparison},this.getChartComparison())),h().createElement(f,{adjustContainerHeight:r,chartName:c,containerHeight:e,currentData:m,forecastData:v,forecastConeData:T,formatOptions:p.formatOptions,formatter:a||V.bM,height:t,previousData:y,showForecast:void 0!==p.computedForecastItem,showSupplementaryLabel:s,showUsageLegendLabel:o.showUsageLegendLabel,units:this.getUnits()}))},this.getForecastData=(e,t="cost")=>{const{forecast:r,trend:s}=this.props,{currentComparison:a}=this.state,c=a===M.daily?O.yZ.rolling:s.datumType,i=(0,P.x1)(r,e,t,c);return{forecastData:(0,P.nB)(i,c,t),forecastConeData:(0,P.Qw)(i,c,t)}},this.getTrendChart=(e,t,r=!1,s=!1)=>{const{chartFormatter:a,chartName:c,currentReport:i,details:o,intl:n,previousReport:p,trend:l}=this.props,u=l.computedReportItem||"cost",d=l.computedReportItemValue,b=n.formatMessage(l.titleKey,{units:this.getFormattedUnits()}),g=(0,O.zJ)(i,l.datumType,"date",u,d),m=(0,O.zJ)(p,l.datumType,"date",u,d),{forecastData:y,forecastConeData:v}=this.getForecastData(i,l.computedForecastItem);return h().createElement(E.Nd,{adjustContainerHeight:r,containerHeight:e,chartName:c,currentData:g,forecastData:y,forecastConeData:v,formatOptions:l.formatOptions,formatter:a||V.bM,height:t,previousData:m,showForecast:void 0!==l.computedForecastItem,showSupplementaryLabel:s,showUsageLegendLabel:o.showUsageLegendLabel,title:b,units:this.getUnits()})},this.getUsageChart=(e,t=!1)=>{const{chartFormatter:r,chartName:s,currentReport:a,intl:c,previousReport:i,trend:o}=this.props,n=c.formatMessage(o.titleKey,{units:this.getFormattedUnits()}),p=(0,O.zJ)(a,o.datumType,"date","request"),l=(0,O.zJ)(i,o.datumType,"date","request"),u=(0,O.zJ)(a,o.datumType,"date","usage"),d=(0,O.zJ)(i,o.datumType,"date","usage");return h().createElement(E.I0,{adjustContainerHeight:t,chartName:s,containerHeight:K.containerUsageHeight,currentRequestData:p,currentUsageData:u,formatOptions:o.formatOptions,formatter:r||V.bM,height:e,previousRequestData:l,previousUsageData:d,title:n})},this.getDetails=()=>{const{chartType:e,currentReport:t,details:r,reportType:s,trend:a}=this.props,c=a.computedReportItem||"cost",i=a.computedReportItemValue||"total";return h().createElement(E.rN,{chartType:e,computedReportItem:c,computedReportItemValue:i,costLabel:this.getDetailsLabel(r.costKey),formatOptions:r.formatOptions,report:t,reportType:s,requestLabel:this.getDetailsLabel(r.requestKey),showTooltip:r.showTooltip,showUnits:r.showUnits,showUsageFirst:r.showUsageFirst,units:this.getUnits(),usageFormatOptions:r.usageFormatOptions,usageLabel:this.getDetailsLabel(r.usageKey)})},this.getDetailsLabel=e=>{const{intl:t}=this.props;return e?t.formatMessage(e):void 0},this.getDetailsLink=()=>{const{currentTab:e,details:t}=this.props;return t.viewAllPath?h().createElement(R.Link,{to:this.buildDetailsLink(e)},this.getDetailsLinkTitle(e)):null},this.getDetailsLinkTitle=e=>{const{getIdKeyForTab:t,intl:r}=this.props,s=t(e)||"";return r.formatMessage(l.Z.groupByAll,{value:s,count:2})},this.getFormattedUnits=()=>{const{intl:e,trend:t}=this.props,r=t.computedReportItem||"cost",s=this.getUnits();return r===O.LI.usage?e.formatMessage(l.Z.units,{units:(0,V.ZV)(s)}):e.formatMessage(l.Z.currencyUnits,{units:s})},this.getHorizontalLayout=()=>{const{containerAltHeight:e=K.containerAltHeight,chartAltHeight:t=K.chartAltHeight,currentReportFetchStatus:r,details:s}=this.props;return h().createElement(E.j0,{detailsLink:this.getDetailsLink(),status:r,tabs:this.getTabs(),title:this.getTitle()},this.getDetails(),this.getChart(e,t,s.adjustContainerHeight))},this.getRecommendationsSummary=()=>{const{recommendationReportFetchStatus:e,recommendationReport:t,titleKey:r}=this.props;return h().createElement(Z,{status:e,report:t,title:r})},this.getTab=(e,t)=>{const{getIdKeyForTab:r,tabsReport:a,tabsReportFetchStatus:c}=this.props,i=r(e);return h().createElement(s.Tab,{eventKey:t,key:`${r(e)}-tab`,title:h().createElement(s.TabTitleText,null,this.getTabTitle(e))},h().createElement("div",{style:L.tabItems},h().createElement(E.mZ,{idKey:i,key:`${i}-items`,report:a,status:c},(({items:t})=>t.map((t=>this.getTabItem(e,t)))))))},this.getTabItem=(e,t)=>{const{availableTabs:r,getIdKeyForTab:s,tabsReport:a,topItems:c,trend:i}=this.props,{activeTabKey:o}=this.state,n=s(e),p=s(r[o]),l=i.computedReportItem||"cost",u=i.computedReportItemValue||"total";let d;const b=a&&a.meta&&a.meta.total;return l===O.LI.usage?b&&a.meta.total.usage&&(d=a.meta.total.usage.value):b&&a.meta.total[l]&&a.meta.total[l][u]&&(d=a.meta.total[l][u].value),p===n?h().createElement(E.EH,{formatOptions:c?c.formatOptions:void 0,key:`${t.id}-item`,label:t.label?t.label.toString():"",totalValue:d,units:this.getUnits(),value:t[l][u].value}):null},this.getTabs=()=>{const{availableTabs:e}=this.props;return h().createElement(s.Tabs,{isFilled:!0,activeKey:this.state.activeTabKey,onSelect:this.handleTabClick},e.map(((e,t)=>this.getTab(e,t))))},this.getTabTitle=e=>{const{getIdKeyForTab:t,intl:r}=this.props,s=t(e)||"";return r.formatMessage(l.Z.groupByTop,{value:s,count:2})},this.getTitle=()=>{const{intl:e,titleKey:t}=this.props;return e.formatMessage(t)},this.getUnits=()=>{const{currentReport:e,details:t,trend:r}=this.props,s=r.computedReportItem||"cost",a=r.computedReportItemValue||"total";if(t.units)return t.units;if(!e)return"";const c=e&&e.meta&&e.meta.total;return s===O.LI.usage?c&&e.meta.total.usage?e.meta.total.usage.units:void 0:c&&e.meta.total[s]&&e.meta.total[s][a]?e.meta.total[s][a].units:"USD"},this.getVerticalLayout=()=>{const{availableTabs:e,currentReportFetchStatus:t,details:r}=this.props;return h().createElement(E.iu,{detailsLink:this.getDetailsLink(),status:t,title:this.getTitle()},this.getDetails(),this.getChart(K.containerTrendHeight,K.chartHeight,r.adjustContainerHeight),Boolean(e)&&h().createElement("div",{style:L.tabs},this.getTabs()))},this.handleComparisonClick=e=>{this.setState({currentComparison:e})},this.handleTabClick=(e,t)=>{const{availableTabs:r,id:s,updateTab:a}=this.props;a(s,r[t]),this.setState({activeTabKey:t})}}componentDidMount(){const{availableTabs:e,details:t,fetchForecasts:r,fetchRecommendationReports:s,fetchReports:a,id:c,isRosFeatureEnabled:i,trend:o,updateTab:n,widgetId:p}=this.props;e&&n(c,e[0]),o&&void 0!==o.computedForecastItem&&r(p),!t.showRecommendations&&a&&a(p),t.showRecommendations&&s&&i&&s(p)}componentDidUpdate(e){const{costType:t,currency:r,fetchReports:s,fetchForecasts:a,trend:c,widgetId:i}=this.props;e.costType===t&&e.currency===r||(s(i),c&&void 0!==c.computedForecastItem&&a(i))}render(){const{details:e,isRosFeatureEnabled:t}=this.props;return e.showRecommendations?t?this.getRecommendationsSummary():null:e.showHorizontal?this.getHorizontalLayout():this.getVerticalLayout()}}const k=J;var H=r(81628),_=r(78898),N=r(79277),U=r(15920),B=r(22928),X=r(15829);const G=e=>{switch(e){case H.IC.services:return"service";case H.IC.accounts:return"account";case H.IC.regions:return"region"}},x=(0,I.X1)(((e,{widgetId:t})=>{const r=H.Cv.selectWidget(e,t),s=H.Cv.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign({},r),_.iJ.selectIsCurrencyFeatureEnabled(e)&&{currency:(0,X.zC)()}),{costType:(0,B.u)(),getIdKeyForTab:G,currentQuery:s.current,forecastQuery:s.forecast,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.current),currentReportFetchStatus:U.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.current),forecast:N.mj.selectForecast(e,r.forecastPathsType,r.forecastType,s.forecast),previousReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.previous),tabsReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.tabs),tabsReportFetchStatus:U.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.tabs)})})),q={fetchForecasts:H.Kf.v4,fetchReports:H.Kf.a4,updateTab:H.Kf.as},$=(0,d.ZP)((0,b.connect)(x,q)(k)),Y=(0,I.X1)(((e,t)=>({DashboardWidget:$,selectWidgets:H.Cv.selectWidgets(e),widgets:H.Cv.selectCurrentWidgets(e)}))),ee=(0,b.connect)(Y,{})(F);var te=r(25566);const re=e=>{switch(e){case te.e1.services:return"service";case te.e1.accounts:return"account";case te.e1.regions:return"region"}},se=(0,I.X1)(((e,{widgetId:t})=>{const r=te.Hc.selectWidget(e,t),s=te.Hc.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign(Object.assign({},r),_.iJ.selectIsCurrencyFeatureEnabled(e)&&{currency:(0,X.zC)()}),_.iJ.selectIsCostTypeFeatureEnabled(e)&&{costType:(0,B.u)()}),{getIdKeyForTab:re,currentQuery:s.current,forecastQuery:s.forecast,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.current),currentReportFetchStatus:U.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.current),forecast:N.mj.selectForecast(e,r.forecastPathsType,r.forecastType,s.forecast),previousReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.previous),tabsReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.tabs),tabsReportFetchStatus:U.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.tabs)})})),ae={fetchForecasts:te.NA.v4,fetchReports:te.NA.a4,updateTab:te.NA.as},ce=(0,d.ZP)((0,b.connect)(se,ae)(k)),ie=(0,I.X1)(((e,t)=>({DashboardWidget:ce,selectWidgets:te.Hc.selectWidgets(e),widgets:te.Hc.selectCurrentWidgets(e)}))),oe=(0,b.connect)(ie,{})(F);var ne=r(25976);const pe=e=>{switch(e){case ne.vY.service_names:return"service_name";case ne.vY.subscription_guids:return"subscription_guid";case ne.vY.resource_locations:return"resource_location"}},le=(0,I.X1)(((e,{widgetId:t})=>{const r=ne.rj.selectWidget(e,t),s=ne.rj.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign({},r),_.iJ.selectIsCurrencyFeatureEnabled(e)&&{currency:(0,X.zC)()}),{getIdKeyForTab:pe,currentQuery:s.current,forecastQuery:s.forecast,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.current),currentReportFetchStatus:U.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.current),forecast:N.mj.selectForecast(e,r.forecastPathsType,r.forecastType,s.forecast),previousReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.previous),tabsReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.tabs),tabsReportFetchStatus:U.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.tabs)})})),ue={fetchForecasts:ne.oc.v4,fetchReports:ne.oc.a4,updateTab:ne.oc.as},he=(0,d.ZP)((0,b.connect)(le,ue)(k)),de=(0,I.X1)(((e,t)=>({DashboardWidget:he,selectWidgets:ne.rj.selectWidgets(e),widgets:ne.rj.selectCurrentWidgets(e)}))),be=(0,b.connect)(de,{})(F);var ge=r(76764);const me=e=>{switch(e){case ge.Vp.service_names:return"service_name";case ge.Vp.subscription_guids:return"subscription_guid";case ge.Vp.resource_locations:return"resource_location"}},ye=(0,I.X1)(((e,{widgetId:t})=>{const r=ge.MW.selectWidget(e,t),s=ge.MW.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign({},r),_.iJ.selectIsCurrencyFeatureEnabled(e)&&{currency:(0,X.zC)()}),{getIdKeyForTab:me,currentQuery:s.current,forecastQuery:s.forecast,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.current),currentReportFetchStatus:U.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.current),forecast:N.mj.selectForecast(e,r.forecastPathsType,r.forecastType,s.forecast),previousReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.previous),tabsReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.tabs),tabsReportFetchStatus:U.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.tabs)})})),ve={fetchForecasts:ge._V.v4,fetchReports:ge._V.a4,updateTab:ge._V.as},Te=(0,d.ZP)((0,b.connect)(ye,ve)(k)),fe=(0,I.X1)(((e,t)=>({DashboardWidget:Te,selectWidgets:ge.MW.selectWidgets(e),widgets:ge.MW.selectCurrentWidgets(e)}))),Fe=(0,b.connect)(fe,{})(F);var Re=r(67776);const Oe=e=>{switch(e){case Re.BP.gcpProjects:return"gcp_project";case Re.BP.regions:return"region";case Re.BP.services:return"service"}},Pe=(0,I.X1)(((e,{widgetId:t})=>{const r=Re.oS.selectWidget(e,t),s=Re.oS.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign({},r),_.iJ.selectIsCurrencyFeatureEnabled(e)&&{currency:(0,X.zC)()}),{getIdKeyForTab:Oe,currentQuery:s.current,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.current),currentReportFetchStatus:U.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.current),forecast:N.mj.selectForecast(e,r.forecastPathsType,r.forecastType,s.forecast),previousReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.previous),tabsReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.tabs),tabsReportFetchStatus:U.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.tabs)})})),Ee={fetchForecasts:Re.n5.v4,fetchReports:Re.n5.a4,updateTab:Re.n5.as},Ce=(0,d.ZP)((0,b.connect)(Pe,Ee)(k)),Ie=(0,I.X1)(((e,t)=>({DashboardWidget:Ce,selectWidgets:Re.oS.selectWidgets(e),widgets:Re.oS.selectCurrentWidgets(e)}))),Ae=(0,b.connect)(Ie,{})(F);var Se=r(99900);const Ze=e=>{switch(e){case Se.VN.gcpProjects:return"gcp_project";case Se.VN.regions:return"region";case Se.VN.services:return"service"}},we=(0,I.X1)(((e,{widgetId:t})=>{const r=Se.FF.selectWidget(e,t),s=Se.FF.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign({},r),_.iJ.selectIsCurrencyFeatureEnabled(e)&&{currency:(0,X.zC)()}),{getIdKeyForTab:Ze,currentQuery:s.current,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.current),currentReportFetchStatus:U.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.current),forecast:N.mj.selectForecast(e,r.forecastPathsType,r.forecastType,s.forecast),previousReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.previous),tabsReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.tabs),tabsReportFetchStatus:U.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.tabs)})})),Ve={fetchForecasts:Se.uM.v4,fetchReports:Se.uM.a4,updateTab:Se.uM.as},je=(0,d.ZP)((0,b.connect)(we,Ve)(k)),De=(0,I.X1)(((e,t)=>({DashboardWidget:je,selectWidgets:Se.FF.selectWidgets(e),widgets:Se.FF.selectCurrentWidgets(e)}))),We=(0,b.connect)(De,{})(F);var ze=r(48788);const Qe=e=>{switch(e){case ze.DA.services:return"service";case ze.DA.projects:return"project";case ze.DA.regions:return"region"}},Ke=(0,I.X1)(((e,{widgetId:t})=>{const r=ze.Pi.selectWidget(e,t),s=ze.Pi.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign({},r),_.iJ.selectIsCurrencyFeatureEnabled(e)&&{currency:(0,X.zC)()}),{getIdKeyForTab:Qe,currentQuery:s.current,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.current),currentReportFetchStatus:U.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.current),forecast:N.mj.selectForecast(e,r.forecastPathsType,r.forecastType,s.forecast),previousReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.previous),tabsReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.tabs),tabsReportFetchStatus:U.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.tabs)})})),Le={fetchForecasts:ze.lj.v4,fetchReports:ze.lj.a4,updateTab:ze.lj.as},Me=(0,d.ZP)((0,b.connect)(Ke,Le)(k)),Je=(0,I.X1)(((e,t)=>({DashboardWidget:Me,selectWidgets:ze.Pi.selectWidgets(e),widgets:ze.Pi.selectCurrentWidgets(e)}))),ke=(0,b.connect)(Je,{})(F);var He=r(17568);const _e=e=>{switch(e){case He.Qr.accounts:return"account";case He.Qr.regions:return"region";case He.Qr.services:return"service"}},Ne=(0,I.X1)(((e,{widgetId:t})=>{const r=He.qN.selectWidget(e,t),s=He.qN.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign({},r),_.iJ.selectIsCurrencyFeatureEnabled(e)&&{currency:(0,X.zC)()}),{getIdKeyForTab:_e,currentQuery:s.current,forecastQuery:s.forecast,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.current),currentReportFetchStatus:U.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.current),forecast:N.mj.selectForecast(e,r.forecastPathsType,r.forecastType,s.forecast),previousReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.previous),tabsReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.tabs),tabsReportFetchStatus:U.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.tabs)})})),Ue={fetchForecasts:He.BV.v4,fetchReports:He.BV.a4,updateTab:He.BV.as},Be=(0,d.ZP)((0,b.connect)(Ne,Ue)(k)),Xe=(0,I.X1)(((e,t)=>({DashboardWidget:Be,selectWidgets:He.qN.selectWidgets(e),widgets:He.qN.selectCurrentWidgets(e)}))),Ge=(0,b.connect)(Xe,{})(F);var xe=r(60329),qe=r(2136);const $e=e=>{switch(e){case xe.V7.clusters:return"cluster";case xe.V7.nodes:return"node";case xe.V7.projects:return"project"}},Ye=(0,I.X1)(((e,{widgetId:t})=>{const r=xe.nH.selectWidget(e,t),s=xe.nH.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},r),_.iJ.selectIsCurrencyFeatureEnabled(e)&&{currency:(0,X.zC)()}),{getIdKeyForTab:$e,chartAltHeight:250,containerAltHeight:250,currentQuery:s.current,forecastQuery:s.forecast,previousQuery:s.previous,tabsQuery:s.tabs}),r.forecastPathsType&&r.forecastType&&{forecast:N.mj.selectForecast(e,r.forecastPathsType,r.forecastType,s.forecast),forecastFetchStatus:N.mj.selectForecastFetchStatus(e,r.forecastPathsType,r.forecastType,s.forecast)}),r.reportPathsType&&r.reportType&&{currentReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.current),currentReportFetchStatus:U.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.current),previousReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.previous),previousReportFetchStatus:U.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.previous),tabsReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.tabs),tabsReportFetchStatus:U.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.tabs)}),r.rosPathsType&&r.rosType&&{isRosFeatureEnabled:_.iJ.selectIsRosFeatureEnabled(e),recommendationReport:qe.R0.selectRos(e,r.rosPathsType,r.rosType,s.recommendations),recommendationReportFetchStatus:qe.R0.selectRosFetchStatus(e,r.rosPathsType,r.rosType,s.recommendations)})})),et={fetchForecasts:xe.U6.v4,fetchRecommendationReports:xe.U6.XE,fetchReports:xe.U6.a4,updateTab:xe.U6.as},tt=(0,d.ZP)((0,b.connect)(Ye,et)(k)),rt=(0,I.X1)(((e,t)=>({DashboardWidget:tt,selectWidgets:xe.nH.selectWidgets(e),widgets:xe.nH.selectCurrentWidgets(e)}))),st=(0,b.connect)(rt,{})(F);var at=r(67522);const ct=e=>{switch(e){case at.is.clusters:return"cluster";case at.is.nodes:return"node";case at.is.projects:return"project"}},it=(0,I.X1)(((e,{widgetId:t})=>{const r=at.fO.selectWidget(e,t),s=at.fO.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign({},r),_.iJ.selectIsCurrencyFeatureEnabled(e)&&{currency:(0,X.zC)()}),{getIdKeyForTab:ct,chartAltHeight:250,containerAltHeight:250,currentQuery:s.current,forecastQuery:s.forecast,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.current),currentReportFetchStatus:U.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.current),forecast:N.mj.selectForecast(e,r.forecastPathsType,r.forecastType,s.forecast),previousReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.previous),tabsReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.tabs),tabsReportFetchStatus:U.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.tabs)})})),ot={fetchForecasts:at.BV.v4,fetchReports:at.BV.a4,updateTab:at.BV.as},nt=(0,d.ZP)((0,b.connect)(it,ot)(k)),pt=(0,I.X1)(((e,t)=>({DashboardWidget:nt,selectWidgets:at.fO.selectWidgets(e),widgets:at.fO.selectCurrentWidgets(e)}))),lt=(0,b.connect)(pt,{})(F);var ut=r(86482),ht=r(62331),dt=r(46919),bt=r(45087),gt=r(5842),mt=r(96351),yt=r(77392);const vt=e=>{switch(e){case yt.FY.product_services:return"product_service";case yt.FY.payer_tenant_ids:return"payer_tenant_id";case yt.FY.regions:return"region"}},Tt=(0,I.X1)(((e,{widgetId:t})=>{const r=yt.$h.selectWidget(e,t),s=yt.$h.selectWidgetQueries(e,t);return Object.assign(Object.assign(Object.assign({},r),_.iJ.selectIsCurrencyFeatureEnabled(e)&&{currency:(0,X.zC)()}),{getIdKeyForTab:vt,currentQuery:s.current,forecastQuery:s.forecast,previousQuery:s.previous,tabsQuery:s.tabs,currentReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.current),currentReportFetchStatus:U.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.current),forecast:N.mj.selectForecast(e,r.forecastPathsType,r.forecastType,s.forecast),previousReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.previous),tabsReport:U.ZV.selectReport(e,r.reportPathsType,r.reportType,s.tabs),tabsReportFetchStatus:U.ZV.selectReportFetchStatus(e,r.reportPathsType,r.reportType,s.tabs)})})),ft={fetchForecasts:yt.eb.v4,fetchReports:yt.eb.a4,updateTab:yt.eb.as},Ft=(0,d.ZP)((0,b.connect)(Tt,ft)(k)),Rt=(0,I.X1)(((e,t)=>({DashboardWidget:Ft,selectWidgets:yt.$h.selectWidgets(e),widgets:yt.$h.selectCurrentWidgets(e)}))),Ot=(0,b.connect)(Rt,{})(F);var Pt=r(49382),Et=r(17918),Ct=r(98499);const It={date:{alignSelf:"center",flexGrow:1,textAlign:"end"},costType:{marginLeft:z.ZP.var},header:{backgroundColor:Pt.ZP.var,padding:Ct.ZP.var},headerContent:{display:"flex",justifyContent:"space-between"},headerContentLeft:{display:"flex"},headerContentRight:{display:"flex"},infoIcon:{fontSize:Et.ZP.value},infoTitle:{fontWeight:"bold"},main:{padding:Ct.ZP.value},tabs:{backgroundColor:Pt.ZP.var,paddingBottom:Ct.ZP.var,paddingTop:Ct.ZP.var}};var At,St,Zt,wt;!function(e){e.aws="aws",e.awsOcp="aws_ocp",e.azure="azure",e.azureOcp="azure_ocp",e.gcp="gcp",e.gcpOcp="gcp_ocp",e.ibm="ibm",e.ibmOcp="ibm_ocp",e.oci="oci",e.ocpCloud="ocp_cloud"}(At||(At={})),function(e){e.ocp="ocp"}(St||(St={})),function(e){e.infrastructure="infrastructure",e.ocp="ocp",e.rhel="rhel"}(Zt||(Zt={})),function(e){e.rhel="rhel"}(wt||(wt={}));const Vt=e=>{switch(e){case Zt.infrastructure:return"infrastructure";case Zt.ocp:return"ocp";case Zt.rhel:return"rhel"}};class jt extends h().Component{constructor(){super(...arguments),this.defaultState={activeTabKey:0},this.state=Object.assign({},this.defaultState),this.getAvailableTabs=()=>{const{isFinsightsFeatureEnabled:e}=this.props,t=[],r=this.isAwsAvailable()||this.isAzureAvailable()||this.isGcpAvailable()||this.isIbmAvailable()||this.isOciAvailable()||this.isOcpCloudAvailable()?[{contentRef:h().createRef(),tab:Zt.infrastructure}]:void 0,s=this.isOcpAvailable()?[{contentRef:h().createRef(),tab:Zt.ocp}]:void 0,a=this.isRhelAvailable()?[{contentRef:h().createRef(),tab:Zt.rhel}]:void 0;return e?(r&&t.push(...r),a&&t.push(...a),s&&t.push(...s)):(s&&t.push(...s),r&&t.push(...r)),t},this.getCostType=()=>{const{costType:e,isCostTypeFeatureEnabled:t}=this.props,{currentInfrastructurePerspective:r,currentOcpPerspective:s}=this.state,a=this.getCurrentTab()===Zt.infrastructure?r:s;return a===At.aws||a===At.awsOcp&&t?h().createElement("div",{style:It.costType},h().createElement(T.T,{costType:e,onSelect:this.handleCostTypeSelected})):null},this.getCurrency=()=>{const{currency:e}=this.props;return h().createElement(g.F,{onSelect:this.handleCurrencySelected,currency:e})},this.getCurrentTab=()=>{const{isFinsightsFeatureEnabled:e}=this.props,{activeTabKey:t}=this.state,r=this.isAwsAvailable(),s=this.isAzureAvailable(),a=this.isOciAvailable(),c=this.isGcpAvailable(),i=this.isIbmAvailable(),o=this.isOcpAvailable(),n=this.isOcpCloudAvailable(),p=this.isRhelAvailable(),l=r||s||a||c||i||n,u=l&&!o&&!p,h=p&&!l&&!o;if(o&&!l&&!p)return Zt.ocp;if(u)return Zt.infrastructure;if(h)return Zt.rhel;if(e)switch(t){case 0:return Zt.infrastructure;case 1:return Zt.rhel;case 2:return Zt.ocp}switch(t){case 0:return Zt.ocp;case 1:return Zt.infrastructure}},this.getDefaultInfrastructurePerspective=()=>{const{perspective:e}=this.props;switch(e){case At.aws:case At.awsOcp:case At.azure:case At.oci:case At.azureOcp:case At.gcp:case At.gcpOcp:case At.ibm:case At.ibmOcp:case At.ocpCloud:return e}return this.isOcpCloudAvailable()?At.ocpCloud:this.isAwsAvailable()?At.aws:this.isAzureAvailable()?At.azure:this.isOciAvailable()?At.oci:this.isGcpAvailable()?At.gcp:this.isIbmAvailable()?At.ibm:void 0},this.getDefaultOcpPerspective=()=>{const{ocpProviders:e,perspective:t,userAccess:r}=this.props;return t===St.ocp?t:(0,mt.mn)(r,e)?St.ocp:void 0},this.getDefaultRhelPerspective=()=>{const{perspective:e,rhelProviders:t,userAccess:r}=this.props;return e===wt.rhel?e:(0,mt.ZC)(r,t)?wt.rhel:void 0},this.getPerspective=()=>{const{isIbmFeatureEnabled:e,isOciFeatureEnabled:t}=this.props,{currentInfrastructurePerspective:r,currentOcpPerspective:s,currentRhelPerspective:a}=this.state,c=this.isAwsAvailable(),i=this.isAzureAvailable(),o=this.isGcpAvailable(),n=this.isIbmAvailable(),p=this.isOciAvailable(),l=this.isOcpAvailable(),u=this.isRhelAvailable();if(!(c||i||o||n||p||l||u))return null;let d;const b=this.getCurrentTab();switch(b){case Zt.infrastructure:d=r;break;case Zt.ocp:d=s;break;case Zt.rhel:d=a}return h().createElement(f.X,{currentItem:d,hasAws:c,hasAwsOcp:this.isAwsOcpAvailable(),hasAzure:i,hasAzureOcp:this.isAzureOcpAvailable(),hasGcp:o,hasGcpOcp:this.isGcpOcpAvailable(),hasIbm:n,hasIbmOcp:this.isIbmOcpAvailable(),hasOci:p,hasOcp:l,hasOcpCloud:this.isOcpCloudAvailable(),hasRhel:u,isIbmFeatureEnabled:e,isInfrastructureTab:Zt.infrastructure===b,isOciFeatureEnabled:t,isRhelTab:Zt.rhel===b,onSelected:this.handlePerspectiveSelected})},this.getRouteForQuery=e=>{const{router:t}=this.props;return`${t.location.pathname}?${function(e){return i.IV(e)}(e)}`},this.getTab=(e,t,r)=>h().createElement(s.Tab,{eventKey:r,key:`${Vt(e)}-tab`,tabContentId:`tab-${r}`,tabContentRef:t,title:h().createElement(s.TabTitleText,null,this.getTabTitle(e))}),this.getTabContent=e=>e.map(((e,t)=>h().createElement(s.TabContent,{eventKey:t,key:`${Vt(e.tab)}-tabContent`,id:`tab-${t}`,ref:e.contentRef},this.getTabItem(e.tab,t)))),this.getTabItem=(e,t)=>{const{awsProviders:r,azureProviders:s,ociProviders:a,costType:c,currency:i,gcpProviders:o,ibmProviders:n,ocpProviders:p,rhelProviders:l}=this.props,{activeTabKey:u,currentInfrastructurePerspective:d,currentOcpPerspective:b,currentRhelPerspective:g}=this.state,m=h().createElement(h().Fragment,null),v=h().createElement(y.Z,{showReload:!1});if(u!==t)return m;const T=Vt(e);if(T===Zt.infrastructure)return d===At.ocpCloud?(0,ut.Bj)(r,p)||(0,ut.Bj)(s,p)||(0,ut.Bj)(o,p)||(0,ut.Bj)(n,p)?h().createElement(Ge,{currency:i}):v:d===At.aws?(0,ut.g8)(r)||(0,ut.rL)(r)?h().createElement(ee,{costType:c}):v:d===At.awsOcp?(0,ut.at)(r,p)||(0,ut.D2)(r,p)?h().createElement(oe,{currency:i}):v:d===At.azure?(0,ut.g8)(s)||(0,ut.rL)(s)?h().createElement(be,{currency:i}):v:d===At.azureOcp?(0,ut.at)(s,p)||(0,ut.D2)(s,p)?h().createElement(Fe,{currency:i}):v:d===At.gcp?(0,ut.g8)(o)||(0,ut.rL)(o)?h().createElement(Ae,{currency:i}):v:d===At.gcpOcp?(0,ut.at)(o,p)||(0,ut.D2)(o,p)?h().createElement(We,{currency:i}):v:d===At.ibm?(0,ut.g8)(n)||(0,ut.rL)(n)?h().createElement(ke,{currency:i}):v:d===At.oci&&((0,ut.g8)(a)||(0,ut.rL)(a))?h().createElement(Ot,{currency:i}):v;if(T===Zt.ocp){const e=(0,ut.g8)(p)||(0,ut.rL)(p);return b===St.ocp&&e?h().createElement(st,{currency:i}):v}if(T===Zt.rhel){const e=(0,ut.g8)(l)||(0,ut.rL)(l);return g===wt.rhel&&e?h().createElement(lt,{currency:i}):v}return m},this.getTabs=e=>{const{activeTabKey:t}=this.state;return h().createElement(s.Tabs,{activeKey:t,onSelect:this.handleTabClick},e.map(((e,t)=>this.getTab(e.tab,e.contentRef,t))))},this.getTabTitle=e=>{const{intl:t,isFinsightsFeatureEnabled:r}=this.props;return e===Zt.infrastructure?r?t.formatMessage(l.Z.summary):t.formatMessage(l.Z.infrastructure):e===Zt.ocp?t.formatMessage(l.Z.openShift):e===Zt.rhel?t.formatMessage(l.Z.rhel):void 0},this.handleCostTypeSelected=()=>{const{query:e,router:t}=this.props,r=Object.assign({},JSON.parse(JSON.stringify(e)));t.navigate(this.getRouteForQuery(r),{replace:!0})},this.handleCurrencySelected=()=>{const{router:e,query:t}=this.props,r=Object.assign({},JSON.parse(JSON.stringify(t)));e.navigate(this.getRouteForQuery(r),{replace:!0})},this.handlePerspectiveSelected=e=>{const{query:t,router:r}=this.props,s=this.getCurrentTab();this.setState(Object.assign(Object.assign({},s===Zt.infrastructure&&{currentInfrastructurePerspective:e}),s===Zt.ocp&&{currentOcpPerspective:e}),(()=>{const s=Object.assign(Object.assign({},JSON.parse(JSON.stringify(t))),{perspective:e});r.navigate(this.getRouteForQuery(s),{replace:!0})}))},this.handleTabClick=(e,t)=>{const{query:r,router:s}=this.props,{activeTabKey:a}=this.state;a!==t&&this.setState({activeTabKey:t},(()=>{const e=Object.assign(Object.assign({},JSON.parse(JSON.stringify(r))),{tabKey:t});s.navigate(this.getRouteForQuery(e),{replace:!0})}))},this.isAwsAvailable=()=>{const{awsProviders:e,userAccess:t}=this.props;return(0,mt.n9)(t,e)},this.isAwsOcpAvailable=()=>{const{awsProviders:e,ocpProviders:t,userAccess:r}=this.props;return(0,mt.KT)(r)&&(0,ut.JY)(e,t)},this.isAzureAvailable=()=>{const{azureProviders:e,userAccess:t}=this.props;return(0,mt.hn)(t,e)},this.isAzureOcpAvailable=()=>{const{azureProviders:e,ocpProviders:t,userAccess:r}=this.props;return(0,mt.FW)(r)&&(0,ut.JY)(e,t)},this.isGcpAvailable=()=>{const{gcpProviders:e,userAccess:t}=this.props;return(0,mt.FE)(t,e)},this.isGcpOcpAvailable=()=>{const{gcpProviders:e,ocpProviders:t,userAccess:r}=this.props;return(0,mt.Sv)(r)&&(0,ut.JY)(e,t)},this.isIbmAvailable=()=>{const{ibmProviders:e,userAccess:t}=this.props;return(0,mt.Es)(t,e)},this.isIbmOcpAvailable=()=>{const{ibmProviders:e,ocpProviders:t,userAccess:r}=this.props;return(0,mt.tt)(r)&&(0,ut.JY)(e,t)},this.isOciAvailable=()=>{const{ociProviders:e,userAccess:t}=this.props;return(0,mt.HC)(t,e)},this.isOcpAvailable=()=>{const{ocpProviders:e,userAccess:t}=this.props;return(0,mt.mn)(t,e)},this.isOcpCloudAvailable=()=>{const e=this.isAwsOcpAvailable(),t=this.isAzureOcpAvailable(),r=this.isGcpOcpAvailable(),s=this.isIbmOcpAvailable();return e||t||r||s},this.isRhelAvailable=()=>{const{isFinsightsFeatureEnabled:e,rhelProviders:t,userAccess:r}=this.props;return e&&(0,mt.ZC)(r,t)}}componentDidMount(){const{tabKey:e}=this.props;this.setState({activeTabKey:e,currentInfrastructurePerspective:this.getDefaultInfrastructurePerspective(),currentOcpPerspective:this.getDefaultOcpPerspective(),currentRhelPerspective:this.getDefaultRhelPerspective()})}componentDidUpdate(e){const{providers:t,tabKey:r,userAccess:s}=this.props;e.userAccess===s&&e.providers===t||this.setState({activeTabKey:r,currentInfrastructurePerspective:this.getDefaultInfrastructurePerspective(),currentOcpPerspective:this.getDefaultOcpPerspective(),currentRhelPerspective:this.getDefaultRhelPerspective()})}render(){const{providersFetchStatus:e,intl:t,isCurrencyFeatureEnabled:r,isFinsightsFeatureEnabled:c,isIbmFeatureEnabled:i,isOciFeatureEnabled:o,userAccessFetchStatus:n}=this.props,p=!(e!==I.iF.complete||this.isAwsAvailable()||this.isAzureAvailable()||this.isGcpAvailable()||this.isIbmAvailable()||this.isOciAvailable()||this.isOcpAvailable()||this.isRhelAvailable()),u=e===I.iF.inProgress||n===I.iF.inProgress,d=this.getAvailableTabs(),b=t.formatMessage(l.Z.overviewTitle);return u?h().createElement(m.g,{title:b}):p?h().createElement(v.L,{title:b}):h().createElement(h().Fragment,null,h().createElement("header",{style:It.header},h().createElement("div",{style:It.headerContent},h().createElement(s.Title,{headingLevel:"h1",size:s.TitleSizes["2xl"]},b,h().createElement("span",{style:It.infoIcon},h().createElement(s.Popover,{"aria-label":t.formatMessage(l.Z.overviewInfoArialLabel),enableFlip:!0,bodyContent:h().createElement(h().Fragment,null,h().createElement("p",{style:It.infoTitle},t.formatMessage(l.Z.openShiftCloudInfrastructure)),h().createElement("p",null,t.formatMessage(l.Z.openShiftCloudInfrastructureDesc)),h().createElement("br",null),h().createElement("p",{style:It.infoTitle},t.formatMessage(l.Z.openShift)),h().createElement("p",null,t.formatMessage(l.Z.openShiftDesc)),h().createElement("br",null),c&&h().createElement(h().Fragment,null,h().createElement("p",{style:It.infoTitle},t.formatMessage(l.Z.rhel)),h().createElement("p",null,t.formatMessage(l.Z.rhelDesc)),h().createElement("br",null)),h().createElement("p",{style:It.infoTitle},t.formatMessage(l.Z.aws)),h().createElement("p",null,t.formatMessage(l.Z.awsDesc)),h().createElement("br",null),h().createElement("p",{style:It.infoTitle},t.formatMessage(l.Z.gcp)),h().createElement("p",null,t.formatMessage(l.Z.gcpDesc)),i&&h().createElement(h().Fragment,null,h().createElement("br",null),h().createElement("p",{style:It.infoTitle},t.formatMessage(l.Z.ibm)),h().createElement("p",null,t.formatMessage(l.Z.ibmDesc))),h().createElement("br",null),h().createElement("p",{style:It.infoTitle},t.formatMessage(l.Z.azure)),h().createElement("p",null,t.formatMessage(l.Z.azureDesc)),o&&h().createElement(h().Fragment,null,h().createElement("br",null),h().createElement("p",{style:It.infoTitle},t.formatMessage(l.Z.oci)),h().createElement("p",null,t.formatMessage(l.Z.ociDesc))))},h().createElement(s.Button,{"aria-label":t.formatMessage(l.Z.overviewInfoButtonArialLabel),variant:s.ButtonVariant.plain},h().createElement(a.iC,null))))),h().createElement("div",{style:It.headerContentRight},r&&this.getCurrency())),h().createElement("div",{style:It.tabs},this.getTabs(d)),h().createElement("div",{style:It.headerContent},h().createElement("div",{style:It.headerContentLeft},this.getPerspective(),this.getCostType()),h().createElement("div",{style:It.date},(0,bt.J4)()))),h().createElement("div",{style:It.main},this.getTabContent(d)))}}const Dt=(0,I.X1)(((e,{router:t})=>{const r=function(e){return i.mB(e)}(t.location.search),s=r.tabKey&&!Number.isNaN(r.tabKey)?Number(r.tabKey):0,a=r.perspective,l=_.iJ.selectIsCurrencyFeatureEnabled(e),u=l?(0,X.zC)():void 0,h=_.iJ.selectIsCostTypeFeatureEnabled(e),d=a===At.aws||a===At.awsOcp&&h?(0,B.u)():void 0,b=Object.assign({tabKey:s},a&&{perspective:a}),g=(0,o.H)(ht.NT),m=ht.aX.selectProviders(e,c.l.all,g),y=ht.aX.selectProvidersError(e,c.l.all,g),v=ht.aX.selectProvidersFetchStatus(e,c.l.all,g),T=(0,n.T)(dt.QR),f=dt.JO.selectUserAccess(e,p.n.all,T),F=dt.JO.selectUserAccessError(e,p.n.all,T),R=dt.JO.selectUserAccessFetchStatus(e,p.n.all,T);return{awsProviders:(0,ut.BV)(m,c.l.aws),azureProviders:(0,ut.BV)(m,c.l.azure),costType:d,currency:u,gcpProviders:(0,ut.BV)(m,c.l.gcp),ibmProviders:(0,ut.BV)(m,c.l.ibm),isCostTypeFeatureEnabled:h,isCurrencyFeatureEnabled:l,isFinsightsFeatureEnabled:_.iJ.selectIsFinsightsFeatureEnabled(e),isIbmFeatureEnabled:_.iJ.selectIsIbmFeatureEnabled(e),isOciFeatureEnabled:_.iJ.selectIsOciFeatureEnabled(e),ociProviders:(0,ut.BV)(m,c.l.oci),ocpProviders:(0,ut.BV)(m,c.l.ocp),providers:m,providersError:y,providersFetchStatus:v,perspective:a,query:b,rhelProviders:(0,ut.BV)(m,c.l.rhel),tabKey:s,userAccess:f,userAccessError:F,userAccessFetchStatus:R,userAccessQueryString:T}})),Wt=(0,d.ZP)((0,gt.E)((0,b.connect)(Dt,{})(jt)))},96351:(e,t,r)=>{r.d(t,{Es:()=>m,F4:()=>F,FE:()=>b,FW:()=>n,HC:()=>u,KT:()=>i,Rt:()=>y,Sv:()=>d,Xd:()=>l,ZC:()=>f,hn:()=>p,mn:()=>v,n9:()=>o,ot:()=>h,tt:()=>g,yY:()=>T});var s=r(91577);const a=(e,t)=>{let r=!1;if(e&&Array.isArray(e.data)){const s=e.data.find((e=>e.type===t));r=s&&s.access}else r=e&&!0===e.data;return r},c=e=>{let t=!1;return e&&e.meta&&(t=e.meta.count>0),t},i=e=>a(e,s.n.aws),o=(e,t)=>i(e)&&c(t),n=e=>a(e,s.n.azure),p=(e,t)=>n(e)&&c(t),l=e=>a(e,s.n.oci),u=(e,t)=>l(e)&&c(t),h=e=>a(e,s.n.cost_model),d=e=>a(e,s.n.gcp),b=(e,t)=>a(e,s.n.gcp)&&c(t),g=e=>d(e),m=(e,t)=>g(e)&&c(t),y=e=>a(e,s.n.ocp),v=(e,t)=>y(e)&&c(t),T=e=>a(e,s.n.rhel),f=(e,t)=>T(e)&&c(t),F=e=>a(e,s.n.ros)}}]);
//# sourceMappingURL=../sourcemaps/overview.5e26b1b951399bea29c7a2b04dffebe5.js.map
(self.webpackChunkkoku_ui=self.webpackChunkkoku_ui||[]).push([[6750],{52636:(e,t,r)=>{"use strict";r.d(t,{Xk:()=>a,rU:()=>s});var o=r(40400);const s={name:"CalculatorIcon",height:512,width:448,svgPath:"M400 0H48C22.4 0 0 22.4 0 48v416c0 25.6 22.4 48 48 48h352c25.6 0 48-22.4 48-48V48c0-25.6-22.4-48-48-48zM128 435.2c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8V268.8c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v166.4zm0-256c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8V76.8C64 70.4 70.4 64 76.8 64h294.4c6.4 0 12.8 6.4 12.8 12.8v102.4z",yOffset:0,xOffset:0},a=(0,o.IU)(s)},33605:(e,t)=>{"use strict";t.o3={name:"--pf-global--Color--100",value:"#151515",var:"var(--pf-global--Color--100)"},t.ZP=t.o3},40794:(e,t)=>{"use strict";t.zf={name:"--pf-global--FontSize--xs",value:"0.75rem",var:"var(--pf-global--FontSize--xs)"},t.ZP=t.zf},12289:(e,t)=>{"use strict";t.Jd={name:"--pf-global--disabled-color--100",value:"#6a6e73",var:"var(--pf-global--disabled-color--100)"},t.ZP=t.Jd},11331:(e,t)=>{"use strict";t.po={name:"--pf-global--spacer--3xl",value:"4rem",var:"var(--pf-global--spacer--3xl)"},t.ZP=t.po},35823:e=>{e.exports=function(e,t,r,o){var s=new Blob(void 0!==o?[o,e]:[e],{type:r||"application/octet-stream"});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(s,t);else{var a=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(s):window.webkitURL.createObjectURL(s),i=document.createElement("a");i.style.display="none",i.href=a,i.setAttribute("download",t),void 0===i.download&&i.setAttribute("target","_blank"),document.body.appendChild(i),i.click(),setTimeout((function(){document.body.removeChild(i),window.URL.revokeObjectURL(a)}),200)}}},40493:(e,t,r)=>{"use strict";r.d(t,{X:()=>L});var o=r(90154),s=r(95147),a=r(97027),i=r(44439),l=r(92950),n=r.n(l),p=r(74806),u=r(77760),c=r(1156),h=r(22369),d=r(14483),y=r(32412),g=r(48196),m=r(43789);const b={alert:{marginBottom:y.ZP.var},form:{marginLeft:g.ZP.var},modal:{input:{marginRight:m.ZP.var},ul:{marginLeft:g.ZP.var}},title:{marginBottom:y.ZP.var}};var f=r(39333),v=r(6456),B=r(4135),S=r(43703),C=r(35823),x=r.n(C),G=r(77789),T=r(93931),E=r(45087),O=r(5842);const M=v.C.cost;class _ extends n().Component{constructor(e,t){super(e,t),this.defaultState={fetchExportClicked:!1},this.state=Object.assign({},this.defaultState),this.getExport=()=>{const{exportFetchStatus:e,exportReport:t}=this.props;t&&e===c.iF.complete&&(x()(t.data,this.getFileName(),"text/csv"),this.handleClose())},this.getFileName=()=>{const{endDate:e,groupBy:t,intl:r,reportPathsType:o,resolution:s,startDate:i}=this.props;return`${r.formatMessage(a.Z.exportFileName,{endDate:e,provider:o,groupBy:t&&-1!==t.indexOf(d.P)?"tag":t,resolution:s,startDate:i})}.csv`},this.handleClose=()=>{const{exportError:e}=this.props;this.setState(Object.assign({},this.defaultState),(()=>{e||this.props.onClose(!1)}))},this.handleFetchExport=()=>{const{exportQueryString:e,fetchExport:t,isExportsFeatureEnabled:r,reportPathsType:o}=this.props;t(o,M,e,r),this.setState({fetchExportClicked:!0},(()=>{this.getExport()}))}}componentDidUpdate(e){const{exportError:t,exportReport:r}=this.props,{fetchExportClicked:o}=this.state;e.exportReport!==r&&o&&this.getExport(),t&&this.props.onError(t)}render(){const{disabled:e,exportFetchStatus:t,intl:r}=this.props;return n().createElement(o.Button,{ouiaId:"submit-btn",isDisabled:e||t===c.iF.inProgress,key:"confirm",onClick:this.handleFetchExport,variant:o.ButtonVariant.primary},r.formatMessage(a.Z.exportGenerate))}}const Z=(0,c.X1)(((e,t)=>{const{groupBy:r,isAllItems:o,items:a,reportPathsType:i,reportQueryString:l,resolution:n,router:p,timeScope:u}=t,c=(0,f.mB)(p.location.search),{end_date:y,start_date:g}=(()=>{if(c.dateRangeType)return(0,G.H7)(c);{const e="previous"===u,t=(0,E.x2)();return e&&(t.setDate(1),t.setMonth(t.getMonth()-1)),{end_date:(0,s.Z)(e?(0,B.Z)(t):t,"yyyy-MM-dd"),start_date:(0,s.Z)((0,S.Z)(t),"yyyy-MM-dd")}}})(),m=(()=>{const e=(0,f.mB)(l),t=Object.assign(Object.assign({},e),{delta:void 0,filter:{limit:void 0,offset:void 0,resolution:n||void 0},filter_by:{},limit:0,order_by:void 0,start_date:g,end_date:y});if(c.filter_by)for(const e of Object.keys(c.filter_by))void 0===t.filter_by[e]&&(t.filter_by[e]=[]),t.filter_by[e].push(c.filter_by[e]);if(o)r===d.dV&&(void 0===t.filter_by[d.dV]&&(t.filter_by[d.dV]=[]),t.filter_by[d.dV].push(c.group_by[d.dV]));else if(r===d.dV)for(const e of a){const r="organizational_unit"===e.type?d.dV:e.type;void 0===t.filter_by[r]&&(t.filter_by[r]=[]),t.filter_by[r].push(e.id)}else for(const e of a)void 0===t.filter_by[r]&&(t.filter_by[r]=[]),t.filter_by[r].push(e.id);return(0,f.pm)(t)})(),b=T.$S.selectExport(e,i,M,m),v=T.$S.selectExportError(e,i,M,m),C=T.$S.selectExportFetchStatus(e,i,M,m);return{endDate:y,exportError:v,exportFetchStatus:C,exportQueryString:m,exportReport:b,isExportsFeatureEnabled:h.iJ.selectIsExportsFeatureEnabled(e),startDate:g}})),R={fetchExport:T.HY.xC},k=(0,u.connect)(Z,R)(_),V=(0,p.ZP)((0,O.E)(k)),I=[{label:a.Z.exportFormatType,value:"csv"},{label:a.Z.exportFormatType,value:"json"}],F=[{label:a.Z.exportResolution,value:"daily"},{label:a.Z.exportResolution,value:"monthly"}],P=[{label:a.Z.exportTimeScope,value:"current"},{label:a.Z.exportTimeScope,value:"previous"}];class D extends n().Component{constructor(e,t){super(e,t),this.defaultState={error:void 0,formatType:"csv",timeScope:"current",resolution:this.props.resolution||"monthly"},this.state=Object.assign({},this.defaultState),this.handleClose=()=>{this.setState(Object.assign({},this.defaultState),(()=>{this.props.onClose(!1)}))},this.handleError=e=>{this.setState({error:e})},this.handleMonthChange=(e,t)=>{this.setState({timeScope:t.currentTarget.value})},this.handleNameChange=(e,t)=>{this.setState({name:t.currentTarget.value})},this.handleResolutionChange=(e,t)=>{this.setState({resolution:t.currentTarget.value})},this.handleTypeChange=(e,t)=>{this.setState({formatType:t.currentTarget.value})},this.nameValidator=e=>0===e.trim().length?a.Z.exportNameRequired:e.length>50?a.Z.exportNameTooLong:void 0,this.handleMonthChange=this.handleMonthChange.bind(this),this.handleResolutionChange=this.handleResolutionChange.bind(this),this.handleTypeChange=this.handleTypeChange.bind(this)}render(){const{count:e=0,groupBy:t,intl:r,isAllItems:l,isExportsFeatureEnabled:p,items:u,reportPathsType:c,reportQueryString:h,showAggregateType:y=!0,showFormatType:g=!0,showTimeScope:m=!0}=this.props,{error:f,formatType:v,name:B,resolution:S,timeScope:C}=this.state;let x=[...u];this.props.isOpen&&(x=u&&0===u.length&&l?[{label:r.formatMessage(a.Z.exportAll)}]:(0,i.orderBy)(x,["label"],["asc"]));let G=r.formatMessage(a.Z.exportSelected,{groupBy:t,count:e});t&&-1!==t.indexOf(d.P)&&(G=r.formatMessage(a.Z.exportSelected,{groupBy:"tag",count:e}));const T=new Date,E=(new Date).setMonth(T.getMonth()-1),O=(0,s.Z)(T,"MMMM yyyy"),M=(0,s.Z)(E-1,"MMMM yyyy"),_=void 0!==B?B:r.formatMessage(a.Z.exportName,{provider:c,groupBy:t&&-1!==t.indexOf(d.P)?"tag":t}),Z=p?this.nameValidator(_):void 0,R=Z?"error":"default";return n().createElement(o.Modal,{style:b.modal,isOpen:this.props.isOpen,onClose:this.handleClose,title:r.formatMessage(a.Z.exportTitle),variant:"small",actions:[n().createElement(V,{disabled:"error"===R,formatType:v,groupBy:t,isAllItems:l,items:u,key:"confirm",timeScope:m?C:void 0,onClose:this.handleClose,onError:this.handleError,name:_,reportPathsType:c,reportQueryString:h,resolution:S}),n().createElement(o.Button,{ouiaId:"cancel-btn",key:"cancel",onClick:this.handleClose,variant:o.ButtonVariant.link},r.formatMessage(a.Z.cancel))]},f&&n().createElement(o.Alert,{variant:"danger",style:b.alert,title:r.formatMessage(a.Z.exportError)}),n().createElement("div",{style:b.title},p?n().createElement("span",null,r.formatMessage(a.Z.exportDesc,{value:n().createElement("b",null,r.formatMessage(a.Z.exportsTitle))})):n().createElement("span",null,r.formatMessage(a.Z.exportHeading,{groupBy:t}))),n().createElement(o.Form,{style:b.form},n().createElement(o.Grid,{hasGutter:!0,md:6},p&&n().createElement(o.GridItem,{span:12},n().createElement(o.FormGroup,{fieldId:"exportName",helperTextInvalid:Z?r.formatMessage(Z):void 0,label:r.formatMessage(a.Z.names,{count:1}),isRequired:!0,validated:R},n().createElement(o.TextInput,{isRequired:!0,type:"text",id:"exportName",name:"exportName",value:_,onChange:this.handleNameChange}))),y&&n().createElement(o.FormGroup,{fieldId:"aggregate-type",label:r.formatMessage(a.Z.exportAggregateType),isRequired:!0},n().createElement(n().Fragment,null,F.map(((e,t)=>n().createElement(o.Radio,{key:t,id:`resolution-${t}`,isValid:void 0!==e.value,label:r.formatMessage(e.label,{value:e.value}),value:e.value,isChecked:S===e.value,name:"resolution",onChange:this.handleResolutionChange,"aria-label":r.formatMessage(e.label,{value:e.value})}))))),m&&n().createElement(o.FormGroup,{fieldId:"timeScope",label:r.formatMessage(a.Z.exportTimeScopeTitle),isRequired:!0},n().createElement(n().Fragment,null,P.map(((e,t)=>n().createElement(o.Radio,{key:t,id:`timeScope-${t}`,isValid:void 0!==e.value,label:r.formatMessage(e.label,{date:"previous"===e.value?M:O,value:e.value}),value:e.value,isChecked:C===e.value,name:"timeScope",onChange:this.handleMonthChange,"aria-label":r.formatMessage(e.label,{date:"previous"===e.value?M:O,value:e.value})}))))),g&&p&&n().createElement(o.GridItem,{span:12},n().createElement(o.FormGroup,{fieldId:"formatType",label:r.formatMessage(a.Z.exportFormatTypeTitle),isRequired:!0},I.map(((e,t)=>n().createElement(o.Radio,{key:t,id:`formatType-${t}`,isValid:void 0!==e.value,label:r.formatMessage(e.label,{value:e.value}),value:e.value,isChecked:v===e.value,name:"formatType",onChange:this.handleTypeChange,"aria-label":r.formatMessage(e.label,{value:e.value})}))))),n().createElement(o.GridItem,{span:12},n().createElement(o.FormGroup,{label:G,fieldId:"selectedLabels"},n().createElement("ul",null,x.map(((e,t)=>n().createElement("li",{key:t},e.label)))))))))}}const w=(0,c.X1)((e=>({isExportsFeatureEnabled:h.iJ.selectIsExportsFeatureEnabled(e)}))),j=(0,u.connect)(w,void 0)(D),L=(0,p.ZP)(j)},36465:(e,t,r)=>{"use strict";r.d(t,{X:()=>D});var o=r(90154),s=r(96740),a=r(39333),i=r(36116),l=r(50081),n=r(97027),p=r(92950),u=r.n(p),c=r(74806),h=r(77760),d=r(77789),y=r(1156),g=r(22369),m=r(98449),b=r(19878),f=r(48949),v=r(14483),B=r(5842);const S={groupBySelector:{display:"flex",alignItems:"center"},groupBySelectorLabel:{marginBottom:0,marginRight:r(32412).ZP.var,whiteSpace:"nowrap"}};class C extends u().Component{constructor(e){super(e),this.defaultState={defaultItem:this.props.groupBy||this.props.options[0].value,isGroupByOpen:!1},this.state=Object.assign({},this.defaultState),this.getCurrentGroupBy=()=>{const{getIdKeyForGroupBy:e,router:t}=this.props,r=(0,a.mB)(t.location.search),o=r&&r.group_by?Object.keys(r.group_by):[];let s=e(r.group_by);for(const e of o)if(-1!==e.indexOf(v.dV)){s=r.group_by[v.dV];break}return s},this.getGroupByItems=()=>{const{orgReport:e}=this.props;if(!e||!e.data)return[];const t=e.data.sort(((e,t)=>e[v.iP]<t[v.iP]?-1:e[v.iP]>t[v.iP]?1:0)),r=t.filter((e=>0===e.level)),o=t.filter((e=>0!==e.level));return r.map((e=>{const r=t.find((t=>t[v.dV]===e[v.dV]));o.unshift(r)})),o.map((e=>({id:e[v.dV],toString:()=>e[v.iP]})))},this.handleGroupByClear=()=>{this.setState({currentItem:void 0})},this.handleGroupBySelected=(e,t)=>{const{onSelected:r}=this.props;this.setState({currentItem:t.id,isGroupByOpen:!1}),r&&r(`${v.dV}${t.id}`)},this.handleGroupByToggle=e=>{this.setState({isGroupByOpen:e})},this.handleGroupByClear=this.handleGroupByClear.bind(this),this.handleGroupBySelected=this.handleGroupBySelected.bind(this),this.handleGroupByToggle=this.handleGroupByToggle.bind(this)}componentDidMount(){this.setState({currentItem:this.getCurrentGroupBy()})}componentDidUpdate(e){const{groupBy:t}=this.props;e.groupBy!==t&&this.setState({currentItem:this.getCurrentGroupBy()})}render(){const{isDisabled:e=!1,intl:t}=this.props,{currentItem:r,isGroupByOpen:s}=this.state,a=this.getGroupByItems(),i=a.find((e=>e.id===r));return u().createElement("div",{style:S.groupBySelector},u().createElement(o.Select,{"aria-label":t.formatMessage(n.Z.filterByOrgUnitAriaLabel),isDisabled:e,onClear:this.handleGroupByClear,onToggle:this.handleGroupByToggle,onSelect:this.handleGroupBySelected,isOpen:s,placeholderText:t.formatMessage(n.Z.filterByOrgUnitPlaceholder),selections:i,variant:o.SelectVariant.typeahead},a.map((e=>u().createElement(o.SelectOption,{description:e.id,key:e.id,value:e})))))}}const x=(0,c.ZP)((0,B.E)(C));var G=r(44439);class T extends u().Component{constructor(e){super(e),this.defaultState={isGroupByOpen:!1,prefix:this.props.isCostCategory?v.LM:v.P},this.state=Object.assign({},this.defaultState),this.getCurrentGroupBy=()=>{const{router:e}=this.props,{prefix:t}=this.state,r=(0,a.mB)(e.location.search),o=r&&r.group_by?Object.keys(r.group_by):[];let s;for(const e of o)if(-1!==e.indexOf(t)){s=e.slice(t.length);break}return s},this.getGroupByItems=()=>{const{report:e}=this.props;if(!e||!e.data)return[];let t=!1;for(const r of e.data)if(r.hasOwnProperty("key")){t=!0;break}let r=[];if(t){const t=e.data.map((e=>{var{type:t}=e;return function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(o=Object.getOwnPropertySymbols(e);s<o.length;s++)t.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(r[o[s]]=e[o[s]])}return r}(e,["type"])}));r=(0,G.uniqBy)(t,"key")}else r=(0,G.uniq)(e.data);return r.map(((e,r)=>{const s=t?e.key:e;return u().createElement(o.SelectOption,{key:`${s}:${r}`,value:s})}))},this.handleGroupByClear=()=>{this.setState({currentItem:void 0})},this.handleGroupBySelected=(e,t)=>{const{onSelected:r}=this.props,{prefix:o}=this.state;this.setState({currentItem:t,isGroupByOpen:!1}),r&&r(`${o}${t}`)},this.handleGroupByToggle=e=>{this.setState({isGroupByOpen:e})},this.handleGroupByClear=this.handleGroupByClear.bind(this),this.handleGroupBySelected=this.handleGroupBySelected.bind(this),this.handleGroupByToggle=this.handleGroupByToggle.bind(this)}componentDidMount(){this.setState({currentItem:this.getCurrentGroupBy()})}componentDidUpdate(e){const{groupBy:t}=this.props;e.groupBy!==t&&this.setState({currentItem:this.getCurrentGroupBy()})}render(){const{isCostCategory:e,isDisabled:t,intl:r}=this.props,{currentItem:s,isGroupByOpen:a}=this.state;return u().createElement("div",{style:S.groupBySelector},u().createElement(o.Select,{"aria-label":r.formatMessage(e?n.Z.filterByCostCategoryKeyAriaLabel:n.Z.filterByTagKeyAriaLabel),isDisabled:t,onClear:this.handleGroupByClear,onToggle:this.handleGroupByToggle,onSelect:this.handleGroupBySelected,isOpen:a,placeholderText:r.formatMessage(n.Z.chooseKeyPlaceholder),selections:s,variant:o.SelectVariant.typeahead},this.getGroupByItems()))}}const E=(0,c.ZP)((0,B.E)(T)),O=[{label:v.dV,value:v.dV}],M=[{label:v.tZ,value:v.tZ}],_=[{label:v.up,value:v.up}],Z=s.J.org,R=i._.aws_category,k=l.Q.tag;class V extends u().Component{constructor(e,t){super(e,t),this.defaultState={defaultItem:this.props.groupBy||this.props.options[0].value,isGroupByCostCategoryVisible:!1,isGroupByOpen:!1,isGroupByOrgVisible:!1,isGroupByTagVisible:!1},this.state=Object.assign({},this.defaultState),this.getCurrentGroupBy=()=>{const{getIdKeyForGroupBy:e,router:t}=this.props,{defaultItem:r}=this.state,o=(0,a.mB)(t.location.search);if(!o||!o.group_by)return r;let s=e(o.group_by);const i=o&&o.group_by?Object.keys(o.group_by):[];for(const e of i){let t=e.indexOf(v.P);if(-1!==t){s=v.up,this.setState({isGroupByTagVisible:!0});break}if(t=e.indexOf(v.dV),-1!==t){s=v.dV,this.setState({isGroupByOrgVisible:!0});break}if(t=e.indexOf(v.LM),-1!==t){s=v.tZ,this.setState({isGroupByCostCategoryVisible:!0});break}}return"date"!==s?s:r},this.getGroupBy=()=>{const{isDisabled:e}=this.props,{currentItem:t,isGroupByOpen:r}=this.state,s=this.getGroupByOptions(),a=s.find((e=>e.value===t));return u().createElement(o.Select,{id:"groupBySelect",isDisabled:e,isOpen:r,onSelect:this.handleGroupBySelected,onToggle:this.handleGroupByToggle,selections:a,variant:o.SelectVariant.single},s.map((e=>u().createElement(o.SelectOption,{key:e.value,value:e}))))},this.getGroupByOptions=()=>{const{isCostCategoriesFeatureEnabled:e,options:t,orgReport:r,resourceReport:o,tagReport:s,intl:a}=this.props,i=[...t];return r&&r.data&&r.data.length>0&&i.push(...O),s&&s.data&&s.data.length>0&&i.push(..._),o&&o.data&&o.data.length>0&&e&&i.push(...M),i.map((e=>({toString:()=>a.formatMessage(n.Z.groupByValuesTitleCase,{value:e.label,count:1}),value:e.value}))).sort(((e,t)=>e.toString()<t.toString()?-1:e.toString()>t.toString()?1:0))},this.handleGroupBySelected=(e,t)=>{const{onSelected:r}=this.props;t.value===v.dV||t.value===v.tZ||t.value===v.up?this.setState({currentItem:t.value,isGroupByCostCategoryVisible:t.value===v.tZ,isGroupByOpen:!1,isGroupByOrgVisible:t.value===v.dV,isGroupByTagVisible:t.value===v.up}):this.setState({currentItem:t.value,isGroupByCostCategoryVisible:!1,isGroupByOpen:!1,isGroupByOrgVisible:!1,isGroupByTagVisible:!1},(()=>{r&&r(t.value)}))},this.handleGroupByToggle=e=>{this.setState({isGroupByOpen:e})},this.updateReport=()=>{const{fetchOrg:e,fetchResource:t,fetchTag:r,isCostCategoriesFeatureEnabled:o,orgPathsType:s,orgQueryString:a,showCostCategories:i,showOrgs:l,showTags:n,resourcePathsType:p,resourceQueryString:u,tagPathsType:c,tagQueryString:h}=this.props;i&&o&&t(p,R,u),l&&e(s,Z,a),n&&r(c,k,h)},this.handleGroupBySelected=this.handleGroupBySelected.bind(this),this.handleGroupByToggle=this.handleGroupByToggle.bind(this)}componentDidMount(){this.setState({currentItem:this.getCurrentGroupBy()},(()=>{this.updateReport()}))}componentDidUpdate(e){const{groupBy:t,perspective:r}=this.props;if(e.groupBy!==t||e.perspective!==r){let t;e.perspective!==r&&(t={isGroupByCostCategoryVisible:!1,isGroupByOrgVisible:!1,isGroupByTagVisible:!1}),this.setState(Object.assign({currentItem:this.getCurrentGroupBy()},t||{}),(()=>{this.updateReport()}))}}render(){const{getIdKeyForGroupBy:e,groupBy:t,intl:r,isDisabled:s=!1,onSelected:a,orgReport:i,resourceReport:l,tagReport:p}=this.props,{isGroupByOrgVisible:c,isGroupByCostCategoryVisible:h,isGroupByTagVisible:d}=this.state;return u().createElement("div",{style:S.groupBySelector},u().createElement(o.Title,{headingLevel:"h3",size:"md",style:S.groupBySelectorLabel},r.formatMessage(n.Z.groupByLabel)),this.getGroupBy(),c&&u().createElement(x,{getIdKeyForGroupBy:e,groupBy:t,isDisabled:s,onSelected:a,options:O,orgReport:i}),d&&u().createElement(E,{groupBy:t,isDisabled:s,onSelected:a,options:_,report:p}),h&&u().createElement(E,{groupBy:t,isCostCategory:!0,isDisabled:s,onSelected:a,options:M,report:l}))}}const I=(0,y.X1)(((e,{orgPathsType:t,router:r,resourcePathsType:o,tagPathsType:s})=>{const i=(0,a.mB)(r.location.search);let l={filter:{resolution:"monthly",time_scope_units:"month",time_scope_value:-1}};if(i.dateRangeType){const{end_date:e,start_date:t}=(0,d.H7)(i);l={end_date:e,start_date:t}}const n=Object.assign(Object.assign({},l),{key_only:!0,limit:1e3}),p=(0,a.pm)({key_only:!0}),u=b.CM.selectResource(e,o,R,p),c=b.CM.selectResourceFetchStatus(e,o,R,p),h=(0,a.pm)(Object.assign({},n)),y=f.ux.selectTag(e,s,k,h),v=f.ux.selectTagFetchStatus(e,s,k,h),B=(0,a.pm)(Object.assign({},n)),S=m.zE.selectOrg(e,t,Z,B),C=m.zE.selectOrgFetchStatus(e,t,Z,B);return{isCostCategoriesFeatureEnabled:g.iJ.selectIsCostCategoriesFeatureEnabled(e),orgReport:S,orgReportFetchStatus:C,orgQueryString:B,resourceReport:u,resourceReportFetchStatus:c,resourceQueryString:p,tagReport:y,tagReportFetchStatus:v,tagQueryString:h}})),F={fetchOrg:m.Lp.T7,fetchResource:b.Px.PG,fetchTag:f.xr.Xt},P=(0,h.connect)(I,F)(V),D=(0,c.ZP)((0,B.E)(P))},77789:(e,t,r)=>{"use strict";r.d(t,{H7:()=>l,NU:()=>o,jv:()=>i});var o,s=r(4135),a=r(45087);!function(e){e.currentMonthToDate="current_month_to_date",e.custom="custom",e.previousMonth="previous_month",e.previousMonthToDate="previous_month_to_date",e.lastNinetyDays="last_ninety_days",e.lastSixtyDays="last_sixty_days",e.lastSixtyFiveDays="last_sixty_days",e.lastThirtyDays="last_thirty_days"}(o||(o={}));const i=e=>e.dateRangeType||o.currentMonthToDate,l=e=>{let t,r;return e.dateRangeType===o.custom&&(t=e.end_date,r=e.start_date),t&&r?{end_date:t,start_date:r}:((e,t=!0)=>{const r=new Date,i=new Date;let l;switch(e){case o.previousMonth:r.setDate(1),i.setDate(1),r.setMonth(r.getMonth()-1),i.setMonth(i.getMonth()-1),l=(0,a.$M)(i,(0,s.Z)(r),t);break;case o.previousMonthToDate:i.setDate(1),i.setMonth(i.getMonth()-1),l=(0,a.$M)(i,r,t);break;case o.lastNinetyDays:l=(0,a.mI)(t);break;case o.lastSixtyDays:l=(0,a.vI)(t);break;case o.lastThirtyDays:l=(0,a.Gg)(t);break;case o.currentMonthToDate:default:l=(0,a.tw)(t)}return l})(i(e))}}}]);
//# sourceMappingURL=../sourcemaps/6750.c92714fea401f293425ec10661708c10.js.map
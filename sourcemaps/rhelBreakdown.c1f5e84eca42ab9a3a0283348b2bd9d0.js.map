{"version":3,"file":"js/rhelBreakdown.daff9551e7db49ab9ece.js","mappings":"uYAKA,MAAMA,GAAkB,SAAsB,CAACC,GAASC,YAC7C,CACHC,cAAeC,EAAA,iBAAwCH,GACvDI,QAASD,EAAA,wBAA+CH,GACxDC,YAGFI,GAAe,IAAAC,SAAQP,EAAiB,CAAC,EAA1B,CAA6B,K,uBCPlD,MAAM,GAAkB,SAAsB,CAACC,EAAOO,KAC3C,CACHL,cAAeM,EAAA,iBAA0CR,GACzDI,QAASI,EAAA,wBAAiDR,OAG5DS,GAAiB,IAAAH,SAAQ,EAAiB,CAAC,EAA1B,CAA6B,KCY9CI,GAAa,QAAWC,EAAA,oBACxBC,EAAa,SACbC,EAAkB,SAElB,GAAkB,SAAsB,CAACb,GAASc,OAAMC,aAC1D,MAAMC,GAAiB,QAAWD,EAAOE,SAASC,QAC5CC,GAAU,QAAaH,GACvBI,GAAe,QAAgBJ,GAC/BK,GAAW,UACXC,EAAW,CACbC,OAAQ,CACJC,WAAY,UACZC,iBAAkB,QAClBC,kBAAmB,GAEvBC,UAAWC,OAAOC,OAAOD,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAIb,GAAkBA,EAAeW,WAAaX,EAAeW,WAAcX,GAAkBA,EAAeO,QAAU,CAAEO,SAAUd,EAAeO,OAAOO,WAAeX,GAAW,CAAE,CAACA,QAAUY,IACzPC,QAASJ,OAAOC,OAAO,CAAC,EAAIb,GAAkBA,EAAegB,SAAWhB,EAAegB,SACvFC,SAAUL,OAAOC,OAAO,CAAC,EAAIV,GAAW,CAAE,CAACA,GAAUC,IACrDU,SAAUd,EAAec,UAEvBI,GAAoB,QAASN,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAGP,GAAW,CAAEQ,cAAUC,EAAWV,cAC/Fc,EAAS,kBAA6BnC,EAAOa,EAAiBD,EAAYsB,GAC1EE,EAAc,uBAAkCpC,EAAOa,EAAiBD,EAAYsB,GACpFG,EAAoB,6BAAwCrC,EAAOa,EAAiBD,EAAYsB,GAChGI,GAAuB,OAAkB,MACzCC,EAAY,qBAAmCvC,EAAO,QAAkBsC,GACxEE,EAAuB,gCAA8CxC,EAAO,QAAkBsC,GAC9FrC,EAAQe,EAAe,MAAqBA,EAAe,MAAqBI,EACtF,MAAO,CACHqB,sBAAwB,kBAAoBpC,EAAc,CAAEgB,SAAUA,EAAUF,QAASA,EAASuB,iBAAiB,QAAgB1B,GAAiBmB,OAAQA,EAAQlC,MAAOA,IAC3KoB,WACAsB,YAAa3B,EAAe,MAC5BN,aACAkC,gBAAiB9B,EAAK+B,cAAcC,EAAA,oBACpC3B,UACAC,eACA2B,wBAAyB,kBAAoBtC,EAAgB,CAAEY,SAAUA,IACzEkB,WAAW,QAAgBA,EAAW,UACtCC,uBACAQ,aAAc,SACdC,MAAOjC,EACPmB,SACAC,cACAC,oBACAzB,aACAC,kBACAqB,oBACAgB,mBAAoB,SACpBjD,QACH,IAECkD,EAAqB,CACvBC,YAAa,kBAGjB,GADsB,EAAAC,EAAA,KAAW,QAAW,IAAA/C,SAAQ,EAAiB6C,EAAzB,CAA6C,M","sources":["webpack:///./src/routes/views/details/rhelBreakdown/costOverview.tsx","webpack:///./src/routes/views/details/rhelBreakdown/historicalData.tsx","webpack:///./src/routes/views/details/rhelBreakdown/rhelBreakdown.tsx"],"sourcesContent":["import { connect } from 'react-redux';\nimport { CostOverviewBase } from 'routes/views/details/components/costOverview';\nimport { rhelCostOverviewSelectors } from 'store/breakdown/costOverview/rhelCostOverview';\nimport { createMapStateToProps } from 'store/common';\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst mapStateToProps = createMapStateToProps((state, { title }) => {\n    return {\n        selectWidgets: rhelCostOverviewSelectors.selectWidgets(state),\n        widgets: rhelCostOverviewSelectors.selectCurrentWidgets(state),\n        title,\n    };\n});\nconst CostOverview = connect(mapStateToProps, {})(CostOverviewBase);\nexport { CostOverview };\n","import { connect } from 'react-redux';\nimport { HistoricalDataBase } from 'routes/views/details/components/historicalData';\nimport { rhelHistoricalDataSelectors } from 'store/breakdown/historicalData/rhelHistoricalData';\nimport { createMapStateToProps } from 'store/common';\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst mapStateToProps = createMapStateToProps((state, props) => {\n    return {\n        selectWidgets: rhelHistoricalDataSelectors.selectWidgets(state),\n        widgets: rhelHistoricalDataSelectors.selectCurrentWidgets(state),\n    };\n});\nconst HistoricalData = connect(mapStateToProps, {})(HistoricalDataBase);\nexport { HistoricalData };\n","import { ProviderType } from 'api/providers';\nimport { getProvidersQuery } from 'api/queries/providersQuery';\nimport { getQuery, parseQuery } from 'api/queries/rhelQuery';\nimport { ReportPathsType, ReportType } from 'api/reports/report';\nimport { TagPathsType } from 'api/tags/tag';\nimport messages from 'locales/messages';\nimport React from 'react';\nimport { injectIntl } from 'react-intl';\nimport { connect } from 'react-redux';\nimport { routes } from 'routes';\nimport { BreakdownBase } from 'routes/views/details/components/breakdown';\nimport { getGroupById, getGroupByValue } from 'routes/views/utils/groupBy';\nimport { isPlatformCosts } from 'routes/views/utils/paths';\nimport { filterProviders } from 'routes/views/utils/providers';\nimport { createMapStateToProps } from 'store/common';\nimport { providersQuery, providersSelectors } from 'store/providers';\nimport { reportActions, reportSelectors } from 'store/reports';\nimport { getCurrency } from 'utils/localStorage';\nimport { formatPath } from 'utils/paths';\nimport { breakdownDescKey, breakdownTitleKey } from 'utils/props';\nimport { withRouter } from 'utils/router';\nimport { CostOverview } from './costOverview';\nimport { HistoricalData } from './historicalData';\nconst detailsURL = formatPath(routes.rhelDetails.path);\nconst reportType = ReportType.cost;\nconst reportPathsType = ReportPathsType.rhel;\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst mapStateToProps = createMapStateToProps((state, { intl, router }) => {\n    const queryFromRoute = parseQuery(router.location.search);\n    const groupBy = getGroupById(queryFromRoute);\n    const groupByValue = getGroupByValue(queryFromRoute);\n    const currency = getCurrency();\n    const newQuery = {\n        filter: {\n            resolution: 'monthly',\n            time_scope_units: 'month',\n            time_scope_value: -1,\n        },\n        filter_by: Object.assign(Object.assign(Object.assign({}, (queryFromRoute && queryFromRoute.filter_by && queryFromRoute.filter_by)), (queryFromRoute && queryFromRoute.filter && { category: queryFromRoute.filter.category })), (groupBy && { [groupBy]: undefined })),\n        exclude: Object.assign({}, (queryFromRoute && queryFromRoute.exclude && queryFromRoute.exclude)),\n        group_by: Object.assign({}, (groupBy && { [groupBy]: groupByValue })),\n        category: queryFromRoute.category, // Needed to restore details page state\n    };\n    const reportQueryString = getQuery(Object.assign(Object.assign({}, newQuery), { category: undefined, currency }));\n    const report = reportSelectors.selectReport(state, reportPathsType, reportType, reportQueryString);\n    const reportError = reportSelectors.selectReportError(state, reportPathsType, reportType, reportQueryString);\n    const reportFetchStatus = reportSelectors.selectReportFetchStatus(state, reportPathsType, reportType, reportQueryString);\n    const providersQueryString = getProvidersQuery(providersQuery);\n    const providers = providersSelectors.selectProviders(state, ProviderType.all, providersQueryString);\n    const providersFetchStatus = providersSelectors.selectProvidersFetchStatus(state, ProviderType.all, providersQueryString);\n    const title = queryFromRoute[breakdownTitleKey] ? queryFromRoute[breakdownTitleKey] : groupByValue;\n    return {\n        costOverviewComponent: (React.createElement(CostOverview, { currency: currency, groupBy: groupBy, isPlatformCosts: isPlatformCosts(queryFromRoute), report: report, title: title })),\n        currency,\n        description: queryFromRoute[breakdownDescKey],\n        detailsURL,\n        emptyStateTitle: intl.formatMessage(messages.rhelDetailsTitle),\n        groupBy,\n        groupByValue,\n        historicalDataComponent: React.createElement(HistoricalData, { currency: currency }),\n        providers: filterProviders(providers, ProviderType.rhel),\n        providersFetchStatus,\n        providerType: ProviderType.rhel,\n        query: queryFromRoute,\n        report,\n        reportError,\n        reportFetchStatus,\n        reportType,\n        reportPathsType,\n        reportQueryString,\n        tagReportPathsType: TagPathsType.rhel,\n        title,\n    };\n});\nconst mapDispatchToProps = {\n    fetchReport: reportActions.fetchReport,\n};\nconst RhelBreakdown = injectIntl(withRouter(connect(mapStateToProps, mapDispatchToProps)(BreakdownBase)));\nexport default RhelBreakdown;\n"],"names":["mapStateToProps","state","title","selectWidgets","rhelCostOverview","widgets","CostOverview","connect","props","rhelHistoricalData","HistoricalData","detailsURL","routes","reportType","reportPathsType","intl","router","queryFromRoute","location","search","groupBy","groupByValue","currency","newQuery","filter","resolution","time_scope_units","time_scope_value","filter_by","Object","assign","category","undefined","exclude","group_by","reportQueryString","report","reportError","reportFetchStatus","providersQueryString","providers","providersFetchStatus","costOverviewComponent","isPlatformCosts","description","emptyStateTitle","formatMessage","messages","historicalDataComponent","providerType","query","tagReportPathsType","mapDispatchToProps","fetchReport","injectIntl"],"sourceRoot":""}
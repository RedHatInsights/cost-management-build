(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{126:function(e,t,a){"use strict";var r=a(1),s=a.n(r),n=a(0),i=a.n(n),o=a(44),c=a.n(o),l=a(225),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},d=function(e){function t(){var a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,n=Array(s),i=0;i<s;i++)n[i]=arguments[i];return a=r=p(this,e.call.apply(e,[this].concat(n))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!h(e)){e.preventDefault();var t=r.context.router.history,a=r.props,s=a.replace,n=a.to;s?t.replace(n):t.push(n)}},p(r,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),a=e.innerRef,r=function(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}(e,["replace","to","innerRef"]);c()(this.context.router,"You should not use <Link> outside a <Router>"),c()(void 0!==t,'You must specify the "to" property');var n=this.context.router.history,i="string"==typeof t?Object(l.b)(t,null,null,n.location):t,o=n.createHref(i);return s.a.createElement("a",u({},r,{onClick:this.handleClick,href:o,ref:a}))},t}(s.a.Component);d.propTypes={onClick:i.a.func,target:i.a.string,replace:i.a.bool,to:i.a.oneOfType([i.a.string,i.a.object]).isRequired,innerRef:i.a.oneOfType([i.a.string,i.a.func])},d.defaultProps={replace:!1},d.contextTypes={router:i.a.shape({history:i.a.shape({push:i.a.func.isRequired,replace:i.a.func.isRequired,createHref:i.a.func.isRequired}).isRequired}).isRequired},t.a=d},587:function(e,t,a){"use strict";a.d(t,"c",function(){return r}),a.d(t,"b",function(){return s}),a.d(t,"a",function(){return i});const r=e=>{const t=e?e.toLowerCase():"";switch(t){case"usd":case"gb":case"gb-hours":case"gb-mo":case"core-hours":case"hrs":case"tag-mo":case"vm-hours":return t;default:return""}},s=(e,t,a={})=>{const s=r(t),l=e||0;switch(s){case"usd":return i(l,s,a);case"gb":case"gb-hours":case"gb-mo":case"tag-mo":case"vm-hours":return o(l,s,a);case"core-hours":case"hrs":return c(l,s,a);default:return n(l,s,a)}},n=(e,t,{fractionDigits:a=0}={})=>e.toLocaleString("en",{minimumFractionDigits:a,maximumFractionDigits:a}),i=(e,t,{fractionDigits:a=2}={})=>{let r=e;return e||(r=0),r.toLocaleString("en",{style:"currency",currency:t||"USD",minimumFractionDigits:a,maximumFractionDigits:a})},o=(e,t,{fractionDigits:a=0}={})=>e.toLocaleString("en",{minimumFractionDigits:a,maximumFractionDigits:a}),c=(e,t,{fractionDigits:a=0}={})=>e.toLocaleString("en",{minimumFractionDigits:a,maximumFractionDigits:a})},588:function(e,t,a){"use strict";a.d(t,"g",function(){return b}),a.d(t,"b",function(){return y}),a.d(t,"c",function(){return f}),a.d(t,"d",function(){return _}),a.d(t,"e",function(){return T}),a.d(t,"a",function(){return O}),a.d(t,"f",function(){return D});var r=a(656),s=a.n(r),n=a(600),i=a.n(n),o=a(593),c=a.n(o),l=a(655),u=a.n(l),p=a(622),h=a.n(p),d=a(137),g=a(597),m=a(587);function b(e,t=1,a="date",r="cost",s="total"){if(!e)return[];const n={idKey:a,report:e,reportItemValue:s,sortKey:"id",sortDirection:1},i=Object(g.a)(n);return 1===t?i.map(e=>v(e[r],e,a,r)):2===t?i.map(e=>v(e[r],e,a,r)):i.reduce((e,t)=>{const s=e.length?e[e.length-1].y:0;return[...e,v(s+t[r],t,a,r)]},[])}function v(e,t,a="date",r="cost"){return{x:"date"===a?c()(t.id):t.label,y:function(e){return Number(e)===e&&e%1!=0}(e)?parseFloat(e.toFixed(2)):function(e){return Number(e)===e&&e%1==0}(e)?e:0,key:t.id,name:t.id,units:t.units[r]}}function y(e,t=!0,a=!1,r=0){const[n,i]=function(e,t=0){if(!e||!e.length){const e=new Date;return t&&e.setMonth(e.getMonth()-t),[h()(e),e]}return[new Date(e[0].key+"T00:00:00"),new Date(e[e.length-1].key+"T00:00:00")]}(e,r);if(t&&n.setDate&&n.setDate(1),a&&n.setDate){const e=s()(n).getDate();i.setDate(e)}return[n,i]}function f(e){let t=0;return e&&e.length&&e.forEach(e=>{e.y>t&&(t=e.y)}),t}function _(e){return function(t,a=null,r={}){const s=Object(m.c)(a);switch(s){case"core-hours":case"hrs":case"gb":case"gb-hours":case"gb-mo":case"vm-hours":return d.a.t(`unit_tooltips.${s}`,{value:`${e(t,a,r)}`});default:return`${e(t,a,r)}`}}}function T(e,t,a,r="date",s){if(!e.key)return"";if("date"===r){return`${i()(e.key,"DD MMM YYYY")} ${t(e.y,s||e.units,a)}`}return e.key.toString()}function O(e,t="chart.cost_legend_label",a=!1,r=!1,s=0){const[n,o]=y(e,a,r,s);return d.a.t(t,{count:c()(o),endDate:i()(o,"D"),month:Number(i()(n,"M"))-1,startDate:i()(n,"D"),year:u()(o)})}function D(e,t="chart.usage_legend_label",a=!1,r=!1,s=0){return O(e,t,a,r,s)}},592:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"b",function(){return s});const r=e=>({"data-testid":e}),s={details:{cluster_lnk:"cluster-lnk",historical_data_btn:"historical-data-btn",show_more_btn:"show-more-btn",tag_lnk:"tag-lnk",view_all_btn:"view-all-btn"},export:{cancel_btn:"cancel-btn",submit_btn:"submit-btn"},login:{alert:"alert",form:"login-form",username_input:"username-input",password_input:"password-input",submit:"submit"},masthead:{masthead:"masthead",username:"username",sidebarToggle:"sidebar-toggle",logout:"logout"},onboarding:{btn_cancel:"btn-cancel",btn_back:"btn-back",btn_continue:"btn-continue",btn_close:"btn-close",type_selector:"type-selector",type_opt_aws:"type-option-aws",type_opt_ocp:"type-option-ocp",type_opt_non:"type-option-non",name_input:"name-input",check_box_1:"check-box-1",check_box_2:"check-box-2",s3_input:"s3-input",clusterid_input:"clusterid-input",arn_input:"arn-input"},providers:{add_btn:"add-btn",bucket_input:"bucket-input",cancel_btn:"cancel-btn",empty_state_add_btn:"empty_state_add-btn",name_input:"provider-name-input",resource_name_input:"provider-resource-name-input",cluster_id_input:"provider-cluster-id-input",submit_btn:"submit-btn",type_input:"provider-type-input",view_all_link:"view-all-lnk"},sidebar:{nav:"vertical-nav",link:"vertical-nav-link",backdrop:"sidebar-backdrop"}}},595:function(e,t,a){"use strict";var r=a(987),s=a(801);const n={padding:8};var i={area:Object.assign({},n),axis:Object.assign({},n),bar:Object.assign({},n),boxplot:Object.assign({},n),candlestick:Object.assign({},n),chart:Object.assign({},n),errorbar:Object.assign({},n),group:Object.assign({},n),legend:{},line:Object.assign({},n),pie:Object.assign({},n),scatter:Object.assign({},n),stack:Object.assign({},n),tooltip:{},voronoi:Object.assign({},n)};const o=(()=>Object(r.k)(s.q.default,s.r.default,i))();t.a=o},596:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var r=a(149),s=a(594);r.global_Color_light_100.value,r.global_Color_dark_100.value,r.global_success_color_200.value,r.global_success_color_100.value,r.global_primary_color_100.value,r.global_primary_color_200.value;const n=s["a"]`
  :not(foo) svg {
    overflow: visible;
  }
`},597:function(e,t,a){"use strict";var r=a(612),s=a(9);function n({idKey:e,labelKey:t=e,report:a,reportItemValue:s="total",sortDirection:n=0,sortKey:o="cost"}){return Object(r.a)(i({idKey:e,labelKey:t,report:a,reportItemValue:s,sortDirection:n,sortKey:o}),{key:o,direction:n})}function i({report:e,idKey:t,labelKey:a=t,reportItemValue:r="total"}){if(!e)return[];const n=new Map,i=o=>{o.values&&o.values.forEach(i=>{const o=i.clusters&&i.clusters.length>0?i.clusters[0]:void 0,c=o||i.cluster,l=i.capacity?i.capacity.value:0,u=i.cost&&i.cost.total?i.cost.total.value:0,p=i.supplementary&&i.supplementary.total?i.supplementary.total.value:0,h=i.infrastructure&&i.infrastructure[r]?i.infrastructure[r].value:0,d="date"!==t&&"cluster"!==t&&i.cluster?`-${i.cluster}`:"",g=`${i[t]}${d}`;let m;const b=function({report:e,labelKey:t,value:a}){let r=String(t);if(e.meta&&e.meta.group_by){const n=e.meta.group_by;for(const e of Object.keys(n))if(e.indexOf(s.d)){const e=s.d+t;a.hasOwnProperty(e)&&(r=e)}}return r}({report:e,labelKey:a,value:i});m="cluster"===b&&o?o:i[b]instanceof Object?i[b].value:i[b],"account"===b&&i.account_alias&&(m=i.account_alias);const v=i.limit?i.limit.value:0,y=i.request?i.request.value:0,f=i.usage?i.usage.value:0,_=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},i.capacity&&{capacity:i.capacity.units}),{cost:i.cost&&i.cost.total?i.cost.total.units:"USD"}),i.limit&&{limit:i.limit.units}),i.infrastructure&&i.infrastructure.total&&{infrastructure:i.infrastructure.total.units}),i.request&&{request:i.request.units}),i.supplementary&&i.supplementary.total&&{supplementary:i.supplementary.total.units}),i.usage&&{usage:i.usage.units});n.get(g)?n.set(g,Object.assign(Object.assign({},n.get(g)),{capacity:n.get(g).capacity+l,cost:n.get(g).cost+u,supplementary:n.get(g).supplementary+p,infrastructure:n.get(g).infrastructure+h,limit:n.get(g).limit+v,request:n.get(g).request+y,usage:n.get(g).usage+f})):n.set(g,{capacity:l,cluster:c,clusters:i.clusters,cost:u,deltaPercent:i.delta_percent,deltaValue:i.delta_value,supplementary:p,id:g,infrastructure:h,label:m,limit:v,request:y,units:_,usage:f})});for(const e in o)if(o[e]instanceof Array)return o[e].forEach(i)};return e&&e.data&&e.data.forEach(i),Array.from(n.values())}a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i})},601:function(e,t,a){"use strict";var r=a(1051),s=a(1072),n=a(1052),i=a(1050),o=a(1013),c=a(1021),l=a(1),u=a.n(l),p=a(136);const h={container:{display:"flex",justifyContent:"center",height:"100vh",marginTop:"150px"}};a.d(t,"a",function(){return d});const d=Object(p.e)()(({error:e,icon:t=o.a,t:a})=>{let l=a("error_state.unexpected_title"),p=a("error_state.unexpected_desc");return e&&e.response&&(401===e.response.status||403===e.response.status)&&(t=c.a,l=a("error_state.unauthorized_title"),p=a("error_state.unauthorized_desc")),u.a.createElement("div",{style:h.container},u.a.createElement(n.a,null,u.a.createElement(i.a,{icon:t}),u.a.createElement(s.a,{size:"lg"},l),u.a.createElement(r.a,null,p)))})},603:function(e,t,a){"use strict";var r=a(1051),s=a(1072),n=a(1052),i=a(1048),o=a(1028),c=a(1),l=a.n(c),u=a(136);const p={container:{display:"flex",justifyContent:"center",height:"100vh",marginTop:"150px"}};a.d(t,"a",function(){return h});const h=Object(u.e)()(({icon:e=o.a,t:t})=>{const a=t("loading_state.sources_title"),c=t("loading_state.sources_desc");return l.a.createElement("div",{style:p.container},l.a.createElement(n.a,null,l.a.createElement(i.a,{size:"lg"}),l.a.createElement(s.a,{size:"lg"},a),l.a.createElement(r.a,null,c)))})},604:function(e,t,a){"use strict";var r=a(1063),s=a(1065),n=a(1062),i=a(1061),o=a(1072),c=a(589),l=a(1),u=a.n(l),p=a(136),h=a(149);const d={chartSkeleton:{height:"125px",marginBottom:h.global_spacer_md.value,marginTop:h.global_spacer_md.value},legendSkeleton:{marginTop:h.global_spacer_md.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:h.global_FontSize_xs.value,color:h.global_Color_200.var,marginBottom:"0"}},g=Object(p.e)()(({children:e,detailsLink:t,title:a,subTitle:l,status:p,t:h})=>u.a.createElement(s.a,{style:d.reportSummary},u.a.createElement(i.a,null,u.a.createElement(o.a,{size:"lg"},a),Boolean(l)&&u.a.createElement("p",{style:d.subtitle},l)),u.a.createElement(r.a,null,1===p?u.a.createElement(u.a.Fragment,null,u.a.createElement(c.Skeleton,{size:c.SkeletonSize.xs}),u.a.createElement(c.Skeleton,{style:d.chartSkeleton,size:c.SkeletonSize.md}),u.a.createElement(c.Skeleton,{size:c.SkeletonSize.sm}),u.a.createElement(c.Skeleton,{style:d.legendSkeleton,size:c.SkeletonSize.xs})):e),Boolean(t)&&u.a.createElement(n.a,null,t)));var m=a(1034),b=a(1035);const v={chartSkeleton:{height:"175px",marginBottom:h.global_spacer_md.value,marginTop:h.global_spacer_md.value},container:{display:"flex"},cost:{flexGrow:1,minHeight:"470px",marginRight:h.global_spacer_md.value},legendSkeleton:{marginTop:h.global_spacer_md.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:h.global_FontSize_xs.value,color:h.global_Color_200.var,marginBottom:"0"},tops:{flexGrow:1,marginTop:h.global_spacer_lg.value}},y=Object(p.e)()(({children:e,detailsLink:t,status:a,subTitle:l,t:p,tabs:h,title:d})=>u.a.createElement(s.a,{style:v.reportSummary},u.a.createElement(b.a,{gutter:"md"},u.a.createElement(m.a,{lg:5,xl:6},u.a.createElement("div",{style:v.cost},u.a.createElement(i.a,null,u.a.createElement(o.a,{size:"lg"},d),Boolean(l)&&u.a.createElement("p",{style:v.subtitle},l)),u.a.createElement(r.a,null,1===a?u.a.createElement(u.a.Fragment,null,u.a.createElement(c.Skeleton,{size:c.SkeletonSize.xs}),u.a.createElement(c.Skeleton,{style:v.chartSkeleton,size:c.SkeletonSize.md}),u.a.createElement(c.Skeleton,{size:c.SkeletonSize.sm}),u.a.createElement(c.Skeleton,{style:v.legendSkeleton,size:c.SkeletonSize.xs})):e))),u.a.createElement(m.a,{lg:7,xl:6},u.a.createElement("div",{style:v.container},u.a.createElement("div",{style:v.tops},1!==a&&u.a.createElement(u.a.Fragment,null,Boolean(h)&&u.a.createElement(r.a,null,h),Boolean(t)&&u.a.createElement(n.a,null,t))))))));var f=a(955),_=a(605),T=a(587);const O={reportSummaryDetails:{marginBottom:h.global_spacer_md.value,display:"flex",alignItems:"flex-end"},text:{paddingBottom:h.global_spacer_sm.value,lineHeight:h.global_LineHeight_sm.value,fontSize:h.global_FontSize_xs.value},units:{paddingLeft:h.global_spacer_xs.value,paddingBottom:h.global_spacer_sm.value,lineHeight:h.global_LineHeight_sm.value,fontSize:h.global_FontSize_xs.value,whiteSpace:"nowrap"},value:{color:h.global_Color_100.var,marginRight:h.global_spacer_sm.value,fontSize:h.global_FontSize_4xl.value},valueContainer:{display:"inline-block",marginBottom:h.global_spacer_md.value,width:"50%",wordWrap:"break-word"}},D=Object(p.e)()(({chartType:e,computedReportItem:t="cost",computedReportItemValue:a="total",costLabel:r,formatValue:s,formatOptions:n,report:i,requestFormatOptions:o,requestLabel:c,showTooltip:l=!1,showUnits:p=!1,showUsageFirst:h=!1,t:d,units:g,usageFormatOptions:m,usageLabel:b})=>{let v=u.a.createElement(_.a,null),y=u.a.createElement(_.a,null),D=u.a.createElement(_.a,null),S=u.a.createElement(_.a,null),E=u.a.createElement(_.a,null);const R=i&&i.meta&&i.meta.total,w=R&&i.meta.total.cost&&i.meta.total.cost.total,j=R&&i.meta.total.count,C=R&&i.meta.total.supplementary&&i.meta.total.supplementary.total&&i.meta.total.supplementary.total.value,k=R&&i.meta.total.infrastructure&&i.meta.total.infrastructure[a]&&i.meta.total.infrastructure[a].value,P=R&&i.meta.total.request,I=R&&i.meta.total.usage;R&&(v=s(w?i.meta.total.cost.total.value:0,w?i.meta.total.cost.total.units:"USD",n),y=s(C?i.meta.total.supplementary.total.value:0,C?i.meta.total.supplementary.total.units:"USD",n),D=s(k?i.meta.total.infrastructure[a].value:0,k?i.meta.total.infrastructure[a].units:"USD",n),S=s(P?i.meta.total.request.value:0,P?i.meta.total.request.units:"",o?m:n),E=I&&i.meta.total.usage.value>=0?s(I?i.meta.total.usage.value:0,I?i.meta.total.usage.units:"",m||n):s(I?i.meta.total.usage:0,j?i.meta.total.count.units:"",m||n));const x=()=>{let e=v;return"infrastructure"===t?e=D:"supplementary"===t&&(e=y),u.a.createElement("div",{style:O.valueContainer},Boolean(l)?u.a.createElement(f.a,{content:d("dashboard.total_cost_tooltip",{infrastructureCost:D,supplementaryCost:y}),enableFlip:!0},u.a.createElement("div",{style:O.value},e)):u.a.createElement("div",{style:O.value},e),u.a.createElement("div",{style:O.text},u.a.createElement("div",null,r)))},F=()=>{if(!b)return null;const e=P?i.meta.total.request.units:"",t=Object(T.c)(e),a=d(`units.${t}`);return u.a.createElement("div",{style:O.valueContainer},u.a.createElement("div",{style:O.value},S,Boolean(p&&(g||P&&i.meta.total.request.value>=0))&&u.a.createElement("span",{style:O.units},a)),u.a.createElement("div",{style:O.text},u.a.createElement("div",null,c)))},z=()=>{if(!b)return null;const e=I?i.meta.total.usage.units:"",t=Object(T.c)(g||e),a=d(`units.${t}`);return u.a.createElement("div",{style:O.valueContainer},u.a.createElement("div",{style:O.value},E,Boolean(p&&(g||I&&i.meta.total.usage.value>=0))&&u.a.createElement("span",{style:O.units},a)),u.a.createElement("div",{style:O.text},u.a.createElement("div",null,b)))};return"cost"===e||"supplementary"===e?u.a.createElement(u.a.Fragment,null,x()):"trend"===e?h?u.a.createElement(u.a.Fragment,null,z(),x()):u.a.createElement(u.a.Fragment,null,x(),z()):"usage"===e?h?u.a.createElement(u.a.Fragment,null,z(),F()):u.a.createElement(u.a.Fragment,null,F(),z()):null});var S=a(964),E=a(594);const R=E["a"]`
  :not(:last-child) {
    margin-bottom: ${h.global_spacer_md.value};
  }
`,w=({label:e,formatOptions:t,formatValue:a,t:r,totalValue:s,units:n,value:i})=>{const o=Object(T.c)(n),c="usd"!==o?r(`units.${o}`):void 0,l=Number((s?i/s*100:0).toFixed(2)),p=r("percent_of_total",{percent:l,units:c,value:a(i,n,t)});return u.a.createElement("li",{className:R},u.a.createElement(S.a,{label:p,value:l,title:e,size:S.b.sm}))};w.defaultProps={formatValue:e=>e};const j=Object(p.e)()(w);var C=a(597);const k={skeleton:{marginTop:h.global_spacer_md.value}};const P=Object(p.e)()(class extends u.a.Component{shouldComponentUpdate(e){return e.report!==this.props.report}getItems(){const{computedReportItemValue:e="total",idKey:t,labelKey:a,report:r}=this.props,s=Object(C.a)({report:r,idKey:t,labelKey:a,reportItemValue:e}),n=s.findIndex(e=>{const t=e.id;if(t&&null!==t)return t.toString().includes("Other")});return-1!==n?[...s.slice(0,n),...s.slice(n+1),s[n]]:s}render(){const{children:e,status:t}=this.props;if(1===t)return u.a.createElement(u.a.Fragment,null,u.a.createElement(c.Skeleton,{size:c.SkeletonSize.md}),u.a.createElement(c.Skeleton,{size:c.SkeletonSize.md,style:k.skeleton}),u.a.createElement(c.Skeleton,{size:c.SkeletonSize.md,style:k.skeleton}),u.a.createElement(c.Skeleton,{size:c.SkeletonSize.md,style:k.skeleton}));{const t=this.getItems();return u.a.createElement("ul",null,e({items:t}))}}});var I=a(991),x=a(994),F=a(999),z=a(1012),L=a(963),A=a(995),W=a(595),N=a(596),K=a(588),U=a(593),q=a.n(U),H=a(137);const V={currentCostData:{data:{fill:"none",stroke:"#A2DA9C"}},currentInfrastructureCostData:{data:{fill:"none",stroke:"#88D080",strokeDasharray:"3,3"}},itemsPerRow:2,legend:{labels:{fontFamily:h.global_FontFamily_sans_serif.value,fontSize:14},minWidth:200},legendColorScale:[h.global_disabled_color_200.value,h.chart_color_green_100.value,h.global_disabled_color_200.value,h.chart_color_green_200.value],previousCostData:{data:{fill:"none",stroke:h.global_disabled_color_200.value}},previousInfrastructureCostData:{data:{fill:"none",stroke:h.global_disabled_color_200.value,strokeDasharray:"3,3"}},currentColorScale:[h.chart_color_green_100.value,h.chart_color_green_200.value,h.chart_color_green_300.value,h.chart_color_green_400.value,h.chart_color_green_500.value],previousColorScale:[h.global_disabled_color_200.value,h.global_disabled_color_200.value],yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}};class Q extends u.a.Component{constructor(){super(...arguments),this.containerRef=u.a.createRef(),this.state={hiddenSeries:new Set,width:0},this.initDatum=(()=>{const{currentInfrastructureCostData:e,currentCostData:t,previousInfrastructureCostData:a,previousCostData:r}=this.props,s="chart.cost_legend_label";this.setState({series:[{childName:"previousCost",data:r,legendItem:{name:Object(K.a)(r,s,!0,!0,1),symbol:{type:"minus"}},style:V.previousCostData},{childName:"currentCost",data:t,legendItem:{name:Object(K.a)(t,s,!0,!1),symbol:{type:"minus"}},style:V.currentCostData},{childName:"previousInfrastructureCost",data:a,legendItem:{name:Object(K.a)(a,"chart.cost_infrastructure_legend_label",!0,!0,1),symbol:{type:"dash"}},style:V.previousInfrastructureCostData},{childName:"currentInfrastructureCost",data:e,legendItem:{name:Object(K.a)(e,"chart.cost_infrastructure_legend_label",!0,!1),symbol:{type:"dash"}},style:V.currentInfrastructureCostData}]})}),this.handleNavToggle=(()=>{setTimeout(this.handleResize,500)}),this.handleResize=(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})}),this.getChart=((e,t)=>{const{hiddenSeries:a}=this.state;return u.a.createElement(A.a,{data:a.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})}),this.getLegend=(()=>{const{legendItemsPerRow:e}=this.props,{width:t}=this.state,a=e||(t>400?V.itemsPerRow:1);return u.a.createElement(L.a,{colorScale:V.legendColorScale,data:this.getLegendData(),height:25,gutter:10,itemsPerRow:a,name:"legend",responsive:!1,style:V.legend})}),this.getTooltipLabel=(({datum:e})=>{const{formatDatumValue:t,formatDatumOptions:a}=this.props,r=Object(K.e)(e,Object(K.d)(t),a,"date");return"currentCost"===e.childName||"previousCost"===e.childName?H.a.t("chart.cost_tooltip",{value:r}):"currentInfrastructureCost"===e.childName||"previousInfrastructureCost"===e.childName?H.a.t("chart.cost_infrastructure_tooltip",{value:r}):r}),this.handleLegendClick=(e=>{this.state.hiddenSeries.delete(e.index)||this.state.hiddenSeries.add(e.index),this.setState({hiddenSeries:new Set(this.state.hiddenSeries)})}),this.isDataAvailable=(()=>{const{series:e}=this.state,t=[];return e&&e.forEach((e,a)=>{(this.isSeriesHidden(a)||e.data&&0===e.data.length)&&t.push(a)}),t.length===(e?e.length:0)}),this.isSeriesHidden=(e=>{const{hiddenSeries:t}=this.state;return t.has(e)}),this.getChartNames=(()=>{const{series:e}=this.state,t=[];return e&&e.map((e,a)=>{t.push(e.childName)}),t}),this.getEvents=(()=>{return Object(F.a)({chartNames:this.getChartNames(),isHidden:this.isSeriesHidden,legendName:"legend",onLegendClick:this.handleLegendClick})}),this.getLegendData=(()=>{const{hiddenSeries:e,series:t}=this.state;if(t){return t.map((t,a)=>Object.assign(Object.assign({},t.legendItem),Object(F.b)(e.has(a))))}})}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize),this.navToggle=insights.chrome.on("NAVIGATION_TOGGLE",this.handleNavToggle)}),this.initDatum()}componentDidUpdate(e){e.currentInfrastructureCostData===this.props.currentInfrastructureCostData&&e.currentCostData===this.props.currentCostData&&e.previousInfrastructureCostData===this.props.previousInfrastructureCostData&&e.previousCostData===this.props.previousCostData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.navToggle&&this.navToggle()}getDomain(){const{currentInfrastructureCostData:e,currentCostData:t,previousInfrastructureCostData:a,previousCostData:r}=this.props,s={x:[1,31]},n=e?Object(K.c)(e):0,i=t?Object(K.c)(t):0,o=a?Object(K.c)(a):0,c=r?Object(K.c)(r):0,l=Math.max(n,i,o,c),u=l>0?Math.ceil(l+.1*l):0;return u>0&&(s.y=[0,u]),s}getEndDate(){const{currentInfrastructureCostData:e,currentCostData:t,previousInfrastructureCostData:a,previousCostData:r}=this.props,s=e?q()(Object(K.b)(e,!0,!0)[1]):0,n=t?q()(Object(K.b)(t,!0,!0)[1]):0,i=a?q()(Object(K.b)(a,!0,!0)[1]):0,o=r?q()(Object(K.b)(r,!0,!0)[1]):0;return s>0||n>0||i>0||o>0?Math.max(s,n,i,o):31}render(){const{adjustContainerHeight:e,height:t,containerHeight:a=t,padding:r,title:s}=this.props,{series:n,width:i}=this.state,o=this.isDataAvailable(),c=u.a.createElement(I.a,{allowTooltip:!o,constrainToVisibleArea:!0,labels:o?void 0:this.getTooltipLabel,voronoiDimension:"x"}),l=this.getDomain(),p=this.getEndDate(),h=Math.floor(p/2),d=e?i>400?a:a+75:a;return u.a.createElement("div",{className:N.a,ref:this.containerRef,style:{height:d}},s,u.a.createElement("div",{style:{height:t,width:i}},u.a.createElement(z.a,{containerComponent:c,domain:l,events:this.getEvents(),height:t,legendComponent:this.getLegend(),legendData:this.getLegendData(),legendPosition:"bottom-left",padding:r,theme:W.a,width:i},n&&n.map((e,t)=>this.getChart(e,t)),u.a.createElement(x.a,{style:V.xAxis,tickValues:[1,h,p]}),u.a.createElement(x.a,{dependentAxis:!0,style:V.yAxis}))))}}const B={chart:{marginBottom:h.global_spacer_sm.value}},M=e=>u.a.createElement("div",{style:B.chart},u.a.createElement(Q,Object.assign({},e))),$={legend:{labels:{fontFamily:h.global_FontFamily_sans_serif.value,fontSize:14},minWidth:175},legendColorScale:[h.global_disabled_color_200.value,h.chart_color_green_100.value,h.chart_color_green_200.value,h.chart_color_green_300.value,h.chart_color_green_400.value,h.chart_color_green_500.value],previousMonth:{data:{fill:"none",stroke:h.global_disabled_color_200.value}},currentMonth:{data:{fill:"none",stroke:"#A2DA9C"}},yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}};class G extends u.a.Component{constructor(){super(...arguments),this.containerRef=u.a.createRef(),this.state={hiddenSeries:new Set,width:0},this.initDatum=(()=>{const{currentData:e,previousData:t,showSupplementaryLabel:a=!1,showUsageLegendLabel:r=!1}=this.props,s=r?"chart.usage_legend_label":a?"chart.cost_supplementary_legend_label":"chart.cost_legend_label";this.setState({series:[{childName:"previousCost",data:t,legendItem:{name:Object(K.a)(t,s,!0,!0,1),symbol:{type:"minus"}},style:$.previousMonth},{childName:"currentCost",data:e,legendItem:{name:Object(K.a)(e,s,!0,!1),symbol:{type:"minus"}},style:$.currentMonth}]})}),this.handleNavToggle=(()=>{setTimeout(this.handleResize,500)}),this.handleResize=(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})}),this.getChart=((e,t)=>{const{hiddenSeries:a}=this.state;return u.a.createElement(A.a,{data:a.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})}),this.getLegend=(()=>{const{width:e}=this.state;return u.a.createElement(L.a,{colorScale:$.legendColorScale,data:this.getLegendData(),gutter:10,height:25,name:"legend",orientation:e>150?"horizontal":"vertical",style:$.legend})}),this.getTooltipLabel=(({datum:e})=>{const{formatDatumValue:t,formatDatumOptions:a,units:r}=this.props;return Object(K.e)(e,Object(K.d)(t),a,"date",r)}),this.handleLegendClick=(e=>{this.state.hiddenSeries.delete(e.index)||this.state.hiddenSeries.add(e.index),this.setState({hiddenSeries:new Set(this.state.hiddenSeries)})}),this.isDataAvailable=(()=>{const{series:e}=this.state,t=[];return e&&e.forEach((e,a)=>{(this.isSeriesHidden(a)||e.data&&0===e.data.length)&&t.push(a)}),t.length===(e?e.length:0)}),this.isSeriesHidden=(e=>{const{hiddenSeries:t}=this.state;return t.has(e)}),this.getChartNames=(()=>{const{series:e}=this.state,t=[];return e&&e.map((e,a)=>{t.push(e.childName)}),t}),this.getEvents=(()=>{return Object(F.a)({chartNames:this.getChartNames(),isHidden:this.isSeriesHidden,legendName:"legend",onLegendClick:this.handleLegendClick})}),this.getLegendData=(()=>{const{hiddenSeries:e,series:t}=this.state;if(t){return t.map((t,a)=>Object.assign(Object.assign({},t.legendItem),Object(F.b)(e.has(a))))}})}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize),this.navToggle=insights.chrome.on("NAVIGATION_TOGGLE",this.handleNavToggle)}),this.initDatum()}componentDidUpdate(e){e.currentData===this.props.currentData&&e.previousData===this.props.previousData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.navToggle&&this.navToggle()}getDomain(){const{currentData:e,previousData:t}=this.props,a={x:[1,31]},r=e?Object(K.c)(e):0,s=t?Object(K.c)(t):0,n=Math.max(r,s),i=n>0?Math.ceil(n+.1*n):0;return i>0&&(a.y=[0,i]),a}getEndDate(){const{currentData:e,previousData:t}=this.props,a=t?q()(Object(K.b)(t,!0,!0)[1]):0,r=e?q()(Object(K.b)(e,!0,!0)[1]):0;return r>0||a>0?Math.max(r,a):31}render(){const{adjustContainerHeight:e,height:t,containerHeight:a=t,padding:r,title:s}=this.props,{series:n,width:i}=this.state,o=this.isDataAvailable(),c=u.a.createElement(I.a,{allowTooltip:!o,constrainToVisibleArea:!0,labels:o?void 0:this.getTooltipLabel,voronoiDimension:"x"}),l=this.getDomain(),p=this.getEndDate(),h=Math.floor(p/2),d=e?i>400?a:a+75:a;return u.a.createElement("div",{className:N.a,ref:this.containerRef,style:{height:d}},s,u.a.createElement("div",{style:{height:t,width:i}},u.a.createElement(z.a,{containerComponent:c,domain:l,events:this.getEvents(),height:t,legendComponent:this.getLegend(),legendData:this.getLegendData(),legendPosition:"bottom-left",padding:r,theme:W.a,width:i},n&&n.map((e,t)=>this.getChart(e,t)),u.a.createElement(x.a,{style:$.xAxis,tickValues:[1,h,p]}),u.a.createElement(x.a,{dependentAxis:!0,style:$.yAxis}))))}}const Y=e=>u.a.createElement("div",{style:B.chart},u.a.createElement(G,Object.assign({},e))),X={chartContainer:{marginTop:h.global_spacer_lg.value},currentRequestData:{data:{fill:"none",stroke:"#88D080",strokeDasharray:"3,3"}},currentUsageData:{data:{fill:"none",stroke:"#A2DA9C"}},itemsPerRow:2,legend:{labels:{fontFamily:h.global_FontFamily_sans_serif.value,fontSize:14},minWidth:380},legendColorScale:[h.global_disabled_color_200.value,h.chart_color_green_100.value,h.global_disabled_color_200.value,h.chart_color_green_200.value],previousRequestData:{data:{fill:"none",stroke:h.global_disabled_color_200.value,strokeDasharray:"3,3"}},previousUsageData:{data:{fill:"none",stroke:h.global_disabled_color_200.value}},currentColorScale:[h.chart_color_green_100.value,h.chart_color_green_200.value,h.chart_color_green_300.value,h.chart_color_green_400.value,h.chart_color_green_500.value],previousColorScale:[h.global_disabled_color_200.value,h.global_disabled_color_200.value],yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:40},grid:{stroke:"none"},ticks:{stroke:"none"}}};class J extends u.a.Component{constructor(){super(...arguments),this.containerRef=u.a.createRef(),this.state={hiddenSeries:new Set,width:0},this.initDatum=(()=>{const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:r}=this.props;this.setState({series:[{childName:"previousUsage",data:r,legendItem:{name:Object(K.f)(r,"chart.usage_legend_label",!0,!0,1),symbol:{type:"minus"}},style:X.previousUsageData},{childName:"currentUsage",data:t,legendItem:{name:Object(K.f)(t,"chart.usage_legend_label",!0,!1),symbol:{type:"minus"}},style:X.currentUsageData},{childName:"previousRequest",data:a,legendItem:{name:Object(K.f)(a,"chart.requests_legend_label",!0,!0,1),symbol:{type:"dash"}},style:X.previousRequestData},{childName:"currentRequest",data:e,legendItem:{name:Object(K.f)(e,"chart.requests_legend_label",!0,!1),symbol:{type:"dash"}},style:X.currentRequestData}]})}),this.handleNavToggle=(()=>{setTimeout(this.handleResize,500)}),this.handleResize=(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})}),this.getChart=((e,t)=>{const{hiddenSeries:a}=this.state;return u.a.createElement(A.a,{data:a.has(t)?[{y:null}]:e.data,interpolation:"monotoneX",key:e.childName,name:e.childName,style:e.style})}),this.getLegend=(()=>{const{legendItemsPerRow:e}=this.props,{width:t}=this.state,a=e||(t>300?X.itemsPerRow:1);return u.a.createElement(L.a,{colorScale:X.legendColorScale,data:this.getLegendData(),height:25,gutter:10,itemsPerRow:a,name:"legend",style:X.legend})}),this.getTooltipLabel=(({datum:e})=>{const{formatDatumValue:t,formatDatumOptions:a}=this.props,r=Object(K.e)(e,Object(K.d)(t),a,"date");return"currentRequest"===e.childName||"previousRequest"===e.childName?H.a.t("chart.requests_tooltip",{value:r}):"currentUsage"===e.childName||"previousUsage"===e.childName?H.a.t("chart.usage_tooltip",{value:r}):r}),this.handleLegendClick=(e=>{this.state.hiddenSeries.delete(e.index)||this.state.hiddenSeries.add(e.index),this.setState({hiddenSeries:new Set(this.state.hiddenSeries)})}),this.isDataAvailable=(()=>{const{series:e}=this.state,t=[];return e&&e.forEach((e,a)=>{(this.isSeriesHidden(a)||e.data&&0===e.data.length)&&t.push(a)}),t.length===(e?e.length:0)}),this.isSeriesHidden=(e=>{const{hiddenSeries:t}=this.state;return t.has(e)}),this.getChartNames=(()=>{const{series:e}=this.state,t=[];return e&&e.map((e,a)=>{t.push(e.childName)}),t}),this.getEvents=(()=>{return Object(F.a)({chartNames:this.getChartNames(),isHidden:this.isSeriesHidden,legendName:"legend",onLegendClick:this.handleLegendClick})}),this.getLegendData=(()=>{const{hiddenSeries:e,series:t}=this.state;if(t){return t.map((t,a)=>Object.assign(Object.assign({},t.legendItem),Object(F.b)(e.has(a))))}})}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize),this.navToggle=insights.chrome.on("NAVIGATION_TOGGLE",this.handleNavToggle)}),this.initDatum()}componentDidUpdate(e){e.currentRequestData===this.props.currentRequestData&&e.currentUsageData===this.props.currentUsageData&&e.previousRequestData===this.props.previousRequestData&&e.previousUsageData===this.props.previousUsageData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.navToggle&&this.navToggle()}getDomain(){const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:r}=this.props,s={x:[1,31]},n=e?Object(K.c)(e):0,i=t?Object(K.c)(t):0,o=a?Object(K.c)(a):0,c=r?Object(K.c)(r):0,l=Math.max(n,i,o,c),u=l>0?Math.ceil(l+.1*l):0;return u>0&&(s.y=[0,u]),s}getEndDate(){const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:r}=this.props,s=e?q()(Object(K.b)(e,!0,!0)[1]):0,n=t?q()(Object(K.b)(t,!0,!0)[1]):0,i=a?q()(Object(K.b)(a,!0,!0)[1]):0,o=r?q()(Object(K.b)(r,!0,!0)[1]):0;return s>0||n>0||i>0||o>0?Math.max(s,n,i,o):31}render(){const{adjustContainerHeight:e,height:t,containerHeight:a=t,padding:r,title:s}=this.props,{series:n,width:i}=this.state,o=this.isDataAvailable(),c=u.a.createElement(I.a,{allowTooltip:!o,constrainToVisibleArea:!0,labels:o?void 0:this.getTooltipLabel,voronoiDimension:"x"}),l=this.getDomain(),p=this.getEndDate(),h=Math.floor(p/2),d=e?i>400?a:a+75:a;return u.a.createElement("div",{className:N.a,ref:this.containerRef,style:{height:d}},s,u.a.createElement("div",{style:{height:t,width:i}},u.a.createElement(z.a,{containerComponent:c,domain:l,events:this.getEvents(),height:t,legendComponent:this.getLegend(),legendData:this.getLegendData(),legendPosition:"bottom-left",padding:r,theme:W.a,width:i},n&&n.map((e,t)=>this.getChart(e,t)),u.a.createElement(x.a,{style:X.xAxis,tickValues:[1,h,p]}),u.a.createElement(x.a,{dependentAxis:!0,style:X.yAxis}))))}}const Z=e=>u.a.createElement("div",{style:B.chart},u.a.createElement(J,Object.assign({},e)));a.d(t,"a",function(){return g}),a.d(t,"b",function(){return y}),a.d(t,"d",function(){return D}),a.d(t,"e",function(){return j}),a.d(t,"f",function(){return P}),a.d(t,"c",function(){return M}),a.d(t,"g",function(){return Y}),a.d(t,"h",function(){return Z})},605:function(e,t,a){"use strict";var r=a(1020),s=a(1),n=a.n(s);const i={container:{fontSize:a(149).global_FontSize_sm.value}};a.d(t,"a",function(){return o});const o=()=>n.a.createElement("span",{style:i.container},n.a.createElement(r.a,null))},612:function(e,t,a){"use strict";function r(e,t){if("string"==typeof e)return e;return e[t.key]}function s(e,t){const{direction:a=0}=t||{};return[...e].sort((e,s)=>{const n=r(0===a?e:s,t),i=r(0===a?s:e,t);return n>i?-1:n<i?1:0})}a.d(t,"a",function(){return s})},624:function(e,t,a){"use strict";var r=a(1072),s=a(1050),n=a(1052),i=a(1051),o=a(1026),c=a(1),l=a.n(c),u=a(136),p=a(106),h=a(592);const d=()=>{const e=window.location.pathname.split("/");e.shift();let t="";return"beta"===e[0]&&(t="/beta"),t};const g={container:{display:"flex",justifyContent:"center",height:"100vh",marginTop:"150px"},viewSources:{marginTop:a(149).global_spacer_lg.value}};a.d(t,"a",function(){return m});const m=Object(u.e)()(Object(p.connect)()(class extends l.a.Component{constructor(){super(...arguments),this.getViewSources=(()=>{const{t:e}=this.props,t=d();return l.a.createElement("a",Object.assign({href:`${t}/settings/sources`},Object(h.a)(h.b.providers.view_all_link)),e("providers.view_sources"))})}render(){const{t:e}=this.props;return l.a.createElement("div",{style:g.container},l.a.createElement(n.a,null,l.a.createElement(s.a,{icon:o.a}),l.a.createElement(r.a,{size:"lg"},e("providers.empty_state_title")),l.a.createElement(i.a,null,e("providers.empty_state_desc")),l.a.createElement("div",{style:g.viewSources},this.getViewSources())))}}))},989:function(e,t,a){"use strict";a.r(t);var r=a(1038),s=a(973),n=a(799),i=a(1072),o=a(956),c=a(939),l=a(1022),u=a(151),p=a(601),h=a(603),d=a(624),g=a(1035),m=a(1034),b=a(1),v=a.n(b);const y=({DashboardWidget:e,selectWidgets:t,widgets:a})=>v.a.createElement("div",null,v.a.createElement(g.a,{gutter:"md"},a.map(a=>{const r=t[a];return Boolean(r.details.showHorizontal)?v.a.createElement(m.a,{sm:12,key:a},v.a.createElement(e,{widgetId:a})):v.a.createElement(m.a,{lg:12,xl:6,xl2:4,key:a},v.a.createElement(e,{widgetId:a}))})));var f=a(136),_=a(106),T=a(150),O=a(186),D=a(116),S=a(588),E=a(604),R=a(600),w=a.n(R),j=a(593),C=a.n(j),k=a(665),P=a.n(k),I=a(622),x=a.n(I),F=a(126),z=a(587),L=a(149);const A={chartAltHeight:180,chartHeight:80,containerAltHeight:200,containerTrendHeight:150,containerUsageHeight:180},W={tabs:{marginTop:L.global_spacer_2xl.value},tabItems:{marginTop:L.global_spacer_xl.value}};class N extends v.a.Component{constructor(){super(...arguments),this.state={activeTabKey:0},this.buildDetailsLink=(e=>{const{details:t,getIdKeyForTab:a}=this.props,r=a(e);return`${t.viewAllPath}?${Object(D.a)({group_by:{[r]:"*"},order_by:{cost:"desc"}})}`}),this.getChart=((e,t,a=!1)=>{const{chartType:r}=this.props;return"cost"===r?this.getCostChart(e,t,a):"supplementary"===r?this.getTrendChart(e,t,a,!0):"trend"===r?this.getTrendChart(e,t,a):"usage"===r?this.getUsageChart(t):null}),this.getCostChart=((e,t,a=!1)=>{const{currentReport:r,previousReport:s,t:n,trend:i}=this.props,o=this.getUnits(),c=n(i.titleKey,{units:n(`units.${o}`)}),l=i.computedReportItem||"cost",u=i.computedReportItemValue||"total",p=Object(S.g)(r,i.type,"date","infrastructure",u),h=Object(S.g)(s,i.type,"date","infrastructure",u),d=Object(S.g)(r,i.type,"date",l,u),g=Object(S.g)(s,i.type,"date",l,u);return v.a.createElement(E.c,{adjustContainerHeight:a,containerHeight:e,currentCostData:d,currentInfrastructureCostData:p,formatDatumValue:z.b,formatDatumOptions:i.formatOptions,height:t,previousCostData:g,previousInfrastructureCostData:h,title:c})}),this.getTrendChart=((e,t,a=!1,r=!1)=>{const{currentReport:s,details:n,previousReport:i,t:o,trend:c}=this.props,l=this.getUnits(),u=o(c.titleKey,{units:o(`units.${l}`)}),p=c.computedReportItem||"cost",h=c.computedReportItemValue||"total",d=Object(S.g)(s,c.type,"date",p,h),g=Object(S.g)(i,c.type,"date",p,h);return v.a.createElement(E.g,{adjustContainerHeight:a,containerHeight:e,currentData:d,formatDatumValue:z.b,formatDatumOptions:c.formatOptions,height:t,previousData:g,showSupplementaryLabel:r,showUsageLegendLabel:n.showUsageLegendLabel,title:u,units:l})}),this.getUsageChart=(e=>{const{currentReport:t,previousReport:a,t:r,trend:s}=this.props,n=this.getUnits(),i=r(s.titleKey,{units:r(`units.${n}`)}),o=Object(S.g)(t,s.type,"date","request"),c=Object(S.g)(a,s.type,"date","request"),l=Object(S.g)(t,s.type,"date","usage"),u=Object(S.g)(a,s.type,"date","usage");return v.a.createElement(E.h,{containerHeight:A.containerUsageHeight,currentRequestData:o,currentUsageData:l,formatDatumValue:z.b,formatDatumOptions:s.formatOptions,height:e,previousRequestData:c,previousUsageData:u,title:i})}),this.getDetails=(()=>{const{chartType:e,currentReport:t,details:a,trend:r}=this.props,s=r.computedReportItem||"cost",n=r.computedReportItemValue||"total",i=this.getUnits();return v.a.createElement(E.d,{chartType:e,computedReportItem:s,computedReportItemValue:n,costLabel:this.getDetailsLabel(a.costKey,i),formatOptions:a.formatOptions,formatValue:z.b,report:t,requestLabel:this.getDetailsLabel(a.requestKey,i),showTooltip:a.showTooltip,showUnits:a.showUnits,showUsageFirst:a.showUsageFirst,units:a.units,usageFormatOptions:a.usageFormatOptions,usageLabel:this.getDetailsLabel(a.usageKey,i)})}),this.getDetailsLabel=((e,t)=>{const{t:a}=this.props;return e?a(e,{units:a(`units.${t}`)}):void 0}),this.getDetailsLink=(()=>{const{currentTab:e,details:t}=this.props;return t.viewAllPath?v.a.createElement(F.a,{to:this.buildDetailsLink(e),onClick:this.handleInsightsNavClick},this.getDetailsLinkTitle(e)):null}),this.getDetailsLinkTitle=(e=>{const{getIdKeyForTab:t,t:a}=this.props;return a("group_by.all",{groupBy:t(e)||""})}),this.getHorizontalLayout=(()=>{const{containerAltHeight:e=A.containerAltHeight,chartAltHeight:t=A.chartAltHeight,currentReportFetchStatus:a}=this.props;return v.a.createElement(E.b,{detailsLink:this.getDetailsLink(),status:a,subTitle:this.getSubTitle(),tabs:this.getTabs(),title:this.getTitle()},this.getDetails(),this.getChart(e,t,!0))}),this.getSubTitle=(()=>{const{t:e}=this.props,t=new Date,a=P()(t),r=w()(t,"D"),s=w()(x()(t),"D");return e("aws_dashboard.widget_subtitle",{count:C()(t),endDate:r,month:a,startDate:s})}),this.getTab=((e,t)=>{const{getIdKeyForTab:a,tabsReport:s,tabsReportFetchStatus:n,trend:i}=this.props,o=a(e),c=i.computedReportItemValue||"total";return v.a.createElement(r.a,{eventKey:t,key:`${a(e)}-tab`,title:this.getTabTitle(e)},v.a.createElement("div",{style:W.tabItems},v.a.createElement(E.f,{computedReportItemValue:c,idKey:o,key:`${o}-items`,report:s,status:n},({items:t})=>t.map(t=>this.getTabItem(e,t)))))}),this.getTabItem=((e,t)=>{const{availableTabs:a,details:r,getIdKeyForTab:s,tabsReport:n,topItems:i,trend:o}=this.props,{activeTabKey:c}=this.state,l=s(e),u=s(a[c]),p=o.computedReportItem||"cost",h=o.computedReportItemValue||"total";let d;const g=n&&n.meta&&n.meta.total;return"usage"===p?g&&n.meta.total.usage&&(d=n.meta.total.usage.value):g&&n.meta.total[p]&&n.meta.total[p][h]&&(d=n.meta.total[p][h].value),u===l?v.a.createElement(E.e,{key:`${t.id}-item`,formatOptions:i.formatOptions,formatValue:z.b,label:t.label?t.label.toString():"",totalValue:d,units:r.units?r.units:this.getUnits(),value:t[p]}):null}),this.getTabs=(()=>{const{availableTabs:e}=this.props;return v.a.createElement(o.a,{isFilled:!0,activeKey:this.state.activeTabKey,onSelect:this.handleTabClick},e.map((e,t)=>this.getTab(e,t)))}),this.getTabTitle=(e=>{const{getIdKeyForTab:t,t:a}=this.props;return a("group_by.top",{groupBy:t(e)||""})}),this.getTitle=(()=>{const{t:e,titleKey:t}=this.props,a=new Date,r=P()(a);return e(t,{endDate:w()(a,"Do"),month:r,startDate:w()(x()(a),"Do")})}),this.getUnits=(()=>{const{currentReport:e,details:t,trend:a}=this.props,r=a.computedReportItem||"cost",s=a.computedReportItemValue||"total";if(t.units)return t.units;let n;const i=e&&e.meta&&e.meta.total;if("usage"===r){n=i&&e.meta.total.usage?Object(z.c)(e.meta.total.usage.units):""}else{n=i&&e.meta.total[r]&&e.meta.total[r][s]?Object(z.c)(e.meta.total[r][s].units):""}return n}),this.getVerticalLayout=(()=>{const{availableTabs:e,currentReportFetchStatus:t}=this.props;return v.a.createElement(E.a,{detailsLink:this.getDetailsLink(),status:t,subTitle:this.getSubTitle(),title:this.getTitle()},this.getDetails(),this.getChart(A.containerTrendHeight,A.chartHeight),Boolean(e)&&v.a.createElement("div",{style:W.tabs},this.getTabs()))}),this.handleInsightsNavClick=(()=>{const{details:e}=this.props;e.appNavId&&insights.chrome.appNavClick({id:e.appNavId,secondaryNav:!0})}),this.handleTabClick=((e,t)=>{const{availableTabs:a,id:r,updateTab:s}=this.props;s(r,a[t]),this.setState({activeTabKey:t})})}componentDidMount(){const{availableTabs:e,fetchReports:t,id:a,updateTab:r,widgetId:s}=this.props;e&&r(a,e[0]),t(s)}render(){const{details:e}=this.props;return e.showHorizontal?this.getHorizontalLayout():this.getVerticalLayout()}}var K=a(7);const U=e=>{switch(e){case"services":return"service";case"accounts":return"account";case"regions":return"region";case"instance_type":return"instance_type"}},q=Object(T.a)((e,{widgetId:t})=>{const a=O.c.selectWidget(e,t),r=O.c.selectWidgetQueries(e,t);return Object.assign(Object.assign({},a),{getIdKeyForTab:U,currentQuery:r.current,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:K.c.selectReport(e,a.reportPathsType,a.reportType,r.current),currentReportFetchStatus:K.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,r.current),previousReport:K.c.selectReport(e,a.reportPathsType,a.reportType,r.previous),tabsReport:K.c.selectReport(e,a.reportPathsType,a.reportType,r.tabs),tabsReportFetchStatus:K.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,r.tabs)})}),H={fetchReports:O.a.fetchWidgetReports,updateTab:O.a.changeWidgetTab},V=Object(f.e)()(Object(_.connect)(q,H)(N)),Q=Object(T.a)(e=>({DashboardWidget:V,selectWidgets:O.c.selectWidgets(e),widgets:O.c.selectCurrentWidgets(e)}));var B=Object(f.e)()(Object(_.connect)(Q,{})(y)),M=a(187);const $=e=>{switch(e){case"services":return"service";case"accounts":return"account";case"regions":return"region";case"instance_type":return"instance_type"}},G=Object(T.a)((e,{widgetId:t})=>{const a=M.c.selectWidget(e,t),r=M.c.selectWidgetQueries(e,t);return Object.assign(Object.assign({},a),{getIdKeyForTab:$,currentQuery:r.current,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:K.c.selectReport(e,a.reportPathsType,a.reportType,r.current),currentReportFetchStatus:K.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,r.current),previousReport:K.c.selectReport(e,a.reportPathsType,a.reportType,r.previous),tabsReport:K.c.selectReport(e,a.reportPathsType,a.reportType,r.tabs),tabsReportFetchStatus:K.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,r.tabs)})}),Y={fetchReports:M.a.fetchWidgetReports,updateTab:M.a.changeWidgetTab},X=Object(f.e)()(Object(_.connect)(G,Y)(N)),J=Object(T.a)(e=>({DashboardWidget:X,selectWidgets:M.c.selectWidgets(e),widgets:M.c.selectCurrentWidgets(e)}));var Z=Object(f.e)()(Object(_.connect)(J,{})(y)),ee=a(188);const te=e=>{switch(e){case"service_names":return"service_name";case"subscription_guids":return"subscription_guid";case"resource_locations":return"resource_location";case"instance_type":return"instance_type"}},ae=Object(T.a)((e,{widgetId:t})=>{const a=ee.c.selectWidget(e,t),r=ee.c.selectWidgetQueries(e,t);return Object.assign(Object.assign({},a),{getIdKeyForTab:te,currentQuery:r.current,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:K.c.selectReport(e,a.reportPathsType,a.reportType,r.current),currentReportFetchStatus:K.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,r.current),previousReport:K.c.selectReport(e,a.reportPathsType,a.reportType,r.previous),tabsReport:K.c.selectReport(e,a.reportPathsType,a.reportType,r.tabs),tabsReportFetchStatus:K.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,r.tabs)})}),re={fetchReports:ee.a.fetchWidgetReports,updateTab:ee.a.changeWidgetTab},se=Object(f.e)()(Object(_.connect)(ae,re)(N)),ne=Object(T.a)(e=>({DashboardWidget:se,selectWidgets:ee.c.selectWidgets(e),widgets:ee.c.selectCurrentWidgets(e)}));var ie=Object(f.e)()(Object(_.connect)(ne,{})(y)),oe=a(190);const ce=e=>{switch(e){case"service_names":return"service_name";case"subscription_guids":return"subscription_guid";case"resource_locations":return"resource_location";case"instance_type":return"instance_type"}},le=Object(T.a)((e,{widgetId:t})=>{const a=oe.c.selectWidget(e,t),r=oe.c.selectWidgetQueries(e,t);return Object.assign(Object.assign({},a),{getIdKeyForTab:ce,currentQuery:r.current,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:K.c.selectReport(e,a.reportPathsType,a.reportType,r.current),currentReportFetchStatus:K.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,r.current),previousReport:K.c.selectReport(e,a.reportPathsType,a.reportType,r.previous),tabsReport:K.c.selectReport(e,a.reportPathsType,a.reportType,r.tabs),tabsReportFetchStatus:K.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,r.tabs)})}),ue={fetchReports:oe.a.fetchWidgetReports,updateTab:oe.a.changeWidgetTab},pe=Object(f.e)()(Object(_.connect)(le,ue)(N)),he=Object(T.a)(e=>({DashboardWidget:pe,selectWidgets:oe.c.selectWidgets(e),widgets:oe.c.selectCurrentWidgets(e)}));var de=Object(f.e)()(Object(_.connect)(he,{})(y)),ge=a(140);const me=e=>{switch(e){case"accounts":return"account";case"regions":return"region";case"services":return"service"}},be=Object(T.a)((e,{widgetId:t})=>{const a=ge.c.selectWidget(e,t),r=ge.c.selectWidgetQueries(e,t);return Object.assign(Object.assign({},a),{getIdKeyForTab:me,currentQuery:r.current,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:K.c.selectReport(e,a.reportPathsType,a.reportType,r.current),currentReportFetchStatus:K.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,r.current),previousReport:K.c.selectReport(e,a.reportPathsType,a.reportType,r.previous),tabsReport:K.c.selectReport(e,a.reportPathsType,a.reportType,r.tabs),tabsReportFetchStatus:K.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,r.tabs)})}),ve={fetchReports:ge.a.fetchWidgetReports,updateTab:ge.a.changeWidgetTab},ye=Object(f.e)()(Object(_.connect)(be,ve)(N)),fe=Object(T.a)(e=>({DashboardWidget:ye,selectWidgets:ge.c.selectWidgets(e),widgets:ge.c.selectCurrentWidgets(e)}));var _e=Object(f.e)()(Object(_.connect)(fe,{})(y)),Te=a(189);const Oe=180,De=275,Se=e=>{switch(e){case"clusters":return"cluster";case"nodes":return"node";case"projects":return"project"}},Ee=Object(T.a)((e,{widgetId:t})=>{const a=Te.c.selectWidget(e,t),r=Te.c.selectWidgetQueries(e,t);return Object.assign(Object.assign({},a),{getIdKeyForTab:Se,chartAltHeight:Oe,containerAltHeight:De,currentQuery:r.current,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:K.c.selectReport(e,a.reportPathsType,a.reportType,r.current),currentReportFetchStatus:K.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,r.current),previousReport:K.c.selectReport(e,a.reportPathsType,a.reportType,r.previous),tabsReport:K.c.selectReport(e,a.reportPathsType,a.reportType,r.tabs),tabsReportFetchStatus:K.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,r.tabs)})}),Re={fetchReports:Te.a.fetchWidgetReports,updateTab:Te.a.changeWidgetTab},we=Object(f.e)()(Object(_.connect)(Ee,Re)(N)),je=Object(T.a)(e=>({DashboardWidget:we,selectWidgets:Te.c.selectWidgets(e),widgets:Te.c.selectCurrentWidgets(e)}));var Ce=Object(f.e)()(Object(_.connect)(je,{})(y)),ke=a(185);const Pe=e=>{switch(e){case"clusters":return"cluster";case"nodes":return"node";case"projects":return"project"}},Ie=Object(T.a)((e,{widgetId:t})=>{const a=ke.c.selectWidget(e,t),r=ke.c.selectWidgetQueries(e,t);return Object.assign(Object.assign({},a),{getIdKeyForTab:Pe,currentQuery:r.current,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:K.c.selectReport(e,a.reportPathsType,a.reportType,r.current),currentReportFetchStatus:K.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,r.current),previousReport:K.c.selectReport(e,a.reportPathsType,a.reportType,r.previous),tabsReport:K.c.selectReport(e,a.reportPathsType,a.reportType,r.tabs),tabsReportFetchStatus:K.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,r.tabs)})}),xe={fetchReports:ke.a.fetchWidgetReports,updateTab:ke.a.changeWidgetTab},Fe=Object(f.e)()(Object(_.connect)(Ie,xe)(N)),ze=Object(T.a)(e=>({DashboardWidget:Fe,selectWidgets:ke.c.selectWidgets(e),widgets:ke.c.selectCurrentWidgets(e)}));var Le=Object(f.e)()(Object(_.connect)(ze,{})(y)),Ae=a(184);const We=e=>{switch(e){case"clusters":return"cluster";case"nodes":return"node";case"projects":return"project"}},Ne=Object(T.a)((e,{widgetId:t})=>{const a=Ae.c.selectWidget(e,t),r=Ae.c.selectWidgetQueries(e,t);return Object.assign(Object.assign({},a),{getIdKeyForTab:We,currentQuery:r.current,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:K.c.selectReport(e,a.reportPathsType,a.reportType,r.current),currentReportFetchStatus:K.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,r.current),previousReport:K.c.selectReport(e,a.reportPathsType,a.reportType,r.previous),tabsReport:K.c.selectReport(e,a.reportPathsType,a.reportType,r.tabs),tabsReportFetchStatus:K.c.selectReportFetchStatus(e,a.reportPathsType,a.reportType,r.tabs)})}),Ke={fetchReports:Ae.a.fetchWidgetReports,updateTab:Ae.a.changeWidgetTab},Ue=Object(f.e)()(Object(_.connect)(Ne,Ke)(N)),qe=Object(T.a)(e=>({DashboardWidget:Ue,selectWidgets:Ae.c.selectWidgets(e),widgets:Ae.c.selectCurrentWidgets(e)}));var He=Object(f.e)()(Object(_.connect)(qe,{})(y)),Ve=a(30),Qe=a(594);const Be={info:{marginLeft:L.global_spacer_sm.value,verticalAlign:"middle"},infoIcon:{fontSize:L.global_FontSize_md.value},infoTitle:{fontWeight:"bold"},perspective:{marginBottom:L.global_spacer_lg.value,marginTop:L.global_spacer_lg.value},tabs:{marginTop:L.global_spacer_lg.value}},Me=Qe["a"]`
  &.pf-c-page__main-section {
    --pf-c-page__main-section--PaddingBottom: 0;
  }
`;var $e=a(1070),Ge=a(1068),Ye=a(954);const Xe={perspectiveSelector:{display:"flex",alignItems:"center"},perspectiveLabel:{marginBottom:0,marginRight:L.global_spacer_md.var}};const Je=Object(f.e)()(class extends v.a.Component{constructor(){super(...arguments),this.defaultState={isPerspectiveOpen:!1},this.state=Object.assign({},this.defaultState),this.getDropDownItems=(()=>{const{options:e,t:t}=this.props;return e.map(e=>v.a.createElement(Ye.a,{component:"button",key:e.value,onClick:()=>this.handleClick(e.value)},t(e.label)))}),this.getCurrentLabel=(()=>{const{currentItem:e,options:t,t:a}=this.props;let r="";for(const s of t)if(e===s.value){r=a(s.label);break}return r}),this.handleClick=(e=>{const{onItemClicked:t}=this.props;t&&t(e)}),this.handleSelect=(e=>{this.setState({isPerspectiveOpen:!this.state.isPerspectiveOpen})}),this.handleToggle=(e=>{this.setState({isPerspectiveOpen:e})})}render(){const{t:e}=this.props,{isPerspectiveOpen:t}=this.state,a=this.getDropDownItems();return v.a.createElement("div",{style:Xe.perspectiveSelector},v.a.createElement("label",{style:Xe.perspectiveLabel},e("overview.perspective.label")),v.a.createElement($e.a,{onSelect:this.handleSelect,toggle:v.a.createElement(Ge.a,{onToggle:this.handleToggle},this.getCurrentLabel()),isOpen:t,dropdownItems:a}))}}),Ze=e=>{switch(e){case"infrastructure":return"infrastructure";case"ocp":return"ocp"}},et=[{label:"overview.perspective.all",value:"all"},{label:"overview.perspective.supplementary",value:"supplementary"}],tt=[{label:"overview.perspective.all_cloud",value:"all_cloud"}],at=[{label:"overview.perspective.aws",value:"aws"},{label:"overview.perspective.aws_cloud",value:"aws_cloud"}],rt=[{label:"overview.perspective.azure",value:"azure"},{label:"overview.perspective.azure_cloud",value:"azure_cloud"}],st=[{label:"overview.perspective.ocp_usage",value:"ocp_usage"}];const nt=Object(T.a)(e=>{const t=Object(u.a)(Ve.a),a=Ve.f.selectProviders(e,"aws",t),r=Ve.f.selectProvidersError(e,"aws",t),s=Ve.f.selectProvidersFetchStatus(e,"aws",t),n=Object(u.a)(Ve.b),i=Ve.f.selectProviders(e,"azure",n),o=Ve.f.selectProvidersError(e,"azure",n),c=Ve.f.selectProvidersFetchStatus(e,"azure",n),l=Object(u.a)(Ve.c);return{awsProviders:a,awsProvidersError:r,awsProvidersFetchStatus:s,awsProvidersQueryString:t,azureProviders:i,azureProvidersError:o,azureProvidersFetchStatus:c,azureProvidersQueryString:n,ocpProviders:Ve.f.selectProviders(e,"ocp",l),ocpProvidersError:Ve.f.selectProvidersError(e,"ocp",l),ocpProvidersFetchStatus:Ve.f.selectProvidersFetchStatus(e,"ocp",l),ocpProvidersQueryString:l}});var it=Object(f.e)()(Object(_.connect)(nt)(class extends v.a.Component{constructor(){super(...arguments),this.defaultState={activeTabKey:0,showPopover:!1},this.state=Object.assign({},this.defaultState),this.getAvailableTabs=(()=>{const e=[],t=this.isAwsAvailable(),a=this.isAzureAvailable(),r=this.isOcpAvailable(),s=this.isOcpCloudAvailable();return r&&e.push({contentRef:v.a.createRef(),tab:"ocp"}),(t||a||s)&&e.push({contentRef:v.a.createRef(),tab:"infrastructure"}),e}),this.getCurrentTab=(()=>{const{activeTabKey:e}=this.state,t=this.isAwsAvailable(),a=this.isAzureAvailable(),r=this.isOcpAvailable(),s=this.isOcpCloudAvailable();return r&&!(t||a||s)?"ocp":!r&&(t||a||s)?"infrastructure":0===e?"ocp":"infrastructure"}),this.getDefaultInfrastructurePerspective=(()=>{const e=this.isAwsAvailable(),t=this.isAzureAvailable();return this.isOcpAvailable()?"all_cloud":e?"aws":t?"azure":void 0}),this.getDefaultOcpPerspective=(()=>{if(this.isOcpAvailable())return"all"}),this.getPerspective=(()=>{const{currentInfrastructurePerspective:e,currentOcpPerspective:t}=this.state,a=this.isAwsAvailable(),r=this.isAzureAvailable(),s=this.isOcpAvailable();if(!(a||r||s))return null;const n=[];"infrastructure"===this.getCurrentTab()?(s&&n.push(...tt),a&&n.push(...at),r&&n.push(...rt),s&&n.push(...st)):n.push(...et);const i="infrastructure"===this.getCurrentTab()?e:t;return v.a.createElement(Je,{currentItem:i||n[0].value,onItemClicked:this.handlePerspectiveClick,options:n})}),this.getTab=((e,t,a)=>v.a.createElement(r.a,{eventKey:a,key:`${Ze(e)}-tab`,tabContentId:`tab-${a}`,tabContentRef:t,title:this.getTabTitle(e)})),this.getTabContent=(e=>e.map((e,t)=>v.a.createElement(c.a,{eventKey:t,key:`${Ze(e.tab)}-tabContent`,id:`tab-${t}`,ref:e.contentRef},this.getTabItem(e.tab,t)))),this.getTabItem=((e,t)=>{const{activeTabKey:a,currentInfrastructurePerspective:r,currentOcpPerspective:s}=this.state,n=v.a.createElement(v.a.Fragment,null);if(a!==t)return n;const i=Ze(e);return"infrastructure"===i?"all_cloud"===r?v.a.createElement(_e,null):"aws"===r?v.a.createElement(Z,null):"aws_cloud"===r?v.a.createElement(B,null):"azure"===r?v.a.createElement(de,null):"azure_cloud"===r?v.a.createElement(ie,null):"ocp_usage"===r?v.a.createElement(He,null):v.a.createElement(_e,null):"ocp"===i?"all"===s?v.a.createElement(Ce,null):"supplementary"===s?v.a.createElement(Le,null):v.a.createElement(Ce,null):n}),this.getTabs=(e=>{const{activeTabKey:t}=this.state;return v.a.createElement(o.a,{activeKey:t,onSelect:this.handleTabClick},e.map((e,t)=>this.getTab(e.tab,e.contentRef,t)))}),this.getTabTitle=(e=>{const{t:t}=this.props;return"infrastructure"===e?t("overview.infrastructure"):"ocp"===e?t("overview.ocp"):void 0}),this.handlePerspectiveClick=(e=>{const t=this.getCurrentTab();this.setState(Object.assign(Object.assign({},"infrastructure"===t&&{currentInfrastructurePerspective:e}),"ocp"===t&&{currentOcpPerspective:e}))}),this.handlePopoverClick=(()=>{this.setState({show:!this.state.showPopover})}),this.handleTabClick=((e,t)=>{const{activeTabKey:a}=this.state;a!==t&&this.setState({activeTabKey:t})}),this.isAwsAvailable=(()=>{const{awsProviders:e}=this.props;return void 0!==e&&void 0!==e.meta&&e.meta.count>0}),this.isAzureAvailable=(()=>{const{azureProviders:e}=this.props;return void 0!==e&&void 0!==e.meta&&e.meta.count>0}),this.isOcpAvailable=(()=>{const{ocpProviders:e}=this.props;return void 0!==e&&void 0!==e.meta&&e.meta.count>0}),this.isOcpCloudAvailable=(()=>this.isAwsAvailable()&&this.isOcpAvailable())}componentDidMount(){this.setState({currentInfrastructurePerspective:this.getDefaultInfrastructurePerspective(),currentOcpPerspective:this.getDefaultOcpPerspective()})}componentDidUpdate(e,t){const{awsProviders:a,azureProviders:r,ocpProviders:s}=this.props;e.awsProviders===a&&e.azureProviders===r&&e.ocpProviders===s||this.setState({currentInfrastructurePerspective:this.getDefaultInfrastructurePerspective(),currentOcpPerspective:this.getDefaultOcpPerspective()})}render(){const{awsProvidersError:e,awsProvidersFetchStatus:t,azureProvidersError:a,azureProvidersFetchStatus:r,ocpProvidersError:o,ocpProvidersFetchStatus:c,t:u}=this.props,g=this.getAvailableTabs(),m=e||a||o,b=1===t||1===r||1===c,y=!this.isAwsAvailable()&&2===t,f=!this.isAzureAvailable()&&2===r,_=!this.isOcpAvailable()&&2===c,T=y&&f&&_,O=!(m||T||b);return v.a.createElement(v.a.Fragment,null,v.a.createElement("section",{className:`pf-l-page-header pf-c-page-header pf-l-page__main-section pf-c-page__main-section pf-m-light ${O?Me:""}`},v.a.createElement("header",{className:"pf-u-display-flex pf-u-justify-content-space-between pf-u-align-items-center"},v.a.createElement(i.a,{size:n.a["2xl"]},u("overview.title"),Boolean(O)&&v.a.createElement("span",{style:Be.infoIcon},v.a.createElement(s.a,{"aria-label":u("ocp_details.supplementary_aria_label"),enableFlip:!0,bodyContent:v.a.createElement(v.a.Fragment,null,v.a.createElement("p",{style:Be.infoTitle},u("overview.ocp_cloud")),v.a.createElement("p",null,u("overview.ocp_cloud_desc")),v.a.createElement("br",null),v.a.createElement("p",{style:Be.infoTitle},u("overview.ocp")),v.a.createElement("p",null,u("overview.ocp_desc")),v.a.createElement("br",null),v.a.createElement("p",{style:Be.infoTitle},u("overview.aws")),v.a.createElement("p",null,u("overview.aws_desc")),v.a.createElement("br",null),v.a.createElement("p",{style:Be.infoTitle},u("overview.azure")),v.a.createElement("p",null,u("overview.azure_desc")))},v.a.createElement(l.a,{style:Be.info,onClick:this.handlePopoverClick}))))),Boolean(O)&&v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{style:Be.tabs},this.getTabs(g)),v.a.createElement("div",{style:Be.perspective},this.getPerspective()))),v.a.createElement("section",{className:"pf-l-page__main-section pf-c-page__main-section","page-type":"cost-management-overview"},Boolean(m)?v.a.createElement(p.a,{error:m}):Boolean(T)?v.a.createElement(d.a,null):Boolean(b)?v.a.createElement(h.a,null):this.getTabContent(g)))}}));t.default=it}}]);
//# sourceMappingURL=592eb851591ede7a7206.bundle.js.map
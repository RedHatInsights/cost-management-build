(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{165:function(e,t,a){"use strict";a.d(t,"c",function(){return r}),a.d(t,"b",function(){return n}),a.d(t,"a",function(){return o});const r=e=>{return e?e.toLowerCase():""},n=(e,t,a={})=>{const n=r(t),c=e||0;switch(n){case"usd":return o(c,n,a);case"gb":case"gb-hours":case"gb-mo":return i(c,n,a);case"core-hours":case"hrs":return l(c,n,a);default:return s(c,n,a)}},s=(e,t,{fractionDigits:a}={})=>e.toFixed(a),o=(e,t,{fractionDigits:a=2}={})=>{let r=e;return e||(r=0),r.toLocaleString("en",{style:"currency",currency:"USD",minimumFractionDigits:a,maximumFractionDigits:a})},i=(e,t,{fractionDigits:a=2}={})=>e.toFixed(a),l=(e,t,{fractionDigits:a}={})=>e.toFixed(a)},174:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"b",function(){return n});const r=e=>({"data-testid":e}),n={details:{historical_data_btn:"historical-data-btn",tag_lnk:"tag-lnk",show_more_btn:"show-more-btn",view_all_btn:"view-all-btn"},export:{cancel_btn:"cancel-btn",submit_btn:"submit-btn"},login:{alert:"alert",form:"login-form",username_input:"username-input",password_input:"password-input",submit:"submit"},masthead:{masthead:"masthead",username:"username",sidebarToggle:"sidebar-toggle",logout:"logout"},onboarding:{btn_cancel:"btn-cancel",btn_back:"btn-back",btn_continue:"btn-continue",btn_close:"btn-close",type_selector:"type-selector",type_opt_aws:"type-option-aws",type_opt_ocp:"type-option-ocp",type_opt_non:"type-option-non",name_input:"name-input",check_box_1:"check-box-1",check_box_2:"check-box-2",check_box_3:"check-box-3",check_box_4:"check-box-4",check_box_5:"check-box-5",check_box_all:"check-box-all",s3_input:"s3-input",clusterid_input:"clusterid-input",arn_input:"arn-input"},providers:{add_btn:"add-btn",bucket_input:"bucket-input",cancel_btn:"cancel-btn",empty_state_add_btn:"empty_state_add-btn",name_input:"provider-name-input",resource_name_input:"provider-resource-name-input",cluster_id_input:"provider-cluster-id-input",submit_btn:"submit-btn",type_input:"provider-type-input"},sidebar:{nav:"vertical-nav",link:"vertical-nav-link",backdrop:"sidebar-backdrop"}}},178:function(e,t,a){"use strict";a.d(t,"h",function(){return v}),a.d(t,"j",function(){return y}),a.d(t,"i",function(){return _}),a.d(t,"a",function(){return E}),a.d(t,"b",function(){return S}),a.d(t,"c",function(){return j}),a.d(t,"e",function(){return k}),a.d(t,"d",function(){return T}),a.d(t,"f",function(){return D}),a.d(t,"g",function(){return w});var r=a(471),n=a.n(r),s=a(254),o=a.n(s),i=a(190),l=a.n(i),c=a(318),u=a.n(c),p=a(317),m=a.n(p),d=a(63),b=a(165),h=a(228),g=a(224),f=a(223);function v(e,t=1,a="date",r="cost"){if(!e)return[];const n={report:e,idKey:a,sortKey:"id",sortDirection:1},s=Object(h.a)(n);return 1===t?s.map(e=>O(e[r],e,a)):2===t?s.map(e=>O(e[r],e,a)):s.reduce((e,t)=>{const n=e.length?e[e.length-1].y:0;return[...e,O(n+t[r],t,a)]},[])}function y(e,t=1,a="date",r="cost"){if(!e)return[];const n={report:e,idKey:a,sortKey:"id",sortDirection:1},s=Object(f.a)(n);return 1===t?s.map(e=>O(e[r],e,a)):2===t?s.map(e=>O(e[r],e,a)):s.reduce((e,t)=>{const n=e.length?e[e.length-1].y:0;return[...e,O(n+t[r],t,a)]},[])}function _(e,t=1,a="date",r="infrastructureCost"){if(!e)return[];const n={report:e,idKey:a,sortKey:"id",sortDirection:1},s=Object(g.a)(n);return 1===t?s.map(e=>O(e[r],e,a)):2===t?s.map(e=>O(e[r],e,a)):s.reduce((e,t)=>{const n=e.length?e[e.length-1].y:0;return[...e,O(n+t[r],t,a)]},[])}function O(e,t,a="date"){var r;return{x:"date"===a?l()(t.id):t.label,y:(r=e,Number(r)===r&&r%1!=0?parseFloat(e.toFixed(2)):function(e){return Number(e)===e&&e%1==0}(e)?e:0),key:t.id,name:t.id,units:t.units}}function E(e,t=!0,a=!1){const[r,s]=function(e){if(!e||!e.length){const e=new Date;return[m()(e),e]}return[new Date(e[0].key+"T00:00:00"),new Date(e[e.length-1].key+"T00:00:00")]}(e);if(t&&r.setDate&&r.setDate(1),a&&r.setDate){const e=n()(r).getDate();s.setDate(e)}return[r,s]}function S(e,t=!1,a=!1){const[r,n]=E(e,t,a);return d.a.t("chart.date_range",{count:l()(n),endDate:o()(n,"DD"),month:Number(o()(r,"M"))-1,startDate:o()(r,"DD"),year:u()(n)})}function j(e,t=!1,a=!1){const[r,n]=E(e,t,a);return d.a.t("chart.historical_date_range",{count:l()(n),endDate:o()(n,"Do"),month:Number(o()(r,"M"))-1,startDate:o()(r,"Do"),year:u()(n)})}function k(e,t="chart.month"){const[a,r]=E(e);return[d.a.t(t,{month:Number(o()(a,"M"))-1}),d.a.t(t,{month:Number(o()(r,"M"))-1})]}function T(e){let t=0;return e&&e.length&&e.forEach(e=>{e.y>t&&(t=e.y)}),t}function D(e){return function(t,a=null,r={}){const n=Object(b.c)(a);switch(n){case"core-hours":case"hrs":case"gb":case"gb-hours":case"gb-mo":return d.a.t(`unit_tooltips.${n}`,{value:`${e(t,a,r)}`});default:return`${e(t,a,r)}`}}}function w(e,t,a,r="date"){if(!e.key)return"";if("date"===r){return`${o()(e.key,"DD MMM YYYY")} ${t(e.y,e.units,a)}`}return e.key.toString()}},197:function(e,t,a){"use strict";function r(e,t){if("string"==typeof e)return e;return e[t.key]}function n(e,t){const{direction:a=0}=t||{};return[...e].sort((e,n)=>{const s=r(0===a?e:n,t),o=r(0===a?n:e,t);return s>o?-1:s<o?1:0})}a.d(t,"a",function(){return n})},223:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"c",function(){return s}),a.d(t,"b",function(){return o});var r=a(197);function n({report:e,idKey:t,labelKey:a=t,sortKey:n="cost",sortDirection:o=0}){return Object(r.a)(s({report:e,idKey:t,labelKey:a,sortDirection:o,sortKey:n}),{key:n,direction:o})}function s({report:e,idKey:t,labelKey:a=t}){if(!e)return[];const r=new Map,n=e=>{e.values&&e.values.forEach(e=>{const n=e.capacity?e.capacity.value:0,s=e.cluster_alias?e.cluster_alias:e.cluster,o=e.cost?e.cost.value:0,i=e.derived_cost?e.derived_cost.value:0,l=e.infrastructure_cost?e.infrastructure_cost.value:0,c="date"!==t&&"cluster"!==t&&e.cluster?`-${e.cluster}`:"",u=`${e[t]}${c}`;let p;p="cluster"===a&&e.cluster_alias?e.cluster_alias:e[a]instanceof Object?e[a].value:e[a];const m=e.limit?e.limit.value:0,d=e.request?e.request.value:0,b=e.usage?e.usage.value:0,h=e.usage?e.usage.units:e.cost.units;r.get(u)?r.set(u,Object.assign({},r.get(u),{capacity:r.get(u).capacity+n,cost:r.get(u).cost+o,derivedCost:r.get(u).derivedCost+i,infrastructureCost:r.get(u).infrastructureCost+l,limit:r.get(u).limit+m,request:r.get(u).request+d,usage:r.get(u).usage+b})):r.set(u,{capacity:n,cluster:s,cost:o,deltaPercent:e.delta_percent,deltaValue:e.delta_value,derivedCost:i,id:u,infrastructureCost:l,label:p,limit:m,request:d,units:h,usage:b})});for(const t in e)if(e[t]instanceof Array)return e[t].forEach(n)};return e&&e.data&&e.data.forEach(n),Array.from(r.values())}function o(e={}){return e.project?"project":e.cluster?"cluster":e.node?"node":"date"}},224:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"c",function(){return s}),a.d(t,"b",function(){return o});var r=a(197);function n({report:e,idKey:t,labelKey:a=t,sortKey:n="cost",sortDirection:o=0}){return Object(r.a)(s({report:e,idKey:t,labelKey:a,sortDirection:o,sortKey:n}),{key:n,direction:o})}function s({report:e,idKey:t,labelKey:a=t}){if(!e)return[];const r=new Map,n=e=>{e.values&&e.values.forEach(e=>{const n=e.capacity?e.capacity.value:0,s=e.cluster_alias?e.cluster_alias:e.cluster,o=e.cost?e.cost.value:0,i=e.derived_cost?e.derived_cost.value:0,l=e.infrastructure_cost?e.infrastructure_cost.value:0,c="date"!==t&&"cluster"!==t&&e.cluster?`-${e.cluster}`:"",u=`${e[t]}${c}`;let p;p="cluster"===a&&e.cluster_alias?e.cluster_alias:e[a]instanceof Object?e[a].value:e[a],"account"===a&&e.account_alias&&(p=e.account_alias);const m=e.limit?e.limit.value:0,d=e.request?e.request.value:0,b=e.usage?e.usage.value:0,h=e.usage?e.usage.units:e.cost.units;r.get(u)?r.set(u,Object.assign({},r.get(u),{capacity:r.get(u).capacity+n,cost:r.get(u).cost+o,derivedCost:r.get(u).derivedCost+i,infrastructureCost:r.get(u).infrastructureCost+l,limit:r.get(u).limit+m,request:r.get(u).request+d,usage:r.get(u).usage+b})):r.set(u,{capacity:n,cluster:s,cost:o,deltaPercent:e.delta_percent,deltaValue:e.delta_value,derivedCost:i,id:u,infrastructureCost:l,label:p,limit:m,request:d,units:h,usage:b})});for(const t in e)if(e[t]instanceof Array)return e[t].forEach(n)};return e&&e.data&&e.data.forEach(n),Array.from(r.values())}function o(e={}){return e.project?"project":e.cluster?"cluster":e.node?"node":"date"}},228:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"c",function(){return s}),a.d(t,"b",function(){return o});var r=a(197);function n({report:e,idKey:t,labelKey:a=t,sortKey:n="cost",sortDirection:o=0}){return Object(r.a)(s({report:e,idKey:t,labelKey:a,sortDirection:o,sortKey:n}),{key:n,direction:o})}function s({report:e,idKey:t,labelKey:a=t}){if(!e)return[];const r=new Map,n=e=>{e.values&&e.values.forEach(e=>{const n=e.usage?e.usage.value:e.cost.value,s=e.derived_cost?e.derived_cost.value:0,o=e.infrastructure_cost?e.infrastructure_cost.value:0,i=e[t];let l;l=e[a]instanceof Object?e[a].value:e[a],"account"===a&&e.account_alias&&(l=e.account_alias),r.get(i)?r.set(i,Object.assign({},r.get(i),{cost:r.get(i).cost+n,derivedCost:r.get(i).derivedCost+s,infrastructureCost:r.get(i).infrastructureCost+o})):r.set(i,{cost:n,deltaPercent:e.delta_percent,deltaValue:e.delta_value,derivedCost:s,id:i,infrastructureCost:o,label:l,units:e.usage?e.usage.units:e.cost.units})});for(const t in e)if(e[t]instanceof Array)return e[t].forEach(n)};return e&&e.data&&e.data.forEach(n),Array.from(r.values())}function o(e={}){return e.account?"account":e.instance_type?"instance_type":e.region?"region":e.service?"service":"date"}},231:function(e,t,a){"use strict";var r=a(748),n=a(746),s=a(1),o=a.n(s),i=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(a[r[n]]=e[r[n]])}return a};const l=e=>{var{content:t}=e,a=i(e,["content"]);return o.a.createElement(n.a,{content:t(a.datum),enableFlip:!0},o.a.createElement(r.a,Object.assign({},a)))};a.d(t,"a",function(){return l})},267:function(e,t,a){"use strict";var r=a(577),n=a(768),s=a(767),o=a(769),i=a(786),l=a(778),c=a(774),u=a(1),p=a.n(u),m=a(45);const d=c.a.create({container:{display:"flex",justifyContent:"center",height:"100vh",marginTop:"150px"}});a.d(t,"a",function(){return b});const b=Object(m.d)()(({error:e,icon:t=l.a,t:a})=>{let u=a("error_state.unexpected_title"),m=a("error_state.unexpected_desc");return e&&e.response&&401===e.response.status&&(t=i.a,u=a("error_state.unauthorized_title"),m=a("error_state.unauthorized_desc")),p.a.createElement("div",{className:Object(c.b)(d.container)},p.a.createElement(o.a,null,p.a.createElement(s.a,{icon:t}),p.a.createElement(r.b,{size:"lg"},u),p.a.createElement(n.a,null,m)))})},269:function(e,t,a){"use strict";var r=a(577),n=a(768),s=a(767),o=a(769),i=a(785),l=a(774),c=a(1),u=a.n(c),p=a(45);const m=l.a.create({container:{display:"flex",justifyContent:"center",height:"100vh",marginTop:"150px"}});a.d(t,"a",function(){return d});const d=Object(p.d)()(({icon:e=i.a,t:t})=>{const a=t("loading_state.sources_title"),c=t("loading_state.sources_desc");return u.a.createElement("div",{className:Object(l.b)(m.container)},u.a.createElement(o.a,null,u.a.createElement(s.a,{icon:e}),u.a.createElement(r.b,{size:"lg"},a),u.a.createElement(n.a,null,c)))})},270:function(e,t,a){"use strict";var r=a(742),n=a(768),s=a(577),o=a(767),i=a(769),l=a(782),c=a(774),u=a(1),p=a.n(u),m=a(45),d=a(37),b=a(60),h=a(47),g=a(174);const f=c.a.create({container:{display:"flex",justifyContent:"center",height:"100vh",marginTop:"150px"}});a.d(t,"a",function(){return y});const v=Object(b.a)((e,{})=>({})),y=Object(m.d)()(Object(d.b)(v,{openProvidersModal:h.a.openModal})(class extends p.a.Component{constructor(){super(...arguments),this.getAddSourceButton=(()=>{const{openProvidersModal:e,t:t}=this.props;return p.a.createElement(r.c,Object.assign({},Object(g.a)(g.b.providers.add_btn),{onClick:e,type:r.a.submit,variant:r.b.primary}),t("providers.add_source"))})}render(){const{t:e}=this.props;return p.a.createElement("div",{className:Object(c.b)(f.container)},p.a.createElement(i.a,null,p.a.createElement(o.a,{icon:l.a}),p.a.createElement(s.b,{size:"lg"},e("providers.empty_state_title")),p.a.createElement(n.a,null,e("providers.empty_state_desc")),this.getAddSourceButton()))}}))},328:function(e,t,a){"use strict";var r=a(274),n=a(582),s=a(754),o=a(753),i=a(750),l=a(759),c=a(752),u=a(604),p=a(774),m=a(231),d=a(178),b=a(190),h=a.n(b),g=a(63),f=a(1),v=a.n(f),y=a(153);const _={currentRequestData:{data:{fill:"none",stroke:"#88D080",strokeDasharray:"3,3"}},currentUsageData:{data:{fill:"none",stroke:"#A2DA9C"}},legend:{labels:{fontFamily:y.r.value,fontSize:14},minWidth:175},previousRequestData:{data:{fill:"none",stroke:y.G.value,strokeDasharray:"3,3"}},previousUsageData:{data:{fill:"none",stroke:y.G.value}},currentColorScale:["#A2DA9C","#88D080","#6EC664","#519149","#3C6C37"],previousColorScale:[y.G.value,y.F.value],tooltip:{flyoutStyle:{fill:y.a.value,strokeWidth:0},style:{fill:y.q.value,padding:18}},yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"}}},O=p.a.create({chartContainer:{":not(foo) svg":{overflow:"visible"},marginTop:y.K.value},legend:{display:"inline-block",fontSize:y.u.value,minHeight:"60px",minWidth:"175px",width:"50%"},legendTitle:{fontSize:y.u.value,marginBottom:y.M.value,marginTop:y.K.value}});class E extends v.a.Component{constructor(){super(...arguments),this.containerRef=v.a.createRef(),this.state={width:0},this.initDatum=(()=>{const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:r,title:n}=this.props,s=[];if(r){const[e]=Object(d.e)(r,"chart.usage");s.push({name:e,symbol:{type:"minus"},tooltip:Object(d.b)(r,!0,!0)})}if(a){const[e]=Object(d.e)(a,"chart.requests");s.push({name:e,symbol:{type:"dash"},tooltip:Object(d.b)(a,!0,!0)})}const o={charts:[{data:r,name:"previousUsage",show:!0,style:_.previousUsageData},{data:a,name:"previousRequest",show:!0,style:_.previousRequestData}],legend:{colorScale:_.previousColorScale,data:s,onClick:this.handlePreviousLegendClick,title:n}},i=[];if(t){const[e]=Object(d.e)(t,"chart.usage");i.push({name:e,symbol:{type:"minus"},tooltip:Object(d.b)(t,!0,!1)})}if(e){const[t]=Object(d.e)(e,"chart.requests");i.push({name:t,symbol:{type:"dash"},tooltip:Object(d.b)(e,!0,!1)})}const l={charts:[{data:t,name:"currentUsage",show:!0,style:_.currentUsageData},{data:e,name:"currentRequest",show:!0,style:_.currentRequestData}],legend:{colorScale:_.currentColorScale,data:i,gutter:55,onClick:this.handleCurrentLegendClick,title:n}};this.setState({datum:{previous:o,current:l}})}),this.handleCurrentLegendClick=(e=>{const{datum:t}=this.state,a=Object.assign({},t);e.index>=0&&a.current.charts.length&&(a.current.charts[e.index].show=!a.current.charts[e.index].show,this.setState({datum:a}))}),this.handleResize=(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})}),this.handlePreviousLegendClick=(e=>{const{datum:t}=this.state,a=Object.assign({},t);e.index>=0&&a.previous.charts.length&&(a.previous.charts[e.index].show=!a.previous.charts[e.index].show,this.setState({datum:a}))}),this.getChart=((e,t)=>e.data&&e.data.length&&e.show?v.a.createElement(o.a,{data:e.data,name:e.name,key:`usage-chart-${t}`,style:e.style}):null),this.getLegend=((e,t)=>e&&e.data&&e.data.length?v.a.createElement(s.a,{colorScale:e.colorScale,containerComponent:v.a.createElement(n.a,{responsive:!1}),data:e.data,events:[{target:"data",eventHandlers:{onClick:()=>[{target:"data",mutation:t=>(e.onClick(t),null)}]}}],height:25,itemsPerRow:1,labelComponent:v.a.createElement(m.a,{content:this.getLegendTooltip}),orientation:"horizontal",style:_.legend,theme:r.a.light.blue}):null),this.getLegendTooltip=(e=>e.tooltip?e.tooltip:""),this.getTooltipLabel=(e=>{const{formatDatumValue:t,formatDatumOptions:a}=this.props,r=Object(d.g)(e,Object(d.f)(t),a,"date");return"currentRequest"===e.childName||"previousRequest"===e.childName?g.a.t("chart.requests_tooltip",{value:r}):"currentUsage"===e.childName||"previousUsage"===e.childName?g.a.t("chart.usage_tooltip",{value:r}):r})}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize)}),this.initDatum()}componentDidUpdate(e){e.currentRequestData===this.props.currentRequestData&&e.currentUsageData===this.props.currentUsageData&&e.previousRequestData===this.props.previousRequestData&&e.previousUsageData===this.props.previousUsageData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}getDomain(){const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:r}=this.props,n={x:[1,31]},s=e?Object(d.d)(e):0,o=t?Object(d.d)(t):0,i=a?Object(d.d)(a):0,l=r?Object(d.d)(r):0,c=Math.max(s,o,i,l),u=c>0?Math.ceil(c+.1*c):0;return u>0&&(n.y=[0,u]),n}getEndDate(){const{currentRequestData:e,currentUsageData:t,previousRequestData:a,previousUsageData:r}=this.props,n=e?h()(Object(d.a)(e,!0,!0)[1]):0,s=t?h()(Object(d.a)(t,!0,!0)[1]):0,o=a?h()(Object(d.a)(a,!0,!0)[1]):0,i=r?h()(Object(d.a)(r,!0,!0)[1]):0;return n>0||s>0||o>0||i>0?Math.max(n,s,o,i):31}isCurrentLegendVisible(){const{datum:e}=this.state;let t=!1;return e&&e.current.legend&&e.current.legend.data&&e.current.legend.data.forEach(e=>{e.name&&""!==e.name.trim()&&(t=!0)}),t}isPreviousLegendVisible(){const{datum:e}=this.state;let t=!1;return e&&e.previous.legend&&e.previous.legend.data&&e.previous.legend.data.forEach(e=>{e.name&&""!==e.name.trim()&&(t=!0)}),t}render(){const{height:e}=this.props,{datum:t,width:a}=this.state,r=v.a.createElement(i.a,{labelComponent:v.a.createElement(u.a,{flyoutStyle:_.tooltip.flyoutStyle,pointerWidth:20,style:_.tooltip.style}),labels:this.getTooltipLabel,voronoiDimension:"x"}),n=_.legend.minWidth>a/2?_.legend.minWidth:a/2,s=this.getDomain(),o=this.getEndDate(),m=Math.floor(o/2);return v.a.createElement("div",{className:Object(p.b)(O.chartContainer),ref:this.containerRef},v.a.createElement(c.a,{containerComponent:r,domain:s,height:e,width:a},Boolean(t&&t.previous)&&t.previous.charts.map((e,t)=>this.getChart(e,t)),Boolean(t&&t.current)&&t.current.charts.map((e,t)=>this.getChart(e,t)),v.a.createElement(l.a,{style:_.xAxis,tickValues:[1,m,o]}),v.a.createElement(l.a,{dependentAxis:!0,style:_.yAxis})),Boolean(this.isPreviousLegendVisible())&&v.a.createElement("div",{className:Object(p.b)(O.legendTitle)},t.previous.legend.title),Boolean(this.isCurrentLegendVisible()&&!this.isPreviousLegendVisible())&&v.a.createElement("div",{className:Object(p.b)(O.legendTitle)},t.current.legend.title),Boolean(this.isPreviousLegendVisible())&&v.a.createElement("div",{className:Object(p.b)(O.legend)},this.getLegend(t.previous.legend,n)),Boolean(this.isCurrentLegendVisible())&&v.a.createElement("div",{className:Object(p.b)(O.legend)},this.getLegend(t.current.legend,n)))}}a.d(t,"a",function(){return E})},329:function(e,t,a){"use strict";var r=a(604),n=a(582),s=a(754),o=a(759),i=a(752),l=a(753),c=a(750),u=a(274),p=a(774),m=a(231),d=a(178),b=a(190),h=a.n(b),g=a(1),f=a.n(g),v=a(153);const y={colorScale:[v.G.value,"#A2DA9C","#88D080","#6EC664","#519149","#3C6C37"],legend:{labels:{fontFamily:v.r.value,fontSize:14},minWidth:175},previousMonth:{data:{fill:"none",stroke:v.G.value}},currentMonth:{data:{fill:"none",stroke:"#A2DA9C"}},tooltip:{flyoutStyle:{fill:v.a.value,strokeWidth:0},style:{fill:v.q.value,padding:18}},yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"}}},_=p.a.create({chartContainer:{":not(foo) svg":{overflow:"visible"}},legend:{display:"inline-block",fontSize:v.u.value,marginTop:v.K.value,minWidth:"175px"},legendTitle:{marginBottom:v.M.value}});class O extends f.a.Component{constructor(){super(...arguments),this.containerRef=f.a.createRef(),this.state={width:0},this.initDatum=(()=>{const{currentData:e,previousData:t,title:a}=this.props,r=[];if(t){const[e]=Object(d.e)(t);r.push({name:e,symbol:{type:"minus"},tooltip:Object(d.b)(t,!0,!0)})}if(e){const[t]=Object(d.e)(e);r.push({name:t,symbol:{type:"minus"},tooltip:Object(d.b)(e,!0,!1)})}const n={charts:[{data:t,name:"previous",show:!0,style:y.previousMonth},{data:e,name:"current",show:!0,style:y.currentMonth}],legend:{colorScale:y.colorScale,data:r,onClick:this.handleCostLegendClick,title:a}};this.setState({datum:{cost:n}})}),this.handleCostLegendClick=(e=>{const{datum:t}=this.state,a=Object.assign({},t);e.index>=0&&a.cost.charts.length&&(a.cost.charts[e.index].show=!a.cost.charts[e.index].show,this.setState({datum:a}))}),this.handleResize=(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})}),this.getChart=((e,t)=>e.data&&e.data.length&&e.show?f.a.createElement(l.a,{data:e.data,name:e.name,key:`trend-chart-${t}`,style:e.style}):null),this.getLegend=((e,t)=>e&&e.data&&e.data.length?f.a.createElement(s.a,{colorScale:e.colorScale,containerComponent:f.a.createElement(n.a,{responsive:!1}),data:e.data,events:[{target:"data",eventHandlers:{onClick:()=>[{target:"data",mutation:t=>(e.onClick(t),null)}]}}],gutter:20,height:25,labelComponent:f.a.createElement(m.a,{content:this.getLegendTooltip}),orientation:t>150?"horizontal":"vertical",style:y.legend,theme:u.a.light.blue,width:t}):null),this.getLegendTooltip=(e=>e.tooltip?e.tooltip:""),this.getTooltipLabel=(e=>{const{formatDatumValue:t,formatDatumOptions:a}=this.props;return Object(d.g)(e,Object(d.f)(t),a,"date")})}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize)}),this.initDatum()}componentDidUpdate(e){e.currentData===this.props.currentData&&e.previousData===this.props.previousData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}getDomain(){const{currentData:e,previousData:t}=this.props,a={x:[1,31]},r=e?Object(d.d)(e):0,n=t?Object(d.d)(t):0,s=Math.max(r,n),o=s>0?Math.ceil(s+.1*s):0;return o>0&&(a.y=[0,o]),a}getEndDate(){const{currentData:e,previousData:t}=this.props,a=t?h()(Object(d.a)(t,!0,!0)[1]):0,r=e?h()(Object(d.a)(e,!0,!0)[1]):0;return r>0||a>0?Math.max(r,a):31}isLegendVisible(){const{datum:e}=this.state;let t=!1;return e&&e.cost.legend&&e.cost.legend.data&&e.cost.legend.data.forEach(e=>{e.name&&""!==e.name.trim()&&(t=!0)}),t}render(){const{height:e}=this.props,{datum:t,width:a}=this.state,n=f.a.createElement(c.a,{labelComponent:f.a.createElement(r.a,{flyoutStyle:y.tooltip.flyoutStyle,pointerWidth:20,style:y.tooltip.style}),labels:this.getTooltipLabel,voronoiDimension:"x"}),s=y.legend.minWidth>a/2?y.legend.minWidth:a/2,l=this.getDomain(),u=this.getEndDate(),m=Math.floor(u/2);return f.a.createElement("div",{className:Object(p.b)(_.chartContainer),ref:this.containerRef},f.a.createElement(i.a,{containerComponent:n,domain:l,height:e,width:a},Boolean(t&&t.cost)&&t.cost.charts.map((e,t)=>this.getChart(e,t)),f.a.createElement(o.a,{style:y.xAxis,tickValues:[1,m,u]}),f.a.createElement(o.a,{dependentAxis:!0,style:y.yAxis})),Boolean(this.isLegendVisible())&&f.a.createElement("div",{className:Object(p.b)(_.legend)},Boolean(t.cost.legend.title)&&f.a.createElement("div",{className:Object(p.b)(_.legendTitle)},t.cost.legend.title),this.getLegend(t.cost.legend,s)))}}a.d(t,"a",function(){return O})},468:function(e,t,a){"use strict";var r=a(771),n=a(773),s=a(770),o=a(577),i=a(746),l=a(772),c=a(774),u=a(192),p=a(1),m=a.n(p),d=a(45),b=a(153);const h=c.a.create({chartSkeleton:{height:"125px",marginBottom:b.L.value,marginTop:b.L.value},legendSkeleton:{marginTop:b.L.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:b.w.value,color:b.m.var,marginBottom:"0"}}),g=Object(d.d)()(({children:e,detailsLink:t,title:a,subTitle:p,subTitleTooltip:d=p,status:b,t:g})=>m.a.createElement(n.a,{className:Object(c.b)(h.reportSummary)},m.a.createElement(s.a,null,m.a.createElement(o.b,{size:"lg"},a),Boolean(p)&&m.a.createElement(i.a,{content:d,enableFlip:!0},m.a.createElement("p",{className:Object(c.b)(h.subtitle)},p))),m.a.createElement(l.a,null,1===b?m.a.createElement(m.a.Fragment,null,m.a.createElement(u.Skeleton,{size:u.SkeletonSize.xs}),m.a.createElement(u.Skeleton,{className:Object(c.b)(h.chartSkeleton),size:u.SkeletonSize.md}),m.a.createElement(u.Skeleton,{size:u.SkeletonSize.sm}),m.a.createElement(u.Skeleton,{className:Object(c.b)(h.legendSkeleton),size:u.SkeletonSize.xs})):e),Boolean(t)&&m.a.createElement(r.a,null,t)));var f=a(714),v=a(579);const y=c.a.create({chartSkeleton:{height:"175px",marginBottom:b.L.value,marginTop:b.L.value},container:{display:"flex"},cost:{flexGrow:1,minHeight:"440px"},legendSkeleton:{marginTop:b.L.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:b.w.value,color:b.m.var,marginBottom:"0"},tops:{flexGrow:1,marginTop:b.K.value}}),_=Object(d.d)()(({children:e,detailsLink:t,status:a,subTitle:p,subTitleTooltip:d=p,t:b,tabs:h,title:g})=>m.a.createElement(n.a,{className:Object(c.b)(y.reportSummary)},m.a.createElement(v.a,{gutter:"md"},m.a.createElement(f.a,{lg:5,xl:6},m.a.createElement("div",{className:Object(c.b)(y.cost)},m.a.createElement(s.a,null,m.a.createElement(o.b,{size:"lg"},g),Boolean(p)&&m.a.createElement(i.a,{content:d,enableFlip:!0},m.a.createElement("p",{className:Object(c.b)(y.subtitle)},p))),m.a.createElement(l.a,null,1===a?m.a.createElement(m.a.Fragment,null,m.a.createElement(u.Skeleton,{size:u.SkeletonSize.xs}),m.a.createElement(u.Skeleton,{className:Object(c.b)(y.chartSkeleton),size:u.SkeletonSize.md}),m.a.createElement(u.Skeleton,{size:u.SkeletonSize.sm}),m.a.createElement(u.Skeleton,{className:Object(c.b)(y.legendSkeleton),size:u.SkeletonSize.xs})):e))),m.a.createElement(f.a,{lg:7,xl:6},m.a.createElement("div",{className:Object(c.b)(y.container)},m.a.createElement("div",{className:Object(c.b)(y.tops)},1!==a&&m.a.createElement(m.a.Fragment,null,Boolean(h)&&m.a.createElement(l.a,null,h),Boolean(t)&&m.a.createElement(r.a,null,t))))))));var O=a(165);const E=c.a.create({reportSummaryDetails:{marginBottom:b.L.value,display:"flex",alignItems:"flex-end"},text:{paddingBottom:14,lineHeight:b.z.value,fontSize:b.w.value},value:{color:b.l.var,marginRight:b.M.value,fontSize:b.s.value},valueContainer:{display:"inline-block",marginBottom:b.L.value,width:"50%"}}),S=Object(d.d)()(({costLabel:e,formatValue:t,formatOptions:a,report:r,reportType:n="cost",showUnits:s=!1,t:o,usageLabel:i})=>{let l="----",u="----";if(r&&r.meta&&r.meta.total&&(l=t(r.meta.total.cost?r.meta.total.cost.value:0,r.meta.total.cost?r.meta.total.cost.units:"USD",a),u=t(r.meta.total.usage?r.meta.total.usage.value:0,r.meta.total.usage?r.meta.total.usage.units:"",a)),"cost"===n)return m.a.createElement("div",{className:Object(c.b)(E.reportSummaryDetails)},m.a.createElement("div",{className:Object(c.b)(E.value)},l));{const t=r&&r.meta&&r.meta.total&&r.meta.total.usage?r.meta.total.usage.units:"",a=o(`units.${Object(O.c)(t)}`);return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:Object(c.b)(E.valueContainer)},m.a.createElement("div",{className:Object(c.b)(E.value)},l),m.a.createElement("div",{className:Object(c.b)(E.text)},m.a.createElement("div",null,e))),Boolean(i)&&m.a.createElement("div",{className:Object(c.b)(E.valueContainer)},m.a.createElement("div",{className:Object(c.b)(E.value)},u,Boolean(s)&&m.a.createElement("span",{className:Object(c.b)(E.text)},a)),m.a.createElement("div",{className:Object(c.b)(E.text)},m.a.createElement("div",null,i))))}});var j=a(744);const k=c.a.create({reportSummaryItem:{":not(:last-child)":{marginBottom:b.L.value}},test:{":not(foo) svg":{overflow:"visible"}}}),T=({label:e,formatOptions:t,formatValue:a,t:r,totalValue:n,units:s,value:o})=>{const i=Object(O.c)(s),l="usd"!==i?r(`units.${i}`):void 0,u=Number((n?o/n*100:0).toFixed(2)),p=r("percent_of_total",{percent:u,units:l,value:a(o,s,t)});return m.a.createElement("li",{className:Object(c.b)(k.reportSummaryItem)},m.a.createElement(j.b,{label:p,value:u,title:e,size:j.a.sm}))};T.defaultProps={formatValue:e=>e};const D=Object(d.d)()(T);var w=a(228);const C=c.a.create({skeleton:{marginTop:b.L.value}});const x=Object(d.d)()(class extends m.a.Component{shouldComponentUpdate(e){return e.report!==this.props.report}getItems(){const{report:e,idKey:t,labelKey:a}=this.props,r=Object(w.a)({report:e,idKey:t,labelKey:a}),n=r.findIndex(e=>{const t=e.id;if(t&&null!==t)return t.toString().includes("Other")});return-1!==n?[...r.slice(0,n),...r.slice(n+1),r[n]]:r}render(){const{report:e,children:t}=this.props;if(e){const e=this.getItems();return m.a.createElement("ul",null,t({items:e}))}return m.a.createElement(m.a.Fragment,null,m.a.createElement(u.Skeleton,{size:u.SkeletonSize.md}),m.a.createElement(u.Skeleton,{size:u.SkeletonSize.md,className:Object(c.b)(C.skeleton)}),m.a.createElement(u.Skeleton,{size:u.SkeletonSize.md,className:Object(c.b)(C.skeleton)}),m.a.createElement(u.Skeleton,{size:u.SkeletonSize.md,className:Object(c.b)(C.skeleton)}))}});var L=a(329);const z=c.a.create({chart:{marginBottom:b.M.value}}),R=e=>m.a.createElement("div",{className:Object(c.b)(z.chart)},m.a.createElement(L.a,Object.assign({},e)));a.d(t,"a",function(){return g}),a.d(t,"b",function(){return _}),a.d(t,"c",function(){return S}),a.d(t,"d",function(){return D}),a.d(t,"e",function(){return x}),a.d(t,"f",function(){return R})},469:function(e,t,a){"use strict";var r=a(771),n=a(773),s=a(770),o=a(577),i=a(746),l=a(772),c=a(774),u=a(192),p=a(1),m=a.n(p),d=a(45),b=a(153);const h=c.a.create({chartSkeleton:{height:"125px",marginBottom:b.L.value,marginTop:b.L.value},legendSkeleton:{marginTop:b.L.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:b.w.value,color:b.m.var,marginBottom:"0"}}),g=Object(d.d)()(({children:e,detailsLink:t,title:a,subTitle:p,subTitleTooltip:d=p,status:b,t:g})=>m.a.createElement(n.a,{className:Object(c.b)(h.reportSummary)},m.a.createElement(s.a,null,m.a.createElement(o.b,{size:"lg"},a),Boolean(p)&&m.a.createElement(i.a,{content:d,enableFlip:!0},m.a.createElement("p",{className:Object(c.b)(h.subtitle)},p))),m.a.createElement(l.a,null,1===b?m.a.createElement(m.a.Fragment,null,m.a.createElement(u.Skeleton,{size:u.SkeletonSize.xs}),m.a.createElement(u.Skeleton,{className:Object(c.b)(h.chartSkeleton),size:u.SkeletonSize.md}),m.a.createElement(u.Skeleton,{size:u.SkeletonSize.sm}),m.a.createElement(u.Skeleton,{className:Object(c.b)(h.legendSkeleton),size:u.SkeletonSize.xs})):e),Boolean(t)&&m.a.createElement(r.a,null,t)));var f=a(714),v=a(579);const y=c.a.create({chartSkeleton:{height:"175px",marginBottom:b.L.value,marginTop:b.L.value},container:{display:"flex"},cost:{flexGrow:1,minHeight:"440px"},legendSkeleton:{marginTop:b.L.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:b.w.value,color:b.m.var,marginBottom:"0"},tops:{flexGrow:1,marginTop:b.K.value}}),_=Object(d.d)()(({children:e,detailsLink:t,status:a,subTitle:p,subTitleTooltip:d=p,t:b,tabs:h,title:g})=>m.a.createElement(n.a,{className:Object(c.b)(y.reportSummary)},m.a.createElement(v.a,{gutter:"md"},m.a.createElement(f.a,{lg:5,xl:6},m.a.createElement("div",{className:Object(c.b)(y.cost)},m.a.createElement(s.a,null,m.a.createElement(o.b,{size:"lg"},g),Boolean(p)&&m.a.createElement(i.a,{content:d,enableFlip:!0},m.a.createElement("p",{className:Object(c.b)(y.subtitle)},p))),m.a.createElement(l.a,null,1===a?m.a.createElement(m.a.Fragment,null,m.a.createElement(u.Skeleton,{size:u.SkeletonSize.xs}),m.a.createElement(u.Skeleton,{className:Object(c.b)(y.chartSkeleton),size:u.SkeletonSize.md}),m.a.createElement(u.Skeleton,{size:u.SkeletonSize.sm}),m.a.createElement(u.Skeleton,{className:Object(c.b)(y.legendSkeleton),size:u.SkeletonSize.xs})):e))),m.a.createElement(f.a,{lg:7,xl:6},m.a.createElement("div",{className:Object(c.b)(y.container)},m.a.createElement("div",{className:Object(c.b)(y.tops)},1!==a&&m.a.createElement(m.a.Fragment,null,Boolean(h)&&m.a.createElement(l.a,null,h),Boolean(t)&&m.a.createElement(r.a,null,t))))))));var O=a(165);const E=c.a.create({text:{display:"flex",alignItems:"flex-end",marginLeft:b.M.value,paddingBottom:14,lineHeight:b.z.value,fontSize:b.w.value},titleContainer:{display:"inline-block",marginBottom:b.L.value,minWidth:"175px",width:"50%"},usageText:{marginRight:b.M.value},usageValue:{marginRight:b.M.value},value:{display:"flex",color:b.l.var,fontSize:b.s.value},valueContainer:{display:"inline-block",marginBottom:b.L.value,width:"50%"}}),S=Object(d.d)()(({costLabel:e,formatValue:t,formatOptions:a,report:r,reportType:n="cost",requestLabel:s,showUnits:o=!1,t:i,usageLabel:l})=>{let u="----",p="----",d="----";const b="database"===n||"instance_type"===n||"network"===n||"storage"===n;if(r&&r.meta&&r.meta.total&&(u=t(r.meta.total.cost?r.meta.total.cost.value:0,r.meta.total.cost?r.meta.total.cost.units:"USD",a),b?d=t(r.meta.total.usage?r.meta.total.usage.value:0,r.meta.total.usage?r.meta.total.usage.units:"",a):(d=t(r.meta.total.usage?r.meta.total.usage.value:0,r.meta.total.usage?r.meta.total.usage.units:"",a),p=t(r.meta.total.request?r.meta.total.request.value:0,r.meta.total.request?r.meta.total.request.units:"",a))),"cost"===n)return m.a.createElement("div",{className:Object(c.b)(E.titleContainer)},m.a.createElement("div",{className:Object(c.b)(E.value)},u));if(b){const t=r&&r.meta&&r.meta.total&&r.meta.total.usage?r.meta.total.usage.units:"",a=i(`units.${Object(O.c)(t)}`);return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:Object(c.b)(E.valueContainer)},m.a.createElement("div",{className:Object(c.b)(E.value)},u),m.a.createElement("div",{className:Object(c.b)(E.text)},m.a.createElement("div",null,e))),Boolean(l)&&m.a.createElement("div",{className:Object(c.b)(E.valueContainer)},m.a.createElement("div",{className:Object(c.b)(E.value)},d,Boolean(o)&&m.a.createElement("span",{className:Object(c.b)(E.text)},a)),m.a.createElement("div",{className:Object(c.b)(E.text)},m.a.createElement("div",null,l))))}return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:Object(c.b)(E.titleContainer)},m.a.createElement("div",{className:Object(c.b)(E.value,E.usageValue)},d,m.a.createElement("div",{className:Object(c.b)(E.text)},m.a.createElement("div",null,l)))),m.a.createElement("div",{className:Object(c.b)(E.titleContainer)},m.a.createElement("div",{className:Object(c.b)(E.value)},p,m.a.createElement("div",{className:Object(c.b)(E.text)},s))))});var j=a(744);const k=c.a.create({reportSummaryItem:{":not(:last-child)":{marginBottom:b.L.value}},test:{":not(foo) svg":{overflow:"visible"}}}),T=({label:e,formatOptions:t,formatValue:a,t:r,totalValue:n,units:s,value:o})=>{const i=Object(O.c)(s),l="usd"!==i?r(`units.${i}`):void 0,u=Number((n?o/n*100:0).toFixed(2)),p=r("percent_of_total",{percent:u,units:l,value:a(o,s,t)});return m.a.createElement("li",{className:Object(c.b)(k.reportSummaryItem)},m.a.createElement(j.b,{label:p,value:u,title:e,size:j.a.sm}))};T.defaultProps={formatValue:e=>e};const D=Object(d.d)()(T);var w=a(224);const C=c.a.create({skeleton:{marginTop:b.L.value}});const x=Object(d.d)()(class extends m.a.Component{shouldComponentUpdate(e){return e.report!==this.props.report}getItems(){const{report:e,idKey:t,labelKey:a}=this.props,r=Object(w.a)({report:e,idKey:t,labelKey:a}),n=r.findIndex(e=>{const t=e.id;if(t&&null!==t)return t.toString().includes("Other")});return-1!==n?[...r.slice(0,n),...r.slice(n+1),r[n]]:r}render(){const{report:e,children:t}=this.props;if(e){const e=this.getItems();return m.a.createElement("ul",null,t({items:e}))}return m.a.createElement(m.a.Fragment,null,m.a.createElement(u.Skeleton,{size:u.SkeletonSize.md}),m.a.createElement(u.Skeleton,{size:u.SkeletonSize.md,className:Object(c.b)(C.skeleton)}),m.a.createElement(u.Skeleton,{size:u.SkeletonSize.md,className:Object(c.b)(C.skeleton)}),m.a.createElement(u.Skeleton,{size:u.SkeletonSize.md,className:Object(c.b)(C.skeleton)}))}});var L=a(329);const z=c.a.create({chart:{marginBottom:b.M.value}}),R=e=>m.a.createElement("div",{className:Object(c.b)(z.chart)},m.a.createElement(L.a,Object.assign({},e)));var N=a(328);const B=e=>m.a.createElement("div",{className:Object(c.b)(z.chart)},m.a.createElement(N.a,Object.assign({},e)));a.d(t,"a",function(){return g}),a.d(t,"b",function(){return _}),a.d(t,"c",function(){return S}),a.d(t,"d",function(){return D}),a.d(t,"e",function(){return x}),a.d(t,"f",function(){return R}),a.d(t,"g",function(){return B})},470:function(e,t,a){"use strict";var r=a(771),n=a(773),s=a(770),o=a(577),i=a(746),l=a(772),c=a(774),u=a(192),p=a(1),m=a.n(p),d=a(45),b=a(153);const h=c.a.create({chartSkeleton:{height:"125px",marginBottom:b.L.value,marginTop:b.L.value},legendSkeleton:{marginTop:b.L.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:b.w.value,color:b.m.var,marginBottom:"0"}}),g=Object(d.d)()(({children:e,detailsLink:t,title:a,subTitle:p,subTitleTooltip:d=p,status:b,t:g})=>m.a.createElement(n.a,{className:Object(c.b)(h.reportSummary)},m.a.createElement(s.a,null,m.a.createElement(o.b,{size:"lg"},a),Boolean(p)&&m.a.createElement(i.a,{content:d,enableFlip:!0},m.a.createElement("p",{className:Object(c.b)(h.subtitle)},p))),m.a.createElement(l.a,null,1===b?m.a.createElement(m.a.Fragment,null,m.a.createElement(u.Skeleton,{size:u.SkeletonSize.xs}),m.a.createElement(u.Skeleton,{className:Object(c.b)(h.chartSkeleton),size:u.SkeletonSize.md}),m.a.createElement(u.Skeleton,{size:u.SkeletonSize.sm}),m.a.createElement(u.Skeleton,{className:Object(c.b)(h.legendSkeleton),size:u.SkeletonSize.xs})):e),Boolean(t)&&m.a.createElement(r.a,null,t)));var f=a(714),v=a(579);const y=c.a.create({chartSkeleton:{height:"175px",marginBottom:b.L.value,marginTop:b.L.value},container:{display:"flex"},cost:{flexGrow:1,minHeight:"440px"},legendSkeleton:{marginTop:b.L.value},reportSummary:{height:"100%"},subtitle:{display:"inline-block",fontSize:b.w.value,color:b.m.var,marginBottom:"0"},tops:{flexGrow:1,marginTop:b.K.value}}),_=Object(d.d)()(({children:e,detailsLink:t,status:a,subTitle:p,subTitleTooltip:d=p,t:b,tabs:h,title:g})=>m.a.createElement(n.a,{className:Object(c.b)(y.reportSummary)},m.a.createElement(v.a,{gutter:"md"},m.a.createElement(f.a,{lg:5,xl:6},m.a.createElement("div",{className:Object(c.b)(y.cost)},m.a.createElement(s.a,null,m.a.createElement(o.b,{size:"lg"},g),Boolean(p)&&m.a.createElement(i.a,{content:d,enableFlip:!0},m.a.createElement("p",{className:Object(c.b)(y.subtitle)},p))),m.a.createElement(l.a,null,1===a?m.a.createElement(m.a.Fragment,null,m.a.createElement(u.Skeleton,{size:u.SkeletonSize.xs}),m.a.createElement(u.Skeleton,{size:u.SkeletonSize.md,className:Object(c.b)(y.chartSkeleton)}),m.a.createElement(u.Skeleton,{size:u.SkeletonSize.sm}),m.a.createElement(u.Skeleton,{size:u.SkeletonSize.xs,className:Object(c.b)(y.legendSkeleton)})):e))),m.a.createElement(f.a,{lg:7,xl:6},m.a.createElement("div",{className:Object(c.b)(y.container)},m.a.createElement("div",{className:Object(c.b)(y.tops)},1!==a&&m.a.createElement(m.a.Fragment,null,Boolean(h)&&m.a.createElement(l.a,null,h),Boolean(t)&&m.a.createElement(r.a,null,t)))))))),O=c.a.create({text:{display:"flex",alignItems:"flex-end",marginLeft:b.M.value,paddingBottom:14,lineHeight:b.z.value,fontSize:b.w.value},titleContainer:{display:"inline-block",marginBottom:b.L.value,minWidth:"175px",width:"50%"},usageText:{marginRight:b.M.value},usageValue:{marginRight:b.M.value},value:{display:"flex",color:b.l.var,fontSize:b.s.value}}),E=Object(d.d)()(({formatValue:e,formatOptions:t,report:a,reportType:r="cost",requestLabel:n,usageLabel:s,t:o})=>{let l="----",u="----",p="----",d="----",b="----";return a&&a.meta&&a.meta.total&&(l=e(a.meta.total.cost?a.meta.total.cost.value:0,a.meta.total.cost?a.meta.total.cost.units:"USD",t),p=e(a.meta.total.derived_cost?a.meta.total.derived_cost.value:0,a.meta.total.derived_cost?a.meta.total.derived_cost.units:"USD",t),d=e(a.meta.total.infrastructure_cost?a.meta.total.infrastructure_cost.value:0,a.meta.total.infrastructure_cost?a.meta.total.infrastructure_cost.units:"USD",t),"cost"!==r&&(u=e(a.meta.total.usage?a.meta.total.usage.value:0,a.meta.total.usage?a.meta.total.usage.units:"",t),b=e(a.meta.total.request?a.meta.total.request.value:0,a.meta.total.request?a.meta.total.request.units:"",t))),m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:Object(c.b)(O.titleContainer)},m.a.createElement("div",{className:Object(c.b)(O.value,O.usageValue)},Boolean("cost"===r)?m.a.createElement(i.a,{content:o("ocp_dashboard.total_cost_tooltip",{derivedCost:p,infrastructureCost:d}),enableFlip:!0},m.a.createElement("div",null,l)):m.a.createElement("div",null,u),m.a.createElement("div",{className:Object(c.b)(O.text)},m.a.createElement("div",null,s)))),m.a.createElement("div",{className:Object(c.b)(O.titleContainer)},Boolean("cost"!==r)&&m.a.createElement("div",{className:Object(c.b)(O.value)},b,m.a.createElement("div",{className:Object(c.b)(O.text)},n))))});var S=a(744),j=a(165);const k=c.a.create({reportSummaryItem:{":not(:last-child)":{marginBottom:b.L.value}},test:{":not(foo) svg":{overflow:"visible"}}}),T=({formatOptions:e,formatValue:t,label:a,t:r,totalValue:n,units:s,value:o})=>{const i=Object(j.c)(s),l="usd"!==i?r(`units.${i}`):void 0,u=Number((n?o/n*100:0).toFixed(2)),p=r("percent_of_total",{percent:u,units:l,value:t(o,s,e)});return m.a.createElement("li",{className:Object(c.b)(k.reportSummaryItem)},m.a.createElement(S.b,{label:p,value:u,title:a,size:S.a.sm}))};T.defaultProps={formatValue:e=>e};const D=Object(d.d)()(T);var w=a(223);const C=c.a.create({skeleton:{marginTop:b.L.value}});const x=Object(d.d)()(class extends m.a.Component{shouldComponentUpdate(e){return e.report!==this.props.report}getItems(){const{report:e,idKey:t,labelKey:a}=this.props,r=Object(w.a)({report:e,idKey:t,labelKey:a}),n=r.findIndex(e=>{const t=e.id;if(t&&null!==t)return t.toString().includes("Other")});return-1!==n?[...r.slice(0,n),...r.slice(n+1),r[n]]:r}render(){const{report:e,children:t}=this.props;if(e){const e=this.getItems();return m.a.createElement("ul",null,t({items:e}))}return m.a.createElement(m.a.Fragment,null,m.a.createElement(u.Skeleton,{size:u.SkeletonSize.md}),m.a.createElement(u.Skeleton,{size:u.SkeletonSize.md,className:Object(c.b)(C.skeleton)}),m.a.createElement(u.Skeleton,{size:u.SkeletonSize.md,className:Object(c.b)(C.skeleton)}),m.a.createElement(u.Skeleton,{size:u.SkeletonSize.md,className:Object(c.b)(C.skeleton)}))}});var L=a(274),z=a(582),R=a(754),N=a(753),B=a(750),K=a(759),I=a(752),P=a(604),W=a(231),F=a(178),q=a(190),V=a.n(q),A=a(63);const U={currentCostData:{data:{fill:"none",stroke:"#A2DA9C"}},currentInfrastructureCostData:{data:{fill:"none",stroke:"#88D080",strokeDasharray:"3,3"}},legend:{labels:{fontFamily:b.r.value,fontSize:14},minWidth:200},previousCostData:{data:{fill:"none",stroke:b.G.value}},previousInfrastructureCostData:{data:{fill:"none",stroke:b.G.value,strokeDasharray:"3,3"}},currentColorScale:["#A2DA9C","#88D080","#6EC664","#519149","#3C6C37"],previousColorScale:[b.G.value,b.F.value],tooltip:{flyoutStyle:{fill:b.a.value,strokeWidth:0},style:{fill:b.q.value,padding:18}},yAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{fontSize:0}},xAxis:{axisLabel:{padding:15},grid:{stroke:"none"},ticks:{stroke:"none"}}},M=c.a.create({chartContainer:{":not(foo) svg":{overflow:"visible"},marginTop:b.K.value},legendTitle:{fontSize:b.u.value,marginBottom:b.M.value,marginTop:b.K.value},legend:{display:"inline-block",fontSize:b.u.value,minHeight:"60px",minWidth:"200px",width:"50%"}});class $ extends m.a.Component{constructor(){super(...arguments),this.containerRef=m.a.createRef(),this.state={width:0},this.initDatum=(()=>{const{currentInfrastructureCostData:e,currentCostData:t,previousInfrastructureCostData:a,previousCostData:r,title:n}=this.props,s=[];if(r){const[e]=Object(F.e)(r,"chart.cost");s.push({name:e,symbol:{type:"minus"},tooltip:Object(F.b)(r,!0,!0)})}if(a){const[e]=Object(F.e)(a,"chart.infrastructure_cost");s.push({name:e,symbol:{type:"dash"},tooltip:Object(F.b)(a,!0,!0)})}const o={charts:[{data:r,name:"previousCost",show:!0,style:U.previousCostData},{data:a,name:"previousInfrastructureCost",show:!0,style:U.previousInfrastructureCostData}],legend:{colorScale:U.previousColorScale,data:s,onClick:this.handlePreviousLegendClick,title:n}},i=[];if(t){const[e]=Object(F.e)(t,"chart.cost");i.push({name:e,symbol:{type:"minus"},tooltip:Object(F.b)(t,!0,!1)})}if(e){const[t]=Object(F.e)(e,"chart.infrastructure_cost");i.push({name:t,symbol:{type:"dash"},tooltip:Object(F.b)(e,!0,!1)})}const l={charts:[{data:t,name:"currentCost",show:!0,style:U.currentCostData},{data:e,name:"currentInfrastructureCost",show:!0,style:U.currentInfrastructureCostData}],legend:{colorScale:U.currentColorScale,data:i,gutter:55,onClick:this.handleCurrentLegendClick,title:n}};this.setState({datum:{previous:o,current:l}})}),this.handleCurrentLegendClick=(e=>{const{datum:t}=this.state,a=Object.assign({},t);e.index>=0&&a.current.charts.length&&(a.current.charts[e.index].show=!a.current.charts[e.index].show,this.setState({datum:a}))}),this.handleResize=(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth})}),this.handlePreviousLegendClick=(e=>{const{datum:t}=this.state,a=Object.assign({},t);e.index>=0&&a.previous.charts.length&&(a.previous.charts[e.index].show=!a.previous.charts[e.index].show,this.setState({datum:a}))}),this.getChart=((e,t)=>e.data&&e.data.length&&e.show?m.a.createElement(N.a,{data:e.data,name:e.name,key:`usage-chart-${t}`,style:e.style}):null),this.getLegend=((e,t)=>e&&e.data&&e.data.length?m.a.createElement(R.a,{colorScale:e.colorScale,containerComponent:m.a.createElement(z.a,{responsive:!1}),data:e.data,events:[{target:"data",eventHandlers:{onClick:()=>[{target:"data",mutation:t=>(e.onClick(t),null)}]}}],height:25,itemsPerRow:1,labelComponent:m.a.createElement(W.a,{content:this.getLegendTooltip}),orientation:"horizontal",style:U.legend,theme:L.a.light.blue}):null),this.getLegendTooltip=(e=>e.tooltip?e.tooltip:""),this.getTooltipLabel=(e=>{const{formatDatumValue:t,formatDatumOptions:a}=this.props,r=Object(F.g)(e,Object(F.f)(t),a,"date");return"currentCost"===e.childName||"previousCost"===e.childName?A.a.t("chart.cost_tooltip",{value:r}):"currentInfrastructureCost"===e.childName||"previousInfrastructureCost"===e.childName?A.a.t("chart.cost_infrastructure_tooltip",{value:r}):r})}componentDidMount(){setTimeout(()=>{this.containerRef.current&&this.setState({width:this.containerRef.current.clientWidth}),window.addEventListener("resize",this.handleResize)}),this.initDatum()}componentDidUpdate(e){e.currentInfrastructureCostData===this.props.currentInfrastructureCostData&&e.currentCostData===this.props.currentCostData&&e.previousInfrastructureCostData===this.props.previousInfrastructureCostData&&e.previousCostData===this.props.previousCostData||this.initDatum()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}getDomain(){const{currentInfrastructureCostData:e,currentCostData:t,previousInfrastructureCostData:a,previousCostData:r}=this.props,n={x:[1,31]},s=e?Object(F.d)(e):0,o=t?Object(F.d)(t):0,i=a?Object(F.d)(a):0,l=r?Object(F.d)(r):0,c=Math.max(s,o,i,l),u=c>0?Math.ceil(c+.1*c):0;return u>0&&(n.y=[0,u]),n}getEndDate(){const{currentInfrastructureCostData:e,currentCostData:t,previousInfrastructureCostData:a,previousCostData:r}=this.props,n=e?V()(Object(F.a)(e,!0,!0)[1]):0,s=t?V()(Object(F.a)(t,!0,!0)[1]):0,o=a?V()(Object(F.a)(a,!0,!0)[1]):0,i=r?V()(Object(F.a)(r,!0,!0)[1]):0;return n>0||s>0||o>0||i>0?Math.max(n,s,o,i):31}isCurrentLegendVisible(){const{datum:e}=this.state;let t=!1;return e&&e.current.legend&&e.current.legend.data&&e.current.legend.data.forEach(e=>{e.name&&""!==e.name.trim()&&(t=!0)}),t}isPreviousLegendVisible(){const{datum:e}=this.state;let t=!1;return e&&e.previous.legend&&e.previous.legend.data&&e.previous.legend.data.forEach(e=>{e.name&&""!==e.name.trim()&&(t=!0)}),t}render(){const{height:e}=this.props,{datum:t,width:a}=this.state,r=m.a.createElement(B.a,{labelComponent:m.a.createElement(P.a,{flyoutStyle:U.tooltip.flyoutStyle,pointerWidth:20,style:U.tooltip.style}),labels:this.getTooltipLabel,voronoiDimension:"x"}),n=U.legend.minWidth>a/2?U.legend.minWidth:a/2,s=this.getDomain(),o=this.getEndDate(),i=Math.floor(o/2);return m.a.createElement("div",{className:Object(c.b)(M.chartContainer),ref:this.containerRef},m.a.createElement(I.a,{containerComponent:r,domain:s,height:e,width:a},Boolean(t&&t.previous)&&t.previous.charts.map((e,t)=>this.getChart(e,t)),Boolean(t&&t.current)&&t.current.charts.map((e,t)=>this.getChart(e,t)),m.a.createElement(K.a,{style:U.xAxis,tickValues:[1,i,o]}),m.a.createElement(K.a,{dependentAxis:!0,style:U.yAxis})),Boolean(this.isPreviousLegendVisible())&&m.a.createElement("div",{className:Object(c.b)(M.legendTitle)},t.previous.legend.title),Boolean(this.isCurrentLegendVisible()&&!this.isPreviousLegendVisible())&&m.a.createElement("div",{className:Object(c.b)(M.legendTitle)},t.current.legend.title),Boolean(this.isPreviousLegendVisible())&&m.a.createElement("div",{className:Object(c.b)(M.legend)},this.getLegend(t.previous.legend,n)),Boolean(this.isCurrentLegendVisible())&&m.a.createElement("div",{className:Object(c.b)(M.legend)},this.getLegend(t.current.legend,n)))}}const H=c.a.create({chart:{marginBottom:b.M.value}}),Q=e=>m.a.createElement("div",{className:Object(c.b)(H.chart)},m.a.createElement($,Object.assign({},e)));var G=a(328);const Y=e=>m.a.createElement("div",{className:Object(c.b)(H.chart)},m.a.createElement(G.a,Object.assign({},e)));a.d(t,"a",function(){return g}),a.d(t,"b",function(){return _}),a.d(t,"c",function(){return E}),a.d(t,"d",function(){return D}),a.d(t,"e",function(){return x}),a.d(t,"f",function(){return Q}),a.d(t,"g",function(){return Y})},493:function(e,t,a){var r=a(229);e.exports=function(e){return r(e).getMonth()}},522:function(e,t,a){"use strict";var r=a(1),n=a.n(r),s=a(774),o=s.a.parse('.pf-c-tabs{--pf-c-tabs__item--BackgroundColor:var(--pf-global--BackgroundColor--100);--pf-c-tabs__item--BorderColor:var(--pf-global--BorderColor--light-200);--pf-c-tabs__item--BorderWidth:var(--pf-global--BorderWidth--sm);--pf-c-tabs__item--m-current--ZIndex:var(--pf-global--ZIndex--sm);--pf-c-tabs__item--m-current--Color:var(--pf-global--active-color--100);--pf-c-tabs__item--m-current--BorderTopWidth:var(--pf-global--BorderWidth--md);--pf-c-tabs__item--hover--Color:var(--pf-global--Color--dark-200);--pf-c-tabs__button--Background:transparent;--pf-c-tabs__button--PaddingTop:var(--pf-global--spacer--sm);--pf-c-tabs__button--PaddingRight:var(--pf-global--spacer--sm);--pf-c-tabs__button--PaddingBottom:var(--pf-global--spacer--sm);--pf-c-tabs__button--PaddingLeft:var(--pf-global--spacer--sm);--pf-c-tabs__scroll-button--Width:var(--pf-global--spacer--xl);--pf-c-tabs__scroll-button--ZIndex:var(--pf-global--ZIndex--md);position:relative;display:flex;flex-direction:column;align-items:flex-start;}.pf-c-tabs .pf-c-tabs__scroll-button{display:none;visibility:hidden;}.pf-c-tabs.pf-m-start .pf-c-tabs__scroll-button:nth-of-type(1),.pf-c-tabs.pf-m-end .pf-c-tabs__scroll-button:nth-of-type(2){display:block;visibility:visible;}.pf-c-tabs.pf-m-start-current .pf-c-tabs__scroll-button:nth-of-type(1)::after,.pf-c-tabs.pf-m-end-current .pf-c-tabs__scroll-button:nth-of-type(2)::after{position:absolute;top:0;right:0;bottom:0;left:0;margin-left:var(--pf-c-tabs__item--BorderWidth);content:"";border-top:var(--pf-c-tabs__item--m-current--BorderTopWidth) solid var(--pf-c-tabs__item--m-current--Color);}+ .pf-c-tabs.pf-m-tabs-secondary{margin-top:calc(-1 * var(--pf-c-tabs__item--BorderWidth));border-top:var(--pf-c-tabs__item--BorderWidth) solid var(--pf-c-tabs__item--BorderColor);}+ .pf-c-tabs.pf-m-tabs-secondary .pf-c-tabs__scroll-button{margin-top:calc(-1 * var(--pf-c-tabs__item--BorderWidth));}.pf-c-tabs.pf-m-fill .pf-c-tabs__list{width:100%;}.pf-c-tabs.pf-m-fill .pf-c-tabs__item{flex:1;white-space:nowrap;}.pf-c-tabs.pf-m-fill .pf-c-tabs__item:first-of-type .pf-c-tabs__button::before{border-left:none;}.pf-c-tabs.pf-m-fill .pf-c-tabs__item:last-of-type .pf-c-tabs__button::before{border-right:none;}.pf-c-tabs.pf-m-fill .pf-c-tabs__item .pf-c-tabs__button{width:100%;}.pf-c-tabs__list{position:relative;display:flex;max-width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch;}.pf-c-tabs__list .pf-c-tabs__item:last-of-type .pf-c-tabs__button::before{border-right-width:var(--pf-c-tabs__item--BorderWidth);}.pf-c-tabs__item{flex:none;}.pf-c-tabs__item:not(.pf-m-current):hover .pf-c-tabs__button::after{position:absolute;top:0;right:0;bottom:0;left:0;margin-left:var(--pf-c-tabs__item--BorderWidth);content:"";border-top:var(--pf-c-tabs__item--m-current--BorderTopWidth) solid var(--pf-c-tabs__item--hover--Color);}.pf-c-tabs__item.pf-m-current .pf-c-tabs__button{z-index:var(--pf-c-tabs__item--m-current--ZIndex);color:var(--pf-c-tabs__item--m-current--Color);}.pf-c-tabs__item.pf-m-current .pf-c-tabs__button::before{border-bottom-color:var(--pf-c-tabs__item--BackgroundColor);}.pf-c-tabs__item.pf-m-current .pf-c-tabs__button::after{position:absolute;top:0;right:0;bottom:0;left:0;margin-left:var(--pf-c-tabs__item--BorderWidth);content:"";border-top:var(--pf-c-tabs__item--m-current--BorderTopWidth) solid var(--pf-c-tabs__item--m-current--Color);}.pf-m-tabs-secondary .pf-c-tabs__item .pf-c-tabs__button::before,.pf-m-tabs-secondary .pf-c-tabs__item .pf-c-tabs__button::after,.pf-m-tabs-secondary .pf-c-tabs__item .pf-c-tabs__button:hover::after{content:none;}.pf-m-tabs-secondary .pf-c-tabs__item:not(.pf-m-current) .pf-c-tabs__button:hover{color:var(--pf-c-tabs__item--hover--Color);}.pf-c-tabs__button{position:relative;padding:var(--pf-c-tabs__button--PaddingTop) var(--pf-c-tabs__button--PaddingRight) var(--pf-c-tabs__button--PaddingBottom) var(--pf-c-tabs__button--PaddingLeft);user-select:none;background:var(--pf-c-tabs__button--Background);border:0;}.pf-c-tabs__button::before{position:absolute;top:0;right:0;bottom:0;left:0;content:"";border:solid var(--pf-c-tabs__item--BorderColor);border-width:var(--pf-c-tabs__item--BorderWidth) 0 var(--pf-c-tabs__item--BorderWidth) var(--pf-c-tabs__item--BorderWidth);}.pf-c-tabs__scroll-item{position:absolute;top:0;bottom:0;width:var(--pf-c-tabs__scroll-button--Width);}.pf-c-tabs__scroll-item:first-of-type{left:0;}.pf-c-tabs__scroll-item:last-of-type{right:0;}.pf-c-tabs__scroll-button{position:absolute;top:0;bottom:0;z-index:var(--pf-c-tabs__scroll-button--ZIndex);width:var(--pf-c-tabs__scroll-button--Width);line-height:1;background-color:var(--pf-c-tabs__item--BackgroundColor);border:initial;}.pf-c-tabs__scroll-button:nth-of-type(2){right:0;}.pf-c-tabs__scroll-button::before{position:absolute;top:0;right:0;bottom:0;left:0;content:"";border:var(--pf-c-tabs__item--BorderWidth) solid var(--pf-c-tabs__item--BorderColor);}.pf-c-tabs__scroll-button:hover::after{position:absolute;top:0;right:0;bottom:0;left:0;content:"";border-top:var(--pf-c-tabs__item--m-current--BorderTopWidth) solid var(--pf-c-tabs__item--hover--Color);}'),i=a(2),l=a.n(i),c=a(517),u=a(787),p=a(327),m=a(210);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var h={activeKey:l.a.number,child:l.a.node,id:l.a.string.isRequired},g=function(e){var t=e.id,a=e.activeKey,r=e.child,o=b(e,["id","activeKey","child"]);return n.a.createElement("section",d({hidden:r.props.eventKey!==a,className:Object(s.b)("pf-c-tab-content",r.props.className),id:"pf-tab-section-".concat(r.props.eventKey,"-").concat(t),"aria-labelledby":"pf-tab-".concat(r.props.eventKey,"-").concat(t),role:"tabpanel",tabIndex:"0"},o),r.props.children)};g.propTypes=h,g.defaultProps={activeKey:0,child:null};var f=g;function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function O(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var T={children:l.a.node.isRequired,className:l.a.string,activeKey:l.a.number,onSelect:l.a.func,isFilled:l.a.bool,isSecondary:l.a.bool,leftScrollAriaLabel:l.a.string,rightScrollAriaLabel:l.a.string},D={className:"",activeKey:0,onSelect:function(){},isFilled:!1,isSecondary:!1,leftScrollAriaLabel:"Scroll left",rightScrollAriaLabel:"Scroll Right"},w=function(e){function t(){var e,a,r,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return r=this,s=(e=E(t)).call.apply(e,[this].concat(i)),k(S(a=!s||"object"!==v(s)&&"function"!=typeof s?S(r):s),"state",{showLeftScrollButton:!1,showRightScrollButton:!1,highlightLeftScrollButton:!1,highlightRightScrollButton:!1}),k(S(a),"id",Object(p.b)()),k(S(a),"tabList",n.a.createRef()),k(S(a),"handleScrollButtons",function(){if(a.tabList.current){var e,t=a.tabList.current,r=!Object(p.c)(t,t.firstChild,!1),n=!Object(p.c)(t,t.lastChild,!1);Array.from(t.children).forEach(function(t){t.className.search("pf-m-current")>0&&(e=t)});var s=Object(p.e)(t,e);a.setState({showLeftScrollButton:r,showRightScrollButton:n,highlightLeftScrollButton:(s===m.c.LEFT||s===m.c.BOTH)&&r,highlightRightScrollButton:(s===m.c.RIGHT||s===m.c.BOTH)&&n})}}),k(S(a),"scrollLeft",function(){if(a.tabList.current){var e,t,r,n=a.tabList.current,s=Array.from(n.children);for(r=0;r<s.length&&!e;r++)Object(p.c)(n,s[r],!1)&&(e=s[r],t=s[r-1]);t&&(n.scrollLeft-=t.scrollWidth)}}),k(S(a),"scrollRight",function(){if(a.tabList.current){var e,t,r,n=a.tabList.current,s=Array.from(n.children);for(r=s.length-1;r>=0&&!e;r--)Object(p.c)(n,s[r],!1)&&(e=s[r],t=s[r+1]);t&&(n.scrollLeft+=t.scrollWidth)}}),a}var a,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,n.a.Component),a=t,(r=[{key:"handleTabClick",value:function(e,t){this.props.onSelect(e,t)}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleScrollButtons,!1),this.handleScrollButtons()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("resize",this.handleScrollButtons,!1)}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,r=t.children,i=t.activeKey,l=t.isFilled,p=t.isSecondary,m=t.leftScrollAriaLabel,d=t.rightScrollAriaLabel,b=_(t,["className","children","activeKey","isFilled","isSecondary","leftScrollAriaLabel","rightScrollAriaLabel"]),h=this.state,g=h.showLeftScrollButton,v=h.showRightScrollButton,O=h.highlightLeftScrollButton,E=h.highlightRightScrollButton;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",y({},b,{className:Object(s.b)(o.tabs,l&&o.modifiers.fill,p&&o.modifiers.tabsSecondary,g&&o.modifiers.start,v&&o.modifiers.end,O&&o.modifiers.startCurrent,E&&o.modifiers.endCurrent,a)}),!p&&n.a.createElement("button",{className:Object(s.b)(o.tabsScrollButton),variant:"plain","aria-label":m,onClick:this.scrollLeft},n.a.createElement(u.a,null)),n.a.createElement("ul",{className:Object(s.b)(o.tabsList),ref:this.tabList,onScroll:this.handleScrollButtons},r.map(function(t,r){return n.a.createElement("li",{key:r,className:Object(s.b)(o.tabsItem,t.props.eventKey===i&&o.modifiers.current,a)},n.a.createElement("button",{className:Object(s.b)(o.tabsButton),onClick:function(a){return e.handleTabClick(a,t.props.eventKey)},id:"pf-tab-".concat(t.props.eventKey,"-").concat(t.props.id||e.id),"aria-controls":"pf-tab-section-".concat(t.props.eventKey,"-").concat(t.props.id||e.id)},t.props.title))})),!p&&n.a.createElement("button",{className:Object(s.b)(o.tabsScrollButton),variant:"plain","aria-label":d,onClick:this.scrollRight},n.a.createElement(c.a,null))),r.map(function(t,a){return n.a.createElement(f,{key:a,activeKey:i,child:t,index:a,id:t.props.id||e.id})}))}}])&&O(a.prototype,r),i&&O(a,i),t}();k(w,"propTypes",T),k(w,"defaultProps",D);t.a=w},567:function(e,t,a){"use strict";var r=a(1),n=a.n(r),s=a(2),o=a.n(s);function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l={children:o.a.node,className:o.a.string,title:o.a.string.isRequired,eventKey:o.a.number.isRequired},c=function(e){e.className;var t=e.children;e.title,e.eventKey,i(e,["className","children","title","eventKey"]);return n.a.createElement(n.a.Fragment,null,t)};c.propTypes=l,c.defaultProps={children:null,className:""},t.a=c},583:function(e,t,a){"use strict";var r=a(577),n=a(522),s=a(567),o=a(742),i=a(48),l=a(267),c=a(269),u=a(270),p=a(714),m=a(579),d=a(1),b=a.n(d),h=a(45),g=a(37),f=a(50),v=a(60),y=a(774),_=a(27),O=a(178),E=a(2),S=a.n(E),j=a(5),k=a.n(j),T=a(67),D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},x=function(e){function t(){var a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,s=Array(n),o=0;o<n;o++)s[o]=arguments[o];return a=r=w(this,e.call.apply(e,[this].concat(s))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!C(e)){e.preventDefault();var t=r.context.router.history,a=r.props,n=a.replace,s=a.to;n?t.replace(s):t.push(s)}},w(r,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),a=e.innerRef,r=function(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}(e,["replace","to","innerRef"]);k()(this.context.router,"You should not use <Link> outside a <Router>"),k()(void 0!==t,'You must specify the "to" property');var n=this.context.router.history,s="string"==typeof t?Object(T.b)(t,null,null,n.location):t,o=n.createHref(s);return b.a.createElement("a",D({},r,{onClick:this.handleClick,href:o,ref:a}))},t}(b.a.Component);x.propTypes={onClick:S.a.func,target:S.a.string,replace:S.a.bool,to:S.a.oneOfType([S.a.string,S.a.object]).isRequired,innerRef:S.a.oneOfType([S.a.string,S.a.func])},x.defaultProps={replace:!1},x.contextTypes={router:S.a.shape({history:S.a.shape({push:S.a.func.isRequired,replace:S.a.func.isRequired,createHref:S.a.func.isRequired}).isRequired}).isRequired};var L=x;const z=o.c,R=e=>b.a.createElement(z,Object.assign({component:L,variant:"link"},e));var N=a(468),B=a(254),K=a.n(B),I=a(190),P=a.n(I),W=a(493),F=a.n(W),q=a(318),V=a.n(q),A=a(317),U=a.n(A),M=a(10),$=a(165),H=a(153);const Q=y.a.create({tabs:{marginTop:H.N.value},tabItems:{marginTop:H.N.value}}),G=e=>{switch(e){case"services":return"service";case"accounts":return"account";case"regions":return"region";case"instance_type":return"instance_type"}};const Y=Object(v.a)((e,{widgetId:t})=>{const a=f.c.selectWidget(e,t),r=f.c.selectWidgetQueries(e,t);return Object.assign({},a,{currentQuery:r.current,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:M.c.selectReport(e,a.reportType,r.current),currentReportFetchStatus:M.c.selectReportFetchStatus(e,a.reportType,r.current),previousReport:M.c.selectReport(e,a.reportType,r.previous),tabsReport:M.c.selectReport(e,a.reportType,r.tabs)})}),Z={fetchReports:f.a.fetchWidgetReports,updateTab:f.a.changeWidgetTab},J=Object(h.d)()(Object(g.b)(Y,Z)(class extends b.a.Component{constructor(){super(...arguments),this.state={activeTabKey:0},this.buildDetailsLink=(()=>{const{currentQuery:e}=this.props,t=Object(_.b)(e).group_by;return`/aws?${Object(_.a)({group_by:t,order_by:{cost:"desc"}})}`}),this.handleTabClick=((e,t)=>{const{availableTabs:a,id:r,updateTab:n}=this.props;n(r,a[t]),this.setState({activeTabKey:t})}),this.getChart=(e=>{const{currentReport:t,previousReport:a,t:r,trend:n}=this.props,s=Object(O.h)(t,n.type),o=Object(O.h)(a,n.type),i=this.getUnits();return b.a.createElement(N.f,{currentData:s,formatDatumValue:$.b,formatDatumOptions:n.formatOptions,height:e,previousData:o,title:r(n.titleKey,{units:r(`units.${i}`)})})}),this.getDetails=(()=>{const{currentReport:e,details:t,reportType:a}=this.props,r=this.getUnits();return b.a.createElement(N.c,{costLabel:this.getDetailsLabel(t.costKey,r),formatOptions:t.formatOptions,formatValue:$.b,report:e,reportType:a,showUnits:t.showUnits,usageLabel:this.getDetailsLabel(t.usageKey,r)})}),this.getDetailsLabel=((e,t)=>{const{t:a}=this.props;return e?a(e,{units:a(`units.${t}`)}):void 0}),this.getDetailsLink=(()=>{const{currentTab:e,isDetailsLink:t}=this.props;return t&&b.a.createElement(R,{to:this.buildDetailsLink()},this.getDetailsLinkTitle(e))}),this.getDetailsLinkTitle=(e=>{const{t:t}=this.props;return t("group_by.all",{groupBy:G(e)||""})}),this.getHorizontalLayout=(()=>{const{currentReportFetchStatus:e}=this.props;return b.a.createElement(N.b,{detailsLink:this.getDetailsLink(),status:e,subTitle:this.getSubTitle(),subTitleTooltip:this.getSubTitleTooltip(),tabs:this.getTabs(),title:this.getTitle()},this.getDetails(),this.getChart(180))}),this.getSubTitle=(()=>{const{t:e}=this.props,t=new Date;return e("aws_dashboard.widget_subtitle",{month:F()(t)})}),this.getSubTitleTooltip=(()=>{const{t:e}=this.props,t=new Date,a=F()(t),r=K()(t,"DD"),n=K()(U()(t),"DD"),s=V()(t);return e("aws_dashboard.widget_subtitle_tooltip",{count:P()(t),endDate:r,month:a,startDate:n,year:s})}),this.getTab=((e,t)=>{const{tabsReport:a}=this.props,r=G(e);return b.a.createElement(s.a,{eventKey:t,key:`${G(e)}-tab`,title:this.getTabTitle(e)},b.a.createElement("div",{className:Object(y.b)(Q.tabItems)},b.a.createElement(N.e,{idKey:r,key:`${r}-items`,report:a},({items:t})=>t.map(t=>this.getTabItem(e,t)))))}),this.getTabItem=((e,t)=>{const{availableTabs:a,reportType:r,tabsReport:n,topItems:s}=this.props,{activeTabKey:o}=this.state,i=G(e),l=G(a[o]),c="cost"===r||"database"===r||"network"===r;return l===i?b.a.createElement(N.d,{key:`${t.id}-item`,formatOptions:s.formatOptions,formatValue:$.b,label:t.label?t.label.toString():"",totalValue:c?n.meta.total.cost.value:n.meta.total.usage.value,units:t.units,value:t.cost}):null}),this.getTabs=(()=>{const{availableTabs:e}=this.props;return b.a.createElement(n.a,{isFilled:!0,activeKey:this.state.activeTabKey,onSelect:this.handleTabClick},e.map((e,t)=>this.getTab(e,t)))}),this.getTabTitle=(e=>{const{t:t}=this.props;return t("group_by.top",{groupBy:G(e)||""})}),this.getTitle=(()=>{const{t:e,titleKey:t}=this.props,a=new Date,r=F()(a);return e(t,{endDate:K()(a,"Do"),month:r,startDate:K()(U()(a),"Do")})}),this.getUnits=(()=>{const{currentReport:e,reportType:t}=this.props;let a="";return e&&e.meta&&e.meta.total&&(a="cost"===t||"database"===t||"network"===t?e.meta.total.cost?Object($.c)(e.meta.total.cost.units):"":e.meta.total.usage?Object($.c)(e.meta.total.usage.units):""),a}),this.getVerticalLayout=(()=>{const{currentReportFetchStatus:e}=this.props;return b.a.createElement(N.a,{detailsLink:this.getDetailsLink(),status:e,subTitle:this.getSubTitle(),subTitleTooltip:this.getSubTitleTooltip(),title:this.getTitle()},this.getDetails(),this.getChart(75),b.a.createElement("div",{className:Object(y.b)(Q.tabs)},this.getTabs()))})}componentDidMount(){const{availableTabs:e,fetchReports:t,id:a,updateTab:r,widgetId:n}=this.props;r(a,e[0]),t(n)}render(){const{isHorizontal:e=!1}=this.props;return Boolean(e)?this.getHorizontalLayout():this.getVerticalLayout()}})),X=Object(v.a)(e=>({selectWidgets:f.c.selectWidgets(e),widgets:f.c.selectCurrentWidgets(e)}));var ee=Object(h.d)()(Object(g.b)(X,{})(({selectWidgets:e,t:t,widgets:a})=>b.a.createElement("div",null,b.a.createElement(m.a,{gutter:"md"},a.map(t=>{const a=e[t];return Boolean(a.isHorizontal)?b.a.createElement(p.a,{sm:12,key:t},b.a.createElement(J,{widgetId:t})):b.a.createElement(p.a,{xl:4,lg:6,key:t},b.a.createElement(J,{widgetId:t}))}))))),te=a(49),ae=a(46),re=a(470),ne=a(20);const se=y.a.create({tabs:{marginTop:H.N.value},tabItems:{marginTop:H.N.value}}),oe=e=>{switch(e){case"clusters":return"cluster";case"nodes":return"node";case"projects":return"project"}};const ie=Object(v.a)((e,{widgetId:t})=>{const a=te.c.selectWidget(e,t),r=te.c.selectWidgetQueries(e,t);return Object.assign({},a,{currentQuery:r.current,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:ne.c.selectReport(e,a.reportType,r.current),currentReportFetchStatus:ne.c.selectReportFetchStatus(e,a.reportType,r.current),previousReport:ne.c.selectReport(e,a.reportType,r.previous),tabsReport:ne.c.selectReport(e,a.reportType,r.tabs)})}),le={fetchReports:te.a.fetchWidgetReports,updateTab:te.a.changeWidgetTab},ce=Object(h.d)()(Object(g.b)(ie,le)(class extends b.a.Component{constructor(){super(...arguments),this.state={activeTabKey:0},this.buildDetailsLink=(()=>{const{currentQuery:e}=this.props,t=Object(ae.b)(e).group_by;return`/ocp?${Object(ae.a)({group_by:t,order_by:{cost:"desc"}})}`}),this.handleTabClick=((e,t)=>{const{availableTabs:a,id:r}=this.props,n=a[t];this.props.updateTab(r,n),this.setState({activeTabKey:t})}),this.getChart=(e=>{const{currentReport:t,previousReport:a,reportType:r,t:n,trend:s}=this.props,o="cost"===r?"cost":"usage",i=Object(O.j)(t,s.type,"date",o),l=Object(O.j)(a,s.type,"date",o),c="cost"!==r?Object(O.j)(t,s.type,"date","request"):void 0,u="cost"!==r?Object(O.j)(a,s.type,"date","request"):void 0,p="cost"===r?Object(O.j)(t,s.type,"date","infrastructureCost"):void 0,m="cost"===r?Object(O.j)(a,s.type,"date","infrastructureCost"):void 0,d=this.getUnits();return b.a.createElement(b.a.Fragment,null,Boolean("cost"===r)?b.a.createElement(re.f,{currentCostData:i,currentInfrastructureCostData:p,formatDatumValue:$.b,formatDatumOptions:s.formatOptions,height:e,previousCostData:l,previousInfrastructureCostData:m,title:n(s.titleKey,{units:n(`units.${d}`)})}):b.a.createElement(re.g,{currentRequestData:c,currentUsageData:i,formatDatumValue:$.b,formatDatumOptions:s.formatOptions,height:e,previousRequestData:u,previousUsageData:l,title:n(s.titleKey,{units:n(`units.${d}`)})}))}),this.getDetails=(()=>{const{currentReport:e,details:t,reportType:a}=this.props,r=this.getUnits();return b.a.createElement(re.c,{formatOptions:t.formatOptions,formatValue:$.b,report:e,reportType:a,requestLabel:this.getDetailsLabel(t.requestKey,r),usageLabel:this.getDetailsLabel(t.usageKey,r)})}),this.getDetailsLabel=((e,t)=>{const{t:a}=this.props;return e?a(e,{units:a(`units.${t}`)}):void 0}),this.getDetailsLink=(()=>{const{currentTab:e,isDetailsLink:t}=this.props;return t&&b.a.createElement(R,{to:this.buildDetailsLink()},this.getDetailsLinkTitle(e))}),this.getDetailsLinkTitle=(e=>{const{t:t}=this.props;return t("group_by.all",{groupBy:oe(e)||""})}),this.getHorizontalLayout=(()=>{const{currentReportFetchStatus:e}=this.props;return b.a.createElement(re.b,{detailsLink:this.getDetailsLink(),status:e,subTitle:this.getSubTitle(),subTitleTooltip:this.getSubTitleTooltip(),tabs:this.getTabs(),title:this.getTitle()},this.getDetails(),this.getChart(180))}),this.getSubTitle=(()=>{const{t:e}=this.props,t=new Date;return e("ocp_dashboard.widget_subtitle",{month:F()(t)})}),this.getSubTitleTooltip=(()=>{const{t:e}=this.props,t=new Date,a=F()(t),r=K()(t,"DD"),n=K()(U()(t),"DD"),s=V()(t);return e("ocp_dashboard.widget_subtitle_tooltip",{count:P()(t),endDate:r,month:a,startDate:n,year:s})}),this.getTab=((e,t)=>{const{tabsReport:a}=this.props,r=oe(e);return b.a.createElement(s.a,{eventKey:t,key:`${oe(e)}-tab`,title:this.getTabTitle(e)},b.a.createElement("div",{className:Object(y.b)(se.tabItems)},b.a.createElement(re.e,{idKey:r,key:`${r}-items`,report:a},({items:t})=>t.map(t=>this.getTabItem(e,t)))))}),this.getTabItem=((e,t)=>{const{availableTabs:a,reportType:r,tabsReport:n,topItems:s}=this.props,{activeTabKey:o}=this.state,i=oe(e);return oe(a[o])===i?b.a.createElement(re.d,{key:`${t.id}-item`,formatOptions:s.formatOptions,formatValue:$.b,label:t.label?t.label.toString():"",totalValue:"cost"===r?n.meta.total.cost.value:n.meta.total.usage.value,units:t.units,value:"cost"===r?t.cost:t.usage}):null}),this.getTabs=(()=>{const{availableTabs:e}=this.props;return b.a.createElement(n.a,{isFilled:!0,activeKey:this.state.activeTabKey,onSelect:this.handleTabClick},e.map((e,t)=>this.getTab(e,t)))}),this.getTabTitle=(e=>{const{t:t}=this.props;return t("group_by.top",{groupBy:oe(e)||""})}),this.getTitle=(()=>{const{t:e,titleKey:t}=this.props,a=new Date,r=F()(a);return e(t,{endDate:K()(a,"Do"),month:r,startDate:K()(U()(a),"Do")})}),this.getUnits=(()=>{const{currentReport:e,reportType:t}=this.props;let a="";return e&&e.meta&&e.meta.total&&(a="cost"===t?e.meta.total.cost?Object($.c)(e.meta.total.cost.units):"":e.meta.total.usage?Object($.c)(e.meta.total.usage.units):""),a}),this.getVerticalLayout=(()=>{const{currentReportFetchStatus:e}=this.props;return b.a.createElement(re.a,{detailsLink:this.getDetailsLink(),status:e,subTitle:this.getSubTitle(),subTitleTooltip:this.getSubTitleTooltip(),title:this.getTitle()},this.getDetails(),this.getChart(75),b.a.createElement("div",{className:Object(y.b)(se.tabs)},this.getTabs()))})}componentDidMount(){const{availableTabs:e,fetchReports:t,id:a,widgetId:r}=this.props;this.props.updateTab(a,e[0]),t(r)}render(){const{isHorizontal:e=!1}=this.props;return Boolean(e)?this.getHorizontalLayout():this.getVerticalLayout()}})),ue=Object(v.a)(e=>({selectWidgets:te.c.selectWidgets(e),widgets:te.c.selectCurrentWidgets(e)}));var pe=Object(h.d)()(Object(g.b)(ue,{})(({selectWidgets:e,t:t,widgets:a})=>b.a.createElement("div",null,b.a.createElement(m.a,{gutter:"md"},a.map(t=>{const a=e[t];return Boolean(a.isHorizontal)?b.a.createElement(p.a,{sm:12,key:t},b.a.createElement(ce,{widgetId:t})):b.a.createElement(p.a,{xl:4,lg:6,key:t},b.a.createElement(ce,{widgetId:t}))}))))),me=a(30),de=a(28),be=a(469),he=a(11);const ge=y.a.create({tabItems:{marginTop:H.N.value}}),fe=e=>{switch(e){case"clusters":return"cluster";case"nodes":return"node";case"projects":return"project"}};const ve=Object(v.a)((e,{widgetId:t})=>{const a=me.c.selectWidget(e,t),r=me.c.selectWidgetQueries(e,t);return Object.assign({},a,{currentQuery:r.current,previousQuery:r.previous,tabsQuery:r.tabs,currentReport:he.c.selectReport(e,a.reportType,r.current),currentReportFetchStatus:he.c.selectReportFetchStatus(e,a.reportType,r.current),previousReport:he.c.selectReport(e,a.reportType,r.previous),tabsReport:he.c.selectReport(e,a.reportType,r.tabs)})}),ye={fetchReports:me.a.fetchWidgetReports,updateTab:me.a.changeWidgetTab},_e=Object(h.d)()(Object(g.b)(ve,ye)(class extends b.a.Component{constructor(){super(...arguments),this.state={activeTabKey:0},this.buildDetailsLink=(()=>{const{currentQuery:e}=this.props,t=Object(de.b)(e).group_by;return`/ocp?${Object(de.a)({group_by:t,order_by:{cost:"desc"}})}`}),this.handleTabClick=((e,t)=>{const{availableTabs:a,id:r,updateTab:n}=this.props;n(r,a[t]),this.setState({activeTabKey:t})}),this.getChart=(e=>{const{currentReport:t,previousReport:a,reportType:r,t:n,trend:s}=this.props,o="cost"===r||"database"===r||"network"===r?"infrastructureCost":"usage",i=Object(O.i)(t,s.type,"date",o),l=Object(O.i)(a,s.type,"date",o),c="cost"!==r?Object(O.i)(t,s.type,"date","request"):void 0,u="cost"!==r?Object(O.i)(a,s.type,"date","request"):void 0,p=this.getUnits();return b.a.createElement(b.a.Fragment,null,Boolean("cost"===r||"database"===r||"instance_type"===r||"network"===r||"storage"===r)?b.a.createElement(be.f,{currentData:i,formatDatumValue:$.b,formatDatumOptions:s.formatOptions,height:e,previousData:l,title:n(s.titleKey,{units:n(`units.${p}`)})}):b.a.createElement(be.g,{currentRequestData:c,currentUsageData:i,formatDatumValue:$.b,formatDatumOptions:s.formatOptions,height:e,previousRequestData:u,previousUsageData:l,title:n(s.titleKey,{units:n(`units.${p}`)})}))}),this.getDetails=(()=>{const{currentReport:e,details:t,reportType:a}=this.props,r=this.getUnits();return b.a.createElement(be.c,{costLabel:this.getDetailsLabel(t.costKey,r),formatOptions:t.formatOptions,formatValue:$.b,report:e,reportType:a,requestLabel:this.getDetailsLabel(t.requestKey,r),showUnits:t.showUnits,usageLabel:this.getDetailsLabel(t.usageKey,r)})}),this.getDetailsLabel=((e,t)=>{const{t:a}=this.props;return e?a(e,{units:a(`units.${t}`)}):void 0}),this.getDetailsLink=(()=>{const{currentTab:e,isDetailsLink:t}=this.props;return t&&b.a.createElement(R,{to:this.buildDetailsLink()},this.getDetailsLinkTitle(e))}),this.getDetailsLinkTitle=(e=>{const{t:t}=this.props;return t("group_by.all",{groupBy:fe(e)||""})}),this.getHorizontalLayout=(()=>{const{currentReportFetchStatus:e}=this.props;return b.a.createElement(be.b,{detailsLink:this.getDetailsLink(),status:e,subTitle:this.getSubTitle(),subTitleTooltip:this.getSubTitleTooltip(),tabs:this.getTabs(),title:this.getTitle()},this.getDetails(),this.getChart(180))}),this.getSubTitle=(()=>{const{t:e}=this.props,t=new Date;return e("ocp_on_aws_dashboard.widget_subtitle",{month:F()(t)})}),this.getSubTitleTooltip=(()=>{const{t:e}=this.props,t=new Date,a=F()(t),r=K()(t,"DD"),n=K()(U()(t),"DD"),s=V()(t);return e("ocp_on_aws_dashboard.widget_subtitle_tooltip",{count:P()(t),endDate:r,month:a,startDate:n,year:s})}),this.getTab=((e,t)=>{const{tabsReport:a}=this.props,r=fe(e);return b.a.createElement(s.a,{eventKey:t,key:`${fe(e)}-tab`,title:this.getTabTitle(e)},b.a.createElement("div",{className:Object(y.b)(ge.tabItems)},b.a.createElement(be.e,{idKey:r,key:`${r}-items`,report:a},({items:t})=>t.map(t=>this.getTabItem(e,t)))))}),this.getTabItem=((e,t)=>{const{availableTabs:a,reportType:r,tabsReport:n,topItems:s}=this.props,{activeTabKey:o}=this.state,i=fe(e),l=fe(a[o]),c="cost"===r||"database"===r||"network"===r;return l===i?b.a.createElement(be.d,{key:`${t.id}-item`,formatOptions:s.formatOptions,formatValue:$.b,label:t.label?t.label.toString():"",totalValue:c?n.meta.total.cost.value:n.meta.total.usage.value,units:t.units,value:c?t.cost:t.usage}):null}),this.getTabs=(()=>{const{availableTabs:e}=this.props;return e?b.a.createElement(n.a,{isFilled:!0,activeKey:this.state.activeTabKey,onSelect:this.handleTabClick},e.map((e,t)=>this.getTab(e,t))):null}),this.getTabTitle=(e=>{const{t:t}=this.props;return t("group_by.top",{groupBy:fe(e)||""})}),this.getTitle=(()=>{const{t:e,titleKey:t}=this.props,a=new Date,r=F()(a);return e(t,{endDate:K()(a,"Do"),month:r,startDate:K()(U()(a),"Do")})}),this.getUnits=(()=>{const{currentReport:e,reportType:t}=this.props;let a="";return e&&e.meta&&e.meta.total&&(a="cost"===t||"database"===t||"network"===t?e.meta.total.cost?Object($.c)(e.meta.total.cost.units):"":e.meta.total.usage?Object($.c)(e.meta.total.usage.units):""),a}),this.getVerticalLayout=(()=>{const{currentReportFetchStatus:e}=this.props;return b.a.createElement(be.a,{detailsLink:this.getDetailsLink(),status:e,subTitle:this.getSubTitle(),subTitleTooltip:this.getSubTitleTooltip(),title:this.getTitle()},this.getDetails(),this.getChart(75),this.getTabs())})}componentDidMount(){const{availableTabs:e,fetchReports:t,id:a,updateTab:r,widgetId:n}=this.props;e&&r(a,e[0]),t(n)}render(){const{isHorizontal:e=!1}=this.props;return Boolean(e)?this.getHorizontalLayout():this.getVerticalLayout()}})),Oe=Object(v.a)(e=>({selectWidgets:me.c.selectWidgets(e),widgets:me.c.selectCurrentWidgets(e)}));var Ee=Object(h.d)()(Object(g.b)(Oe,{})(({selectWidgets:e,t:t,widgets:a})=>b.a.createElement("div",null,b.a.createElement(m.a,{gutter:"md"},a.map(t=>{const a=e[t];return Boolean(a.isHorizontal)?b.a.createElement(p.a,{sm:12,key:t},b.a.createElement(_e,{widgetId:t})):b.a.createElement(p.a,{xl:4,lg:6,key:t},b.a.createElement(_e,{widgetId:t}))}))))),Se=a(47),je=a(7),ke=a(174);const Te=e=>{switch(e){case"aws":return"aws";case"ocp":return"ocp";case"ocpOnAws":return"ocpOnAws"}};const De=Object(v.a)(e=>{const t=Object(i.a)(je.a),a=je.e.selectProviders(e,"aws",t),r=je.e.selectProvidersError(e,"aws",t),n=je.e.selectProvidersFetchStatus(e,"aws",t),s=Object(i.a)(je.b);return{awsProviders:a,awsProvidersError:r,awsProvidersFetchStatus:n,awsProvidersQueryString:t,ocpProviders:je.e.selectProviders(e,"ocp",s),ocpProvidersError:je.e.selectProvidersError(e,"ocp",s),ocpProvidersFetchStatus:je.e.selectProvidersFetchStatus(e,"ocp",s),ocpProvidersQueryString:s}}),we=Object(h.d)()(Object(g.b)(De,{openProvidersModal:Se.a.openModal})(class extends b.a.Component{constructor(){super(...arguments),this.state={activeTabKey:0},this.getAddSourceButton=(()=>{const{t:e}=this.props;return b.a.createElement(L,{to:"/sources"},b.a.createElement(o.c,Object.assign({},Object(ke.a)(ke.b.providers.add_btn),{type:o.a.submit,variant:o.b.secondary}),e("providers.add_source")))}),this.getTab=((e,t)=>b.a.createElement(s.a,{eventKey:t,key:`${Te(e)}-tab`,title:this.getTabTitle(e)},this.getTabItem(e,t))),this.getTabItem=((e,t)=>{const{activeTabKey:a}=this.state,r=Te(e);return"ocpOnAws"===r?a===t?b.a.createElement(Ee,null):null:"ocp"===r?a===t?b.a.createElement(pe,null):null:"aws"===r&&a===t?b.a.createElement(ee,null):null}),this.getTabs=(()=>{const{awsProviders:e,ocpProviders:t}=this.props,{activeTabKey:a}=this.state,r=[];return e&&e.meta&&e.meta.count&&t&&t.meta&&t.meta.count&&r.push("ocpOnAws"),t&&t.meta&&t.meta.count&&r.push("ocp"),e&&e.meta&&e.meta.count&&r.push("aws"),b.a.createElement(n.a,{activeKey:a,onSelect:this.handleTabClick},r.map((e,t)=>this.getTab(e,t)))}),this.getTabTitle=(e=>{const{t:t}=this.props;return"aws"===e?t("overview.aws"):"ocp"===e?t("overview.ocp"):"ocpOnAws"===e?t("overview.ocp_on_aws"):void 0}),this.handleTabClick=((e,t)=>{this.setState({activeTabKey:t})})}render(){const{awsProviders:e,awsProvidersError:t,awsProvidersFetchStatus:a,ocpProviders:n,ocpProvidersError:s,ocpProvidersFetchStatus:o,t:i}=this.props,p=t||s,m=1===a||1===o,d=void 0!==e&&void 0!==e.meta&&0===e.meta.count&&2===a,h=void 0!==n&&void 0!==n.meta&&0===n.meta.count&&2===o,g=d&&h;return b.a.createElement(b.a.Fragment,null,b.a.createElement("section",{className:"pf-l-page-header pf-c-page-header pf-l-page__main-section pf-c-page__main-section pf-m-light"},b.a.createElement("header",{className:"pf-u-display-flex pf-u-justify-content-space-between pf-u-align-items-center"},b.a.createElement(r.b,{size:r.a.lg},i("overview.title")),this.getAddSourceButton())),b.a.createElement("section",{className:"pf-l-page__main-section pf-c-page__main-section","page-type":"cost-management-overview"},Boolean(p)?b.a.createElement(l.a,{error:p}):Boolean(g)?b.a.createElement(u.a,null):Boolean(m)?b.a.createElement(c.a,null):this.getTabs()))}}));t.a=we},755:function(e,t,a){"use strict";a.r(t),function(e){var r=a(65),n=a(583);t.default=Object(r.hot)(e)(n.a)}.call(this,a(64)(e))}}]);
//# sourceMappingURL=ccd36867200a47752ef1.bundle.js.map
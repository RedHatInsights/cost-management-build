(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{943:function(e,t,r){"use strict";r.r(t);var a=r(933),s=r(235),c=r(1034),o=r(913),i=r(473),n=r(988),l=r(1045),p=r(170),u=r(139),h=r(625),d=r(623),b=r(644),g=r(980),v=r(979),m=r(1),y=r.n(m);const f=({DashboardWidget:e,selectWidgets:t,widgets:r})=>y.a.createElement("div",null,y.a.createElement(g.a,{gutter:"md"},r.map(r=>{const a=t[r];return Boolean(a.isHorizontal)?y.a.createElement(v.a,{sm:12,key:r},y.a.createElement(e,{widgetId:r})):y.a.createElement(v.a,{lg:12,xl:6,xl2:4,key:r},y.a.createElement(e,{widgetId:r}))})));var T=r(209),R=r(135),O=r(111),j=r(217),w=r(116),P=r(611),_=r(628),E=r(630),S=r.n(E),C=r(612),F=r.n(C),W=r(664),D=r.n(W),I=r(642),k=r.n(I),K=r(0),Q=r.n(K),z=r(32),L=r.n(z),N=r(123),H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};function U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var x=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},A=function(e){function t(){var r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=Array(s),o=0;o<s;o++)c[o]=arguments[o];return r=a=U(this,e.call.apply(e,[this].concat(c))),a.handleClick=function(e){if(a.props.onClick&&a.props.onClick(e),!e.defaultPrevented&&0===e.button&&!a.props.target&&!x(e)){e.preventDefault();var t=a.context.router.history,r=a.props,s=r.replace,c=r.to;s?t.replace(c):t.push(c)}},U(a,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),r=e.innerRef,a=function(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}(e,["replace","to","innerRef"]);L()(this.context.router,"You should not use <Link> outside a <Router>"),L()(void 0!==t,'You must specify the "to" property');var s=this.context.router.history,c="string"==typeof t?Object(N.b)(t,null,null,s.location):t,o=s.createHref(c);return y.a.createElement("a",H({},a,{onClick:this.handleClick,href:o,ref:r}))},t}(y.a.Component);A.propTypes={onClick:Q.a.func,target:Q.a.string,replace:Q.a.bool,to:Q.a.oneOfType([Q.a.string,Q.a.object]).isRequired,innerRef:Q.a.oneOfType([Q.a.string,Q.a.func])},A.defaultProps={replace:!1},A.contextTypes={router:Q.a.shape({history:Q.a.shape({push:Q.a.func.isRequired,replace:Q.a.func.isRequired,createHref:Q.a.func.isRequired}).isRequired}).isRequired};var $=A,B=r(609),q=r(136);const V={chartAltHeight:180,chartHeight:80,containerAltHeight:200,containerTrendHeight:150,containerUsageHeight:180},J=p.a.create({tabs:{marginTop:q.global_spacer_2xl.value},tabItems:{marginTop:q.global_spacer_xl.value}});class Y extends y.a.Component{constructor(){super(...arguments),this.state={activeTabKey:0},this.buildDetailsLink=(e=>{const{detailsPath:t,getIdKeyForTab:r}=this.props,a=r(e);return`${t}?${Object(w.a)({group_by:{[a]:"*"},order_by:{cost:"desc"}})}`}),this.getChart=((e,t,r=!1)=>{const{chartType:a}=this.props;return"cost"===a?this.getCostChart(e,t,r):"trend"===a?this.getTrendChart(e,t,r):"usage"===a?this.getUsageChart(t):null}),this.getCostChart=((e,t,r=!1)=>{const{currentReport:a,previousReport:s,t:c,trend:o}=this.props,i=this.getUnits(),n=c(o.titleKey,{units:c(`units.${i}`)}),l=Object(P.g)(a,o.type,"date","infrastructureCost"),p=Object(P.g)(s,o.type,"date","infrastructureCost"),u=Object(P.g)(a,o.type,"date","cost"),h=Object(P.g)(s,o.type,"date","cost");return y.a.createElement(_.c,{adjustContainerHeight:r,containerHeight:e,currentCostData:u,currentInfrastructureCostData:l,formatDatumValue:B.b,formatDatumOptions:o.formatOptions,height:t,previousCostData:h,previousInfrastructureCostData:p,title:n})}),this.getTrendChart=((e,t,r=!1)=>{const{currentReport:a,details:s,previousReport:c,t:o,trend:i}=this.props,n=this.getUnits(),l=o(i.titleKey,{units:o(`units.${n}`)}),p=Object(P.g)(a,i.type,"date",i.comparison),u=Object(P.g)(c,i.type,"date",i.comparison);return y.a.createElement(_.g,{adjustContainerHeight:r,containerHeight:e,currentData:p,formatDatumValue:B.b,formatDatumOptions:i.formatOptions,height:t,previousData:u,showUsageLegendLabel:s.showUsageLegendLabel,title:l,units:n})}),this.getUsageChart=(e=>{const{currentReport:t,previousReport:r,t:a,trend:s}=this.props,c=this.getUnits(),o=a(s.titleKey,{units:a(`units.${c}`)}),i=Object(P.g)(t,s.type,"date","request"),n=Object(P.g)(r,s.type,"date","request"),l=Object(P.g)(t,s.type,"date","usage"),p=Object(P.g)(r,s.type,"date","usage");return y.a.createElement(_.h,{containerHeight:V.containerUsageHeight,currentRequestData:i,currentUsageData:l,formatDatumValue:B.b,formatDatumOptions:s.formatOptions,height:e,previousRequestData:n,previousUsageData:p,title:o})}),this.getDetails=(()=>{const{chartType:e,currentReport:t,details:r,isUsageFirst:a}=this.props,s=this.getUnits();return y.a.createElement(_.d,{chartType:e,costLabel:this.getDetailsLabel(r.costKey,s),formatOptions:r.formatOptions,formatValue:B.b,report:t,requestLabel:this.getDetailsLabel(r.requestKey,s),showTooltip:r.showTooltip,showUnits:r.showUnits,showUsageFirst:a,usageFormatOptions:r.usageFormatOptions,usageLabel:this.getDetailsLabel(r.usageKey,s)})}),this.getDetailsLabel=((e,t)=>{const{t:r}=this.props;return e?r(e,{units:r(`units.${t}`)}):void 0}),this.getDetailsLink=(()=>{const{currentTab:e,isDetailsLink:t}=this.props;return t&&y.a.createElement($,{to:this.buildDetailsLink(e),onClick:this.handleInsightsNavClick},this.getDetailsLinkTitle(e))}),this.getDetailsLinkTitle=(e=>{const{getIdKeyForTab:t,t:r}=this.props;return r("group_by.all",{groupBy:t(e)||""})}),this.getHorizontalLayout=(()=>{const{containerAltHeight:e=V.containerAltHeight,chartAltHeight:t=V.chartAltHeight,currentReportFetchStatus:r}=this.props;return y.a.createElement(_.b,{detailsLink:this.getDetailsLink(),status:r,subTitle:this.getSubTitle(),tabs:this.getTabs(),title:this.getTitle()},this.getDetails(),this.getChart(e,t,!0))}),this.getSubTitle=(()=>{const{t:e}=this.props,t=new Date,r=D()(t),a=S()(t,"D"),s=S()(k()(t),"D");return e("aws_dashboard.widget_subtitle",{count:F()(t),endDate:a,month:r,startDate:s})}),this.getTab=((e,t)=>{const{getIdKeyForTab:r,tabsReport:a,tabsReportFetchStatus:s}=this.props,c=r(e);return y.a.createElement(n.a,{eventKey:t,key:`${r(e)}-tab`,title:this.getTabTitle(e)},y.a.createElement("div",{className:Object(p.b)(J.tabItems)},y.a.createElement(_.f,{idKey:c,key:`${c}-items`,report:a,status:s},({items:t})=>t.map(t=>this.getTabItem(e,t)))))}),this.getTabItem=((e,t)=>{const{availableTabs:r,details:a,getIdKeyForTab:s,tabsReport:c,topItems:o,trend:i}=this.props,{activeTabKey:n}=this.state,l=s(e),p=s(r[n]);let u;const h=c&&c.meta&&c.meta.total;if("usage"===i.comparison){u=h&&c.meta.total.usage?c.meta.total.usage.value:void 0}else{u=h&&c.meta.total.cost&&c.meta.total.cost.total?c.meta.total.cost.total.value:void 0}return p===l?y.a.createElement(_.e,{key:`${t.id}-item`,formatOptions:o.formatOptions,formatValue:B.b,label:t.label?t.label.toString():"",totalValue:u,units:a.units?a.units:t.units,value:t.cost}):null}),this.getTabs=(()=>{const{availableTabs:e}=this.props;return y.a.createElement(o.a,{isFilled:!0,activeKey:this.state.activeTabKey,onSelect:this.handleTabClick},e.map((e,t)=>this.getTab(e,t)))}),this.getTabTitle=(e=>{const{getIdKeyForTab:t,t:r}=this.props;return r("group_by.top",{groupBy:t(e)||""})}),this.getTitle=(()=>{const{t:e,titleKey:t}=this.props,r=new Date,a=D()(r);return e(t,{endDate:S()(r,"Do"),month:a,startDate:S()(k()(r),"Do")})}),this.getUnits=(()=>{const{currentReport:e,details:t,trend:r}=this.props;if(t.units)return t.units;let a;const s=e&&e.meta&&e.meta.total;if("usage"===r.comparison){a=s&&e.meta.total.usage?Object(B.c)(e.meta.total.usage.units):""}else{a=s&&e.meta.total.cost&&e.meta.total.cost.total?Object(B.c)(e.meta.total.cost.total.units):""}return a}),this.getVerticalLayout=(()=>{const{availableTabs:e,currentReportFetchStatus:t}=this.props;return y.a.createElement(_.a,{detailsLink:this.getDetailsLink(),status:t,subTitle:this.getSubTitle(),title:this.getTitle()},this.getDetails(),this.getChart(V.containerTrendHeight,V.chartHeight),Boolean(e)&&y.a.createElement("div",{className:Object(p.b)(J.tabs)},this.getTabs()))}),this.handleInsightsNavClick=(()=>{const{appNavPath:e}=this.props;insights.chrome.appNavClick({id:e,secondaryNav:!0})}),this.handleTabClick=((e,t)=>{const{availableTabs:r,id:a,updateTab:s}=this.props;s(a,r[t]),this.setState({activeTabKey:t})})}componentDidMount(){const{availableTabs:e,fetchReports:t,id:r,updateTab:a,widgetId:s}=this.props;e&&a(r,e[0]),t(s)}render(){const{isHorizontal:e=!1}=this.props;return Boolean(e)?this.getHorizontalLayout():this.getVerticalLayout()}}var M=r(70);const G=e=>{switch(e){case"services":return"service";case"accounts":return"account";case"regions":return"region";case"instance_type":return"instance_type"}},X=Object(O.a)((e,{widgetId:t})=>{const r=j.c.selectWidget(e,t),a=j.c.selectWidgetQueries(e,t);return Object.assign({},r,{getIdKeyForTab:G,appNavPath:"aws",detailsPath:"/aws-cloud",currentQuery:a.current,previousQuery:a.previous,tabsQuery:a.tabs,currentReport:M.c.selectReport(e,r.reportType,a.current),currentReportFetchStatus:M.c.selectReportFetchStatus(e,r.reportType,a.current),previousReport:M.c.selectReport(e,r.reportType,a.previous),tabsReport:M.c.selectReport(e,r.reportType,a.tabs),tabsReportFetchStatus:M.c.selectReportFetchStatus(e,r.reportType,a.tabs)})}),Z={fetchReports:j.a.fetchWidgetReports,updateTab:j.a.changeWidgetTab},ee=Object(T.d)()(Object(R.connect)(X,Z)(Y)),te=Object(O.a)(e=>({DashboardWidget:ee,selectWidgets:j.c.selectWidgets(e),widgets:j.c.selectCurrentWidgets(e)}));var re=Object(T.d)()(Object(R.connect)(te,{})(f)),ae=r(220);const se=e=>{switch(e){case"services":return"service";case"accounts":return"account";case"regions":return"region";case"instance_type":return"instance_type"}},ce=Object(O.a)((e,{widgetId:t})=>{const r=ae.c.selectWidget(e,t),a=ae.c.selectWidgetQueries(e,t);return Object.assign({},r,{getIdKeyForTab:se,appNavPath:"aws",detailsPath:"/aws",currentQuery:a.current,previousQuery:a.previous,tabsQuery:a.tabs,currentReport:M.c.selectReport(e,r.reportType,a.current),currentReportFetchStatus:M.c.selectReportFetchStatus(e,r.reportType,a.current),previousReport:M.c.selectReport(e,r.reportType,a.previous),tabsReport:M.c.selectReport(e,r.reportType,a.tabs),tabsReportFetchStatus:M.c.selectReportFetchStatus(e,r.reportType,a.tabs)})}),oe={fetchReports:ae.a.fetchWidgetReports,updateTab:ae.a.changeWidgetTab},ie=Object(T.d)()(Object(R.connect)(ce,oe)(Y)),ne=Object(O.a)(e=>({DashboardWidget:ie,selectWidgets:ae.c.selectWidgets(e),widgets:ae.c.selectCurrentWidgets(e)}));var le=Object(T.d)()(Object(R.connect)(ne,{})(f)),pe=r(218),ue=r(71);const he=e=>{switch(e){case"service_names":return"service_name";case"subscription_guids":return"subscription_guid";case"resource_locations":return"resource_location";case"instance_type":return"instance_type"}},de=Object(O.a)((e,{widgetId:t})=>{const r=pe.c.selectWidget(e,t),a=pe.c.selectWidgetQueries(e,t);return Object.assign({},r,{getIdKeyForTab:he,appNavPath:"azure",detailsPath:"/azure-cloud",currentQuery:a.current,previousQuery:a.previous,tabsQuery:a.tabs,currentReport:ue.c.selectReport(e,r.reportType,a.current),currentReportFetchStatus:ue.c.selectReportFetchStatus(e,r.reportType,a.current),previousReport:ue.c.selectReport(e,r.reportType,a.previous),tabsReport:ue.c.selectReport(e,r.reportType,a.tabs),tabsReportFetchStatus:ue.c.selectReportFetchStatus(e,r.reportType,a.tabs)})}),be={fetchReports:pe.a.fetchWidgetReports,updateTab:pe.a.changeWidgetTab},ge=Object(T.d)()(Object(R.connect)(de,be)(Y)),ve=Object(O.a)(e=>({DashboardWidget:ge,selectWidgets:pe.c.selectWidgets(e),widgets:pe.c.selectCurrentWidgets(e)}));var me=Object(T.d)()(Object(R.connect)(ve,{})(f)),ye=r(214);const fe=e=>{switch(e){case"service_names":return"service_name";case"subscription_guids":return"subscription_guid";case"resource_locations":return"resource_location";case"instance_type":return"instance_type"}},Te=Object(O.a)((e,{widgetId:t})=>{const r=ye.c.selectWidget(e,t),a=ye.c.selectWidgetQueries(e,t);return Object.assign({},r,{getIdKeyForTab:fe,appNavPath:"azure",detailsPath:"/azure",currentQuery:a.current,previousQuery:a.previous,tabsQuery:a.tabs,currentReport:ue.c.selectReport(e,r.reportType,a.current),currentReportFetchStatus:ue.c.selectReportFetchStatus(e,r.reportType,a.current),previousReport:ue.c.selectReport(e,r.reportType,a.previous),tabsReport:ue.c.selectReport(e,r.reportType,a.tabs),tabsReportFetchStatus:ue.c.selectReportFetchStatus(e,r.reportType,a.tabs)})}),Re={fetchReports:ye.a.fetchWidgetReports,updateTab:ye.a.changeWidgetTab},Oe=Object(T.d)()(Object(R.connect)(Te,Re)(Y)),je=Object(O.a)(e=>({DashboardWidget:Oe,selectWidgets:ye.c.selectWidgets(e),widgets:ye.c.selectCurrentWidgets(e)}));var we=Object(T.d)()(Object(R.connect)(je,{})(f)),Pe=r(147),_e=r(68);const Ee=e=>{switch(e){case"accounts":return"account";case"regions":return"region";case"services":return"service"}},Se=Object(O.a)((e,{widgetId:t})=>{const r=Pe.c.selectWidget(e,t),a=Pe.c.selectWidgetQueries(e,t);return Object.assign({},r,{getIdKeyForTab:Ee,appNavPath:"ocp-cloud",detailsPath:"/ocp-cloud",currentQuery:a.current,previousQuery:a.previous,tabsQuery:a.tabs,currentReport:_e.c.selectReport(e,r.reportType,a.current),currentReportFetchStatus:_e.c.selectReportFetchStatus(e,r.reportType,a.current),previousReport:_e.c.selectReport(e,r.reportType,a.previous),tabsReport:_e.c.selectReport(e,r.reportType,a.tabs),tabsReportFetchStatus:_e.c.selectReportFetchStatus(e,r.reportType,a.tabs)})}),Ce={fetchReports:Pe.a.fetchWidgetReports,updateTab:Pe.a.changeWidgetTab},Fe=Object(T.d)()(Object(R.connect)(Se,Ce)(Y)),We=Object(O.a)(e=>({DashboardWidget:Fe,selectWidgets:Pe.c.selectWidgets(e),widgets:Pe.c.selectCurrentWidgets(e)}));var De=Object(T.d)()(Object(R.connect)(We,{})(f)),Ie=r(213),ke=r(69);const Ke=180,Qe=275,ze=e=>{switch(e){case"clusters":return"cluster";case"nodes":return"node";case"projects":return"project"}},Le=Object(O.a)((e,{widgetId:t})=>{const r=Ie.c.selectWidget(e,t),a=Ie.c.selectWidgetQueries(e,t);return Object.assign({},r,{getIdKeyForTab:ze,appNavPath:"ocp-cloud",detailsPath:"/ocp-cloud",chartAltHeight:Ke,containerAltHeight:Qe,currentQuery:a.current,previousQuery:a.previous,tabsQuery:a.tabs,currentReport:ke.c.selectReport(e,r.reportType,a.current),currentReportFetchStatus:ke.c.selectReportFetchStatus(e,r.reportType,a.current),previousReport:ke.c.selectReport(e,r.reportType,a.previous),tabsReport:ke.c.selectReport(e,r.reportType,a.tabs),tabsReportFetchStatus:ke.c.selectReportFetchStatus(e,r.reportType,a.tabs)})}),Ne={fetchReports:Ie.a.fetchWidgetReports,updateTab:Ie.a.changeWidgetTab},He=Object(T.d)()(Object(R.connect)(Le,Ne)(Y)),Ue=Object(O.a)(e=>({DashboardWidget:He,selectWidgets:Ie.c.selectWidgets(e),widgets:Ie.c.selectCurrentWidgets(e)}));var xe=Object(T.d)()(Object(R.connect)(Ue,{})(f)),Ae=r(219);const $e=180,Be=275,qe=e=>{switch(e){case"clusters":return"cluster";case"nodes":return"node";case"projects":return"project"}},Ve=Object(O.a)((e,{widgetId:t})=>{const r=Ae.c.selectWidget(e,t),a=Ae.c.selectWidgetQueries(e,t);return Object.assign({},r,{getIdKeyForTab:qe,appNavPath:"ocp-supplementary",detailsPath:"/ocp-supplementary",chartAltHeight:$e,containerAltHeight:Be,currentQuery:a.current,previousQuery:a.previous,tabsQuery:a.tabs,currentReport:ke.c.selectReport(e,r.reportType,a.current),currentReportFetchStatus:ke.c.selectReportFetchStatus(e,r.reportType,a.current),previousReport:ke.c.selectReport(e,r.reportType,a.previous),tabsReport:ke.c.selectReport(e,r.reportType,a.tabs),tabsReportFetchStatus:ke.c.selectReportFetchStatus(e,r.reportType,a.tabs)})}),Je={fetchReports:Ae.a.fetchWidgetReports,updateTab:Ae.a.changeWidgetTab},Ye=Object(T.d)()(Object(R.connect)(Ve,Je)(Y)),Me=Object(O.a)(e=>({DashboardWidget:Ye,selectWidgets:Ae.c.selectWidgets(e),widgets:Ae.c.selectCurrentWidgets(e)}));var Ge=Object(T.d)()(Object(R.connect)(Me,{})(f)),Xe=r(221);const Ze=e=>{switch(e){case"clusters":return"cluster";case"nodes":return"node";case"projects":return"project"}},et=Object(O.a)((e,{widgetId:t})=>{const r=Xe.c.selectWidget(e,t),a=Xe.c.selectWidgetQueries(e,t);return Object.assign({},r,{getIdKeyForTab:Ze,appNavPath:"ocp-usage",detailsPath:"/ocp-usage",currentQuery:a.current,previousQuery:a.previous,tabsQuery:a.tabs,currentReport:_e.c.selectReport(e,r.reportType,a.current),currentReportFetchStatus:_e.c.selectReportFetchStatus(e,r.reportType,a.current),previousReport:_e.c.selectReport(e,r.reportType,a.previous),tabsReport:_e.c.selectReport(e,r.reportType,a.tabs),tabsReportFetchStatus:_e.c.selectReportFetchStatus(e,r.reportType,a.tabs)})}),tt={fetchReports:Xe.a.fetchWidgetReports,updateTab:Xe.a.changeWidgetTab},rt=Object(T.d)()(Object(R.connect)(et,tt)(Y)),at=Object(O.a)(e=>({DashboardWidget:rt,selectWidgets:Xe.c.selectWidgets(e),widgets:Xe.c.selectCurrentWidgets(e)}));var st=Object(T.d)()(Object(R.connect)(at,{})(f)),ct=r(24),ot=r(617);const it=p.a.create({info:{marginLeft:q.global_spacer_sm.value,verticalAlign:"middle"},infoIcon:{fontSize:q.global_FontSize_md.value},infoTitle:{fontWeight:"bold"},perspective:{marginBottom:q.global_spacer_lg.value,marginTop:q.global_spacer_lg.value},tabs:{marginTop:q.global_spacer_lg.value}}),nt=ot["a"]`
  &.pf-c-page__main-section {
    --pf-c-page__main-section--PaddingBottom: 0;
  }
`;var lt=r(1030),pt=r(1032),ut=r(918);const ht=p.a.create({perspectiveSelector:{display:"flex",alignItems:"center"},perspectiveLabel:{marginBottom:0,marginRight:q.global_spacer_md.var}});const dt=Object(T.d)()(class extends y.a.Component{constructor(){super(...arguments),this.defaultState={isPerspectiveOpen:!1},this.state=Object.assign({},this.defaultState),this.getDropDownItems=(()=>{const{options:e,t:t}=this.props;return e.map(e=>y.a.createElement(ut.a,{component:"button",key:e.value,onClick:()=>this.handleClick(e.value)},t(e.label)))}),this.getCurrentLabel=(()=>{const{currentItem:e,options:t,t:r}=this.props;let a="";for(const s of t)if(e===s.value){a=r(s.label);break}return a}),this.handleClick=(e=>{const{onItemClicked:t}=this.props;t&&t(e)}),this.handleSelect=(e=>{this.setState({isPerspectiveOpen:!this.state.isPerspectiveOpen})}),this.handleToggle=(e=>{this.setState({isPerspectiveOpen:e})})}render(){const{t:e}=this.props,{isPerspectiveOpen:t}=this.state,r=this.getDropDownItems();return y.a.createElement("div",{className:Object(p.b)(ht.perspectiveSelector)},y.a.createElement("label",{className:Object(p.b)(ht.perspectiveLabel)},e("overview.perspective.label")),y.a.createElement(pt.a,{onSelect:this.handleSelect,toggle:y.a.createElement(lt.a,{onToggle:this.handleToggle},this.getCurrentLabel()),isOpen:t,dropdownItems:r}))}}),bt=e=>{switch(e){case"infrastructure":return"infrastructure";case"ocp":return"ocp"}},gt=[{label:"overview.perspective.all",value:"all"},{label:"overview.perspective.supplementary",value:"supplementary"}],vt=[{label:"overview.perspective.all_cloud",value:"all_cloud"}],mt=[{label:"overview.perspective.aws",value:"aws"},{label:"overview.perspective.aws_cloud",value:"aws_cloud"}],yt=[{label:"overview.perspective.azure",value:"azure"},{label:"overview.perspective.azure_cloud",value:"azure_cloud"}],ft=[{label:"overview.perspective.ocp_usage",value:"ocp_usage"}];const Tt=Object(O.a)(e=>{const t=Object(u.a)(ct.a),r=ct.f.selectProviders(e,"aws",t),a=ct.f.selectProvidersError(e,"aws",t),s=ct.f.selectProvidersFetchStatus(e,"aws",t),c=Object(u.a)(ct.b),o=ct.f.selectProviders(e,"azure",c),i=ct.f.selectProvidersError(e,"azure",c),n=ct.f.selectProvidersFetchStatus(e,"azure",c),l=Object(u.a)(ct.c);return{awsProviders:r,awsProvidersError:a,awsProvidersFetchStatus:s,awsProvidersQueryString:t,azureProviders:o,azureProvidersError:i,azureProvidersFetchStatus:n,azureProvidersQueryString:c,ocpProviders:ct.f.selectProviders(e,"ocp",l),ocpProvidersError:ct.f.selectProvidersError(e,"ocp",l),ocpProvidersFetchStatus:ct.f.selectProvidersFetchStatus(e,"ocp",l),ocpProvidersQueryString:l}});var Rt=Object(T.d)()(Object(R.connect)(Tt)(class extends y.a.Component{constructor(){super(...arguments),this.defaultState={activeTabKey:0,currentInfrastructurePerspective:vt[0].value,currentOcpPerspective:gt[0].value,showPopover:!1},this.state=Object.assign({},this.defaultState),this.getAvailableTabs=(()=>{const{awsProviders:e,azureProviders:t,ocpProviders:r}=this.props,a=[],s=e&&e.meta&&e.meta.count,c=t&&t.meta&&t.meta.count,o=r&&r.meta&&r.meta.count,i=o&&s;return o&&a.push({contentRef:y.a.createRef(),tab:"ocp"}),(s||c||i)&&a.push({contentRef:y.a.createRef(),tab:"infrastructure"}),a}),this.getCurrentTab=(()=>{const{activeTabKey:e}=this.state;return 0===e?"ocp":"infrastructure"}),this.getPerspective=(()=>{const{awsProviders:e,azureProviders:t,ocpProviders:r}=this.props,{currentInfrastructurePerspective:a,currentOcpPerspective:s}=this.state;let c=s,o=[...gt];if("infrastructure"===this.getCurrentTab()){const s=e&&e.meta&&e.meta.count,i=t&&t.meta&&t.meta.count,n=r&&r.meta&&r.meta.count;c=a,o=[...vt,...s&&mt,...i&&yt,...n&&ft]}return y.a.createElement(dt,{currentItem:c,onItemClicked:this.handlePerspectiveClick,options:o})}),this.getTab=((e,t,r)=>y.a.createElement(n.a,{eventKey:r,key:`${bt(e)}-tab`,tabContentId:`tab-${r}`,tabContentRef:t,title:this.getTabTitle(e)})),this.getTabContent=(e=>e.map((e,t)=>y.a.createElement(i.a,{eventKey:t,key:`${bt(e.tab)}-tabContent`,id:`tab-${t}`,ref:e.contentRef},this.getTabItem(e.tab,t)))),this.getTabItem=((e,t)=>{const{activeTabKey:r,currentInfrastructurePerspective:a,currentOcpPerspective:s}=this.state;if(r!==t)return null;const c=bt(e);return"infrastructure"===c?"all_cloud"===a?y.a.createElement(De,null):"aws"===a?y.a.createElement(le,null):"aws_cloud"===a?y.a.createElement(re,null):"azure"===a?y.a.createElement(we,null):"azure_cloud"===a?y.a.createElement(me,null):"ocp_usage"===a?y.a.createElement(st,null):y.a.createElement(De,null):"ocp"===c?"all"===s?y.a.createElement(xe,null):"supplementary"===s?y.a.createElement(Ge,null):y.a.createElement(xe,null):null}),this.getTabs=(e=>{const{activeTabKey:t}=this.state;return y.a.createElement(o.a,{activeKey:t,onSelect:this.handleTabClick},e.map((e,t)=>this.getTab(e.tab,e.contentRef,t)))}),this.getTabTitle=(e=>{const{t:t}=this.props;return"infrastructure"===e?t("overview.infrastructure"):"ocp"===e?t("overview.ocp"):void 0}),this.handlePerspectiveClick=(e=>{const t=this.getCurrentTab();this.setState(Object.assign({},"infrastructure"===t&&{currentInfrastructurePerspective:e},"ocp"===t&&{currentOcpPerspective:e}))}),this.handlePopoverClick=(()=>{this.setState({show:!this.state.showPopover})}),this.handleTabClick=((e,t)=>{this.setState({activeTabKey:t})})}render(){const{awsProviders:e,awsProvidersError:t,awsProvidersFetchStatus:r,azureProviders:o,azureProvidersError:i,azureProvidersFetchStatus:n,ocpProviders:u,ocpProvidersError:g,ocpProvidersFetchStatus:v,t:m}=this.props,f=this.getAvailableTabs(),T=t||i||g,R=1===r||1===n||1===v,O=void 0!==e&&void 0!==e.meta&&0===e.meta.count&&2===r,j=void 0!==o&&void 0!==o.meta&&0===o.meta.count&&2===n,w=void 0!==u&&void 0!==u.meta&&0===u.meta.count&&2===v,P=O&&j&&w,_=!(T||P||R);return y.a.createElement(y.a.Fragment,null,y.a.createElement("section",{className:`pf-l-page-header pf-c-page-header pf-l-page__main-section pf-c-page__main-section pf-m-light ${_?nt:""}`},y.a.createElement("header",{className:"pf-u-display-flex pf-u-justify-content-space-between pf-u-align-items-center"},y.a.createElement(c.a,{size:s.a["2xl"]},m("overview.title"),Boolean(_)&&y.a.createElement("span",{className:Object(p.b)(it.infoIcon)},y.a.createElement(a.a,{"aria-label":"t('ocp_details.supplementary_aria_label')",enableFlip:!0,bodyContent:y.a.createElement(y.a.Fragment,null,y.a.createElement("p",{className:Object(p.b)(it.infoTitle)},m("overview.ocp_cloud")),y.a.createElement("p",null,m("overview.ocp_cloud_desc")),y.a.createElement("br",null),y.a.createElement("p",{className:Object(p.b)(it.infoTitle)},m("overview.ocp")),y.a.createElement("p",null,m("overview.ocp_desc")),y.a.createElement("br",null),y.a.createElement("p",{className:Object(p.b)(it.infoTitle)},m("overview.aws")),y.a.createElement("p",null,m("overview.aws_desc")),y.a.createElement("br",null),y.a.createElement("p",{className:Object(p.b)(it.infoTitle)},m("overview.azure")),y.a.createElement("p",null,m("overview.azure_desc")))},y.a.createElement(l.a,{className:Object(p.b)(it.info),onClick:this.handlePopoverClick}))))),Boolean(_)&&y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:Object(p.b)(it.tabs)},this.getTabs(f)),y.a.createElement("div",{className:Object(p.b)(it.perspective)},this.getPerspective()))),y.a.createElement("section",{className:"pf-l-page__main-section pf-c-page__main-section","page-type":"cost-management-overview"},Boolean(T)?y.a.createElement(h.a,{error:T}):Boolean(P)?y.a.createElement(b.a,null):Boolean(R)?y.a.createElement(d.a,null):this.getTabContent(f)))}}));t.default=Rt}}]);
//# sourceMappingURL=91a8cf04cff1df16daeb.bundle.js.map